{
  "version": 3,
  "sources": ["../../color-name/index.js", "../../is-arrayish/index.js", "../../simple-swizzle/index.js", "../../color-string/index.js", "../../eventemitter3/index.js", "../../svg-path-parser/parser.js", "../../svg-path-parser/index.js", "../../pdfast/src/helper.js", "../../pdfast/src/index.js", "../../@antv/g2/esm/src/index.ts", "../../@antv/g2/esm/coordinate/src/coordinate/cartesian.ts", "../../@antv/g2/esm/utils/src/utils/angle.ts", "../../@antv/g2/esm/coordinate/src/coordinate/polar.ts", "../../@antv/g2/esm/coordinate/src/coordinate/helix.ts", "../../@antv/g2/esm/coordinate/src/coordinate/transpose.ts", "../../@antv/g2/esm/coordinate/src/coordinate/theta.ts", "../../@antv/g2/esm/coordinate/src/coordinate/radial.ts", "../../@antv/g2/esm/coordinate/src/coordinate/parallel.ts", "../../@antv/g2/esm/coordinate/src/coordinate/fisheye.ts", "../../@antv/g2/esm/coordinate/src/coordinate/radar.ts", "../../@antv/g2/esm/encode/src/encode/constant.ts", "../../@antv/g2/esm/encode/src/encode/transform.ts", "../../@antv/g2/esm/encode/src/encode/field.ts", "../../@antv/g2/esm/encode/src/encode/column.ts", "../../@antv/util/esm/color/src/color/arr2rgb.ts", "../../@antv/util/esm/lodash/src/lodash/is-array-like.ts", "../../@antv/util/esm/lodash/src/lodash/filter.ts", "../../@antv/util/esm/lodash/src/lodash/is-function.ts", "../../@antv/util/esm/lodash/src/lodash/is-nil.ts", "../../@antv/util/esm/lodash/src/lodash/is-array.ts", "../../@antv/util/esm/lodash/src/lodash/is-object.ts", "../../@antv/util/esm/lodash/src/lodash/each.ts", "../../@antv/util/esm/lodash/src/lodash/keys.ts", "../../@antv/util/esm/lodash/src/lodash/is-match.ts", "../../@antv/util/esm/lodash/src/lodash/is-object-like.ts", "../../@antv/util/esm/lodash/src/lodash/is-type.ts", "../../@antv/util/esm/lodash/src/lodash/is-plain-object.ts", "../../@antv/util/esm/lodash/src/lodash/find.ts", "../../@antv/util/esm/lodash/src/lodash/max.ts", "../../@antv/util/esm/lodash/src/lodash/min.ts", "../../@antv/util/esm/lodash/src/lodash/pull.ts", "../../@antv/util/esm/lodash/src/lodash/pull-at.ts", "../../@antv/util/esm/lodash/src/lodash/reduce.ts", "../../@antv/util/esm/lodash/src/lodash/is-string.ts", "../../@antv/util/esm/lodash/src/lodash/last.ts", "../../@antv/util/esm/lodash/src/lodash/clamp.ts", "../../@antv/util/esm/lodash/src/lodash/is-number.ts", "../../@antv/util/esm/lodash/src/lodash/is-number-equal.ts", "../../@antv/util/esm/lodash/src/lodash/max-by.ts", "../../@antv/util/esm/lodash/src/lodash/min-by.ts", "../../@antv/util/esm/lodash/src/lodash/mod.ts", "../../@antv/util/esm/lodash/src/lodash/to-degree.ts", "../../@antv/util/esm/lodash/src/lodash/to-radian.ts", "../../@antv/util/esm/lodash/src/lodash/to-string.ts", "../../@antv/util/esm/lodash/src/lodash/lower-first.ts", "../../@antv/util/esm/lodash/src/lodash/substitute.ts", "../../@antv/util/esm/lodash/src/lodash/upper-first.ts", "../../@antv/util/esm/lodash/src/lodash/get-type.ts", "../../@antv/util/esm/lodash/src/lodash/is-boolean.ts", "../../@antv/util/esm/lodash/src/lodash/is-null.ts", "../../@antv/util/esm/lodash/src/lodash/is-prototype.ts", "../../@antv/util/esm/lodash/src/lodash/is-undefined.ts", "../../@antv/util/esm/lodash/src/lodash/is-element.ts", "../../@antv/util/esm/lodash/src/lodash/mix.ts", "../../@antv/util/esm/lodash/src/lodash/clone.ts", "../../@antv/util/esm/lodash/src/lodash/debounce.ts", "../../@antv/util/esm/lodash/src/lodash/memoize.ts", "../../@antv/util/esm/lodash/src/lodash/deep-mix.ts", "../../@antv/util/esm/lodash/src/lodash/index-of.ts", "../../@antv/util/esm/lodash/src/lodash/is-equal.ts", "../../@antv/util/esm/lodash/src/lodash/map-values.ts", "../../@antv/util/esm/lodash/src/lodash/get.ts", "../../@antv/util/esm/lodash/src/lodash/set.ts", "../../@antv/util/esm/lodash/src/lodash/pick.ts", "../../@antv/util/esm/lodash/src/lodash/omit.ts", "../../@antv/util/esm/lodash/src/lodash/throttle.ts", "../../@antv/util/esm/lodash/src/lodash/noop.ts", "../../@antv/util/esm/lodash/src/lodash/identity.ts", "../../@antv/util/esm/lodash/src/lodash/size.ts", "../../@antv/util/esm/lodash/src/lodash/cache.ts", "../../@antv/util/esm/color/src/color/torgb.ts", "../../gl-matrix/esm/common.js", "../../gl-matrix/esm/mat3.js", "../../gl-matrix/esm/mat4.js", "../../gl-matrix/esm/quat.js", "../../gl-matrix/esm/vec3.js", "../../gl-matrix/esm/vec4.js", "../../gl-matrix/esm/vec2.js", "../../tslib/tslib.es6.mjs", "../../@antv/util/esm/path/parser/src/path/parser/params-parser.ts", "../../@antv/util/esm/path/process/src/path/process/fix-arc.ts", "../../@antv/util/esm/path/parser/src/path/parser/params-count.ts", "../../@antv/util/esm/path/util/src/path/util/is-path-array.ts", "../../@antv/util/esm/path/util/src/path/util/is-absolute-array.ts", "../../@antv/util/esm/path/util/src/path/util/is-normalized-array.ts", "../../@antv/util/esm/path/parser/src/path/parser/finalize-segment.ts", "../../@antv/util/esm/path/parser/src/path/parser/scan-flag.ts", "../../@antv/util/esm/path/parser/src/path/parser/is-digit-start.ts", "../../@antv/util/esm/path/parser/src/path/parser/scan-param.ts", "../../@antv/util/esm/path/parser/src/path/parser/is-space.ts", "../../@antv/util/esm/path/parser/src/path/parser/skip-spaces.ts", "../../@antv/util/esm/path/parser/src/path/parser/is-path-command.ts", "../../@antv/util/esm/path/parser/src/path/parser/is-arc-command.ts", "../../@antv/util/esm/path/parser/src/path/parser/scan-segment.ts", "../../@antv/util/esm/path/parser/src/path/parser/path-parser.ts", "../../@antv/util/esm/path/parser/src/path/parser/parse-path-string.ts", "../../@antv/util/esm/path/convert/src/path/convert/path-2-absolute.ts", "../../@antv/util/esm/path/process/src/path/process/normalize-segment.ts", "../../@antv/util/esm/path/process/src/path/process/normalize-path.ts", "../../@antv/util/esm/path/util/src/path/util/is-curve-array.ts", "../../@antv/util/esm/path/util/src/path/util/rotate-vector.ts", "../../@antv/util/esm/path/process/src/path/process/arc-2-cubic.ts", "../../@antv/util/esm/path/process/src/path/process/quad-2-cubic.ts", "../../@antv/util/esm/path/util/src/path/util/mid-point.ts", "../../@antv/util/esm/path/process/src/path/process/line-2-cubic.ts", "../../@antv/util/esm/path/process/src/path/process/segment-2-cubic.ts", "../../@antv/util/esm/path/convert/src/path/convert/path-2-curve.ts", "../../@antv/util/esm/path/process/src/path/process/clone-path.ts", "../../@antv/util/esm/path/process/src/path/process/reverse-curve.ts", "../../@antv/util/esm/path/util/src/path/util/distance-square-root.ts", "../../@antv/util/esm/path/util/src/path/util/segment-line-factory.ts", "../../@antv/util/esm/path/util/src/path/util/segment-arc-factory.ts", "../../@antv/util/esm/path/util/src/path/util/segment-cubic-factory.ts", "../../@antv/util/esm/path/util/src/path/util/segment-quad-factory.ts", "../../@antv/util/esm/path/util/src/path/util/path-length-factory.ts", "../../@antv/util/esm/path/util/src/path/util/get-total-length.ts", "../../@antv/util/esm/path/util/src/path/util/get-rotated-curve.ts", "../../@antv/util/esm/path/util/src/path/util/get-path-area.ts", "../../@antv/util/esm/path/util/src/path/util/get-draw-direction.ts", "../../@antv/util/esm/path/util/src/path/util/get-point-at-length.ts", "../../@antv/util/esm/path/util/src/path/util/equalize-segments.ts", "../../@antv/util/esm/dom/src/dom/create-dom.ts", "../../@antv/g2/esm/transform/utils/src/transform/utils/helper.ts", "../../@antv/g2/esm/transform/src/transform/maybeZeroY1.ts", "../../d3-array/src/ascending.js", "../../d3-array/src/descending.js", "../../d3-array/src/bisector.js", "../../d3-array/src/number.js", "../../d3-array/src/bisect.js", "../../d3-array/src/blur.js", "../../d3-array/src/count.js", "../../d3-array/src/variance.js", "../../d3-array/src/deviation.js", "../../d3-array/src/extent.js", "../../d3-array/src/fsum.js", "../../internmap/src/index.js", "../../d3-array/src/identity.js", "../../d3-array/src/group.js", "../../d3-array/src/permute.js", "../../d3-array/src/sort.js", "../../d3-array/src/groupSort.js", "../../d3-array/src/array.js", "../../d3-array/src/constant.js", "../../d3-array/src/ticks.js", "../../d3-array/src/nice.js", "../../d3-array/src/threshold/sturges.js", "../../d3-array/src/bin.js", "../../d3-array/src/max.js", "../../d3-array/src/maxIndex.js", "../../d3-array/src/min.js", "../../d3-array/src/minIndex.js", "../../d3-array/src/quickselect.js", "../../d3-array/src/greatest.js", "../../d3-array/src/quantile.js", "../../d3-array/src/threshold/scott.js", "../../d3-array/src/mean.js", "../../d3-array/src/median.js", "../../d3-array/src/merge.js", "../../d3-array/src/range.js", "../../d3-array/src/shuffle.js", "../../d3-array/src/sum.js", "../../@antv/scale/esm/utils/src/utils/compose.ts", "../../@antv/scale/esm/utils/src/utils/normalize.ts", "../../@antv/scale/esm/utils/src/utils/clamp.ts", "../../@antv/scale/esm/utils/src/utils/bisect.ts", "../../@antv/scale/esm/utils/src/utils/ticks.ts", "../../@antv/scale/esm/utils/src/utils/d3-linear-nice.ts", "../../@antv/scale/esm/utils/src/utils/time-interval.ts", "../../@antv/scale/esm/utils/src/utils/utc-interval.ts", "../../@antv/scale/esm/utils/src/utils/find-tick-interval.ts", "../../@antv/scale/esm/utils/src/utils/d3-time-nice.ts", "../../@antv/scale/esm/utils/src/utils/is-valid.ts", "../../@antv/scale/esm/utils/src/utils/log.ts", "../../@antv/scale/esm/utils/src/utils/d3-log-nice.ts", "../../@antv/scale/esm/utils/src/utils/interpolatize.ts", "../../@antv/scale/esm/utils/src/utils/color.ts", "../../@antv/scale/esm/utils/src/utils/interpolate.ts", "../../@antv/scale/esm/utils/src/utils/choose-mask.ts", "../../@antv/scale/esm/utils/src/utils/internMap.ts", "../../@antv/scale/esm/scales/src/scales/base.ts", "../../@antv/scale/esm/scales/src/scales/ordinal.ts", "../../@antv/scale/esm/scales/src/scales/band.ts", "../../@antv/scale/esm/tick-methods/src/tick-methods/d3-ticks.ts", "../../@antv/scale/esm/scales/src/scales/constant.ts", "../../@antv/scale/esm/utils/src/utils/pretty-number.ts", "../../@antv/scale/esm/tick-methods/src/tick-methods/wilkinson-extended.ts", "../../@antv/scale/esm/scales/src/scales/identity.ts", "../../@antv/scale/esm/scales/src/scales/continuous.ts", "../../@antv/scale/esm/scales/src/scales/linear.ts", "../../@antv/scale/esm/scales/src/scales/point.ts", "../../@antv/scale/esm/scales/src/scales/pow.ts", "../../@antv/scale/esm/scales/src/scales/sqrt.ts", "../../@antv/scale/esm/scales/src/scales/threshold.ts", "../../@antv/scale/esm/tick-methods/src/tick-methods/d3-log.ts", "../../@antv/scale/esm/scales/src/scales/log.ts", "../../@antv/scale/esm/scales/src/scales/quantize.ts", "../../@antv/scale/esm/utils/src/utils/create-quartile.ts", "../../@antv/scale/esm/scales/src/scales/quantile.ts", "../../fecha/src/fecha.ts", "../../@antv/scale/esm/tick-methods/src/tick-methods/d3-time.ts", "../../@antv/scale/esm/scales/src/scales/time.ts", "../../@antv/scale/esm/scales/src/scales/sequential.ts", "../../@antv/scale/esm/scales/src/scales/diverging.ts", "../../@antv/g2/esm/utils/src/utils/helper.ts", "../../@antv/g2/esm/utils/src/utils/array.ts", "../../@antv/g2/esm/transform/utils/src/transform/utils/order.ts", "../../@antv/g2/esm/transform/src/transform/stackY.ts", "../../@antv/g2/esm/transform/src/transform/maybeStackY.ts", "../../@antv/g2/esm/utils/src/utils/dateFormat.ts", "../../@antv/g2/esm/transform/src/transform/maybeTitle.ts", "../../@antv/g2/esm/transform/src/transform/maybeZeroX.ts", "../../@antv/g2/esm/transform/src/transform/maybeZeroY.ts", "../../@antv/g2/esm/transform/src/transform/maybeZeroZ.ts", "../../@antv/g2/esm/transform/src/transform/maybeSize.ts", "../../@antv/g2/esm/transform/src/transform/maybeKey.ts", "../../@antv/g2/esm/transform/src/transform/maybeSeries.ts", "../../@antv/g2/esm/transform/src/transform/maybeTupleY.ts", "../../@antv/g2/esm/transform/src/transform/maybeTupleX.ts", "../../@antv/g2/esm/transform/src/transform/maybeIdentityY.ts", "../../@antv/g2/esm/transform/src/transform/maybeIdentityX.ts", "../../@antv/g2/esm/transform/src/transform/maybeDefaultX.ts", "../../@antv/g2/esm/transform/src/transform/maybeDefaultY.ts", "../../@antv/g2/esm/transform/src/transform/maybeTooltip.ts", "../../@antv/g2/esm/transform/src/transform/maybeZeroPadding.ts", "../../@antv/g2/esm/transform/src/transform/maybeVisualPosition.ts", "../../@antv/g2/esm/transform/src/transform/maybeFunctionAttribute.ts", "../../@antv/g2/esm/transform/src/transform/maybeTuple.ts", "../../@antv/g2/esm/transform/src/transform/maybeGradient.ts", "../../@antv/g2/esm/transform/src/transform/dodgeX.ts", "../../@antv/g2/esm/transform/src/transform/stackEnter.ts", "../../@antv/g2/esm/transform/src/transform/normalizeY.ts", "../../@antv/g2/esm/transform/src/transform/jitter.ts", "../../@antv/g2/esm/transform/src/transform/jitterX.ts", "../../@antv/g2/esm/transform/src/transform/jitterY.ts", "../../@antv/g2/esm/transform/src/transform/symmetryY.ts", "../../@antv/g2/esm/transform/src/transform/diffY.ts", "../../@antv/g2/esm/transform/src/transform/select.ts", "../../@antv/g2/esm/transform/src/transform/selectX.ts", "../../@antv/g2/esm/transform/src/transform/selectY.ts", "../../@antv/g2/esm/transform/src/transform/groupN.ts", "../../@antv/g2/esm/transform/src/transform/group.ts", "../../@antv/g2/esm/transform/src/transform/groupX.ts", "../../@antv/g2/esm/transform/src/transform/groupY.ts", "../../@antv/g2/esm/transform/src/transform/groupColor.ts", "../../@antv/g2/esm/transform/src/transform/sort.ts", "../../@antv/g2/esm/transform/src/transform/sortX.ts", "../../@antv/g2/esm/transform/src/transform/sortColor.ts", "../../@antv/g2/esm/transform/src/transform/sortY.ts", "../../@antv/g2/esm/transform/src/transform/flexX.ts", "../../@antv/g2/esm/utils/src/utils/vector.ts", "../../@antv/g2/esm/transform/src/transform/pack.ts", "../../@antv/g2/esm/transform/src/transform/bin.ts", "../../@antv/g2/esm/transform/src/transform/binX.ts", "../../@antv/g2/esm/transform/utils/src/transform/utils/lttb.ts", "../../@antv/g2/esm/transform/src/transform/sample.ts", "../../@antv/g2/esm/transform/src/transform/filter.ts", "../../d3-shape/src/constant.js", "../../d3-shape/src/math.js", "../../d3-path/src/path.js", "../../d3-shape/src/path.js", "../../d3-shape/src/arc.js", "../../d3-shape/src/array.js", "../../d3-shape/src/curve/linear.js", "../../d3-shape/src/point.js", "../../d3-shape/src/line.js", "../../d3-shape/src/area.js", "../../d3-shape/src/curve/radial.js", "../../d3-shape/src/lineRadial.js", "../../d3-shape/src/areaRadial.js", "../../d3-shape/src/symbol/asterisk.js", "../../d3-shape/src/symbol/diamond.js", "../../d3-shape/src/symbol/star.js", "../../d3-shape/src/symbol/triangle.js", "../../d3-shape/src/symbol/triangle2.js", "../../d3-shape/src/symbol/wye.js", "../../d3-shape/src/noop.js", "../../d3-shape/src/curve/basis.js", "../../d3-shape/src/curve/basisClosed.js", "../../d3-shape/src/curve/basisOpen.js", "../../d3-shape/src/curve/bundle.js", "../../d3-shape/src/curve/cardinal.js", "../../d3-shape/src/curve/cardinalClosed.js", "../../d3-shape/src/curve/cardinalOpen.js", "../../d3-shape/src/curve/catmullRom.js", "../../d3-shape/src/curve/catmullRomClosed.js", "../../d3-shape/src/curve/catmullRomOpen.js", "../../d3-shape/src/curve/linearClosed.js", "../../d3-shape/src/curve/monotone.js", "../../d3-shape/src/curve/natural.js", "../../d3-shape/src/curve/step.js", "../../@antv/g2/esm/utils/src/utils/coordinate.ts", "../../eventemitter3/index.mjs", "../../@babel/runtime/helpers/esm/superPropBase.js", "../../@babel/runtime/helpers/esm/get.js", "../../@babel/runtime/helpers/esm/superPropGet.js", "../../@antv/g-math/src/util.ts", "../../@antv/g-math/src/ellipse.ts", "../../@antv/g-math/src/arc.ts", "../../@antv/g-math/src/bezier.ts", "../../@antv/g-math/src/line.ts", "../../@antv/g-math/src/cubic.ts", "../../@antv/g-math/src/segments.ts", "../../@antv/g-math/src/polyline.ts", "../../@antv/g-math/src/polygon.ts", "../../@antv/g-math/src/quadratic.ts", "../../node_modules/.pnpm/rbush@3.0.1/node_modules/rbush/rbush.js", "../../@antv/g-lite/src/types.ts", "../../@antv/g-lite/src/AbstractRenderer.ts", "../../@antv/g-lite/src/shapes/AABB.ts", "../../@antv/g-lite/src/shapes/Plane.ts", "../../@antv/g-lite/src/shapes/Frustum.ts", "../../@antv/g-lite/src/shapes/Point.ts", "../../@antv/g-lite/src/shapes/Rectangle.ts", "../../@antv/g-lite/src/utils/error.ts", "../../@antv/g-lite/src/utils/math.ts", "../../@antv/g-lite/src/camera/interfaces.ts", "../../@antv/g-lite/src/camera/Camera.ts", "../../@antv/g-lite/src/components/Cullable.ts", "../../@antv/g-lite/src/components/Sortable.ts", "../../@antv/g-lite/src/display-objects/constants.ts", "../../@antv/g-lite/src/css/interfaces.ts", "../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/define.js", "../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/color.js", "../../@antv/g-lite/src/utils/memoize.ts", "../../@antv/g-lite/src/css/cssom/types.ts", "../../@antv/g-lite/src/css/cssom/CSSStyleValue.ts", "../../@antv/g-lite/src/css/cssom/CSSColorValue.ts", "../../@antv/g-lite/src/css/cssom/CSSGradientValue.ts", "../../@antv/g-lite/src/css/cssom/CSSKeywordValue.ts", "../../@antv/g-lite/src/css/cssom/CSSNumericValue.ts", "../../@antv/g-lite/src/css/cssom/CSSRGB.ts", "../../@antv/g-lite/src/css/CSSStyleValuePool.ts", "../../@antv/g-lite/src/utils/gradient.ts", "../../@antv/g-lite/src/css/parser/gradient.ts", "../../@antv/g-lite/src/css/parser/color.ts", "../../@antv/g-lite/src/css/parser/dimension.ts", "../../@antv/g-lite/src/css/parser/filter.ts", "../../@antv/g-lite/src/css/parser/numeric.ts", "../../@antv/g-lite/src/utils/path.ts", "../../@antv/g-lite/src/css/parser/path.ts", "../../@antv/g-lite/src/css/parser/points.ts", "../../@antv/g-lite/src/css/parser/transform.ts", "../../@antv/g-lite/src/css/parser/transform-origin.ts", "../../@antv/g-lite/src/css/StyleValueRegistry.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyAngle.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyClipPath.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyColor.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyFilter.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyLengthOrPercentage.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyLengthOrPercentage12.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyLengthOrPercentage14.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyMarker.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyNumber.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyOffsetDistance.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyOpacity.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyPath.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyPoints.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyShadowBlur.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyText.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyTextTransform.ts", "../../@antv/g-lite/src/utils/assert.ts", "../../@antv/g-lite/src/utils/canvas.ts", "../../@antv/g-lite/src/utils/dom.ts", "../../@antv/g-lite/src/utils/event.ts", "../../@antv/g-lite/src/utils/fragment.ts", "../../@antv/g-lite/src/utils/pointer-events.ts", "../../@antv/g-lite/src/utils/raf.ts", "../../@antv/g-lite/src/utils/tapable/AsyncParallelHook.ts", "../../@antv/g-lite/src/utils/tapable/AsyncSeriesWaterfallHook.ts", "../../@antv/g-lite/src/utils/tapable/SyncHook.ts", "../../@antv/g-lite/src/utils/tapable/SyncWaterfallHook.ts", "../../@antv/g-lite/src/utils/text.ts", "../../@antv/g-lite/src/utils/transform-mat4.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyTransform.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyTransformOrigin.ts", "../../@antv/g-lite/src/css/properties/CSSPropertyZIndex.ts", "../../@antv/g-lite/src/services/aabb/CircleUpdater.ts", "../../@antv/g-lite/src/services/aabb/EllipseUpdater.ts", "../../@antv/g-lite/src/services/aabb/LineUpdater.ts", "../../@antv/g-lite/src/services/aabb/PathUpdater.ts", "../../@antv/g-lite/src/services/aabb/PolylineUpdater.ts", "../../@antv/g-lite/src/services/aabb/RectUpdater.ts", "../../@antv/g-lite/src/services/aabb/TextUpdater.ts", "../../@antv/g-lite/src/services/aabb/GroupUpdater.ts", "../../@antv/g-lite/src/services/aabb/HTMLUpdater.ts", "../../@antv/g-lite/src/dom/FederatedEvent.ts", "../../@antv/g-lite/src/dom/FederatedMouseEvent.ts", "../../@antv/g-lite/src/dom/FederatedPointerEvent.ts", "../../@antv/g-lite/src/dom/FederatedWheelEvent.ts", "../../@antv/g-lite/src/dom/CustomEvent.ts", "../../@antv/g-lite/src/dom/EventTarget.ts", "../../@antv/g-lite/src/dom/Node.ts", "../../@antv/g-lite/src/services/EventService.ts", "../../@antv/g-lite/src/services/OffscreenCanvasCreator.ts", "../../@antv/g-lite/src/services/RenderingContext.ts", "../../@antv/g-lite/src/services/RenderingService.ts", "../../@antv/g-lite/src/services/SceneGraphSelector.ts", "../../@antv/g-lite/src/dom/interfaces.ts", "../../@antv/g-lite/src/dom/MutationEvent.ts", "../../@antv/g-lite/src/services/SceneGraphService.ts", "../../@antv/g-lite/src/services/TextService.ts", "../../@antv/g-lite/src/global-runtime.ts", "../../@antv/g-lite/src/dom/Element.ts", "../../@antv/g-lite/src/display-objects/DisplayObject.ts", "../../@antv/g-lite/src/display-objects/Circle.ts", "../../@antv/g-lite/src/display-objects/CustomElement.ts", "../../@antv/g-lite/src/display-objects/Ellipse.ts", "../../@antv/g-lite/src/display-objects/Fragment.ts", "../../@antv/g-lite/src/display-objects/Group.ts", "../../@antv/g-lite/src/display-objects/HTML.ts", "../../@antv/g-lite/src/display-objects/Image.ts", "../../@antv/g-lite/src/display-objects/Line.ts", "../../@antv/g-lite/src/display-objects/Path.ts", "../../@antv/g-lite/src/display-objects/Polygon.ts", "../../@antv/g-lite/src/display-objects/Polyline.ts", "../../@antv/g-lite/src/display-objects/Rect.ts", "../../@antv/g-lite/src/display-objects/Text.ts", "../../@antv/g-lite/src/dom/CustomElementRegistry.ts", "../../@antv/g-lite/src/css/CSS.ts", "../../@antv/g-lite/src/dom/Document.ts", "../../@antv/g-lite/src/plugins/CullingPlugin.ts", "../../@antv/g-lite/src/plugins/EventPlugin.ts", "../../@antv/g-lite/src/plugins/FrustumCullingStrategy.ts", "../../@antv/g-lite/src/plugins/PrepareRendererPlugin.ts", "../../@antv/g-lite/src/Canvas.ts", "../../@antv/g-camera-api/src/AdvancedCamera.ts", "../../@antv/g-camera-api/src/index.ts", "../../@antv/g-dom-mutation-observer-api/src/dom/MutationRecord.ts", "../../@antv/g-dom-mutation-observer-api/src/dom/MutationObserver.ts", "../../@antv/g-web-animations-api/src/dom/AnimationEvent.ts", "../../@antv/g-web-animations-api/src/dom/Animation.ts", "../../@antv/g-web-animations-api/src/utils/bezier-easing.ts", "../../@antv/g-web-animations-api/src/utils/custom-easing.ts", "../../@antv/g-web-animations-api/src/utils/animation.ts", "../../@antv/g-web-animations-api/src/utils/interpolation.ts", "../../@antv/g-web-animations-api/src/dom/AnimationEffectTiming.ts", "../../@antv/g-web-animations-api/src/dom/KeyframeList.ts", "../../@antv/g-web-animations-api/src/dom/KeyframeEffect.ts", "../../@antv/g-web-animations-api/src/dom/AnimationTimeline.ts", "../../@antv/g-web-animations-api/src/index.ts", "../../@antv/g2/esm/utils/src/utils/selection.ts", "../../@antv/g2/esm/utils/src/utils/number.ts", "../../@antv/g2/esm/shape/src/shape/utils.ts", "../../@antv/g2/esm/shape/interval/src/shape/interval/color.ts", "../../@antv/g2/esm/shape/interval/src/shape/interval/rect.ts", "../../@antv/g2/esm/shape/interval/src/shape/interval/hollow.ts", "../../@antv/g2/esm/shape/interval/src/shape/interval/funnel.ts", "../../@antv/g2/esm/shape/interval/src/shape/interval/pyramid.ts", "../../@antv/g2/esm/utils/src/utils/createElement.ts", "../../@antv/g2/esm/shape/line/src/shape/line/curve.ts", "../../@antv/g2/esm/shape/line/src/shape/line/line.ts", "../../@antv/g2/esm/shape/line/src/shape/line/smooth.ts", "../../@antv/g2/esm/shape/line/src/shape/line/hv.ts", "../../@antv/g2/esm/shape/line/src/shape/line/vh.ts", "../../@antv/g2/esm/shape/line/src/shape/line/hvh.ts", "../../@antv/g2/esm/shape/line/src/shape/line/trail.ts", "../../@antv/g2/esm/utils/src/utils/marker.ts", "../../@antv/g2/esm/utils/src/utils/string.ts", "../../@antv/g2/esm/shape/point/src/shape/point/color.ts", "../../@antv/g2/esm/shape/point/src/shape/point/hollowBowtie.ts", "../../@antv/g2/esm/shape/point/src/shape/point/hollowDiamond.ts", "../../@antv/g2/esm/shape/point/src/shape/point/hollowHexagon.ts", "../../@antv/g2/esm/shape/point/src/shape/point/hollow.ts", "../../@antv/g2/esm/shape/point/src/shape/point/hollowSquare.ts", "../../@antv/g2/esm/shape/point/src/shape/point/hollowTriangle.ts", "../../@antv/g2/esm/shape/point/src/shape/point/hollowTriangleDown.ts", "../../@antv/g2/esm/shape/point/src/shape/point/circle.ts", "../../@antv/g2/esm/shape/point/src/shape/point/hollowCircle.ts", "../../@antv/g2/esm/shape/point/src/shape/point/bowtie.ts", "../../@antv/g2/esm/shape/point/src/shape/point/cross.ts", "../../@antv/g2/esm/shape/point/src/shape/point/diamond.ts", "../../@antv/g2/esm/shape/point/src/shape/point/hexagon.ts", "../../@antv/g2/esm/shape/point/src/shape/point/hyphen.ts", "../../@antv/g2/esm/shape/point/src/shape/point/line.ts", "../../@antv/g2/esm/shape/point/src/shape/point/plus.ts", "../../@antv/g2/esm/shape/point/src/shape/point/point.ts", "../../@antv/g2/esm/shape/point/src/shape/point/square.ts", "../../@antv/g2/esm/shape/point/src/shape/point/tick.ts", "../../@antv/g2/esm/shape/point/src/shape/point/triangle.ts", "../../@antv/g2/esm/shape/point/src/shape/point/triangleDown.ts", "../../@antv/g2/esm/shape/vector/src/shape/vector/vector.ts", "../../@antv/component/esm/util/src/util/traverse.ts", "../../@antv/component/esm/util/src/util/visibility.ts", "../../@antv/component/esm/util/src/util/offscreen.ts", "../../@antv/component/esm/shapes/src/shapes/Text.ts", "../../@antv/component/esm/util/src/util/angle-converter.ts", "../../@antv/component/esm/util/src/util/bbox.ts", "../../@antv/component/esm/util/src/util/callback.ts", "../../@antv/component/esm/util/src/util/classnames.ts", "../../@antv/component/esm/util/src/util/deep-assign.ts", "../../@antv/component/esm/util/src/util/defined.ts", "../../@antv/component/esm/util/src/util/text.ts", "../../@antv/component/esm/util/src/util/ellipsis.ts", "../../@antv/component/esm/util/src/util/wrap.ts", "../../@antv/component/esm/util/src/util/event.ts", "../../@antv/component/esm/util/src/util/extend-display-object.ts", "../../@antv/component/esm/util/geometry/src/util/geometry/lines-intersection.ts", "../../@antv/component/esm/util/geometry/src/util/geometry/line-length.ts", "../../@antv/component/esm/util/src/util/group-by.ts", "../../@antv/component/esm/util/src/util/if-show.ts", "../../@antv/component/esm/util/src/util/in-range.ts", "../../@antv/component/esm/util/src/util/interpolate.ts", "../../@antv/component/esm/util/src/util/keyframe-interpolate.ts", "../../@antv/component/esm/util/layout/utils/src/util/layout/utils/helper.ts", "../../@antv/component/esm/util/layout/flex/src/util/layout/flex/index.ts", "../../@antv/component/esm/util/layout/grid/src/util/layout/grid/index.ts", "../../@antv/component/esm/util/layout/src/util/layout/executer.ts", "../../@antv/component/esm/util/src/util/matrix.ts", "../../@antv/component/esm/util/src/util/number.ts", "../../@antv/component/esm/util/src/util/omit.ts", "../../@antv/component/esm/util/src/util/path.ts", "../../@antv/component/esm/util/src/util/primitive.ts", "../../@antv/component/esm/util/src/util/sampling.ts", "../../@antv/component/esm/util/src/util/scale-to-pixel.ts", "../../@antv/component/esm/util/src/util/group.ts", "../../@antv/component/esm/util/src/util/selection.ts", "../../@antv/component/esm/util/src/util/series.ts", "../../@antv/component/esm/util/src/util/shape.ts", "../../@antv/component/esm/util/src/util/string.ts", "../../@antv/component/esm/util/src/util/style.ts", "../../@antv/component/esm/util/src/util/svg2marker.ts", "../../@antv/component/esm/util/src/util/time.ts", "../../@antv/component/esm/util/src/util/transform.ts", "../../@antv/component/esm/util/src/util/transpose.ts", "../../@antv/component/esm/util/src/util/replace-children.ts", "../../@antv/component/esm/core/src/core/component.ts", "../../@antv/component/esm/ui/marker/src/ui/marker/symbol.ts", "../../@antv/component/esm/ui/marker/src/ui/marker/utils.ts", "../../@antv/component/esm/ui/marker/src/ui/marker/index.ts", "../../@antv/component/esm/ui/tag/src/ui/tag/index.ts", "../../@antv/component/esm/ui/button/src/ui/button/constant.ts", "../../@antv/component/esm/ui/button/src/ui/button/index.ts", "../../@antv/component/esm/ui/breadcrumb/src/ui/breadcrumb/index.ts", "../../@antv/component/esm/ui/sparkline/src/ui/sparkline/columns.ts", "../../@antv/component/esm/ui/sparkline/src/ui/sparkline/lines.ts", "../../@antv/component/esm/ui/sparkline/src/ui/sparkline/path.ts", "../../@antv/component/esm/ui/sparkline/src/ui/sparkline/utils.ts", "../../@antv/component/esm/ui/sparkline/src/ui/sparkline/index.ts", "../../@antv/component/esm/animation/src/animation/utils.ts", "../../@antv/component/esm/animation/src/animation/fadeOut.ts", "../../@antv/component/esm/ui/slider/src/ui/slider/constant.ts", "../../@antv/component/esm/ui/slider/src/ui/slider/handle.ts", "../../@antv/component/esm/ui/slider/src/ui/slider/index.ts", "../../@antv/component/esm/ui/scrollbar/src/ui/scrollbar/index.ts", "../../@antv/component/esm/ui/axis/src/ui/axis/constant.ts", "../../@antv/component/esm/ui/grid/src/ui/grid/index.ts", "../../@antv/component/esm/ui/axis/guides/src/ui/axis/guides/utils.ts", "../../@antv/component/esm/ui/axis/guides/src/ui/axis/guides/line.ts", "../../@antv/component/esm/ui/axis/guides/src/ui/axis/guides/grid.ts", "../../@antv/component/esm/ui/axis/utils/src/ui/axis/utils/bounds.ts", "../../@antv/component/esm/ui/axis/utils/src/ui/axis/utils/contain.ts", "../../@antv/component/esm/ui/axis/utils/src/ui/axis/utils/intersect.ts", "../../@antv/component/esm/ui/axis/utils/src/ui/axis/utils/test.ts", "../../@antv/component/esm/ui/axis/overlap/src/ui/axis/overlap/autoEllipsis.ts", "../../@antv/component/esm/ui/axis/overlap/src/ui/axis/overlap/autoHide.ts", "../../@antv/component/esm/ui/axis/overlap/src/ui/axis/overlap/autoRotate.ts", "../../@antv/component/esm/ui/axis/overlap/src/ui/axis/overlap/autoWrap.ts", "../../@antv/component/esm/ui/axis/overlap/src/ui/axis/overlap/index.ts", "../../@antv/component/esm/ui/axis/utils/src/ui/axis/utils/index.ts", "../../@antv/component/esm/ui/axis/guides/src/ui/axis/guides/labels.ts", "../../@antv/component/esm/ui/axis/guides/src/ui/axis/guides/ticks.ts", "../../@antv/component/esm/ui/title/src/ui/title/index.ts", "../../@antv/component/esm/ui/axis/guides/src/ui/axis/guides/title.ts", "../../@antv/component/esm/ui/axis/src/ui/axis/axis.ts", "../../@antv/component/esm/ui/navigator/src/ui/navigator/index.ts", "../../@antv/component/esm/ui/legend/src/ui/legend/utils.ts", "../../@antv/component/esm/ui/legend/category/src/ui/legend/category/item.ts", "../../@antv/component/esm/ui/legend/category/src/ui/legend/category/items.ts", "../../@antv/component/esm/ui/legend/continuous/src/ui/legend/continuous/handle.ts", "../../@antv/component/esm/ui/legend/src/ui/legend/constant.ts", "../../@antv/component/esm/ui/legend/src/ui/legend/category.ts", "../../@antv/component/esm/ui/indicator/src/ui/indicator/constant.ts", "../../@antv/component/esm/ui/indicator/src/ui/indicator/indicator.ts", "../../@antv/component/esm/ui/legend/continuous/src/ui/legend/continuous/utils.ts", "../../@antv/component/esm/ui/legend/continuous/src/ui/legend/continuous/ribbon.ts", "../../@antv/component/esm/ui/legend/src/ui/legend/continuous.ts", "../../@antv/component/esm/ui/tooltip/src/ui/tooltip/constant.ts", "../../@antv/component/esm/ui/tooltip/src/ui/tooltip/index.ts", "../../@antv/component/esm/ui/switch/src/ui/switch/constant.ts", "../../@antv/component/esm/ui/switch/src/ui/switch/index.ts", "../../@antv/component/esm/ui/crosshair/src/ui/crosshair/constant.ts", "../../@antv/component/esm/ui/crosshair/src/ui/crosshair/base.ts", "../../@antv/component/esm/ui/crosshair/src/ui/crosshair/line.ts", "../../@antv/component/esm/ui/crosshair/src/ui/crosshair/circle.ts", "../../@antv/component/esm/ui/crosshair/src/ui/crosshair/polygon.ts", "../../@antv/component/esm/ui/checkbox/src/ui/checkbox/constant.ts", "../../@antv/component/esm/ui/checkbox/src/ui/checkbox/index.ts", "../../@antv/component/esm/ui/poptip/src/ui/poptip/constant.ts", "../../@antv/component/esm/ui/poptip/src/ui/poptip/utils.ts", "../../@antv/component/esm/ui/poptip/src/ui/poptip/index.ts", "../../@antv/component/esm/ui/layout/src/ui/layout/layout.ts", "../../@antv/component/esm/ui/select/src/ui/select/option.ts", "../../@antv/component/esm/ui/select/src/ui/select/select.ts", "../../@antv/component/esm/ui/timebar/src/ui/timebar/icons.ts", "../../@antv/component/esm/ui/timebar/src/ui/timebar/controller.ts", "../../@antv/component/esm/ui/timebar/src/ui/timebar/handle.ts", "../../@antv/component/esm/ui/timebar/src/ui/timebar/utils.ts", "../../@antv/component/esm/ui/timebar/src/ui/timebar/timebar.ts", "../../@antv/g2/esm/shape/text/src/shape/text/advance.ts", "../../@antv/g2/esm/shape/text/src/shape/text/text.ts", "../../@antv/g2/esm/shape/text/src/shape/text/badge.ts", "../../@antv/g2/esm/shape/text/src/shape/text/tag.ts", "../../@antv/g2/esm/shape/area/src/shape/area/curve.ts", "../../@antv/g2/esm/shape/area/src/shape/area/area.ts", "../../@antv/g2/esm/shape/area/src/shape/area/smooth.ts", "../../@antv/g2/esm/shape/area/src/shape/area/hvh.ts", "../../@antv/g2/esm/shape/area/src/shape/area/vh.ts", "../../@antv/g2/esm/shape/area/src/shape/area/hv.ts", "../../@antv/g2/esm/shape/link/src/shape/link/link.ts", "../../@antv/g2/esm/shape/link/src/shape/link/smooth.ts", "../../@antv/g2/esm/shape/link/src/shape/link/vhv.ts", "../../@antv/g2/esm/shape/link/src/shape/link/arc.ts", "../../@antv/g2/esm/mark/src/mark/utils.ts", "../../@antv/g2/esm/shape/image/src/shape/image/image.ts", "../../@antv/g2/esm/shape/polygon/src/shape/polygon/polygon.ts", "../../@antv/g2/esm/shape/polygon/src/shape/polygon/ribbon.ts", "../../@antv/g2/esm/shape/box/src/shape/box/box.ts", "../../@antv/g2/esm/shape/box/src/shape/box/violin.ts", "../../@antv/g2/esm/shape/lineXY/src/shape/lineXY/line.ts", "../../@antv/g2/esm/shape/connector/src/shape/connector/connector.ts", "../../@antv/g2/esm/shape/label/position/src/shape/label/position/index.ts", "../../@antv/g2/esm/shape/label/position/src/shape/label/position/area.ts", "../../@antv/g2/esm/shape/label/position/src/shape/label/position/default.ts", "../../@antv/g2/esm/shape/label/position/src/shape/label/position/outside.ts", "../../@antv/g2/esm/shape/label/position/src/shape/label/position/utils.ts", "../../@antv/g2/esm/shape/label/position/src/shape/label/position/spider.ts", "../../@antv/g2/esm/shape/label/position/src/shape/label/position/surround.ts", "../../@antv/g2/esm/shape/label/src/shape/label/label.ts", "../../@antv/g2/esm/shape/path/src/shape/path/color.ts", "../../@antv/g2/esm/shape/path/src/shape/path/path.ts", "../../@antv/g2/esm/shape/path/src/shape/path/hollow.ts", "../../@antv/g2/esm/shape/density/src/shape/density/density.ts", "../../flru/dist/flru.mjs", "../../@antv/g2/esm/utils/src/utils/lru.ts", "../../@antv/g2/esm/shape/heatmap/renderer/src/shape/heatmap/renderer/gradient.ts", "../../@antv/g2/esm/shape/heatmap/renderer/src/shape/heatmap/renderer/index.ts", "../../@antv/g2/esm/shape/heatmap/src/shape/heatmap/heatmap.ts", "../../@antv/g2/esm/shape/shape/src/shape/shape/shape.ts", "../../@antv/g2/esm/shape/liquid/src/shape/liquid/wave.ts", "../../@antv/g2/esm/shape/liquid/src/shape/liquid/shapes.ts", "../../@antv/g2/esm/shape/liquid/src/shape/liquid/liquid.ts", "../../@antv/g2/esm/shape/gauge/src/shape/gauge/round.ts", "../../@antv/g2/esm/mark/src/mark/interval.ts", "../../@antv/g2/esm/mark/src/mark/rect.ts", "../../@antv/g2/esm/mark/src/mark/line.ts", "../../@antv/g2/esm/mark/src/mark/point.ts", "../../@antv/g2/esm/mark/src/mark/text.ts", "../../@antv/g2/esm/mark/src/mark/cell.ts", "../../@antv/g2/esm/mark/src/mark/area.ts", "../../@antv/g2/esm/mark/src/mark/link.ts", "../../@antv/g2/esm/mark/src/mark/image.ts", "../../@antv/g2/esm/mark/src/mark/polygon.ts", "../../@antv/g2/esm/mark/src/mark/box.ts", "../../@antv/g2/esm/mark/src/mark/vector.ts", "../../@antv/g2/esm/mark/src/mark/lineY.ts", "../../@antv/g2/esm/mark/src/mark/lineX.ts", "../../@antv/g2/esm/mark/src/mark/connector.ts", "../../@antv/g2/esm/mark/src/mark/range.ts", "../../@antv/g2/esm/mark/src/mark/rangeX.ts", "../../@antv/g2/esm/mark/src/mark/rangeY.ts", "../../@antv/g2/esm/data/utils/d3-sankey/src/data/utils/d3-sankey/align.ts", "../../@antv/g2/esm/data/utils/d3-sankey/src/data/utils/d3-sankey/constant.ts", "../../@antv/g2/esm/data/utils/d3-sankey/src/data/utils/d3-sankey/sankey.ts", "../../@antv/g2/esm/data/src/data/sankey.ts", "../../@antv/g2/esm/utils/src/utils/mark.ts", "../../@antv/g2/esm/mark/src/mark/sankey.ts", "../../@antv/g2/esm/data/utils/arc/src/data/utils/arc/sort.ts", "../../@antv/g2/esm/data/utils/arc/src/data/utils/arc/arc.ts", "../../@antv/g2/esm/data/src/data/arc.ts", "../../@antv/g2/esm/mark/src/mark/chord.ts", "../../@antv/g2/esm/mark/src/mark/path.ts", "../../d3-hierarchy/src/cluster.js", "../../d3-hierarchy/src/hierarchy/count.js", "../../d3-hierarchy/src/hierarchy/each.js", "../../d3-hierarchy/src/hierarchy/eachBefore.js", "../../d3-hierarchy/src/hierarchy/eachAfter.js", "../../d3-hierarchy/src/hierarchy/find.js", "../../d3-hierarchy/src/hierarchy/sum.js", "../../d3-hierarchy/src/hierarchy/sort.js", "../../d3-hierarchy/src/hierarchy/path.js", "../../d3-hierarchy/src/hierarchy/ancestors.js", "../../d3-hierarchy/src/hierarchy/descendants.js", "../../d3-hierarchy/src/hierarchy/leaves.js", "../../d3-hierarchy/src/hierarchy/links.js", "../../d3-hierarchy/src/hierarchy/iterator.js", "../../d3-hierarchy/src/hierarchy/index.js", "../../d3-hierarchy/src/accessors.js", "../../d3-hierarchy/src/constant.js", "../../d3-hierarchy/src/lcg.js", "../../d3-hierarchy/src/array.js", "../../d3-hierarchy/src/pack/enclose.js", "../../d3-hierarchy/src/pack/siblings.js", "../../d3-hierarchy/src/pack/index.js", "../../d3-hierarchy/src/treemap/round.js", "../../d3-hierarchy/src/treemap/dice.js", "../../d3-hierarchy/src/partition.js", "../../d3-hierarchy/src/stratify.js", "../../d3-hierarchy/src/tree.js", "../../d3-hierarchy/src/treemap/slice.js", "../../d3-hierarchy/src/treemap/squarify.js", "../../d3-hierarchy/src/treemap/index.js", "../../d3-hierarchy/src/treemap/binary.js", "../../d3-hierarchy/src/treemap/sliceDice.js", "../../d3-hierarchy/src/treemap/resquarify.js", "../../@antv/g2/esm/utils/src/utils/treeDataTransform.ts", "../../@antv/g2/esm/mark/src/mark/treemap.ts", "../../@antv/g2/esm/mark/src/mark/pack.ts", "../../@antv/g2/esm/mark/src/mark/boxplot.ts", "../../@antv/g2/esm/mark/src/mark/shape.ts", "../../d3-force/src/center.js", "../../d3-quadtree/src/add.js", "../../d3-quadtree/src/cover.js", "../../d3-quadtree/src/data.js", "../../d3-quadtree/src/extent.js", "../../d3-quadtree/src/quad.js", "../../d3-quadtree/src/find.js", "../../d3-quadtree/src/remove.js", "../../d3-quadtree/src/root.js", "../../d3-quadtree/src/size.js", "../../d3-quadtree/src/visit.js", "../../d3-quadtree/src/visitAfter.js", "../../d3-quadtree/src/x.js", "../../d3-quadtree/src/y.js", "../../d3-quadtree/src/quadtree.js", "../../d3-force/src/constant.js", "../../d3-force/src/jiggle.js", "../../d3-force/src/link.js", "../../d3-dispatch/src/dispatch.js", "../../d3-timer/src/timer.js", "../../d3-force/src/lcg.js", "../../d3-force/src/simulation.js", "../../d3-force/src/manyBody.js", "../../d3-force/src/x.js", "../../d3-force/src/y.js", "../../@antv/g2/esm/mark/src/mark/forceGraph.ts", "../../@antv/g2/esm/data/src/data/cluster.ts", "../../@antv/g2/esm/data/src/data/tree.ts", "../../@antv/g2/esm/mark/src/mark/tree.ts", "../../@antv/g2/esm/mark/src/mark/wordCloud.ts", "../../@antv/g2/esm/mark/src/mark/gauge.ts", "../../@antv/g2/esm/mark/src/mark/density.ts", "../../@antv/g2/esm/mark/src/mark/heatmap.ts", "../../@antv/g2/esm/mark/src/mark/liquid.ts", "../../@antv/g2/esm/palette/src/palette/category10.ts", "../../@antv/g2/esm/palette/src/palette/category20.ts", "../../@antv/g2/esm/scale/src/scale/band.ts", "../../@antv/g2/esm/scale/src/scale/linear.ts", "../../@antv/g2/esm/scale/src/scale/ordinal.ts", "../../@antv/g2/esm/scale/src/scale/identity.ts", "../../@antv/g2/esm/scale/src/scale/point.ts", "../../@antv/g2/esm/scale/src/scale/time.ts", "../../@antv/g2/esm/scale/src/scale/log.ts", "../../@antv/g2/esm/scale/src/scale/pow.ts", "../../@antv/g2/esm/scale/src/scale/threshold.ts", "../../@antv/g2/esm/scale/src/scale/quantile.ts", "../../@antv/g2/esm/scale/src/scale/quantize.ts", "../../@antv/g2/esm/scale/src/scale/sqrt.ts", "../../@antv/g2/esm/scale/src/scale/sequential.ts", "../../@antv/g2/esm/scale/src/scale/constant.ts", "../../@antv/g2/esm/theme/src/theme/create.ts", "../../@antv/g2/esm/theme/src/theme/light.ts", "../../@antv/g2/esm/theme/src/theme/classic.ts", "../../@antv/g2/esm/theme/src/theme/dark.ts", "../../@antv/g2/esm/theme/src/theme/classicDark.ts", "../../@antv/g2/esm/theme/src/theme/academy.ts", "../../d3-format/src/formatDecimal.js", "../../d3-format/src/exponent.js", "../../d3-format/src/formatGroup.js", "../../d3-format/src/formatNumerals.js", "../../d3-format/src/formatSpecifier.js", "../../d3-format/src/formatTrim.js", "../../d3-format/src/formatPrefixAuto.js", "../../d3-format/src/formatRounded.js", "../../d3-format/src/formatTypes.js", "../../d3-format/src/identity.js", "../../d3-format/src/locale.js", "../../d3-format/src/defaultLocale.js", "../../@antv/g2/esm/component/src/component/utils.ts", "../../@antv/g2/esm/component/src/component/axis.ts", "../../@antv/g2/esm/component/src/component/axisX.ts", "../../@antv/g2/esm/component/src/component/axisY.ts", "../../@antv/g2/esm/component/src/component/axisRadar.ts", "../../@antv/g2/esm/component/src/component/legendCategory.ts", "../../@antv/g2/esm/component/src/component/legendContinuous.ts", "../../@antv/g2/esm/component/src/component/legendContinuousBlock.ts", "../../@antv/g2/esm/component/src/component/legendContinuousSize.ts", "../../@antv/g2/esm/component/src/component/legendContinuousBlockSize.ts", "../../@antv/g2/esm/component/src/component/title.ts", "../../@antv/g2/esm/utils/src/utils/scale.ts", "../../@antv/g2/esm/component/src/component/slider.ts", "../../@antv/g2/esm/component/src/component/sliderX.ts", "../../@antv/g2/esm/component/src/component/sliderY.ts", "../../@antv/g2/esm/component/src/component/scrollbar.ts", "../../@antv/g2/esm/component/src/component/scrollbarX.ts", "../../@antv/g2/esm/component/src/component/scrollbarY.ts", "../../@antv/g2/esm/component/src/component/legends.ts", "../../@antv/g2/esm/animation/src/animation/scaleInX.ts", "../../@antv/g2/esm/animation/src/animation/scaleOutX.ts", "../../@antv/g2/esm/animation/src/animation/scaleInY.ts", "../../@antv/g2/esm/animation/src/animation/scaleOutY.ts", "../../@antv/g2/esm/animation/src/animation/fadeIn.ts", "../../@antv/g2/esm/animation/src/animation/fadeOut.ts", "../../@antv/g2/esm/animation/src/animation/utils.ts", "../../@antv/g2/esm/animation/src/animation/morphing.ts", "../../@antv/g2/esm/animation/src/animation/waveIn.ts", "../../@antv/g2/esm/animation/src/animation/zoomIn.ts", "../../@antv/g2/esm/animation/src/animation/zoomOut.ts", "../../@antv/g2/esm/animation/src/animation/pathIn.ts", "../../@antv/g2/esm/animation/src/animation/growInX.ts", "../../@antv/g2/esm/animation/src/animation/growInY.ts", "../../@antv/g2/esm/runtime/src/runtime/constant.ts", "../../@antv/g-plugin-canvas-path-generator/src/paths/Circle.ts", "../../@antv/g-plugin-canvas-path-generator/src/paths/Ellipse.ts", "../../@antv/g-plugin-canvas-path-generator/src/paths/Line.ts", "../../@antv/g-plugin-canvas-path-generator/src/paths/Path.ts", "../../@antv/g-plugin-canvas-path-generator/src/paths/Polygon.ts", "../../@antv/g-plugin-canvas-path-generator/src/paths/Polyline.ts", "../../@antv/g-plugin-canvas-path-generator/src/paths/Rect.ts", "../../@antv/g-plugin-canvas-path-generator/src/index.ts", "../../@antv/g-plugin-canvas-picker/src/CanvasPickerPlugin.ts", "../../@antv/g-plugin-canvas-picker/src/Circle.ts", "../../@antv/g-plugin-canvas-picker/src/Ellipse.ts", "../../@antv/g-plugin-canvas-picker/src/utils/math.ts", "../../@antv/g-plugin-canvas-picker/src/Line.ts", "../../@antv/g-plugin-canvas-picker/src/Path.ts", "../../@antv/g-plugin-canvas-picker/src/Polygon.ts", "../../@antv/g-plugin-canvas-picker/src/Polyline.ts", "../../@antv/g-plugin-canvas-picker/src/Rect.ts", "../../@antv/g-plugin-canvas-picker/src/Image.ts", "../../@antv/g-plugin-canvas-picker/src/Text.ts", "../../@antv/g-plugin-canvas-picker/src/index.ts", "../../@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js", "../../@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js", "../../@antv/g-plugin-image-loader/src/RefCountCache.ts", "../../@antv/g-plugin-image-loader/src/ImageSlicer.ts", "../../@antv/g-plugin-image-loader/src/ImagePool.ts", "../../@antv/g-plugin-image-loader/src/LoadImagePlugin.ts", "../../@antv/g-plugin-image-loader/src/index.ts", "../../@antv/g-plugin-canvas-renderer/src/CanvasRendererPlugin.ts", "../../@antv/g-plugin-canvas-renderer/src/shapes/styles/helper.ts", "../../@antv/g-plugin-canvas-renderer/src/shapes/styles/OptimizedDefault.ts", "../../@antv/g-plugin-canvas-renderer/src/shapes/styles/Default.ts", "../../@antv/g-plugin-canvas-renderer/src/utils/math.ts", "../../@antv/g-plugin-canvas-renderer/src/shapes/styles/Image.ts", "../../@antv/g-plugin-canvas-renderer/src/shapes/styles/Text.ts", "../../@antv/g-plugin-canvas-renderer/src/index.ts", "../../@antv/g-plugin-dom-interaction/src/DOMInteractionPlugin.ts", "../../@antv/g-plugin-dom-interaction/src/index.ts", "../../@antv/g-plugin-html-renderer/src/HTMLRenderingPlugin.ts", "../../@antv/g-plugin-html-renderer/src/index.ts", "../../@antv/g-canvas/src/Canvas2DContextService.ts", "../../@antv/g-canvas/src/ContextRegisterPlugin.ts", "../../@antv/g-canvas/src/index.ts", "../../@antv/g-plugin-dragndrop/src/DragndropPlugin.ts", "../../@antv/g-plugin-dragndrop/src/index.ts", "../../@antv/event-emitter/src/index.ts", "../../@antv/g2/esm/utils/src/utils/event.ts", "../../@antv/expr/dist/index.esm.js", "../../@antv/g2/esm/utils/src/utils/expr.ts", "../../@antv/g2/esm/component/src/component/constant.ts", "../../@antv/coord/node_modules/@antv/util/src/is-type.ts", "../../@antv/coord/node_modules/@antv/util/src/is-function.ts", "../../@antv/coord/node_modules/@antv/util/src/is-array.ts", "../../@antv/coord/node_modules/@antv/util/src/is-object.ts", "../../@antv/coord/node_modules/@antv/util/src/each.ts", "../../@antv/coord/node_modules/@antv/util/src/is-object-like.ts", "../../@antv/coord/node_modules/@antv/util/src/is-plain-object.ts", "../../@antv/coord/node_modules/@antv/util/src/pull.ts", "../../@antv/coord/node_modules/@antv/util/src/pull-at.ts", "../../@antv/coord/node_modules/@antv/util/src/is-string.ts", "../../@antv/coord/node_modules/@antv/util/src/is-number.ts", "../../@antv/coord/node_modules/@antv/util/src/is-integer.ts", "../../@antv/coord/node_modules/@antv/util/src/to-degree.ts", "../../@antv/coord/node_modules/@antv/util/src/to-radian.ts", "../../@antv/coord/node_modules/@antv/util/src/values.ts", "../../@antv/coord/node_modules/@antv/util/src/get-type.ts", "../../@antv/coord/node_modules/@antv/util/src/is-prototype.ts", "../../@antv/coord/node_modules/@antv/util/src/memoize.ts", "../../@antv/coord/node_modules/@antv/util/src/deep-mix.ts", "../../@antv/coord/node_modules/@antv/util/src/identity.ts", "../../@antv/coord/node_modules/@antv/util/src/measure-text-width.ts", "../../@antv/coord/node_modules/@antv/util/src/cache.ts", "../../@antv/coord/esm/utils/src/utils/compose.ts", "../../@antv/coord/esm/utils/src/utils/isMatrix.ts", "../../@antv/coord/esm/utils/src/utils/extend.ts", "../../@antv/coord/esm/utils/src/utils/adjustAngle.ts", "../../@antv/coord/esm/transforms/src/transforms/translate.ts", "../../@antv/coord/esm/transforms/src/transforms/cartesian.ts", "../../@antv/coord/esm/transforms/src/transforms/custom.ts", "../../@antv/coord/esm/transforms/src/transforms/matrix.ts", "../../@antv/coord/esm/transforms/src/transforms/polar.ts", "../../@antv/coord/esm/transforms/src/transforms/transpose.ts", "../../@antv/coord/esm/transforms/src/transforms/scale.ts", "../../@antv/coord/esm/transforms/src/transforms/reflect.ts", "../../@antv/coord/esm/transforms/src/transforms/rotate.ts", "../../@antv/coord/esm/transforms/src/transforms/helix.ts", "../../@antv/coord/esm/transforms/src/transforms/parallel.ts", "../../@antv/coord/esm/transforms/src/transforms/shear.ts", "../../@antv/coord/esm/transforms/src/transforms/fisheye.ts", "../../@antv/coord/esm/transforms/src/transforms/cartesian3D.ts", "../../@antv/coord/esm/transforms/src/transforms/translate3D.ts", "../../@antv/coord/esm/transforms/src/transforms/transpose3D.ts", "../../@antv/coord/esm/transforms/src/transforms/scale3D.ts", "../../@antv/coord/esm/src/coordinate.ts", "../../@antv/coord/esm/src/coordinate3D.ts", "../../@antv/g2/esm/composition/src/composition/utils.ts", "../../@antv/g2/esm/composition/src/composition/spaceLayer.ts", "../../@antv/g2/esm/composition/src/composition/spaceFlex.ts", "../../@antv/g2/esm/composition/src/composition/view.ts", "../../@antv/g2/esm/composition/src/composition/mark.ts", "../../@antv/g2/esm/utils/src/utils/container.ts", "../../@antv/g2/esm/composition/src/composition/facetRect.ts", "../../@antv/g2/esm/composition/src/composition/repeatMatrix.ts", "../../@antv/g2/esm/composition/src/composition/facetCircle.ts", "../../@antv/g2/esm/composition/src/composition/timingKeyframe.ts", "../../@antv/g2/esm/composition/src/composition/geoPath.ts", "../../d3-geo/src/math.js", "../../d3-geo/src/noop.js", "../../d3-geo/src/stream.js", "../../d3-geo/src/area.js", "../../d3-geo/src/cartesian.js", "../../d3-geo/src/compose.js", "../../d3-geo/src/rotation.js", "../../d3-geo/src/circle.js", "../../d3-geo/src/clip/buffer.js", "../../d3-geo/src/pointEqual.js", "../../d3-geo/src/clip/rejoin.js", "../../d3-geo/src/polygonContains.js", "../../d3-geo/src/clip/index.js", "../../d3-geo/src/clip/antimeridian.js", "../../d3-geo/src/clip/circle.js", "../../d3-geo/src/clip/line.js", "../../d3-geo/src/clip/rectangle.js", "../../d3-geo/src/graticule.js", "../../d3-geo/src/identity.js", "../../d3-geo/src/path/area.js", "../../d3-geo/src/path/bounds.js", "../../d3-geo/src/path/centroid.js", "../../d3-geo/src/path/context.js", "../../d3-geo/src/path/measure.js", "../../d3-geo/src/path/string.js", "../../d3-geo/src/path/index.js", "../../d3-geo/src/transform.js", "../../d3-geo/src/projection/fit.js", "../../d3-geo/src/projection/resample.js", "../../d3-geo/src/projection/index.js", "../../d3-geo/src/projection/conic.js", "../../d3-geo/src/projection/cylindricalEqualArea.js", "../../d3-geo/src/projection/conicEqualArea.js", "../../d3-geo/src/projection/albers.js", "../../d3-geo/src/projection/albersUsa.js", "../../d3-geo/src/projection/azimuthal.js", "../../d3-geo/src/projection/azimuthalEqualArea.js", "../../d3-geo/src/projection/azimuthalEquidistant.js", "../../d3-geo/src/projection/mercator.js", "../../d3-geo/src/projection/conicConformal.js", "../../d3-geo/src/projection/equirectangular.js", "../../d3-geo/src/projection/conicEquidistant.js", "../../d3-geo/src/projection/equalEarth.js", "../../d3-geo/src/projection/gnomonic.js", "../../d3-geo/src/projection/identity.js", "../../d3-geo/src/projection/naturalEarth1.js", "../../d3-geo/src/projection/orthographic.js", "../../d3-geo/src/projection/stereographic.js", "../../d3-geo/src/projection/transverseMercator.js", "../../@antv/g2/esm/composition/src/composition/d3Projection.ts", "../../@antv/g2/esm/composition/src/composition/geoView.ts", "../../@antv/g2/esm/interaction/src/interaction/event.ts", "../../@antv/g2/esm/lib/src/lib/builtinlib.ts", "../../@antv/g2/esm/runtime/src/runtime/library.ts", "../../@antv/g2/esm/runtime/src/runtime/coordinate.ts", "../../@antv/vendor/es/d3-scale-chromatic.mjs", "../../d3-scale-chromatic/src/colors.js", "../../d3-scale-chromatic/src/categorical/category10.js", "../../d3-scale-chromatic/src/categorical/Accent.js", "../../d3-scale-chromatic/src/categorical/Dark2.js", "../../d3-scale-chromatic/src/categorical/observable10.js", "../../d3-scale-chromatic/src/categorical/Paired.js", "../../d3-scale-chromatic/src/categorical/Pastel1.js", "../../d3-scale-chromatic/src/categorical/Pastel2.js", "../../d3-scale-chromatic/src/categorical/Set1.js", "../../d3-scale-chromatic/src/categorical/Set2.js", "../../d3-scale-chromatic/src/categorical/Set3.js", "../../d3-scale-chromatic/src/categorical/Tableau10.js", "../../d3-color/src/define.js", "../../d3-color/src/color.js", "../../d3-color/src/math.js", "../../d3-color/src/lab.js", "../../d3-color/src/cubehelix.js", "../../d3-interpolate/src/basis.js", "../../d3-interpolate/src/basisClosed.js", "../../d3-interpolate/src/constant.js", "../../d3-interpolate/src/color.js", "../../d3-interpolate/src/rgb.js", "../../d3-interpolate/src/number.js", "../../d3-interpolate/src/string.js", "../../d3-interpolate/src/transform/decompose.js", "../../d3-interpolate/src/transform/parse.js", "../../d3-interpolate/src/transform/index.js", "../../d3-interpolate/src/zoom.js", "../../d3-interpolate/src/hsl.js", "../../d3-interpolate/src/hcl.js", "../../d3-interpolate/src/cubehelix.js", "../../d3-scale-chromatic/src/ramp.js", "../../d3-scale-chromatic/src/diverging/BrBG.js", "../../d3-scale-chromatic/src/diverging/PRGn.js", "../../d3-scale-chromatic/src/diverging/PiYG.js", "../../d3-scale-chromatic/src/diverging/PuOr.js", "../../d3-scale-chromatic/src/diverging/RdBu.js", "../../d3-scale-chromatic/src/diverging/RdGy.js", "../../d3-scale-chromatic/src/diverging/RdYlBu.js", "../../d3-scale-chromatic/src/diverging/RdYlGn.js", "../../d3-scale-chromatic/src/diverging/Spectral.js", "../../d3-scale-chromatic/src/sequential-multi/BuGn.js", "../../d3-scale-chromatic/src/sequential-multi/BuPu.js", "../../d3-scale-chromatic/src/sequential-multi/GnBu.js", "../../d3-scale-chromatic/src/sequential-multi/OrRd.js", "../../d3-scale-chromatic/src/sequential-multi/PuBuGn.js", "../../d3-scale-chromatic/src/sequential-multi/PuBu.js", "../../d3-scale-chromatic/src/sequential-multi/PuRd.js", "../../d3-scale-chromatic/src/sequential-multi/RdPu.js", "../../d3-scale-chromatic/src/sequential-multi/YlGnBu.js", "../../d3-scale-chromatic/src/sequential-multi/YlGn.js", "../../d3-scale-chromatic/src/sequential-multi/YlOrBr.js", "../../d3-scale-chromatic/src/sequential-multi/YlOrRd.js", "../../d3-scale-chromatic/src/sequential-single/Blues.js", "../../d3-scale-chromatic/src/sequential-single/Greens.js", "../../d3-scale-chromatic/src/sequential-single/Greys.js", "../../d3-scale-chromatic/src/sequential-single/Purples.js", "../../d3-scale-chromatic/src/sequential-single/Reds.js", "../../d3-scale-chromatic/src/sequential-single/Oranges.js", "../../d3-scale-chromatic/src/sequential-multi/cividis.js", "../../d3-scale-chromatic/src/sequential-multi/cubehelix.js", "../../d3-scale-chromatic/src/sequential-multi/rainbow.js", "../../d3-scale-chromatic/src/sequential-multi/sinebow.js", "../../d3-scale-chromatic/src/sequential-multi/turbo.js", "../../d3-scale-chromatic/src/sequential-multi/viridis.js", "../../@antv/g2/esm/runtime/src/runtime/scale.ts", "../../@antv/g2/esm/runtime/types/src/runtime/types/scale.ts", "../../@antv/g2/esm/runtime/src/runtime/component.ts", "../../@antv/g2/esm/runtime/src/runtime/layout.ts", "../../@antv/g2/esm/runtime/src/runtime/transform.ts", "../../@antv/g2/esm/runtime/src/runtime/mark.ts", "../../@antv/g2/esm/runtime/src/runtime/plot.ts", "../../@antv/g2/esm/utils/src/utils/flow.ts", "../../@antv/g2/esm/runtime/option-preprocess/src/runtime/option-preprocess/style.ts", "../../@antv/g2/esm/runtime/option-preprocess/src/runtime/option-preprocess/index.ts", "../../@antv/g2/esm/runtime/src/runtime/render.ts", "../../@antv/g2/esm/utils/src/utils/style.ts", "../../@antv/g2/esm/interaction/src/interaction/utils.ts", "../../@antv/g2/esm/interaction/src/interaction/elementHighlight.ts", "../../@antv/g2/esm/interaction/src/interaction/elementHighlightByX.ts", "../../@antv/g2/esm/interaction/src/interaction/elementHighlightByColor.ts", "../../@antv/g2/esm/interaction/src/interaction/elementSelect.ts", "../../@antv/g2/esm/interaction/src/interaction/elementSelectByX.ts", "../../@antv/g2/esm/interaction/src/interaction/elementSelectByColor.ts", "../../@antv/g2/esm/interaction/src/interaction/chartIndex.ts", "../../@antv/g2/esm/interaction/src/interaction/fisheye.ts", "../../@antv/g2/esm/interaction/src/interaction/tooltip.ts", "../../@antv/g2/esm/interaction/src/interaction/legendFilter.ts", "../../@antv/g2/esm/interaction/src/interaction/legendHighlight.ts", "../../@antv/g2/esm/interaction/src/interaction/brushHighlight.ts", "../../@antv/g2/esm/interaction/src/interaction/brushXHighlight.ts", "../../@antv/g2/esm/interaction/src/interaction/brushYHighlight.ts", "../../@antv/g2/esm/interaction/src/interaction/brushAxisHighlight.ts", "../../@antv/g2/esm/interaction/src/interaction/brushFilter.ts", "../../@antv/g2/esm/interaction/src/interaction/brushXFilter.ts", "../../@antv/g2/esm/interaction/src/interaction/brushYFilter.ts", "../../@antv/g2/esm/interaction/src/interaction/sliderFilter.ts", "../../@antv/g2/esm/interaction/src/interaction/scrollbarFilter.ts", "../../@antv/g2/esm/interaction/src/interaction/poptip.ts", "../../@antv/g2/esm/interaction/src/interaction/treemapDrillDown.ts", "../../@antv/g2/esm/interaction/src/interaction/elementPointMove.ts", "../../d3-dsv/src/dsv.js", "../../d3-dsv/src/csv.js", "../../d3-dsv/src/tsv.js", "../../d3-dsv/src/autoType.js", "../../@antv/g2/esm/data/src/data/fetch.ts", "../../@antv/g2/esm/data/src/data/fold.ts", "../../@antv/g2/esm/data/src/data/filter.ts", "../../@antv/g2/esm/data/src/data/sort.ts", "../../@antv/g2/esm/data/src/data/pick.ts", "../../@antv/g2/esm/data/src/data/rename.ts", "../../@antv/g2/esm/data/utils/src/data/utils/fields.ts", "../../@antv/g2/esm/data/src/data/sortBy.ts", "../../@antv/g2/esm/data/src/data/inline.ts", "../../@antv/g2/esm/data/src/data/custom.ts", "../../@antv/g2/esm/data/src/data/map.ts", "../../@antv/g2/esm/data/utils/src/data/utils/flow.ts", "../../@antv/g2/esm/data/utils/d3-cloud/src/data/utils/d3-cloud/index.ts", "../../@antv/g2/esm/data/src/data/wordCloud.ts", "../../@antv/g2/esm/data/src/data/join.ts", "../../@antv/g2/esm/data/src/data/slice.ts", "../../@antv/g2/esm/data/src/data/kde.ts", "../../fmin/src/bisect.js", "../../fmin/src/blas1.js", "../../fmin/src/nelderMead.js", "../../fmin/src/linesearch.js", "../../fmin/src/conjugateGradient.js", "../../@antv/g2/esm/data/utils/venn/src/data/utils/venn/circleintersection.ts", "../../@antv/g2/esm/data/utils/venn/src/data/utils/venn/layout.ts", "../../@antv/g2/esm/data/utils/venn/src/data/utils/venn/diagram.ts", "../../@antv/g2/esm/data/src/data/venn.ts", "../../@antv/g2/esm/data/src/data/log.ts", "../../@antv/g2/esm/data/src/data/ema.ts", "../../@antv/g2/esm/utils/src/utils/bounds.ts", "../../@antv/g2/esm/label-transform/src/label-transform/overlapHide.ts", "../../@antv/g2/esm/label-transform/src/label-transform/overlapDodgeY.ts", "../../@antv/g2/esm/utils/src/utils/color.ts", "../../@antv/g2/esm/label-transform/src/label-transform/contrastReverse.ts", "../../@antv/g2/esm/label-transform/src/label-transform/overflowHide.ts", "../../@antv/g2/esm/label-transform/src/label-transform/exceedAdjust.ts", "../../@antv/g2/esm/lib/src/lib/core.ts", "../../@antv/g2/esm/lib/src/lib/geo.ts", "../../@antv/g2/esm/lib/src/lib/graph.ts", "../../@antv/g2/esm/lib/src/lib/plot.ts", "../../@antv/g2/esm/lib/src/lib/std.ts", "../../@antv/g2/esm/api/src/api/extend.ts", "../../@antv/g2/esm/api/src/api/library.ts", "../../@antv/g2/esm/utils/src/utils/size.ts", "../../@antv/g2/esm/api/src/api/node.ts", "../../@antv/g2/esm/api/src/api/utils.ts", "../../@antv/g2/esm/api/src/api/define.ts", "../../@antv/g2/esm/api/src/api/props.ts", "../../@antv/g2/esm/api/src/api/composition.ts", "../../@antv/g2/esm/api/src/api/mark.ts", "../../@antv/g2/esm/api/src/api/runtime.ts", "../../@antv/g2/esm/api/src/api/chart.ts", "../../@ant-design/charts-util/es/react/render.js", "../../@ant-design/charts-util/es/rc/create-node.js", "../../@ant-design/charts-util/es/rc/chart-loading.js", "../../@ant-design/charts-util/es/rc/error-boundary.js", "../../@ant-design/charts-util/es/utils/measure-text.js", "../../@ant-design/charts-util/es/utils/context.js", "../../@ant-design/plots/es/components/base/index.js", "../../@ant-design/plots/es/hooks/useChart.js", "../../@ant-design/plots/es/util/index.js", "../../@ant-design/plots/es/util/is-valid-element.js", "../../@antv/g2-extension-plot/esm/utils/hierarchy/src/utils/hierarchy/partition.ts", "../../@antv/g2-extension-plot/esm/mark/src/mark/sunburst.ts", "../../@antv/g2-extension-plot/esm/interaction/src/interaction/drillDown.ts", "../../@antv/g2-extension-plot/esm/src/lib.ts", "../../@ant-design/plots/es/core/base/chart.js", "../../@ant-design/plots/es/core/utils/index.js", "../../@ant-design/plots/es/core/utils/transform.js", "../../@ant-design/plots/es/core/utils/delete-excess-keys.js", "../../@ant-design/plots/es/core/utils/filter-transformed.js", "../../@ant-design/plots/es/core/utils/merge-with-array-coverage.js", "../../@ant-design/plots/es/core/utils/field-adapter.js", "../../@ant-design/plots/es/core/constants/index.js", "../../@ant-design/plots/es/core/annotation/shapes/Text.js", "../../@ant-design/plots/es/core/annotation/shapes/Polygon.js", "../../@ant-design/plots/es/core/annotation/core.js", "../../@ant-design/plots/es/core/annotation/conversion-tag.js", "../../@ant-design/plots/es/core/plots/bidirectional-bar/constants.js", "../../@ant-design/plots/es/core/annotation/bidirectional-bar-axis-text.js", "../../@ant-design/plots/es/core/annotation/index.js", "../../@ant-design/plots/es/core/base/index.js", "../../@ant-design/plots/es/core/plots/base/index.js", "../../@ant-design/plots/es/core/adaptor/shape-stack.js", "../../@ant-design/plots/es/core/adaptor/mark.js", "../../@ant-design/plots/es/core/adaptor/coordinate-layout.js", "../../@ant-design/plots/es/core/plots/area/adaptor.js", "../../@ant-design/plots/es/core/plots/area/index.js", "../../@ant-design/plots/es/core/plots/bar/adaptor.js", "../../@ant-design/plots/es/core/plots/bar/shape.js", "../../@ant-design/plots/es/core/plots/bar/index.js", "../../@ant-design/plots/es/core/plots/column/shape.js", "../../@ant-design/plots/es/core/plots/column/index.js", "../../@ant-design/plots/es/core/plots/dual-axes/adaptor.js", "../../@ant-design/plots/es/core/plots/dual-axes/index.js", "../../@ant-design/plots/es/core/plots/funnel/adaptor.js", "../../@ant-design/plots/es/core/plots/funnel/index.js", "../../@ant-design/plots/es/core/plots/line/adaptor.js", "../../@ant-design/plots/es/core/plots/line/index.js", "../../@ant-design/plots/es/core/plots/pie/adaptor.js", "../../@ant-design/plots/es/core/plots/pie/index.js", "../../@ant-design/plots/es/core/plots/scatter/adaptor.js", "../../@ant-design/plots/es/core/plots/scatter/index.js", "../../@ant-design/plots/es/core/plots/radar/adaptor.js", "../../@ant-design/plots/es/core/plots/radar/index.js", "../../@ant-design/plots/es/core/plots/stock/adaptor.js", "../../@ant-design/plots/es/core/plots/stock/index.js", "../../@ant-design/plots/es/core/plots/tiny-line/adaptor.js", "../../@ant-design/plots/es/core/plots/tiny-line/index.js", "../../@ant-design/plots/es/core/plots/tiny-area/adaptor.js", "../../@ant-design/plots/es/core/plots/tiny-area/index.js", "../../@ant-design/plots/es/core/plots/tiny-column/adaptor.js", "../../@ant-design/plots/es/core/plots/tiny-column/index.js", "../../@ant-design/plots/es/core/plots/tiny-progress/adaptor.js", "../../@ant-design/plots/es/core/plots/tiny-progress/index.js", "../../@ant-design/plots/es/core/plots/tiny-ring/adaptor.js", "../../@ant-design/plots/es/core/plots/tiny-ring/index.js", "../../@ant-design/plots/es/core/plots/rose/adaptor.js", "../../@ant-design/plots/es/core/plots/rose/index.js", "../../@ant-design/plots/es/core/plots/waterfall/constants.js", "../../@ant-design/plots/es/core/plots/waterfall/adaptor.js", "../../@ant-design/plots/es/core/plots/waterfall/index.js", "../../@ant-design/plots/es/core/plots/histogram/adaptor.js", "../../@ant-design/plots/es/core/plots/histogram/index.js", "../../@ant-design/plots/es/core/plots/heatmap/adaptor.js", "../../@ant-design/plots/es/core/plots/heatmap/index.js", "../../@ant-design/plots/es/core/plots/box/adaptor.js", "../../@ant-design/plots/es/core/plots/box/index.js", "../../@ant-design/plots/es/core/plots/sankey/adaptor.js", "../../@ant-design/plots/es/core/plots/sankey/index.js", "../../@ant-design/plots/es/core/plots/bullet/adaptor.js", "../../@ant-design/plots/es/core/plots/bullet/index.js", "../../@ant-design/plots/es/core/plots/gauge/adaptor.js", "../../@ant-design/plots/es/core/plots/gauge/index.js", "../../@ant-design/plots/es/core/plots/liquid/adaptor.js", "../../@ant-design/plots/es/core/plots/liquid/index.js", "../../@ant-design/plots/es/core/plots/wordCloud/adaptor.js", "../../@ant-design/plots/es/core/plots/wordCloud/index.js", "../../@ant-design/plots/es/core/plots/treemap/adaptor.js", "../../@ant-design/plots/es/core/plots/treemap/index.js", "../../@ant-design/plots/es/core/plots/radial-bar/adaptor.js", "../../@ant-design/plots/es/core/plots/radial-bar/index.js", "../../@ant-design/plots/es/core/plots/circlePacking/adaptor.js", "../../@ant-design/plots/es/core/plots/circlePacking/index.js", "../../@ant-design/plots/es/core/plots/violin/adaptor.js", "../../@ant-design/plots/es/core/plots/violin/index.js", "../../@ant-design/plots/es/core/plots/bidirectional-bar/adaptor.js", "../../@ant-design/plots/es/core/plots/bidirectional-bar/index.js", "../../@ant-design/plots/es/core/plots/venn/type.js", "../../@ant-design/plots/es/core/plots/venn/adaptor.js", "../../@ant-design/plots/es/core/plots/venn/index.js", "../../@ant-design/plots/es/core/plots/sunburst/adaptor.js", "../../@ant-design/plots/es/core/plots/sunburst/index.js", "../../@ant-design/plots/es/core/index.js", "../../@ant-design/plots/es/components/area/index.js", "../../@ant-design/plots/es/components/bar/index.js", "../../@ant-design/plots/es/components/column/index.js", "../../@ant-design/plots/es/components/dual-axes/index.js", "../../@ant-design/plots/es/components/funnel/index.js", "../../@ant-design/plots/es/components/line/index.js", "../../@ant-design/plots/es/components/pie/index.js", "../../@ant-design/plots/es/components/scatter/index.js", "../../@ant-design/plots/es/components/radar/index.js", "../../@ant-design/plots/es/components/tiny/line/index.js", "../../@ant-design/plots/es/components/tiny/area/index.js", "../../@ant-design/plots/es/components/tiny/column/index.js", "../../@ant-design/plots/es/components/tiny/progress/index.js", "../../@ant-design/plots/es/components/tiny/ring/index.js", "../../@ant-design/plots/es/components/tiny/index.js", "../../@ant-design/plots/es/components/rose/index.js", "../../@ant-design/plots/es/components/waterfall/index.js", "../../@ant-design/plots/es/components/histogram/index.js", "../../@ant-design/plots/es/components/heatmap/index.js", "../../@ant-design/plots/es/components/box/index.js", "../../@ant-design/plots/es/components/sankey/index.js", "../../@ant-design/plots/es/components/stock/index.js", "../../@ant-design/plots/es/components/bullet/index.js", "../../@ant-design/plots/es/components/gauge/index.js", "../../@ant-design/plots/es/components/liquid/index.js", "../../@ant-design/plots/es/components/wordCloud/index.js", "../../@ant-design/plots/es/components/treemap/index.js", "../../@ant-design/plots/es/components/radial-bar/index.js", "../../@ant-design/plots/es/components/circlePacking/index.js", "../../@ant-design/plots/es/components/violin/index.js", "../../@ant-design/plots/es/components/bidirectional-bar/index.js", "../../@ant-design/plots/es/components/venn/index.js", "../../@ant-design/plots/es/components/mix/index.js", "../../@ant-design/plots/es/components/sunburst/index.js"],
  "sourcesContent": ["'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n", "module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n", "'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n", "/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\nvar hasOwnProperty = Object.hasOwnProperty;\n\nvar reverseNames = Object.create(null);\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (hasOwnProperty.call(colorNames, name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/;\n\tvar keyword = /^(\\w+)$/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\tif (match[5]) {\n\t\t\t\trgb[3] = parseFloat(match[4]) * 0.01;\n\t\t\t} else {\n\t\t\t\trgb[3] = parseFloat(match[4]);\n\t\t\t}\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\tif (!hasOwnProperty.call(colorNames, match[1])) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = Math.round(num).toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "/*\n * Generated by PEG.js 0.10.0.\n *\n * http://pegjs.org/\n */\n\n\"use strict\";\n\nfunction peg$subclass(child, parent) {\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message  = message;\n  this.expected = expected;\n  this.found    = found;\n  this.location = location;\n  this.name     = \"SyntaxError\";\n\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n        literal: function(expectation) {\n          return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n        },\n\n        \"class\": function(expectation) {\n          var escapedParts = \"\",\n              i;\n\n          for (i = 0; i < expectation.parts.length; i++) {\n            escapedParts += expectation.parts[i] instanceof Array\n              ? classEscape(expectation.parts[i][0]) + \"-\" + classEscape(expectation.parts[i][1])\n              : classEscape(expectation.parts[i]);\n          }\n\n          return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n        },\n\n        any: function(expectation) {\n          return \"any character\";\n        },\n\n        end: function(expectation) {\n          return \"end of input\";\n        },\n\n        other: function(expectation) {\n          return expectation.description;\n        }\n      };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\"/g,  '\\\\\"')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\\]/g, '\\\\]')\n      .replace(/\\^/g, '\\\\^')\n      .replace(/-/g,  '\\\\-')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = new Array(expected.length),\n        i, j;\n\n    for (i = 0; i < expected.length; i++) {\n      descriptions[i] = describeExpectation(expected[i]);\n    }\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== void 0 ? options : {};\n\n  var peg$FAILED = {},\n\n      peg$startRuleFunctions = { svg_path: peg$parsesvg_path },\n      peg$startRuleFunction  = peg$parsesvg_path,\n\n      peg$c0 = function(data) {\n          if (!data) return [];\n          for (var cmds=[],i=0;i<data.length;i++) cmds=cmds.concat.apply(cmds,data[i]);\n          var first=cmds[0];\n          if (first && first.code=='m'){ // Per spec, first moveto is never relative\n            delete first.relative;\n            first.code = 'M';\n          }\n          return cmds;\n        },\n      peg$c1 = function(first, more) { return merge(first,more) },\n      peg$c2 = /^[Mm]/,\n      peg$c3 = peg$classExpectation([\"M\", \"m\"], false, false),\n      peg$c4 = function(c, first, more) {\n          var move = commands(c,[first]);\n          if (more) move = move.concat(commands(c=='M' ? 'L' : 'l',more[1]));\n          return move;\n        },\n      peg$c5 = /^[Zz]/,\n      peg$c6 = peg$classExpectation([\"Z\", \"z\"], false, false),\n      peg$c7 = function() { return commands('Z') },\n      peg$c8 = /^[Ll]/,\n      peg$c9 = peg$classExpectation([\"L\", \"l\"], false, false),\n      peg$c10 = function(c, args) { return commands(c,args) },\n      peg$c11 = /^[Hh]/,\n      peg$c12 = peg$classExpectation([\"H\", \"h\"], false, false),\n      peg$c13 = function(c, args) { return commands(c,args.map(function(x){ return {x:x}})) },\n      peg$c14 = /^[Vv]/,\n      peg$c15 = peg$classExpectation([\"V\", \"v\"], false, false),\n      peg$c16 = function(c, args) { return commands(c,args.map(function(y){ return {y:y}})) },\n      peg$c17 = /^[Cc]/,\n      peg$c18 = peg$classExpectation([\"C\", \"c\"], false, false),\n      peg$c19 = function(a, b, c) { return { x1:a.x, y1:a.y, x2:b.x, y2:b.y, x:c.x, y:c.y } },\n      peg$c20 = /^[Ss]/,\n      peg$c21 = peg$classExpectation([\"S\", \"s\"], false, false),\n      peg$c22 = function(b, c) { return { x2:b.x, y2:b.y, x:c.x, y:c.y } },\n      peg$c23 = /^[Qq]/,\n      peg$c24 = peg$classExpectation([\"Q\", \"q\"], false, false),\n      peg$c25 = function(a, b) { return { x1:a.x, y1:a.y, x:b.x, y:b.y } },\n      peg$c26 = /^[Tt]/,\n      peg$c27 = peg$classExpectation([\"T\", \"t\"], false, false),\n      peg$c28 = /^[Aa]/,\n      peg$c29 = peg$classExpectation([\"A\", \"a\"], false, false),\n      peg$c30 = function(rx, ry, xrot, large, sweep, xy) { return { rx:rx, ry:ry, xAxisRotation:xrot, largeArc:large, sweep:sweep, x:xy.x, y:xy.y } },\n      peg$c31 = function(x, y) { return { x:x, y:y } },\n      peg$c32 = function(n) { return n*1 },\n      peg$c33 = function(parts) { return parts.join('')*1 },\n      peg$c34 = /^[01]/,\n      peg$c35 = peg$classExpectation([\"0\", \"1\"], false, false),\n      peg$c36 = function(bit) { return bit=='1' },\n      peg$c37 = function() { return '' },\n      peg$c38 = \",\",\n      peg$c39 = peg$literalExpectation(\",\", false),\n      peg$c40 = function(parts) { return parts.join('') },\n      peg$c41 = \".\",\n      peg$c42 = peg$literalExpectation(\".\", false),\n      peg$c43 = /^[eE]/,\n      peg$c44 = peg$classExpectation([\"e\", \"E\"], false, false),\n      peg$c45 = /^[+\\-]/,\n      peg$c46 = peg$classExpectation([\"+\", \"-\"], false, false),\n      peg$c47 = /^[0-9]/,\n      peg$c48 = peg$classExpectation([[\"0\", \"9\"]], false, false),\n      peg$c49 = function(digits) { return digits.join('') },\n      peg$c50 = /^[ \\t\\n\\r]/,\n      peg$c51 = peg$classExpectation([\" \", \"\\t\", \"\\n\", \"\\r\"], false, false),\n\n      peg$currPos          = 0,\n      peg$savedPos         = 0,\n      peg$posDetailsCache  = [{ line: 1, column: 1 }],\n      peg$maxFailPos       = 0,\n      peg$maxFailExpected  = [],\n      peg$silentFails      = 0,\n\n      peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos], p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line:   details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos),\n        endPosDetails   = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line:   startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line:   endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parsesvg_path() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsemoveTo_drawTo_commandGroups();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$parsewsp();\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$parsewsp();\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c0(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsemoveTo_drawTo_commandGroups() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsemoveTo_drawTo_commandGroup();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = [];\n      s5 = peg$parsewsp();\n      while (s5 !== peg$FAILED) {\n        s4.push(s5);\n        s5 = peg$parsewsp();\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsemoveTo_drawTo_commandGroup();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsemoveTo_drawTo_commandGroup();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsemoveTo_drawTo_commandGroup() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsemoveto();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = [];\n      s5 = peg$parsewsp();\n      while (s5 !== peg$FAILED) {\n        s4.push(s5);\n        s5 = peg$parsewsp();\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsedrawto_command();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsedrawto_command();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedrawto_command() {\n    var s0;\n\n    s0 = peg$parseclosepath();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parselineto();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsehorizontal_lineto();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parsevertical_lineto();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parsecurveto();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parsesmooth_curveto();\n              if (s0 === peg$FAILED) {\n                s0 = peg$parsequadratic_bezier_curveto();\n                if (s0 === peg$FAILED) {\n                  s0 = peg$parsesmooth_quadratic_bezier_curveto();\n                  if (s0 === peg$FAILED) {\n                    s0 = peg$parseelliptical_arc();\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsemoveto() {\n    var s0, s1, s2, s3, s4, s5, s6;\n\n    s0 = peg$currPos;\n    if (peg$c2.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c3); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_pair();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$currPos;\n          s5 = peg$parsecomma_wsp();\n          if (s5 === peg$FAILED) {\n            s5 = null;\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parselineto_argument_sequence();\n            if (s6 !== peg$FAILED) {\n              s5 = [s5, s6];\n              s4 = s5;\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n          if (s4 === peg$FAILED) {\n            s4 = null;\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c4(s1, s3, s4);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseclosepath() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (peg$c5.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c6); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c7();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parselineto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c8.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c9); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parselineto_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parselineto_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecoordinate_pair();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsecoordinate_pair();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsecoordinate_pair();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsehorizontal_lineto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c11.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c12); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c13(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecoordinate_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsenumber();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsenumber();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsevertical_lineto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c14.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c15); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c16(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecurveto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c17.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c18); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecurveto_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecurveto_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecurveto_argument();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsecurveto_argument();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsecurveto_argument();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecurveto_argument() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecoordinate_pair();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma_wsp();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_pair();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsecomma_wsp();\n          if (s4 === peg$FAILED) {\n            s4 = null;\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parsecoordinate_pair();\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c19(s1, s3, s5);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesmooth_curveto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c20.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c21); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsesmooth_curveto_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesmooth_curveto_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsesmooth_curveto_argument();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsesmooth_curveto_argument();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsesmooth_curveto_argument();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesmooth_curveto_argument() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecoordinate_pair();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma_wsp();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_pair();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c22(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsequadratic_bezier_curveto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c23.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c24); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsequadratic_bezier_curveto_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsequadratic_bezier_curveto_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsequadratic_bezier_curveto_argument();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsequadratic_bezier_curveto_argument();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsequadratic_bezier_curveto_argument();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsequadratic_bezier_curveto_argument() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecoordinate_pair();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma_wsp();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecoordinate_pair();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c25(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesmooth_quadratic_bezier_curveto() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c26.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c27); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsesmooth_quadratic_bezier_curveto_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesmooth_quadratic_bezier_curveto_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecoordinate_pair();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsecoordinate_pair();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsecoordinate_pair();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseelliptical_arc() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c28.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c29); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseelliptical_arc_argument_sequence();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c10(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseelliptical_arc_argument_sequence() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parseelliptical_arc_argument();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma_wsp();\n      if (s4 === peg$FAILED) {\n        s4 = null;\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parseelliptical_arc_argument();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma_wsp();\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parseelliptical_arc_argument();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c1(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseelliptical_arc_argument() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11;\n\n    s0 = peg$currPos;\n    s1 = peg$parsenonnegative_number();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma_wsp();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsenonnegative_number();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsecomma_wsp();\n          if (s4 === peg$FAILED) {\n            s4 = null;\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parsenumber();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parsecomma_wsp();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parseflag();\n                if (s7 !== peg$FAILED) {\n                  s8 = peg$parsecomma_wsp();\n                  if (s8 === peg$FAILED) {\n                    s8 = null;\n                  }\n                  if (s8 !== peg$FAILED) {\n                    s9 = peg$parseflag();\n                    if (s9 !== peg$FAILED) {\n                      s10 = peg$parsecomma_wsp();\n                      if (s10 === peg$FAILED) {\n                        s10 = null;\n                      }\n                      if (s10 !== peg$FAILED) {\n                        s11 = peg$parsecoordinate_pair();\n                        if (s11 !== peg$FAILED) {\n                          peg$savedPos = s0;\n                          s1 = peg$c30(s1, s3, s5, s7, s9, s11);\n                          s0 = s1;\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecoordinate_pair() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsenumber();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma_wsp();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsenumber();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c31(s1, s3);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenonnegative_number() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parsefloating_point_constant();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parsedigit_sequence();\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c32(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsefloating_point_constant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 === peg$FAILED) {\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsedigit_sequence();\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c33(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseflag() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (peg$c34.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c35); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c36(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsecomma_wsp() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$parsewsp();\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$parsewsp();\n        }\n        if (s3 !== peg$FAILED) {\n          s1 = [s1, s2, s3];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsecomma();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$parsewsp();\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$parsewsp();\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c37();\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c38;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c39); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefloating_point_constant() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsefractional_constant();\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parseexponent();\n      if (s3 === peg$FAILED) {\n        s3 = null;\n      }\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 === peg$FAILED) {\n      s1 = peg$currPos;\n      s2 = peg$parsedigit_sequence();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseexponent();\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c40(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefractional_constant() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsedigit_sequence();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    if (s2 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 46) {\n        s3 = peg$c41;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c42); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = peg$parsedigit_sequence();\n        if (s4 !== peg$FAILED) {\n          s2 = [s2, s3, s4];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 === peg$FAILED) {\n      s1 = peg$currPos;\n      s2 = peg$parsedigit_sequence();\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s3 = peg$c41;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c42); }\n        }\n        if (s3 !== peg$FAILED) {\n          s2 = [s2, s3];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c40(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    if (peg$c43.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c44); }\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsesign();\n      if (s3 === peg$FAILED) {\n        s3 = null;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = peg$parsedigit_sequence();\n        if (s4 !== peg$FAILED) {\n          s2 = [s2, s3, s4];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c40(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    if (peg$c45.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c46); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit_sequence() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = [];\n    if (peg$c47.test(input.charAt(peg$currPos))) {\n      s2 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c48); }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (peg$c47.test(input.charAt(peg$currPos))) {\n          s2 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c48); }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c49(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (peg$c50.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c51); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c37();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n\n    function merge(first,more){\n      if (!more) return [first];\n      for (var a=[first],i=0,l=more.length;i<l;i++) a[i+1]=more[i][1];\n      return a;\n    }\n\n    var cmds = {m:'moveto',l:'lineto',h:'horizontal lineto',v:'vertical lineto',c:'curveto',s:'smooth curveto',q:'quadratic curveto',t:'smooth quadratic curveto',a:'elliptical arc',z:'closepath'};\n    for (var code in cmds) cmds[code.toUpperCase()]=cmds[code];\n    function commands(code,args){\n      if (!args) args=[{}];\n      for (var i=args.length;i--;){\n        var cmd={code:code,command:cmds[code]};\n        if (code==code.toLowerCase()) cmd.relative=true;\n        for (var k in args[i]) cmd[k]=args[i][k];\n        args[i] = cmd;\n      }\n      return args;\n    }\n\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nmodule.exports = {\n  SyntaxError: peg$SyntaxError,\n  parse:       peg$parse\n};\n", "// v1.0 exported just the parser function. To maintain backwards compatibility,\n// we export additional named features as properties of that function.\nvar parserFunction = require('./parser.js').parse;\nparserFunction.parseSVG = parserFunction;\nparserFunction.makeAbsolute = makeSVGPathCommandsAbsolute;\nmodule.exports = parserFunction;\n\nfunction makeSVGPathCommandsAbsolute(commands) {\n\tvar subpathStart, prevCmd={x:0,y:0};\n\tvar attr = {x:'x0',y:'y0',x1:'x0',y1:'y0',x2:'x0',y2:'y0'};\n\tcommands.forEach(function(cmd) {\n\t\tif (cmd.command==='moveto') subpathStart=cmd;\n\t\tcmd.x0=prevCmd.x; cmd.y0=prevCmd.y;\n\t\tfor (var a in attr) if (a in cmd) cmd[a] += cmd.relative ? cmd[attr[a]] : 0;\n\t\tif (!('x' in cmd)) cmd.x = prevCmd.x; // V\n\t\tif (!('y' in cmd)) cmd.y = prevCmd.y; // X\n\t\tcmd.relative = false;\n\t\tcmd.code = cmd.code.toUpperCase();\n\t\tif (cmd.command=='closepath') {\n\t\t\tcmd.x = subpathStart.x;\n\t\t\tcmd.y = subpathStart.y;\n\t\t}\n\t\tprevCmd = cmd;\n\t});\n\treturn commands;\n}\n", "'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n", "'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};", "import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();", "/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n", "import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We cant do this\n  // for a comparator (except for specific, known comparators) because we cant\n  // tell if the comparator is symmetric, and an asymmetric comparator cant be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n", "export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n", "import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n", "export function blur(values, r) {\n  if (!((r = +r) >= 0)) throw new RangeError(\"invalid r\");\n  let length = values.length;\n  if (!((length = Math.floor(length)) >= 0)) throw new RangeError(\"invalid length\");\n  if (!length || !r) return values;\n  const blur = blurf(r);\n  const temp = values.slice();\n  blur(values, temp, 0, length, 1);\n  blur(temp, values, 0, length, 1);\n  blur(values, temp, 0, length, 1);\n  return values;\n}\n\nexport const blur2 = Blur2(blurf);\n\nexport const blurImage = Blur2(blurfImage);\n\nfunction Blur2(blur) {\n  return function(data, rx, ry = rx) {\n    if (!((rx = +rx) >= 0)) throw new RangeError(\"invalid rx\");\n    if (!((ry = +ry) >= 0)) throw new RangeError(\"invalid ry\");\n    let {data: values, width, height} = data;\n    if (!((width = Math.floor(width)) >= 0)) throw new RangeError(\"invalid width\");\n    if (!((height = Math.floor(height !== undefined ? height : values.length / width)) >= 0)) throw new RangeError(\"invalid height\");\n    if (!width || !height || (!rx && !ry)) return data;\n    const blurx = rx && blur(rx);\n    const blury = ry && blur(ry);\n    const temp = values.slice();\n    if (blurx && blury) {\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    } else if (blurx) {\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n    } else if (blury) {\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    }\n    return data;\n  };\n}\n\nfunction blurh(blur, T, S, w, h) {\n  for (let y = 0, n = w * h; y < n;) {\n    blur(T, S, y, y += w, 1);\n  }\n}\n\nfunction blurv(blur, T, S, w, h) {\n  for (let x = 0, n = w * h; x < w; ++x) {\n    blur(T, S, x, x + n, w);\n  }\n}\n\nfunction blurfImage(radius) {\n  const blur = blurf(radius);\n  return (T, S, start, stop, step) => {\n    start <<= 2, stop <<= 2, step <<= 2;\n    blur(T, S, start + 0, stop + 0, step);\n    blur(T, S, start + 1, stop + 1, step);\n    blur(T, S, start + 2, stop + 2, step);\n    blur(T, S, start + 3, stop + 3, step);\n  };\n}\n\n// Given a target array T, a source array S, sets each value T[i] to the average\n// of {S[i - r], , S[i], , S[i + r]}, where r = radius, start <= i < stop,\n// for each i, i + step, i + 2 * step, etc., and where S[j] is clamped between\n// S[start] (inclusive) and S[stop] (exclusive). If the given radius is not an\n// integer, S[i - r - 1] and S[i + r + 1] are added to the sum, each weighted\n// according to r - radius.\nfunction blurf(radius) {\n  const radius0 = Math.floor(radius);\n  if (radius0 === radius) return bluri(radius);\n  const t = radius - radius0;\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius0 * S[start];\n    const s0 = step * radius0;\n    const s1 = s0 + step;\n    for (let i = start, j = start + s0; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s0)];\n      T[i] = (sum + t * (S[Math.max(start, i - s1)] + S[Math.min(stop, i + s1)])) / w;\n      sum -= S[Math.max(start, i - s0)];\n    }\n  };\n}\n\n// Like blurf, but optimized for integer radius.\nfunction bluri(radius) {\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius * S[start];\n    const s = step * radius;\n    for (let i = start, j = start + s; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s)];\n      T[i] = sum / w;\n      sum -= S[Math.max(start, i - s)];\n    }\n  };\n}\n", "export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n", "export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n", "import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n", "export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n", "// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n", "export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n", "export default function identity(x) {\n  return x;\n}\n", "import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nfunction flatten(groups, keys) {\n  for (let i = 1, n = keys.length; i < n; ++i) {\n    groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n  }\n  return groups;\n}\n\nexport function flatGroup(values, ...keys) {\n  return flatten(groups(values, ...keys), keys);\n}\n\nexport function flatRollup(values, reduce, ...keys) {\n  return flatten(rollups(values, reduce, ...keys), keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n", "export default function permute(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n", "import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if ((f && f.length !== 2) || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\n\nexport function compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\n\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}\n", "import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length !== 2\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n", "var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n", "export default function constant(x) {\n  return () => x;\n}\n", "const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n", "import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n", "import count from \"../count.js\";\n\nexport default function thresholdSturges(values) {\n  return Math.max(1, Math.ceil(Math.log(count(values)) / Math.LN2) + 1);\n}\n", "import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function bin() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        step,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the domain is aligned with the first tick (which it will by\n      // default), then we can use quantization rather than bisection to bin\n      // values, which is substantially faster.\n      if (tz[0] <= x0) step = tickIncrement(x0, x1, tn);\n\n      // If the last threshold is coincident with the domains upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we dont\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    // Be careful not to mutate an array owned by the user!\n    var m = tz.length, a = 0, b = m;\n    while (tz[a] <= x0) ++a;\n    while (tz[b - 1] > x1) --b;\n    if (a || b < m) tz = tz.slice(a, b), m = b - a;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    if (isFinite(step)) {\n      if (step > 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            bins[Math.min(m, Math.floor((x - x0) / step))].push(data[i]);\n          }\n        }\n      } else if (step < 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            const j = Math.floor((x0 - x) * step);\n            bins[Math.min(m, j + (tz[j] <= x))].push(data[i]); // handle off-by-one due to rounding\n          }\n        }\n      }\n    } else {\n      for (i = 0; i < n; ++i) {\n        if ((x = values[i]) != null && x0 <= x && x <= x1) {\n          bins[bisect(tz, x, 0, m)].push(data[i]);\n        }\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : constant(Array.isArray(_) ? slice.call(_) : _), histogram) : threshold;\n  };\n\n  return histogram;\n}\n", "export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n", "export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n", "export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n", "export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n", "import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = Infinity, compare) {\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n\n  if (!(left <= k && k <= right)) return array;\n\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n", "import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n", "import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof = number) {\n  if (isNaN(p = +p)) return;\n  numbers = Float64Array.from(values, (_, i) => number(valueof(values[i], i, values)));\n  if (p <= 0) return minIndex(numbers);\n  if (p >= 1) return maxIndex(numbers);\n  var numbers,\n      index = Uint32Array.from(values, (_, i) => i),\n      j = numbers.length - 1,\n      i = Math.floor(j * p);\n  quickselect(index, i, 0, j, (i, j) => ascendingDefined(numbers[i], numbers[j]));\n  i = greatest(index.subarray(0, i + 1), (i) => numbers[i]);\n  return i >= 0 ? i : -1;\n}\n", "import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function thresholdScott(values, min, max) {\n  const c = count(values), d = deviation(values);\n  return c && d ? Math.ceil((max - min) * Math.cbrt(c) / (3.49 * d)) : 1;\n}\n", "export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n", "import quantile, {quantileIndex} from \"./quantile.js\";\n\nexport default function median(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n\nexport function medianIndex(values, valueof) {\n  return quantileIndex(values, 0.5, valueof);\n}\n", "function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n", "export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n", "export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n", "export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n", "export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n", "const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n", "import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n", "import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, its probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n", "export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n", "function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n", "export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n", "import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n", "import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n", "import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n", "import {min, sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size + min(size / 28, 0.75)) * 0.59436;\n    const t = r / 2;\n    const u = t * sqrt3;\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n    context.moveTo(-u, -t);\n    context.lineTo(u, t);\n    context.moveTo(-u, t);\n    context.lineTo(u, -t);\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst tan30 = sqrt(1 / 3);\nconst tan30_2 = tan30 * 2;\n\nexport default {\n  draw(context, size) {\n    const y = sqrt(size / tan30_2);\n    const x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n", "import {sin, cos, sqrt, pi, tau} from \"../math.js\";\n\nconst ka = 0.89081309152928522810;\nconst kr = sin(pi / 10) / sin(7 * pi / 10);\nconst kx = sin(tau / 10) * kr;\nconst ky = -cos(tau / 10) * kr;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size * ka);\n    const x = kx * r;\n    const y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (let i = 1; i < 5; ++i) {\n      const a = tau * i / 5;\n      const c = cos(a);\n      const s = sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const y = -sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const s = sqrt(size) * 0.6824;\n    const t = s  / 2;\n    const u = (s * sqrt3) / 2; // cos(Math.PI / 6)\n    context.moveTo(0, -s);\n    context.lineTo(u, t);\n    context.lineTo(-u, t);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst c = -0.5;\nconst s = sqrt(3) / 2;\nconst k = 1 / sqrt(12);\nconst a = (k / 2 + 1) * 3;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / a);\n    const x0 = r / 2, y0 = r * k;\n    const x1 = x0, y1 = r * k + r;\n    const x2 = -x1, y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n", "export default function() {}\n", "export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // falls through\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n", "import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n", "import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n", "import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n", "export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n", "function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n", "function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n", "function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n", null, "import EventEmitter from './index.js'\n\nexport { EventEmitter }\nexport default EventEmitter\n", "import getPrototypeOf from \"./getPrototypeOf.js\";\nfunction _superPropBase(t, o) {\n  for (; !{}.hasOwnProperty.call(t, o) && null !== (t = getPrototypeOf(t)););\n  return t;\n}\nexport { _superPropBase as default };", "import superPropBase from \"./superPropBase.js\";\nfunction _get() {\n  return _get = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) {\n    var p = superPropBase(e, t);\n    if (p) {\n      var n = Object.getOwnPropertyDescriptor(p, t);\n      return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value;\n    }\n  }, _get.apply(null, arguments);\n}\nexport { _get as default };", "import get from \"./get.js\";\nimport getPrototypeOf from \"./getPrototypeOf.js\";\nfunction _superPropGet(t, o, e, r) {\n  var p = get(getPrototypeOf(1 & r ? t.prototype : t), o, e);\n  return 2 & r && \"function\" == typeof p ? function (t) {\n    return p.apply(e, t);\n  } : p;\n}\nexport { _superPropGet as default };", "import type { BBox } from './types';\n\nexport function distance(x1: number, y1: number, x2: number, y2: number) {\n  const dx = x1 - x2;\n  const dy = y1 - y2;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nexport function getBBoxByArray(xArr: number[], yArr: number[]): BBox {\n  const minX = Math.min(...xArr);\n  const minY = Math.min(...yArr);\n  const maxX = Math.max(...xArr);\n  const maxY = Math.max(...yArr);\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY,\n  };\n}\n\nexport function getBBoxRange(x1: number, y1: number, x2: number, y2: number) {\n  return {\n    minX: Math.min(x1, x2),\n    maxX: Math.max(x1, x2),\n    minY: Math.min(y1, y2),\n    maxY: Math.max(y1, y2),\n  };\n}\n\nexport function piMod(angle: number) {\n  return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n", "import type { BBox, Point } from './types';\nimport { distance, piMod } from './util';\n\nfunction copysign(v1: number, v2: number) {\n  const absv = Math.abs(v1);\n  return v2 > 0 ? absv : absv * -1;\n}\n\nexport function box(x: number, y: number, rx: number, ry: number): BBox {\n  return {\n    x: x - rx,\n    y: y - ry,\n    width: rx * 2,\n    height: ry * 2,\n  };\n}\nexport function length(x: number, y: number, rx: number, ry: number) {\n  return Math.PI * (3 * (rx + ry) - Math.sqrt((3 * rx + ry) * (rx + 3 * ry)));\n}\nexport function nearestPoint(\n  x: number,\n  y: number,\n  rx: number,\n  ry: number,\n  x0: number,\n  y0: number,\n) {\n  const a = rx;\n  const b = ry;\n  // 0\n  if (a === 0 || b === 0) {\n    return {\n      x,\n      y,\n    };\n  }\n  //  0 0 \n  const relativeX = x0 - x;\n  const relativeY = y0 - y;\n  const px = Math.abs(relativeX);\n  const py = Math.abs(relativeY);\n  const squareA = a * a;\n  const squareB = b * b;\n  // const angle0 = Math.atan2(relativeY, relativeX);\n  let t = Math.PI / 4;\n  let nearestX = 0; // \n  let nearestY = 0;\n  //  4 \n  for (let i = 0; i < 4; i++) {\n    nearestX = a * Math.cos(t);\n    nearestY = b * Math.sin(t);\n\n    const ex = ((squareA - squareB) * Math.cos(t) ** 3) / a;\n    const ey = ((squareB - squareA) * Math.sin(t) ** 3) / b;\n    const rx1 = nearestX - ex;\n    const ry1 = nearestY - ey;\n\n    const qx = px - ex;\n    const qy = py - ey;\n    const r = Math.hypot(ry1, rx1);\n    const q = Math.hypot(qy, qx);\n\n    const delta_c = r * Math.asin((rx1 * qy - ry1 * qx) / (r * q));\n    const delta_t =\n      delta_c /\n      Math.sqrt(squareA + squareB - nearestX * nearestX - nearestY * nearestY);\n\n    t += delta_t;\n    t = Math.min(Math.PI / 2, Math.max(0, t));\n  }\n\n  return {\n    x: x + copysign(nearestX, relativeX),\n    y: y + copysign(nearestY, relativeY),\n  };\n}\nexport function pointDistance(\n  x: number,\n  y: number,\n  rx: number,\n  ry: number,\n  x0: number,\n  y0: number,\n) {\n  const np = nearestPoint(x, y, rx, ry, x0, y0);\n  return distance(np.x, np.y, x0, y0);\n}\nexport function pointAt(\n  x: number,\n  y: number,\n  rx: number,\n  ry: number,\n  t: number,\n): Point {\n  const angle = 2 * Math.PI * t; // \n  return {\n    x: x + rx * Math.cos(angle),\n    y: y + ry * Math.sin(angle),\n  };\n}\nexport function tangentAngle(\n  x: number,\n  y: number,\n  rx: number,\n  ry: number,\n  t: number,\n) {\n  const angle = 2 * Math.PI * t; // \n  //  x,y  x' = -rx * sin(t); y' = ry * cos(t);\n  const tangentAngle = Math.atan2(ry * Math.cos(angle), -rx * Math.sin(angle));\n  // \n  // const point = this.pointAt(0, 0, rx, ry, t); // \n  // let tangentAngle = -1 * Math.atan((ry * ry * point.x) / (rx * rx * point.y));\n  // if (angle >= 0 && angle <= Math.PI) {\n  //   tangentAngle += Math.PI;\n  // }\n\n  return piMod(tangentAngle);\n}\n", "import { nearestPoint as ellipseNearestPoint } from './ellipse';\nimport type { BBox, Point } from './types';\nimport { distance, piMod } from './util';\n\n//  x\nfunction derivativeXAt(\n  cx: number,\n  cy: number,\n  rx: number,\n  ry: number,\n  xRotation: number,\n  startAngle: number,\n  endAngle: number,\n  angle: number,\n) {\n  return (\n    -1 * rx * Math.cos(xRotation) * Math.sin(angle) -\n    ry * Math.sin(xRotation) * Math.cos(angle)\n  );\n}\n\n//  y\nfunction derivativeYAt(\n  cx: number,\n  cy: number,\n  rx: number,\n  ry: number,\n  xRotation: number,\n  startAngle: number,\n  endAngle: number,\n  angle: number,\n) {\n  return (\n    -1 * rx * Math.sin(xRotation) * Math.sin(angle) +\n    ry * Math.cos(xRotation) * Math.cos(angle)\n  );\n}\n\n// x \nfunction xExtrema(rx: number, ry: number, xRotation: number) {\n  return Math.atan((-ry / rx) * Math.tan(xRotation));\n}\n\n// y \nfunction yExtrema(rx: number, ry: number, xRotation: number) {\n  return Math.atan(ry / (rx * Math.tan(xRotation)));\n}\n\n//  x \nfunction xAt(\n  cx: number,\n  cy: number,\n  rx: number,\n  ry: number,\n  xRotation: number,\n  angle: number,\n) {\n  return (\n    rx * Math.cos(xRotation) * Math.cos(angle) -\n    ry * Math.sin(xRotation) * Math.sin(angle) +\n    cx\n  );\n}\n\n//  y \nfunction yAt(\n  cx: number,\n  cy: number,\n  rx: number,\n  ry: number,\n  xRotation: number,\n  angle: number,\n) {\n  return (\n    rx * Math.sin(xRotation) * Math.cos(angle) +\n    ry * Math.cos(xRotation) * Math.sin(angle) +\n    cy\n  );\n}\n\n// \nfunction getAngle(rx: number, ry: number, x0: number, y0: number) {\n  const angle = Math.atan2(y0 * rx, x0 * ry);\n  //  0 - 2PI \n  return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n\n// x,y\nfunction getPoint(rx: number, ry: number, angle: number): Point {\n  return {\n    x: rx * Math.cos(angle),\n    y: ry * Math.sin(angle),\n  };\n}\n\n// \nfunction rotate(x: number, y: number, angle: number) {\n  const cos = Math.cos(angle);\n  const sin = Math.sin(angle);\n  return [x * cos - y * sin, x * sin + y * cos];\n}\n\nexport function box(\n  cx: number,\n  cy: number,\n  rx: number,\n  ry: number,\n  xRotation: number,\n  startAngle: number,\n  endAngle: number,\n): BBox {\n  const xDim = xExtrema(rx, ry, xRotation);\n  let minX = Infinity;\n  let maxX = -Infinity;\n  const xs = [startAngle, endAngle];\n  for (let i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n    const xAngle = xDim + i;\n    if (startAngle < endAngle) {\n      if (startAngle < xAngle && xAngle < endAngle) {\n        xs.push(xAngle);\n      }\n    } else if (endAngle < xAngle && xAngle < startAngle) {\n      xs.push(xAngle);\n    }\n  }\n\n  for (let i = 0; i < xs.length; i++) {\n    const x = xAt(cx, cy, rx, ry, xRotation, xs[i]);\n    if (x < minX) {\n      minX = x;\n    }\n    if (x > maxX) {\n      maxX = x;\n    }\n  }\n\n  const yDim = yExtrema(rx, ry, xRotation);\n  let minY = Infinity;\n  let maxY = -Infinity;\n  const ys = [startAngle, endAngle];\n  for (let i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n    const yAngle = yDim + i;\n    if (startAngle < endAngle) {\n      if (startAngle < yAngle && yAngle < endAngle) {\n        ys.push(yAngle);\n      }\n    } else if (endAngle < yAngle && yAngle < startAngle) {\n      ys.push(yAngle);\n    }\n  }\n\n  for (let i = 0; i < ys.length; i++) {\n    const y = yAt(cx, cy, rx, ry, xRotation, ys[i]);\n    if (y < minY) {\n      minY = y;\n    }\n    if (y > maxY) {\n      maxY = y;\n    }\n  }\n\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY,\n  };\n}\n\nexport function nearestPoint(\n  cx: number,\n  cy: number,\n  rx: number,\n  ry: number,\n  xRotation: number,\n  startAngle: number,\n  endAngle: number,\n  x0: number,\n  y0: number,\n) {\n  //  0,0 \n  const relativeVector = rotate(x0 - cx, y0 - cy, -xRotation);\n  const [x1, y1] = relativeVector;\n  // \n  let relativePoint = ellipseNearestPoint(0, 0, rx, ry, x1, y1);\n  // \n  const angle = getAngle(rx, ry, relativePoint.x, relativePoint.y);\n  // \n  if (angle < startAngle) {\n    // \n    relativePoint = getPoint(rx, ry, startAngle);\n  } else if (angle > endAngle) {\n    // \n    relativePoint = getPoint(rx, ry, endAngle);\n  }\n  //  xRotation \n  const vector = rotate(relativePoint.x, relativePoint.y, xRotation);\n  return {\n    x: vector[0] + cx,\n    y: vector[1] + cy,\n  };\n}\n\nexport function pointDistance(\n  cx: number,\n  cy: number,\n  rx: number,\n  ry: number,\n  xRotation: number,\n  startAngle: number,\n  endAngle: number,\n  x0: number,\n  y0: number,\n) {\n  const np = nearestPoint(\n    cx,\n    cy,\n    rx,\n    ry,\n    xRotation,\n    startAngle,\n    endAngle,\n    x0,\n    y0,\n  );\n  return distance(np.x, np.y, x0, y0);\n}\n\nexport function pointAt(\n  cx: number,\n  cy: number,\n  rx: number,\n  ry: number,\n  xRotation: number,\n  startAngle: number,\n  endAngle: number,\n  t: number,\n): Point {\n  const angle = (endAngle - startAngle) * t + startAngle;\n  return {\n    x: xAt(cx, cy, rx, ry, xRotation, angle),\n    y: yAt(cx, cy, rx, ry, xRotation, angle),\n  };\n}\n\nexport function tangentAngle(\n  cx: number,\n  cy: number,\n  rx: number,\n  ry: number,\n  xRotation: number,\n  startAngle: number,\n  endAngle: number,\n  t: number,\n) {\n  const angle = (endAngle - startAngle) * t + startAngle;\n  const dx = derivativeXAt(\n    cx,\n    cy,\n    rx,\n    ry,\n    xRotation,\n    startAngle,\n    endAngle,\n    angle,\n  );\n  const dy = derivativeYAt(\n    cx,\n    cy,\n    rx,\n    ry,\n    xRotation,\n    startAngle,\n    endAngle,\n    angle,\n  );\n  return piMod(Math.atan2(dy, dx));\n}\n", "import { distance } from './util';\nimport type { Point, PointTuple } from './types';\n\nconst EPSILON = 0.0001;\n/**\n * \n * @param {number[]} xArr       x \n * @param {number[]} yArr       y \n * @param {number}   x          x\n * @param {number}   y          y\n * @param {Function} tCallback \n */\nexport function nearestPoint(\n  xArr: number[],\n  yArr: number[],\n  x: number,\n  y: number,\n  tCallback: (...arr: number[]) => number,\n  length?: number,\n): Point {\n  let t = -1;\n  let d = Infinity;\n  const v0: PointTuple = [x, y];\n\n  let segNum = 20;\n  if (length && length > 200) {\n    segNum = length / 10;\n  }\n  const increaseRate = 1 / segNum;\n\n  let interval = increaseRate / 10;\n\n  for (let i = 0; i <= segNum; i++) {\n    const _t = i * increaseRate;\n    const v1: PointTuple = [\n      tCallback(...xArr.concat([_t])),\n      tCallback(...yArr.concat([_t])),\n    ];\n\n    const d1 = distance(v0[0], v0[1], v1[0], v1[1]);\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n  // \n  if (t === 0) {\n    return {\n      x: xArr[0],\n      y: yArr[0],\n    };\n  }\n  if (t === 1) {\n    const count = xArr.length;\n    return {\n      x: xArr[count - 1],\n      y: yArr[count - 1],\n    };\n  }\n  d = Infinity;\n\n  for (let i = 0; i < 32; i++) {\n    if (interval < EPSILON) {\n      break;\n    }\n\n    const prev = t - interval;\n    const next = t + interval;\n\n    const v1 = [\n      tCallback(...xArr.concat([prev])),\n      tCallback(...yArr.concat([prev])),\n    ];\n\n    const d1 = distance(v0[0], v0[1], v1[0], v1[1]);\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      const v2 = [\n        tCallback(...xArr.concat([next])),\n        tCallback(...yArr.concat([next])),\n      ];\n      const d2 = distance(v0[0], v0[1], v2[0], v2[1]);\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  }\n\n  return {\n    x: tCallback(...xArr.concat([t])),\n    y: tCallback(...yArr.concat([t])),\n  };\n}\n\n//  https://community.khronos.org/t/3d-cubic-bezier-segment-length/62363/2\nexport function snapLength(xArr: number[], yArr: number[]) {\n  let totalLength = 0;\n  const count = xArr.length;\n  for (let i = 0; i < count; i++) {\n    const x = xArr[i];\n    const y = yArr[i];\n    const nextX = xArr[(i + 1) % count];\n    const nextY = yArr[(i + 1) % count];\n    totalLength += distance(x, y, nextX, nextY);\n  }\n  return totalLength / 2;\n}\n", "import { vec2 } from 'gl-matrix';\nimport type { BBox, Point } from './types';\nimport { distance, getBBoxByArray } from './util';\n\nexport function box(x1: number, y1: number, x2: number, y2: number): BBox {\n  return getBBoxByArray([x1, x2], [y1, y2]);\n}\n\nexport function length(x1: number, y1: number, x2: number, y2: number) {\n  return distance(x1, y1, x2, y2);\n}\n\nexport function pointAt(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  t: number,\n): Point {\n  return {\n    x: (1 - t) * x1 + t * x2,\n    y: (1 - t) * y1 + t * y2,\n  };\n}\n\nexport function pointDistance(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x: number,\n  y: number,\n): number {\n  //  x1, y1  p, p1, p2  a\n  // p1a = p1p.p1p2/|p1p2| * (p1p )\n  const cross = (x2 - x1) * (x - x1) + (y2 - y1) * (y - y1);\n  if (cross < 0) {\n    return distance(x1, y1, x, y);\n  }\n  const lengthSquare = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n  if (cross > lengthSquare) {\n    return distance(x2, y2, x, y);\n  }\n  return pointToLine(x1, y1, x2, y2, x, y);\n}\n\nexport function pointToLine(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x: number,\n  y: number,\n) {\n  const d: [number, number] = [x2 - x1, y2 - y1];\n  // \n  if (vec2.exactEquals(d, [0, 0])) {\n    return Math.sqrt((x - x1) * (x - x1) + (y - y1) * (y - y1));\n  }\n  const u: [number, number] = [-d[1], d[0]];\n  vec2.normalize(u, u);\n  const a: [number, number] = [x - x1, y - y1];\n  return Math.abs(vec2.dot(a, u));\n}\n\nexport function tangentAngle(x1: number, y1: number, x2: number, y2: number) {\n  return Math.atan2(y2 - y1, x2 - x1);\n}\n", "import { isNumberEqual } from '@antv/util';\nimport { nearestPoint as bezierNearestPoint, snapLength } from './bezier';\nimport { pointAt as linePointAt } from './line';\nimport type { Point } from './types';\nimport { distance, getBBoxByArray, piMod } from './util';\n\nfunction cubicAt(p0: number, p1: number, p2: number, p3: number, t: number) {\n  const onet = 1 - t; // t * t * t  Math.pow(t, 3) \n  return (\n    onet * onet * onet * p0 +\n    3 * p1 * t * onet * onet +\n    3 * p2 * t * t * onet +\n    p3 * t * t * t\n  );\n}\n\nfunction derivativeAt(\n  p0: number,\n  p1: number,\n  p2: number,\n  p3: number,\n  t: number,\n) {\n  const onet = 1 - t;\n  return (\n    3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2))\n  );\n}\n\nfunction extrema(p0: number, p1: number, p2: number, p3: number) {\n  const a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;\n  const b = 6 * p0 - 12 * p1 + 6 * p2;\n  const c = 3 * p1 - 3 * p0;\n  const extremas = [];\n  let t1: number;\n  let t2: number;\n  let discSqrt: number;\n\n  if (isNumberEqual(a, 0)) {\n    if (!isNumberEqual(b, 0)) {\n      t1 = -c / b;\n      if (t1 >= 0 && t1 <= 1) {\n        extremas.push(t1);\n      }\n    }\n  } else {\n    const disc = b * b - 4 * a * c;\n    if (isNumberEqual(disc, 0)) {\n      extremas.push(-b / (2 * a));\n    } else if (disc > 0) {\n      discSqrt = Math.sqrt(disc);\n      t1 = (-b + discSqrt) / (2 * a);\n      t2 = (-b - discSqrt) / (2 * a);\n      if (t1 >= 0 && t1 <= 1) {\n        extremas.push(t1);\n      }\n      if (t2 >= 0 && t2 <= 1) {\n        extremas.push(t2);\n      }\n    }\n  }\n  return extremas;\n}\n\n// \nfunction divideCubic(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n  t: number,\n): [number, number, number, number, number, number, number, number][] {\n  // \n  const xt = cubicAt(x1, x2, x3, x4, t);\n  const yt = cubicAt(y1, y2, y3, y4, t);\n  // \n  const c1 = linePointAt(x1, y1, x2, y2, t);\n  const c2 = linePointAt(x2, y2, x3, y3, t);\n  const c3 = linePointAt(x3, y3, x4, y4, t);\n  const c12 = linePointAt(c1.x, c1.y, c2.x, c2.y, t);\n  const c23 = linePointAt(c2.x, c2.y, c3.x, c3.y, t);\n  return [\n    [x1, y1, c1.x, c1.y, c12.x, c12.y, xt, yt],\n    [xt, yt, c23.x, c23.y, c3.x, c3.y, x4, y4],\n  ];\n}\n\n// \nfunction cubicLength(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n  iterationCount: number,\n): number {\n  if (iterationCount === 0) {\n    return snapLength([x1, x2, x3, x4], [y1, y2, y3, y4]);\n  }\n  const cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);\n  const left: [\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n  ] = [...cubics[0], iterationCount - 1];\n  const right: [\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n  ] = [...cubics[1], iterationCount - 1];\n  return cubicLength(...left) + cubicLength(...right);\n}\n\nexport function box(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n) {\n  const xArr = [x1, x4];\n  const yArr = [y1, y4];\n  const xExtrema = extrema(x1, x2, x3, x4);\n  const yExtrema = extrema(y1, y2, y3, y4);\n  for (let i = 0; i < xExtrema.length; i++) {\n    xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));\n  }\n  for (let i = 0; i < yExtrema.length; i++) {\n    yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[i]));\n  }\n  return getBBoxByArray(xArr, yArr);\n}\n\nexport function length(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n) {\n  //  8 \n  return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);\n}\n\nexport function nearestPoint(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n  x0: number,\n  y0: number,\n  length?: number,\n) {\n  return bezierNearestPoint(\n    [x1, x2, x3, x4],\n    [y1, y2, y3, y4],\n    x0,\n    y0,\n    cubicAt,\n    length,\n  );\n}\n\nexport function pointDistance(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n  x0: number,\n  y0: number,\n  length?: number,\n) {\n  const point = nearestPoint(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length);\n  return distance(point.x, point.y, x0, y0);\n}\n\nexport function pointAt(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n  t: number,\n): Point {\n  return {\n    x: cubicAt(x1, x2, x3, x4, t),\n    y: cubicAt(y1, y2, y3, y4, t),\n  };\n}\n\nexport function divide(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n  t: number,\n) {\n  return divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t);\n}\n\nexport function tangentAngle(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n  t: number,\n) {\n  const dx = derivativeAt(x1, x2, x3, x4, t);\n  const dy = derivativeAt(y1, y2, y3, y4, t);\n  return piMod(Math.atan2(dy, dx));\n}\n", "import { pointAt, pointDistance } from './line';\nimport type { Point, PointTuple, Segment } from './types';\nimport { distance } from './util';\n\nfunction analyzePoints(points: PointTuple[]) {\n  // \n  let totalLength = 0;\n  const segments: Segment[] = [];\n  for (let i = 0; i < points.length - 1; i++) {\n    const from = points[i];\n    const to = points[i + 1];\n    const length = distance(from[0], from[1], to[0], to[1]);\n    const seg = {\n      from,\n      to,\n      length,\n    };\n    segments.push(seg);\n    totalLength += length;\n  }\n  return { segments, totalLength };\n}\n\nexport function lengthOfSegment(points: PointTuple[]) {\n  if (points.length < 2) {\n    return 0;\n  }\n  let totalLength = 0;\n  for (let i = 0; i < points.length - 1; i++) {\n    const from = points[i];\n    const to = points[i + 1];\n    totalLength += distance(from[0], from[1], to[0], to[1]);\n  }\n  return totalLength;\n}\n\n/**\n * \n * @param {array} points \n * @param {number} t  0-1\n * @return {object} \n */\nexport function pointAtSegments(points: PointTuple[], t: number): Point | null {\n  // \n  if (t > 1 || t < 0 || points.length < 2) {\n    return null;\n  }\n  const { segments, totalLength } = analyzePoints(points);\n  // \n  if (totalLength === 0) {\n    return {\n      x: points[0][0],\n      y: points[0][1],\n    };\n  }\n  // \n  let startRatio = 0;\n  let point = null;\n  for (let i = 0; i < segments.length; i++) {\n    const seg = segments[i];\n    const { from, to } = seg;\n    const currentRatio = seg.length / totalLength;\n    if (t >= startRatio && t <= startRatio + currentRatio) {\n      const localRatio = (t - startRatio) / currentRatio;\n      point = pointAt(from[0], from[1], to[0], to[1], localRatio);\n      break;\n    }\n    startRatio += currentRatio;\n  }\n  return point;\n}\n\n/**\n * \n * @param {array} points \n * @param {number} t  0-1\n */\nexport function angleAtSegments(points: PointTuple[], t: number) {\n  // \n  if (t > 1 || t < 0 || points.length < 2) {\n    return 0;\n  }\n  const { segments, totalLength } = analyzePoints(points);\n  // \n  let startRatio = 0;\n  let angle = 0;\n  for (let i = 0; i < segments.length; i++) {\n    const seg = segments[i];\n    const { from, to } = seg;\n    const currentRatio = seg.length / totalLength;\n    if (t >= startRatio && t <= startRatio + currentRatio) {\n      angle = Math.atan2(to[1] - from[1], to[0] - from[0]);\n      break;\n    }\n    startRatio += currentRatio;\n  }\n  return angle;\n}\n\nexport function distanceAtSegment(points: PointTuple[], x: number, y: number) {\n  let minDistance = Infinity;\n  for (let i = 0; i < points.length - 1; i++) {\n    const point = points[i];\n    const nextPoint = points[i + 1];\n    const distance = pointDistance(\n      point[0],\n      point[1],\n      nextPoint[0],\n      nextPoint[1],\n      x,\n      y,\n    );\n    if (distance < minDistance) {\n      minDistance = distance;\n    }\n  }\n  return minDistance;\n}\n", "import {\n  angleAtSegments,\n  distanceAtSegment,\n  lengthOfSegment,\n  pointAtSegments,\n} from './segments';\nimport type { BBox, PointTuple } from './types';\nimport { getBBoxByArray } from './util';\n\nexport function box(points: PointTuple[]): BBox {\n  const xArr = [];\n  const yArr = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    xArr.push(point[0]);\n    yArr.push(point[1]);\n  }\n  return getBBoxByArray(xArr, yArr);\n}\nexport function length(points: PointTuple[]) {\n  return lengthOfSegment(points);\n}\nexport function pointAt(points: PointTuple[], t: number) {\n  return pointAtSegments(points, t);\n}\nexport function pointDistance(points: PointTuple[], x: number, y: number) {\n  return distanceAtSegment(points, x, y);\n}\nexport function tangentAngle(points: PointTuple[], t: number) {\n  return angleAtSegments(points, t);\n}\n", "import { box as polylineBox } from './polyline';\nimport {\n  angleAtSegments,\n  distanceAtSegment,\n  lengthOfSegment,\n  pointAtSegments,\n} from './segments';\nimport type { PointTuple } from './types';\n\nfunction getAllPoints(points: PointTuple[]) {\n  const tmp = points.slice(0);\n  if (points.length) {\n    tmp.push(points[0]);\n  }\n  return tmp;\n}\n\nexport function box(points: PointTuple[]) {\n  return polylineBox(points);\n}\nexport function length(points: PointTuple[]) {\n  return lengthOfSegment(getAllPoints(points));\n}\nexport function pointAt(points: PointTuple[], t: number) {\n  return pointAtSegments(getAllPoints(points), t);\n}\nexport function pointDistance(points: PointTuple[], x: number, y: number) {\n  return distanceAtSegment(getAllPoints(points), x, y);\n}\nexport function tangentAngle(points: PointTuple[], t: number) {\n  return angleAtSegments(getAllPoints(points), t);\n}\n", "import { isNumberEqual } from '@antv/util';\nimport { nearestPoint as nearestPointBezier } from './bezier';\nimport { pointAt as linePointAt } from './line';\nimport type { Point } from './types';\nimport { distance, getBBoxByArray, piMod } from './util';\n\n// \nfunction quadraticAt(p0: number, p1: number, p2: number, t: number) {\n  const onet = 1 - t;\n  return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;\n}\n\n// \nfunction extrema(p0: number, p1: number, p2: number) {\n  const a = p0 + p2 - 2 * p1;\n  if (isNumberEqual(a, 0)) {\n    return [0.5];\n  }\n  const rst = (p0 - p1) / a;\n  if (rst <= 1 && rst >= 0) {\n    return [rst];\n  }\n  return [];\n}\n\nfunction derivativeAt(p0: number, p1: number, p2: number, t: number) {\n  return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\n}\n\n// \nfunction divideQuadratic(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  t: number,\n) {\n  // \n  const xt = quadraticAt(x1, x2, x3, t);\n  const yt = quadraticAt(y1, y2, y3, t);\n\n  // \n  const controlPoint1 = linePointAt(x1, y1, x2, y2, t);\n  // \n  const controlPoint2 = linePointAt(x2, y2, x3, y3, t);\n  return [\n    [x1, y1, controlPoint1.x, controlPoint1.y, xt, yt],\n    [xt, yt, controlPoint2.x, controlPoint2.y, x3, y3],\n  ];\n}\n\n// \nfunction quadraticLength(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  iterationCount: number,\n): number {\n  if (iterationCount === 0) {\n    return (\n      (distance(x1, y1, x2, y2) +\n        distance(x2, y2, x3, y3) +\n        distance(x1, y1, x3, y3)) /\n      2\n    );\n  }\n  const quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);\n  const left = quadratics[0] as [\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n  ];\n  const right = quadratics[1] as [\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n    number,\n  ];\n  left.push(iterationCount - 1);\n  right.push(iterationCount - 1);\n  return quadraticLength(...left) + quadraticLength(...right);\n}\n\nexport function box(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n) {\n  const xExtrema = extrema(x1, x2, x3)[0];\n  const yExtrema = extrema(y1, y2, y3)[0];\n  //  box \n  const xArr = [x1, x3];\n  const yArr = [y1, y3];\n  if (xExtrema !== undefined) {\n    xArr.push(quadraticAt(x1, x2, x3, xExtrema));\n  }\n  if (yExtrema !== undefined) {\n    yArr.push(quadraticAt(y1, y2, y3, yExtrema));\n  }\n  return getBBoxByArray(xArr, yArr);\n}\n\nexport function length(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n) {\n  return quadraticLength(x1, y1, x2, y2, x3, y3, 3);\n}\n\nexport function nearestPoint(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x0: number,\n  y0: number,\n) {\n  return nearestPointBezier([x1, x2, x3], [y1, y2, y3], x0, y0, quadraticAt);\n}\n\nexport function pointDistance(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x0: number,\n  y0: number,\n) {\n  const point = nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);\n  return distance(point.x, point.y, x0, y0);\n}\n\n// interpolationAt: quadraticAt,\nexport function pointAt(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  t: number,\n): Point {\n  return {\n    x: quadraticAt(x1, x2, x3, t),\n    y: quadraticAt(y1, y2, y3, t),\n  };\n}\n\nexport function divide(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  t: number,\n) {\n  return divideQuadratic(x1, y1, x2, y2, x3, y3, t);\n}\n\nexport function tangentAngle(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  t: number,\n) {\n  const dx = derivativeAt(x1, x2, x3, t);\n  const dy = derivativeAt(y1, y2, y3, t);\n  const angle = Math.atan2(dy, dx);\n  return piMod(angle);\n}\n", "(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\ntypeof define === 'function' && define.amd ? define(factory) :\n(global = global || self, global.RBush = factory());\n}(this, function () { 'use strict';\n\nfunction quickselect(arr, k, left, right, compare) {\n    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n}\n\nfunction quickselectStep(arr, k, left, right, compare) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselectStep(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) { swap(arr, left, right); }\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) { i++; }\n            while (compare(arr[j], t) > 0) { j--; }\n        }\n\n        if (compare(arr[left], t) === 0) { swap(arr, left, j); }\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) { left = j + 1; }\n        if (k <= j) { right = j - 1; }\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nvar RBush = function RBush(maxEntries) {\n    if ( maxEntries === void 0 ) maxEntries = 9;\n\n    // max entries in a node is 9 by default; min node fill is 40% for best performance\n    this._maxEntries = Math.max(4, maxEntries);\n    this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n    this.clear();\n};\n\nRBush.prototype.all = function all () {\n    return this._all(this.data, []);\n};\n\nRBush.prototype.search = function search (bbox) {\n    var node = this.data;\n    var result = [];\n\n    if (!intersects(bbox, node)) { return result; }\n\n    var toBBox = this.toBBox;\n    var nodesToSearch = [];\n\n    while (node) {\n        for (var i = 0; i < node.children.length; i++) {\n            var child = node.children[i];\n            var childBBox = node.leaf ? toBBox(child) : child;\n\n            if (intersects(bbox, childBBox)) {\n                if (node.leaf) { result.push(child); }\n                else if (contains(bbox, childBBox)) { this._all(child, result); }\n                else { nodesToSearch.push(child); }\n            }\n        }\n        node = nodesToSearch.pop();\n    }\n\n    return result;\n};\n\nRBush.prototype.collides = function collides (bbox) {\n    var node = this.data;\n\n    if (!intersects(bbox, node)) { return false; }\n\n    var nodesToSearch = [];\n    while (node) {\n        for (var i = 0; i < node.children.length; i++) {\n            var child = node.children[i];\n            var childBBox = node.leaf ? this.toBBox(child) : child;\n\n            if (intersects(bbox, childBBox)) {\n                if (node.leaf || contains(bbox, childBBox)) { return true; }\n                nodesToSearch.push(child);\n            }\n        }\n        node = nodesToSearch.pop();\n    }\n\n    return false;\n};\n\nRBush.prototype.load = function load (data) {\n    if (!(data && data.length)) { return this; }\n\n    if (data.length < this._minEntries) {\n        for (var i = 0; i < data.length; i++) {\n            this.insert(data[i]);\n        }\n        return this;\n    }\n\n    // recursively build the tree with the given data from scratch using OMT algorithm\n    var node = this._build(data.slice(), 0, data.length - 1, 0);\n\n    if (!this.data.children.length) {\n        // save as is if tree is empty\n        this.data = node;\n\n    } else if (this.data.height === node.height) {\n        // split root if trees have the same height\n        this._splitRoot(this.data, node);\n\n    } else {\n        if (this.data.height < node.height) {\n            // swap trees if inserted one is bigger\n            var tmpNode = this.data;\n            this.data = node;\n            node = tmpNode;\n        }\n\n        // insert the small tree into the large tree at appropriate level\n        this._insert(node, this.data.height - node.height - 1, true);\n    }\n\n    return this;\n};\n\nRBush.prototype.insert = function insert (item) {\n    if (item) { this._insert(item, this.data.height - 1); }\n    return this;\n};\n\nRBush.prototype.clear = function clear () {\n    this.data = createNode([]);\n    return this;\n};\n\nRBush.prototype.remove = function remove (item, equalsFn) {\n    if (!item) { return this; }\n\n    var node = this.data;\n    var bbox = this.toBBox(item);\n    var path = [];\n    var indexes = [];\n    var i, parent, goingUp;\n\n    // depth-first iterative tree traversal\n    while (node || path.length) {\n\n        if (!node) { // go up\n            node = path.pop();\n            parent = path[path.length - 1];\n            i = indexes.pop();\n            goingUp = true;\n        }\n\n        if (node.leaf) { // check current node\n            var index = findItem(item, node.children, equalsFn);\n\n            if (index !== -1) {\n                // item found, remove the item and condense tree upwards\n                node.children.splice(index, 1);\n                path.push(node);\n                this._condense(path);\n                return this;\n            }\n        }\n\n        if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n            path.push(node);\n            indexes.push(i);\n            i = 0;\n            parent = node;\n            node = node.children[0];\n\n        } else if (parent) { // go right\n            i++;\n            node = parent.children[i];\n            goingUp = false;\n\n        } else { node = null; } // nothing found\n    }\n\n    return this;\n};\n\nRBush.prototype.toBBox = function toBBox (item) { return item; };\n\nRBush.prototype.compareMinX = function compareMinX (a, b) { return a.minX - b.minX; };\nRBush.prototype.compareMinY = function compareMinY (a, b) { return a.minY - b.minY; };\n\nRBush.prototype.toJSON = function toJSON () { return this.data; };\n\nRBush.prototype.fromJSON = function fromJSON (data) {\n    this.data = data;\n    return this;\n};\n\nRBush.prototype._all = function _all (node, result) {\n    var nodesToSearch = [];\n    while (node) {\n        if (node.leaf) { result.push.apply(result, node.children); }\n        else { nodesToSearch.push.apply(nodesToSearch, node.children); }\n\n        node = nodesToSearch.pop();\n    }\n    return result;\n};\n\nRBush.prototype._build = function _build (items, left, right, height) {\n\n    var N = right - left + 1;\n    var M = this._maxEntries;\n    var node;\n\n    if (N <= M) {\n        // reached leaf level; return leaf\n        node = createNode(items.slice(left, right + 1));\n        calcBBox(node, this.toBBox);\n        return node;\n    }\n\n    if (!height) {\n        // target height of the bulk-loaded tree\n        height = Math.ceil(Math.log(N) / Math.log(M));\n\n        // target number of root entries to maximize storage utilization\n        M = Math.ceil(N / Math.pow(M, height - 1));\n    }\n\n    node = createNode([]);\n    node.leaf = false;\n    node.height = height;\n\n    // split the items into M mostly square tiles\n\n    var N2 = Math.ceil(N / M);\n    var N1 = N2 * Math.ceil(Math.sqrt(M));\n\n    multiSelect(items, left, right, N1, this.compareMinX);\n\n    for (var i = left; i <= right; i += N1) {\n\n        var right2 = Math.min(i + N1 - 1, right);\n\n        multiSelect(items, i, right2, N2, this.compareMinY);\n\n        for (var j = i; j <= right2; j += N2) {\n\n            var right3 = Math.min(j + N2 - 1, right2);\n\n            // pack each entry recursively\n            node.children.push(this._build(items, j, right3, height - 1));\n        }\n    }\n\n    calcBBox(node, this.toBBox);\n\n    return node;\n};\n\nRBush.prototype._chooseSubtree = function _chooseSubtree (bbox, node, level, path) {\n    while (true) {\n        path.push(node);\n\n        if (node.leaf || path.length - 1 === level) { break; }\n\n        var minArea = Infinity;\n        var minEnlargement = Infinity;\n        var targetNode = (void 0);\n\n        for (var i = 0; i < node.children.length; i++) {\n            var child = node.children[i];\n            var area = bboxArea(child);\n            var enlargement = enlargedArea(bbox, child) - area;\n\n            // choose entry with the least area enlargement\n            if (enlargement < minEnlargement) {\n                minEnlargement = enlargement;\n                minArea = area < minArea ? area : minArea;\n                targetNode = child;\n\n            } else if (enlargement === minEnlargement) {\n                // otherwise choose one with the smallest area\n                if (area < minArea) {\n                    minArea = area;\n                    targetNode = child;\n                }\n            }\n        }\n\n        node = targetNode || node.children[0];\n    }\n\n    return node;\n};\n\nRBush.prototype._insert = function _insert (item, level, isNode) {\n    var bbox = isNode ? item : this.toBBox(item);\n    var insertPath = [];\n\n    // find the best node for accommodating the item, saving all nodes along the path too\n    var node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n    // put the item into the node\n    node.children.push(item);\n    extend(node, bbox);\n\n    // split on node overflow; propagate upwards if necessary\n    while (level >= 0) {\n        if (insertPath[level].children.length > this._maxEntries) {\n            this._split(insertPath, level);\n            level--;\n        } else { break; }\n    }\n\n    // adjust bboxes along the insertion path\n    this._adjustParentBBoxes(bbox, insertPath, level);\n};\n\n// split overflowed node into two\nRBush.prototype._split = function _split (insertPath, level) {\n    var node = insertPath[level];\n    var M = node.children.length;\n    var m = this._minEntries;\n\n    this._chooseSplitAxis(node, m, M);\n\n    var splitIndex = this._chooseSplitIndex(node, m, M);\n\n    var newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n    newNode.height = node.height;\n    newNode.leaf = node.leaf;\n\n    calcBBox(node, this.toBBox);\n    calcBBox(newNode, this.toBBox);\n\n    if (level) { insertPath[level - 1].children.push(newNode); }\n    else { this._splitRoot(node, newNode); }\n};\n\nRBush.prototype._splitRoot = function _splitRoot (node, newNode) {\n    // split root node\n    this.data = createNode([node, newNode]);\n    this.data.height = node.height + 1;\n    this.data.leaf = false;\n    calcBBox(this.data, this.toBBox);\n};\n\nRBush.prototype._chooseSplitIndex = function _chooseSplitIndex (node, m, M) {\n    var index;\n    var minOverlap = Infinity;\n    var minArea = Infinity;\n\n    for (var i = m; i <= M - m; i++) {\n        var bbox1 = distBBox(node, 0, i, this.toBBox);\n        var bbox2 = distBBox(node, i, M, this.toBBox);\n\n        var overlap = intersectionArea(bbox1, bbox2);\n        var area = bboxArea(bbox1) + bboxArea(bbox2);\n\n        // choose distribution with minimum overlap\n        if (overlap < minOverlap) {\n            minOverlap = overlap;\n            index = i;\n\n            minArea = area < minArea ? area : minArea;\n\n        } else if (overlap === minOverlap) {\n            // otherwise choose distribution with minimum area\n            if (area < minArea) {\n                minArea = area;\n                index = i;\n            }\n        }\n    }\n\n    return index || M - m;\n};\n\n// sorts node children by the best axis for split\nRBush.prototype._chooseSplitAxis = function _chooseSplitAxis (node, m, M) {\n    var compareMinX = node.leaf ? this.compareMinX : compareNodeMinX;\n    var compareMinY = node.leaf ? this.compareMinY : compareNodeMinY;\n    var xMargin = this._allDistMargin(node, m, M, compareMinX);\n    var yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n    // if total distributions margin value is minimal for x, sort by minX,\n    // otherwise it's already sorted by minY\n    if (xMargin < yMargin) { node.children.sort(compareMinX); }\n};\n\n// total margin of all possible split distributions where each node is at least m full\nRBush.prototype._allDistMargin = function _allDistMargin (node, m, M, compare) {\n    node.children.sort(compare);\n\n    var toBBox = this.toBBox;\n    var leftBBox = distBBox(node, 0, m, toBBox);\n    var rightBBox = distBBox(node, M - m, M, toBBox);\n    var margin = bboxMargin(leftBBox) + bboxMargin(rightBBox);\n\n    for (var i = m; i < M - m; i++) {\n        var child = node.children[i];\n        extend(leftBBox, node.leaf ? toBBox(child) : child);\n        margin += bboxMargin(leftBBox);\n    }\n\n    for (var i$1 = M - m - 1; i$1 >= m; i$1--) {\n        var child$1 = node.children[i$1];\n        extend(rightBBox, node.leaf ? toBBox(child$1) : child$1);\n        margin += bboxMargin(rightBBox);\n    }\n\n    return margin;\n};\n\nRBush.prototype._adjustParentBBoxes = function _adjustParentBBoxes (bbox, path, level) {\n    // adjust bboxes along the given tree path\n    for (var i = level; i >= 0; i--) {\n        extend(path[i], bbox);\n    }\n};\n\nRBush.prototype._condense = function _condense (path) {\n    // go through the path, removing empty nodes and updating bboxes\n    for (var i = path.length - 1, siblings = (void 0); i >= 0; i--) {\n        if (path[i].children.length === 0) {\n            if (i > 0) {\n                siblings = path[i - 1].children;\n                siblings.splice(siblings.indexOf(path[i]), 1);\n\n            } else { this.clear(); }\n\n        } else { calcBBox(path[i], this.toBBox); }\n    }\n};\n\nfunction findItem(item, items, equalsFn) {\n    if (!equalsFn) { return items.indexOf(item); }\n\n    for (var i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) { return i; }\n    }\n    return -1;\n}\n\n// calculate node's bbox from bboxes of its children\nfunction calcBBox(node, toBBox) {\n    distBBox(node, 0, node.children.length, toBBox, node);\n}\n\n// min bounding rectangle of node children from k to p-1\nfunction distBBox(node, k, p, toBBox, destNode) {\n    if (!destNode) { destNode = createNode(null); }\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (var i = k; i < p; i++) {\n        var child = node.children[i];\n        extend(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n}\n\nfunction extend(a, b) {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n}\n\nfunction compareNodeMinX(a, b) { return a.minX - b.minX; }\nfunction compareNodeMinY(a, b) { return a.minY - b.minY; }\n\nfunction bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\nfunction bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\nfunction enlargedArea(a, b) {\n    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n}\n\nfunction intersectionArea(a, b) {\n    var minX = Math.max(a.minX, b.minX);\n    var minY = Math.max(a.minY, b.minY);\n    var maxX = Math.min(a.maxX, b.maxX);\n    var maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n}\n\nfunction contains(a, b) {\n    return a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n}\n\nfunction intersects(a, b) {\n    return b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n}\n\nfunction createNode(children) {\n    return {\n        children: children,\n        height: 1,\n        leaf: true,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n}\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nfunction multiSelect(arr, left, right, n, compare) {\n    var stack = [left, right];\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) { continue; }\n\n        var mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n}\n\nreturn RBush;\n\n}));\n", "import type { IRenderer } from './AbstractRenderer';\nimport type {\n  CSSGlobalKeywords,\n  CSSGradientValue,\n  CSSRGB,\n  CSSUnitValue,\n} from './css';\nimport type {\n  ParsedFilterStyleProperty,\n  ParsedTransform,\n  Pattern,\n} from './css/parser';\nimport type { DisplayObject } from './display-objects';\nimport type { IWindow } from './dom/interfaces';\n\nexport enum Shape {\n  GROUP = 'g',\n  FRAGMENT = 'fragment',\n  CIRCLE = 'circle',\n  ELLIPSE = 'ellipse',\n  IMAGE = 'image',\n  RECT = 'rect',\n  LINE = 'line',\n  POLYLINE = 'polyline',\n  POLYGON = 'polygon',\n  TEXT = 'text',\n  PATH = 'path',\n  HTML = 'html',\n  MESH = 'mesh',\n}\n\ntype ColorType = string | null;\n\nexport interface EventPosition {\n  clientX: number;\n  clientY: number;\n  viewportX: number;\n  viewportY: number;\n  x: number;\n  y: number;\n}\n\nexport type TransformType =\n  | 'matrix'\n  | 'matrix3d'\n  | 'rotate'\n  | 'rotateX'\n  | 'rotateY'\n  | 'rotateZ'\n  | 'rotate3d'\n  | 'scale'\n  | 'scaleX'\n  | 'scaleY'\n  | 'scaleZ'\n  | 'scale3d'\n  | 'skew'\n  | 'skewX'\n  | 'skewY'\n  | 'translate'\n  | 'translateX'\n  | 'translateY'\n  | 'translateZ'\n  | 'translate3d';\nexport type TransformScale = ['scale', number, number?];\nexport type TransformScaleX = ['scaleX', number];\nexport type TransformScaleY = ['scaleY', number];\nexport type TransformScaleZ = ['scaleZ', number];\nexport type TransformScale3d = ['scale3d', number, number, number];\nexport type TransformTranslate = ['translate', number, number?];\nexport type TransformTranslateX = ['translateX', number];\nexport type TransformTranslateY = ['translateY', number];\nexport type TransformTranslateZ = ['translateZ', number];\nexport type TransformTranslate3d = ['translate3d', number, number, number];\nexport type TransformRotate = ['rotate', number];\nexport type TransformRotateX = ['rotateX', number];\nexport type TransformRotateY = ['rotateY', number];\nexport type TransformRotateZ = ['rotateZ', number];\nexport type TransformRotate3d = ['rotate3d', number, number, number, number?];\nexport type TransformSkew = ['skew', number, number?];\nexport type TransformSkewX = ['skewX', number];\nexport type TransformSkewY = ['skewY', number];\n// prettier-ignore\nexport type TransformMatrix = [\n  'matrix',\n  number, number, // a, b\n  number, number, // c, d\n  number, number, // tx, ty\n];\n// prettier-ignore\nexport type TransformMatrix3d = [\n  'matrix3d',\n  number, number, number, number,\n  number, number, number, number,\n  number, number, number, number,\n  number, number, number, number,\n];\n\nexport type TransformArray = (\n  | TransformScale\n  | TransformScaleX\n  | TransformScaleY\n  | TransformScaleZ\n  | TransformScale3d\n  | TransformTranslate\n  | TransformTranslateX\n  | TransformTranslateY\n  | TransformTranslateZ\n  | TransformTranslate3d\n  | TransformRotate\n  | TransformRotateX\n  | TransformRotateY\n  | TransformRotateZ\n  | TransformRotate3d\n  | TransformSkew\n  | TransformSkewX\n  | TransformSkewY\n  | TransformMatrix\n  | TransformMatrix3d\n)[];\nexport type TextTransform = 'capitalize' | 'uppercase' | 'lowercase' | 'none';\nexport type TextOverflow = 'clip' | 'ellipsis' | string;\nexport type TextDecorationLine = string | 'none';\nexport type TextDecorationStyle =\n  | 'solid'\n  | 'double'\n  | 'dotted'\n  | 'dashed'\n  | 'wavy';\n\nexport interface BaseStyleProps {\n  class?: string;\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/transform\n   */\n  transform?: string | TransformArray;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin\n   */\n  transformOrigin?: string;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/visibility\n   */\n  visibility?: 'visible' | 'hidden' | CSSGlobalKeywords;\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/pointer-events\n   */\n  pointerEvents?:\n    | 'none'\n    | 'auto'\n    | 'stroke'\n    | 'fill'\n    | 'painted'\n    | 'visible'\n    | 'visiblestroke'\n    | 'visiblefill'\n    | 'visiblepainted'\n    // | 'bounding-box'\n    | 'all'\n    | 'non-transparent-pixel' // valid only for Image\n    | CSSGlobalKeywords;\n\n  /**\n   * z-index in CSS\n   */\n  zIndex?: number;\n\n  /**\n   * the cursor style when the target is active\n   */\n  cursor?: Cursor;\n\n  /**\n   * clip path\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/clip-path\n   */\n  clipPath?: DisplayObject | null;\n\n  /**\n   * offset path\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Motion_Path\n   */\n  offsetPath?: DisplayObject | null;\n  offsetDistance?: number;\n\n  stroke?: ColorType | Pattern;\n  /**  */\n  strokeOpacity?: number | string;\n  /**  */\n  fill?: ColorType | Pattern;\n  /**  */\n  fillOpacity?: number | string;\n\n  /**\n   * The fill-rule attribute is a presentation attribute defining the algorithm to use to determine the inside part of a shape.\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/fill-rule\n   */\n  fillRule?: 'nonzero' | 'evenodd';\n\n  /**  */\n  opacity?: number | string;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width\n   */\n  strokeWidth?: string | number;\n\n  /**\n   * alias if strokeWidth\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineWidth\n   */\n  lineWidth?: string | number;\n\n  /**\n   * increased line width when hitting test\n   */\n  increasedLineWidthForHitTesting?: string | number;\n  /**\n   * \n   */\n  hitArea?: DisplayObject | null;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-linecap\n   */\n  strokeLinecap?: CanvasLineCap;\n\n  /**\n   * alias of strokeLinecap\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineCap\n   */\n  lineCap?: CanvasLineCap;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-linejoin\n   */\n  strokeLinejoin?: CanvasLineJoin;\n\n  /**\n   * alias of strokeLinejoin\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineJoin\n   */\n  lineJoin?: CanvasLineJoin;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dasharray\n   */\n  strokeDasharray?: string | (string | number)[];\n\n  /**\n   * alias of strokeDasharray\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/getLineDash\n   */\n  lineDash?: number | string | (string | number)[];\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dashoffset\n   */\n  strokeDashoffset?: number;\n\n  /**\n   * alias of strokeDashoffset\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineDashOffset\n   */\n  lineDashOffset?: number;\n\n  shadowType?: 'inner' | 'outer' | 'both';\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/shadowBlur\n   */\n  shadowBlur?: number;\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/shadowColor\n   */\n  shadowColor?: ColorType;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/shadowOffsetX\n   */\n  shadowOffsetX?: number;\n\n  /**\n   * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/shadowOffsetY\n   */\n  shadowOffsetY?: number;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/filter\n   */\n  filter?: string;\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/text-transform\n   */\n  textTransform?: TextTransform | '';\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/miterLimit\n   */\n  miterLimit?: number | string;\n\n  display?: string;\n\n  /**\n   * @see https://g-next.antv.vision/zh/docs/plugins/dragndrop#drag\n   */\n  draggable?: boolean;\n\n  /**\n   * @see https://g-next.antv.vision/zh/docs/plugins/dragndrop#drop\n   */\n  droppable?: boolean;\n}\n\nexport interface ParsedBaseStyleProps\n  extends Omit<\n    BaseStyleProps,\n    | 'fill'\n    | 'stroke'\n    | 'lineWidth'\n    | 'increasedLineWidthForHitTesting'\n    | 'lineDash'\n    | 'points'\n    | 'shadowColor'\n    | 'transform'\n    | 'transformOrigin'\n    | 'miterLimit'\n    | 'filter'\n    | 'opacity'\n    | 'fillOpacity'\n    | 'strokeOpacity'\n  > {\n  opacity?: number;\n  fillOpacity?: number;\n  strokeOpacity?: number;\n\n  fill?: CSSRGB | CSSGradientValue[] | Pattern;\n  stroke?: CSSRGB | CSSGradientValue[] | Pattern;\n  lineDash?: [number, number];\n\n  transform: ParsedTransform[];\n  transformOrigin?: [CSSUnitValue, CSSUnitValue, CSSUnitValue];\n\n  lineWidth?: number;\n  increasedLineWidthForHitTesting?: number;\n  /**\n   * offset relative to initial definition\n   */\n  offsetX?: number;\n  offsetY?: number;\n  shadowColor?: CSSRGB;\n  miterLimit?: number;\n  filter?: ParsedFilterStyleProperty[];\n}\n\n// Cursor style\n// See: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\nexport type Cursor =\n  | 'auto'\n  | 'default'\n  | 'none'\n  | 'context-menu'\n  | 'help'\n  | 'pointer'\n  | 'progress'\n  | 'wait'\n  | 'cell'\n  | 'crosshair'\n  | 'text'\n  | 'vertical-text'\n  | 'alias'\n  | 'copy'\n  | 'move'\n  | 'no-drop'\n  | 'not-allowed'\n  | 'grab'\n  | 'grabbing'\n  | 'all-scroll'\n  | 'col-resize'\n  | 'row-resize'\n  | 'n-resize'\n  | 'e-resize'\n  | 's-resize'\n  | 'w-resize'\n  | 'ne-resize'\n  | 'nw-resize'\n  | 'se-resize'\n  | 'sw-resize'\n  | 'ew-resize'\n  | 'ns-resize'\n  | 'nesw-resize'\n  | 'nwse-resize'\n  | 'zoom-in'\n  | 'zoom-out';\n\nexport enum ClipSpaceNearZ {\n  ZERO,\n  NEGATIVE_ONE,\n}\n\nexport interface RendererConfig {\n  /**\n   * enable dirty check for displayobject\n   */\n  enableDirtyCheck: boolean;\n\n  /**\n   * enable culling\n   */\n  enableCulling: boolean;\n\n  /**\n   * enable dirty rectangle rendering\n   */\n  enableDirtyRectangleRendering: boolean;\n\n  /**\n   * enable debugging dirty rectangle, Canvas will trigger CanvasEvent.DIRTY_RECTANGLE\n   */\n  enableDirtyRectangleRenderingDebug: boolean;\n\n  /**\n   * enable auto rendering\n   */\n  enableAutoRendering: boolean;\n\n  /**\n   * Canvas / SVG / Canvaskit should listen to camera changed events, while WebGL / WebGPU will apply this effect in shader.\n   */\n  enableSizeAttenuation: boolean;\n\n  /**\n   * Enable rendering optimization\n   *\n   * After rendering optimization is enabled, the rendering of each element in each frame will not have\n   * an independent canvas context state, but the state consistency is maintained by caching,\n   * because the save() and restore() of the canvas context state are expensive.\n   *\n   * ! Errors may occur due to manual maintenance of the canvas context state consistency\n   *\n   * @default false\n   */\n  enableRenderingOptimization: boolean;\n\n  // plugins:\n}\n\n/**\n * eg. NodeCanvas, OffscreenCanvas, HTMLCanvasElement\n */\nexport interface CanvasLike extends EventTarget {\n  width: number;\n  height: number;\n\n  getContext: ((\n    contextId: '2d',\n    contextAttributes?: CanvasRenderingContext2DSettings,\n  ) => CanvasRenderingContext2D | null) &\n    ((\n      contextId: 'webgl',\n      contextAttributes?: WebGLContextAttributes,\n    ) => WebGLRenderingContext | null) &\n    ((\n      contextId: 'webgl2',\n      contextAttributes?: WebGLContextAttributes,\n    ) => WebGL2RenderingContext | null);\n\n  addEventListener: (<K extends keyof HTMLElementEventMap>(\n    type: K,\n    listener: (this: HTMLCanvasElement, ev: HTMLElementEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions,\n  ) => void) &\n    ((\n      type: string,\n      listener: EventListenerOrEventListenerObject,\n      options?: boolean | AddEventListenerOptions,\n    ) => void);\n  removeEventListener: (<K extends keyof HTMLElementEventMap>(\n    type: K,\n    listener: (this: HTMLCanvasElement, ev: HTMLElementEventMap[K]) => any,\n    options?: boolean | EventListenerOptions,\n  ) => void) &\n    ((\n      type: string,\n      listener: EventListenerOrEventListenerObject,\n      options?: boolean | EventListenerOptions,\n    ) => void);\n}\n\nexport interface CanvasConfig extends Partial<Omit<IWindow, 'customElements'>> {\n  /**\n   * When the renderer is initialized, a `<canvas>/<svg>` element is automatically\n   * created inside the container DOM element.\n   */\n  container?: string | HTMLElement;\n  /**\n   * When this parameter is passed, the `container` parameter will be ignored.\n   *\n   * - support OffscreenCanvas\n   */\n  canvas?: CanvasLike;\n  /**\n   * Renderer\n   *\n   * @see https://g.antv.antgroup.com/api/renderer/intro\n   */\n  renderer: IRenderer;\n\n  /**\n   * \n   */\n  width?: number;\n  /**\n   * \n   */\n  height?: number;\n  /**\n   * \n   */\n  background?: ColorType;\n  /**\n   * cursor style\n   */\n  cursor?: Cursor;\n\n  /**\n   * One container can have multiple canvases inside.\n   */\n  supportsMutipleCanvasesInOneContainer?: boolean;\n  /**\n   * Optimize rendering performance for high-resolution large images\n   */\n  enableLargeImageOptimization?:\n    | boolean\n    | {\n        /**\n         * Downsampling rate threshold, [0.01, 0.5], represents the ratio of reducing the image.\n         * For example, 0.3 means reducing the original image to 0.3 times of the original.\n         *\n         * default 0.5\n         */\n        downSamplingRateThreshold?: number;\n        /**\n         * The maximum size of the downsampled image, with equal width and height.\n         *\n         * default 2048\n         */\n        maxDownSampledImageSize?: number;\n      };\n\n  /**\n   * Listen to native click event instead of mocking with pointerup & down events.\n   */\n  useNativeClickEvent?: boolean;\n\n  /**\n   * Pointermove / up / cancel event will get triggered even outside Canvas.\n   */\n  alwaysTriggerPointerEventOnCanvas?: boolean;\n\n  /**\n   * Enable event service\n   */\n  disableHitTesting?: boolean;\n\n  /**\n   * Skip triggering hooks.beforeRender/render/afterRender\n   */\n  disableRenderHooks?: boolean;\n\n  /**\n   * \n   */\n  cleanUpOnDestroy?: boolean;\n\n  /**\n   * used in JSDOM\n   */\n  document?: Document;\n  /**\n   * used in text measurement & texture generation\n   */\n  offscreenCanvas?: CanvasLike;\n  /**\n   * replace `new window.Image()`\n   */\n  createImage?: () => HTMLImageElement;\n  /**\n   * double click speed (ms)\n   *\n   * - default is 200ms\n   */\n  dblClickSpeed?: number;\n}\n\n/**\n * The format to use when defining custom easing functions\n */\nexport type TypeEasingFunction = (\n  t: number,\n  params?: (string | number)[],\n  duration?: number,\n) => number;\n\nexport type InteractivePointerEvent =\n  | PointerEvent\n  | TouchEvent\n  | MouseEvent\n  | WheelEvent;\n\n// @see https://github.com/zhanba/pailye/blob/master/packages/flex/src/types.ts\nexport type Tuple4<T> = [T, T, T, T];\n\nexport type Tuple4Number = Tuple4<number>;\n\nexport type Tuple3<T> = [T, T, T];\n\nexport type Tuple3Number = Tuple3<number>;\n\nexport type ComninedValue<T> = T | [T] | [T, T] | [T, T, T] | Tuple4<T>;\n\nexport type CombinedNumber = ComninedValue<number>;\n\nexport type Length = number;\n\ntype Digit = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9;\n\nexport type Percentage = `${Digit}%` | `${Digit}${Digit}%`;\n\nexport type LengthOrPercentage = Length | Percentage;\nexport type LengthOrPercentageOrAuto = Length | Percentage | 'auto';\n", "/* eslint-disable max-classes-per-file */\nimport type { CanvasContext } from './dom';\nimport { GlobalRuntime } from './global-runtime';\nimport type { RenderingPlugin } from './services';\nimport { ClipSpaceNearZ, RendererConfig } from './types';\n\nexport interface RendererPlugin {\n  name: string;\n  context: CanvasContext;\n  init: (runtime: GlobalRuntime) => void;\n  destroy: (runtime: GlobalRuntime) => void;\n}\n\nexport abstract class AbstractRendererPlugin<T = any>\n  implements RendererPlugin\n{\n  context: CanvasContext & T;\n  protected plugins = [];\n\n  protected addRenderingPlugin(plugin: RenderingPlugin) {\n    this.plugins.push(plugin);\n    this.context.renderingPlugins.push(plugin);\n  }\n\n  protected removeAllRenderingPlugins() {\n    this.plugins.forEach((plugin) => {\n      const index = this.context.renderingPlugins.indexOf(plugin);\n      if (index >= 0) {\n        this.context.renderingPlugins.splice(index, 1);\n      }\n    });\n  }\n\n  abstract name: string;\n  abstract init(runtime: GlobalRuntime): void;\n  abstract destroy(runtime: GlobalRuntime): void;\n}\n\nexport interface IRenderer {\n  /**\n   * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n   * which matches WebGPU/Vulkan/DirectX/Metal's clip volume, while [-1, 1] matches WebGL/OpenGL's clip volume.\n   */\n  clipSpaceNearZ: ClipSpaceNearZ;\n\n  getConfig: () => RendererConfig;\n\n  /**\n   * register plugin at runtime\n   */\n  registerPlugin: (plugin: RendererPlugin) => void;\n\n  /**\n   * unregister plugin at runtime\n   */\n  unregisterPlugin: (plugin: RendererPlugin) => void;\n\n  /**\n   * get plugin by name\n   */\n  getPlugin: (name: string) => RendererPlugin;\n\n  /**\n   * return all registered plugins\n   */\n  getPlugins: () => RendererPlugin[];\n}\n\nexport class AbstractRenderer implements IRenderer {\n  clipSpaceNearZ = ClipSpaceNearZ.NEGATIVE_ONE;\n  private plugins: RendererPlugin[] = [];\n  private config: RendererConfig;\n\n  constructor(config?: Partial<RendererConfig>) {\n    this.config = {\n      /**\n       * only dirty object will cause re-render\n       */\n      enableDirtyCheck: true,\n      enableCulling: false,\n      /**\n       * enable auto rendering by default\n       */\n      enableAutoRendering: true,\n      /**\n       * enable dirty rectangle rendering by default\n       */\n      enableDirtyRectangleRendering: true,\n      enableDirtyRectangleRenderingDebug: false,\n      enableSizeAttenuation: true,\n      enableRenderingOptimization: false,\n      ...config,\n    };\n  }\n\n  registerPlugin(plugin: RendererPlugin) {\n    const index = this.plugins.findIndex((p) => p === plugin);\n    if (index === -1) {\n      this.plugins.push(plugin);\n    }\n  }\n\n  unregisterPlugin(plugin: RendererPlugin) {\n    const index = this.plugins.findIndex((p) => p === plugin);\n    if (index > -1) {\n      this.plugins.splice(index, 1);\n    }\n  }\n\n  getPlugins() {\n    return this.plugins;\n  }\n\n  getPlugin(name: string) {\n    return this.plugins.find((plugin) => plugin.name === name);\n  }\n\n  getConfig() {\n    return this.config;\n  }\n\n  setConfig(config: Partial<RendererConfig>) {\n    Object.assign(this.config, config);\n  }\n}\n", "import type { mat4 } from 'gl-matrix';\nimport { vec3 } from 'gl-matrix';\nimport { Tuple3Number } from '../types';\nimport type { Plane } from './Plane';\n\nconst {\n  add: addVec3,\n  copy: copyVec3,\n  max: maxVec3,\n  min: minVec3,\n  scale: scaleVec3,\n  sub: subVec3,\n} = vec3;\n\n/**\n * Axis-Aligned Bounding Box\n *  Frustum Culling p-vertex  n-vertex\n * @see https://github.com/antvis/GWebGPUEngine/issues/3\n */\nexport class AABB {\n  static isEmpty(aabb: AABB) {\n    return (\n      !aabb ||\n      (aabb.halfExtents[0] === 0 &&\n        aabb.halfExtents[1] === 0 &&\n        aabb.halfExtents[2] === 0)\n    );\n  }\n\n  center: Tuple3Number = [0, 0, 0];\n  halfExtents: Tuple3Number = [0, 0, 0];\n  min: Tuple3Number = [0, 0, 0];\n  max: Tuple3Number = [0, 0, 0];\n\n  update(center: Tuple3Number, halfExtents: Tuple3Number) {\n    copyVec3(this.center, center);\n    copyVec3(this.halfExtents, halfExtents);\n    subVec3(this.min, this.center, this.halfExtents);\n    addVec3(this.max, this.center, this.halfExtents);\n  }\n\n  setMinMax(min: Tuple3Number, max: Tuple3Number) {\n    addVec3(this.center, max, min);\n    scaleVec3(this.center, this.center, 0.5);\n    subVec3(this.halfExtents, max, min);\n    scaleVec3(this.halfExtents, this.halfExtents, 0.5);\n    copyVec3(this.min, min);\n    copyVec3(this.max, max);\n  }\n\n  getMin() {\n    return this.min;\n  }\n\n  getMax() {\n    return this.max;\n  }\n\n  add(aabb: AABB) {\n    if (AABB.isEmpty(aabb)) {\n      return;\n    }\n    if (AABB.isEmpty(this)) {\n      this.setMinMax(aabb.getMin(), aabb.getMax());\n      return;\n    }\n\n    const tc = this.center;\n    const tcx = tc[0];\n    const tcy = tc[1];\n    const tcz = tc[2];\n    const th = this.halfExtents;\n    const thx = th[0];\n    const thy = th[1];\n    const thz = th[2];\n    let tminx = tcx - thx;\n    let tmaxx = tcx + thx;\n    let tminy = tcy - thy;\n    let tmaxy = tcy + thy;\n    let tminz = tcz - thz;\n    let tmaxz = tcz + thz;\n\n    const oc = aabb.center;\n    const ocx = oc[0];\n    const ocy = oc[1];\n    const ocz = oc[2];\n    const oh = aabb.halfExtents;\n    const ohx = oh[0];\n    const ohy = oh[1];\n    const ohz = oh[2];\n    const ominx = ocx - ohx;\n    const omaxx = ocx + ohx;\n    const ominy = ocy - ohy;\n    const omaxy = ocy + ohy;\n    const ominz = ocz - ohz;\n    const omaxz = ocz + ohz;\n\n    if (ominx < tminx) {\n      tminx = ominx;\n    }\n    if (omaxx > tmaxx) {\n      tmaxx = omaxx;\n    }\n    if (ominy < tminy) {\n      tminy = ominy;\n    }\n    if (omaxy > tmaxy) {\n      tmaxy = omaxy;\n    }\n    if (ominz < tminz) {\n      tminz = ominz;\n    }\n    if (omaxz > tmaxz) {\n      tmaxz = omaxz;\n    }\n\n    tc[0] = (tminx + tmaxx) * 0.5;\n    tc[1] = (tminy + tmaxy) * 0.5;\n    tc[2] = (tminz + tmaxz) * 0.5;\n    th[0] = (tmaxx - tminx) * 0.5;\n    th[1] = (tmaxy - tminy) * 0.5;\n    th[2] = (tmaxz - tminz) * 0.5;\n\n    this.min[0] = tminx;\n    this.min[1] = tminy;\n    this.min[2] = tminz;\n    this.max[0] = tmaxx;\n    this.max[1] = tmaxy;\n    this.max[2] = tmaxz;\n  }\n\n  setFromTransformedAABB(aabb: AABB, m: mat4) {\n    const bc = this.center;\n    const br = this.halfExtents;\n    const ac = aabb.center;\n    const ar = aabb.halfExtents;\n\n    const mx0 = m[0];\n    const mx1 = m[4];\n    const mx2 = m[8];\n    const my0 = m[1];\n    const my1 = m[5];\n    const my2 = m[9];\n    const mz0 = m[2];\n    const mz1 = m[6];\n    const mz2 = m[10];\n\n    const mx0a = Math.abs(mx0);\n    const mx1a = Math.abs(mx1);\n    const mx2a = Math.abs(mx2);\n    const my0a = Math.abs(my0);\n    const my1a = Math.abs(my1);\n    const my2a = Math.abs(my2);\n    const mz0a = Math.abs(mz0);\n    const mz1a = Math.abs(mz1);\n    const mz2a = Math.abs(mz2);\n\n    bc[0] = m[12] + mx0 * ac[0] + mx1 * ac[1] + mx2 * ac[2];\n    bc[1] = m[13] + my0 * ac[0] + my1 * ac[1] + my2 * ac[2];\n    bc[2] = m[14] + mz0 * ac[0] + mz1 * ac[1] + mz2 * ac[2];\n\n    // vec3.set(\n    //   bc,\n    //   m[12] + mx0 * ac[0] + mx1 * ac[1] + mx2 * ac[2],\n    //   m[13] + my0 * ac[0] + my1 * ac[1] + my2 * ac[2],\n    //   m[14] + mz0 * ac[0] + mz1 * ac[1] + mz2 * ac[2],\n    // );\n\n    br[0] = mx0a * ar[0] + mx1a * ar[1] + mx2a * ar[2];\n    br[1] = my0a * ar[0] + my1a * ar[1] + my2a * ar[2];\n    br[2] = mz0a * ar[0] + mz1a * ar[1] + mz2a * ar[2];\n\n    // vec3.set(\n    //   br,\n    //   mx0a * ar[0] + mx1a * ar[1] + mx2a * ar[2],\n    //   my0a * ar[0] + my1a * ar[1] + my2a * ar[2],\n    //   mz0a * ar[0] + mz1a * ar[1] + mz2a * ar[2],\n    // );\n\n    // this.min = vec3.sub(this.min, bc, br);\n    // this.max = vec3.add(this.max, bc, br);\n\n    subVec3(this.min, bc, br);\n    addVec3(this.max, bc, br);\n  }\n\n  intersects(aabb: AABB) {\n    const aMax = this.getMax();\n    const aMin = this.getMin();\n    const bMax = aabb.getMax();\n    const bMin = aabb.getMin();\n\n    return (\n      aMin[0] <= bMax[0] &&\n      aMax[0] >= bMin[0] &&\n      aMin[1] <= bMax[1] &&\n      aMax[1] >= bMin[1] &&\n      aMin[2] <= bMax[2] &&\n      aMax[2] >= bMin[2]\n    );\n  }\n\n  intersection(aabb: AABB): AABB | null {\n    if (!this.intersects(aabb)) {\n      return null;\n    }\n\n    const intersection = new AABB();\n    const min = maxVec3(\n      [0, 0, 0],\n      this.getMin(),\n      aabb.getMin(),\n    ) as Tuple3Number;\n    const max = minVec3(\n      [0, 0, 0],\n      this.getMax(),\n      aabb.getMax(),\n    ) as Tuple3Number;\n    intersection.setMinMax(min, max);\n\n    return intersection;\n  }\n\n  /**\n   * get n-vertex\n   * @param plane plane of CullingVolume\n   */\n  getNegativeFarPoint(plane: Plane): Tuple3Number {\n    if (plane.pnVertexFlag === 0x111) {\n      return copyVec3([0, 0, 0], this.min) as Tuple3Number;\n      // return vec3.copy(vec3.create(), this.min);\n    }\n    if (plane.pnVertexFlag === 0x110) {\n      return [this.min[0], this.min[1], this.max[2]];\n      // return vec3.fromValues(this.min[0], this.min[1], this.max[2]);\n    }\n    if (plane.pnVertexFlag === 0x101) {\n      return [this.min[0], this.max[1], this.min[2]];\n      // return vec3.fromValues(this.min[0], this.max[1], this.min[2]);\n    }\n    if (plane.pnVertexFlag === 0x100) {\n      return [this.min[0], this.max[1], this.max[2]];\n      // return vec3.fromValues(this.min[0], this.max[1], this.max[2]);\n    }\n    if (plane.pnVertexFlag === 0x011) {\n      return [this.max[0], this.min[1], this.min[2]];\n      // return vec3.fromValues(this.max[0], this.min[1], this.min[2]);\n    }\n    if (plane.pnVertexFlag === 0x010) {\n      return [this.max[0], this.min[1], this.max[2]];\n      // return vec3.fromValues(this.max[0], this.min[1], this.max[2]);\n    }\n    if (plane.pnVertexFlag === 0x001) {\n      return [this.max[0], this.max[1], this.min[2]];\n      // return vec3.fromValues(this.max[0], this.max[1], this.min[2]);\n    }\n    return [this.max[0], this.max[1], this.max[2]];\n    // return vec3.fromValues(this.max[0], this.max[1], this.max[2]);\n  }\n\n  /**\n   * get p-vertex\n   * @param plane plane of CullingVolume\n   */\n  getPositiveFarPoint(plane: Plane): Tuple3Number {\n    if (plane.pnVertexFlag === 0x111) {\n      return copyVec3([0, 0, 0], this.max) as Tuple3Number;\n      // return vec3.copy(vec3.create(), this.max);\n    }\n    if (plane.pnVertexFlag === 0x110) {\n      return [this.max[0], this.max[1], this.min[2]];\n      // return vec3.fromValues(this.max[0], this.max[1], this.min[2]);\n    }\n    if (plane.pnVertexFlag === 0x101) {\n      return [this.max[0], this.min[1], this.max[2]];\n      // return vec3.fromValues(this.max[0], this.min[1], this.max[2]);\n    }\n    if (plane.pnVertexFlag === 0x100) {\n      return [this.max[0], this.min[1], this.min[2]];\n      // return vec3.fromValues(this.max[0], this.min[1], this.min[2]);\n    }\n    if (plane.pnVertexFlag === 0x011) {\n      return [this.min[0], this.max[1], this.max[2]];\n      // return vec3.fromValues(this.min[0], this.max[1], this.max[2]);\n    }\n    if (plane.pnVertexFlag === 0x010) {\n      return [this.min[0], this.max[1], this.min[2]];\n      // return vec3.fromValues(this.min[0], this.max[1], this.min[2]);\n    }\n    if (plane.pnVertexFlag === 0x001) {\n      return [this.min[0], this.min[1], this.max[2]];\n      // return vec3.fromValues(this.min[0], this.min[1], this.max[2]);\n    }\n    return [this.min[0], this.min[1], this.min[2]];\n    // return vec3.fromValues(this.min[0], this.min[1], this.min[2]);\n  }\n}\n", "import { vec3 } from 'gl-matrix';\n\nexport class Plane {\n  public distance: number;\n  public normal: vec3;\n\n  /**\n   * lookup table for p-vertex & n-vertex when doing frustum culling\n   */\n  public pnVertexFlag: number;\n\n  constructor(distance?: number, normal?: vec3) {\n    this.distance = distance || 0;\n    this.normal = normal || vec3.fromValues(0, 1, 0);\n    this.updatePNVertexFlag();\n  }\n\n  public updatePNVertexFlag() {\n    this.pnVertexFlag =\n      (Number(this.normal[0] >= 0) << 8) +\n      (Number(this.normal[1] >= 0) << 4) +\n      Number(this.normal[2] >= 0);\n  }\n\n  public distanceToPoint(point: vec3) {\n    return vec3.dot(point, this.normal) - this.distance;\n  }\n\n  public normalize() {\n    const invLen = 1 / vec3.len(this.normal);\n    vec3.scale(this.normal, this.normal, invLen);\n    this.distance *= invLen;\n  }\n\n  public intersectsLine(start: vec3, end: vec3, point?: vec3) {\n    const d0 = this.distanceToPoint(start);\n    const d1 = this.distanceToPoint(end);\n    const t = d0 / (d0 - d1);\n    const intersects = t >= 0 && t <= 1;\n    if (intersects && point) {\n      vec3.lerp(point, start, end, t);\n    }\n    return intersects;\n  }\n}\n", "import type { mat4 } from 'gl-matrix';\nimport { vec3 } from 'gl-matrix';\nimport { Plane } from './Plane';\n\nexport enum Mask {\n  OUTSIDE = 0xffffffff,\n  INSIDE = 0x00000000,\n  INDETERMINATE = 0x7fffffff,\n}\n\nexport class Frustum {\n  public planes: Plane[] = [];\n\n  constructor(planes?: Plane[]) {\n    if (planes) {\n      this.planes = planes;\n    } else {\n      for (let i = 0; i < 6; i++) {\n        this.planes.push(new Plane());\n      }\n    }\n  }\n\n  /**\n   * extract 6 planes from projectionMatrix\n   * @see http://www8.cs.umu.se/kurser/5DV051/HT12/lab/plane_extraction.pdf\n   */\n  public extractFromVPMatrix(projectionMatrix: mat4) {\n    // @ts-ignore\n    const [\n      m0,\n      m1,\n      m2,\n      m3,\n      m4,\n      m5,\n      m6,\n      m7,\n      m8,\n      m9,\n      m10,\n      m11,\n      m12,\n      m13,\n      m14,\n      m15,\n    ] = projectionMatrix;\n\n    // right\n    vec3.set(this.planes[0].normal, m3 - m0, m7 - m4, m11 - m8);\n    this.planes[0].distance = m15 - m12;\n\n    // left\n    vec3.set(this.planes[1].normal, m3 + m0, m7 + m4, m11 + m8);\n    this.planes[1].distance = m15 + m12;\n\n    // bottom\n    vec3.set(this.planes[2].normal, m3 + m1, m7 + m5, m11 + m9);\n    this.planes[2].distance = m15 + m13;\n\n    // top\n    vec3.set(this.planes[3].normal, m3 - m1, m7 - m5, m11 - m9);\n    this.planes[3].distance = m15 - m13;\n\n    // far\n    vec3.set(this.planes[4].normal, m3 - m2, m7 - m6, m11 - m10);\n    this.planes[4].distance = m15 - m14;\n\n    // near\n    vec3.set(this.planes[5].normal, m3 + m2, m7 + m6, m11 + m10);\n    this.planes[5].distance = m15 + m14;\n\n    this.planes.forEach((plane) => {\n      plane.normalize();\n      plane.updatePNVertexFlag();\n    });\n  }\n}\n", "export interface PointLike {\n  x: number;\n  y: number;\n}\n\nexport class Point {\n  x = 0;\n  y = 0;\n\n  constructor(x = 0, y = 0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  clone(): Point {\n    return new Point(this.x, this.y);\n  }\n\n  copyFrom(p: Point) {\n    this.x = p.x;\n    this.y = p.y;\n  }\n}\n", "import { mat4, vec4 } from 'gl-matrix';\n\ntype RectangleLike = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n};\n\nexport class Rectangle implements DOMRect {\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMRect/fromRect_static\n   */\n  static fromRect(rect: RectangleLike) {\n    return new Rectangle(rect.x, rect.y, rect.width, rect.height);\n  }\n\n  /**\n   * will return a new rect instance\n   */\n  static applyTransform(rect: Rectangle, matrix: mat4) {\n    const topLeft = vec4.fromValues(rect.x, rect.y, 0, 1);\n    const topRight = vec4.fromValues(rect.x + rect.width, rect.y, 0, 1);\n    const bottomLeft = vec4.fromValues(rect.x, rect.y + rect.height, 0, 1);\n    const bottomRight = vec4.fromValues(\n      rect.x + rect.width,\n      rect.y + rect.height,\n      0,\n      1,\n    );\n\n    const transformedTopLeft = vec4.create();\n    const transformedTopRight = vec4.create();\n    const transformedBottomLeft = vec4.create();\n    const transformedBottomRight = vec4.create();\n\n    vec4.transformMat4(transformedTopLeft, topLeft, matrix);\n    vec4.transformMat4(transformedTopRight, topRight, matrix);\n    vec4.transformMat4(transformedBottomLeft, bottomLeft, matrix);\n    vec4.transformMat4(transformedBottomRight, bottomRight, matrix);\n\n    const minX = Math.min(\n      transformedTopLeft[0],\n      transformedTopRight[0],\n      transformedBottomLeft[0],\n      transformedBottomRight[0],\n    );\n    const minY = Math.min(\n      transformedTopLeft[1],\n      transformedTopRight[1],\n      transformedBottomLeft[1],\n      transformedBottomRight[1],\n    );\n    const maxX = Math.max(\n      transformedTopLeft[0],\n      transformedTopRight[0],\n      transformedBottomLeft[0],\n      transformedBottomRight[0],\n    );\n    const maxY = Math.max(\n      transformedTopLeft[1],\n      transformedTopRight[1],\n      transformedBottomLeft[1],\n      transformedBottomRight[1],\n    );\n\n    return Rectangle.fromRect({\n      x: minX,\n      y: minY,\n      width: maxX - minX,\n      height: maxY - minY,\n    });\n  }\n\n  left: number;\n  right: number;\n  top: number;\n  bottom: number;\n  constructor(\n    public x: number,\n    public y: number,\n    public width: number,\n    public height: number,\n  ) {\n    this.left = x;\n    this.right = x + width;\n    this.top = y;\n    this.bottom = y + height;\n  }\n  toJSON() {}\n}\n", "export const ERROR_MSG_METHOD_NOT_IMPLEMENTED = 'Method not implemented.';\nexport const ERROR_MSG_USE_DOCUMENT_ELEMENT =\n  'Use document.documentElement instead.';\nexport const ERROR_MSG_APPEND_DESTROYED_ELEMENT =\n  'Cannot append a destroyed element.';\n", "import { isNumber } from '@antv/util';\nimport type { quat, vec2 } from 'gl-matrix';\nimport { mat3, mat4, vec3, vec4 } from 'gl-matrix';\n\nexport function getAngle(angle?: number) {\n  if (angle === undefined) {\n    return 0;\n  }\n  if (angle > 360 || angle < -360) {\n    return angle % 360;\n  }\n  return angle;\n}\n\nconst $vec3 = vec3.create();\nexport function createVec3(\n  x: number | vec2 | vec3 | vec4,\n  y = 0,\n  z = 0,\n  clone = true,\n) {\n  if (Array.isArray(x) && x.length === 3) {\n    return clone ? vec3.clone(x) : vec3.copy($vec3, x);\n  }\n\n  if (isNumber(x)) {\n    return clone ? vec3.fromValues(x, y, z) : vec3.set($vec3, x, y, z);\n  }\n\n  return clone\n    ? vec3.fromValues(x[0], x[1] || y, x[2] || z)\n    : vec3.set($vec3, x[0], x[1] || y, x[2] || z);\n}\n\nconst DEG_RAD = Math.PI / 180;\nexport function deg2rad(deg: number) {\n  return deg * DEG_RAD;\n}\n\nconst RAD_DEG = 180 / Math.PI;\nexport function rad2deg(rad: number) {\n  return rad * RAD_DEG;\n}\n\nconst GRAD_DEG = 0.9; // 360 / 400;\nexport function grad2deg(grads: number) {\n  grads %= 400;\n  if (grads < 0) {\n    grads += 400;\n  }\n  return grads * GRAD_DEG;\n}\n\nexport function deg2turn(deg: number) {\n  return deg / 360;\n}\n\nexport function turn2deg(turn: number) {\n  return 360 * turn;\n}\n\n/**\n * decompose mat3\n * extract translation/scaling/rotation(in radians)\n *\n * gl-matrix didn't provide them for mat3, but we can\n * @see https://math.stackexchange.com/a/1463487\n * @see https://math.stackexchange.com/a/417813\n */\nexport function getScaling(out: vec2, mat: mat3): vec2 {\n  const m11 = mat[0];\n  const m12 = mat[1];\n  const m21 = mat[3];\n  const m22 = mat[4];\n\n  out[0] = Math.hypot(m11, m12);\n  out[1] = Math.hypot(m21, m22);\n  return out;\n}\nexport function getTranslation(out: vec2, mat: mat3): vec2 {\n  out[0] = mat[6];\n  out[1] = mat[7];\n  return out;\n}\nexport function getRotationInRadians(mat: mat3): number {\n  return Math.atan2(mat[1], mat[4]);\n}\n\nconst HALF_PI = Math.PI / 2;\nfunction getEulerFromQuat(out: vec3, quat: quat) {\n  const x = quat[0];\n  const y = quat[1];\n  const z = quat[2];\n  const w = quat[3];\n  const x2 = x * x;\n  const y2 = y * y;\n  const z2 = z * z;\n  const w2 = w * w;\n  const unit = x2 + y2 + z2 + w2;\n  const test = x * w - y * z;\n  if (test > 0.499995 * unit) {\n    // TODO: Use glmatrix.EPSILON\n    // singularity at the north pole\n    out[0] = HALF_PI;\n    out[1] = 2 * Math.atan2(y, x);\n    out[2] = 0;\n  } else if (test < -0.499995 * unit) {\n    // TODO: Use glmatrix.EPSILON\n    // singularity at the south pole\n    out[0] = -HALF_PI;\n    out[1] = 2 * Math.atan2(y, x);\n    out[2] = 0;\n  } else {\n    out[0] = Math.asin(2 * (x * z - w * y));\n    out[1] = Math.atan2(2 * (x * w + y * z), 1 - 2 * (z2 + w2));\n    out[2] = Math.atan2(2 * (x * y + z * w), 1 - 2 * (y2 + z2));\n  }\n  // TODO: Return them as degrees and not as radians\n  return out;\n}\n\nfunction getEulerFromMat4(out: vec3, m: mat4) {\n  let x: number;\n  let z: number;\n\n  const [sx, sy, sz] = mat4.getScaling(vec3.create(), m);\n\n  const y = Math.asin(-m[2] / sx);\n\n  if (y < HALF_PI) {\n    if (y > -HALF_PI) {\n      x = Math.atan2(m[6] / sy, m[10] / sz);\n      z = Math.atan2(m[1] / sx, m[0] / sx);\n    } else {\n      // Not a unique solution\n      z = 0;\n      x = -Math.atan2(m[4] / sy, m[5] / sy);\n    }\n  } else {\n    // Not a unique solution\n    z = 0;\n    x = Math.atan2(m[4] / sy, m[5] / sy);\n  }\n\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n\n  return out;\n}\n\n/**\n * @see https://github.com/toji/gl-matrix/issues/329\n * @see https://doc.babylonjs.com/divingDeeper/mesh/transforms/center_origin/rotation_conventions\n */\nexport function getEuler(out: vec3, quat: quat | mat4): vec3 {\n  if (quat.length === 16) {\n    return getEulerFromMat4(out, quat as mat4);\n  }\n  return getEulerFromQuat(out, quat as quat);\n}\n\nexport function fromRotationTranslationScale(\n  rotation: number,\n  x: number,\n  y: number,\n  scaleX: number,\n  scaleY: number,\n): mat3 {\n  const cos = Math.cos(rotation);\n  const sin = Math.sin(rotation);\n  return mat3.fromValues(\n    scaleX * cos,\n    scaleY * sin,\n    0,\n    -scaleX * sin,\n    scaleY * cos,\n    0,\n    x,\n    y,\n    1,\n  );\n}\n\nexport function makePerspective(\n  out: mat4,\n  left: number,\n  right: number,\n  top: number,\n  bottom: number,\n  near: number,\n  far: number,\n  zero = false,\n) {\n  const twoNear = 2 * near;\n  const rightMinusLeft = right - left;\n  const topMinusBottom = top - bottom;\n  const x = twoNear / rightMinusLeft;\n  const y = twoNear / topMinusBottom;\n\n  const a = (right + left) / rightMinusLeft;\n  const b = (top + bottom) / topMinusBottom;\n\n  let c: number;\n  let d: number;\n\n  const farMinusNear = far - near;\n  const farMulNear = far * near;\n  if (zero) {\n    c = -far / farMinusNear;\n    d = -farMulNear / farMinusNear;\n  } else {\n    c = -(far + near) / farMinusNear;\n    d = (-2 * farMulNear) / farMinusNear;\n  }\n\n  out[0] = x;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = y;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = a;\n  out[9] = b;\n  out[10] = c;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = d;\n  out[15] = 0;\n  return out;\n}\n\nexport function decompose(mat: mat3) {\n  let row0x = mat[0];\n  let row0y = mat[1];\n  let row1x = mat[3];\n  let row1y = mat[4];\n  // decompose 3x3 matrix\n  // @see https://www.w3.org/TR/css-transforms-1/#decomposing-a-2d-matrix\n  let scalingX = Math.sqrt(row0x * row0x + row0y * row0y);\n  let scalingY = Math.sqrt(row1x * row1x + row1y * row1y);\n\n  // If determinant is negative, one axis was flipped.\n  const determinant = row0x * row1y - row0y * row1x;\n  if (determinant < 0) {\n    // Flip axis with minimum unit vector dot product.\n    if (row0x < row1y) {\n      scalingX = -scalingX;\n    } else {\n      scalingY = -scalingY;\n    }\n  }\n\n  // Renormalize matrix to remove scale.\n  if (scalingX) {\n    const invScalingX = 1 / scalingX;\n    row0x *= invScalingX;\n    row0y *= invScalingX;\n  }\n  if (scalingY) {\n    const invScalingY = 1 / scalingY;\n    row1x *= invScalingY;\n    row1y *= invScalingY;\n  }\n\n  // Compute rotation and renormalize matrix.\n  const rotation = Math.atan2(row0y, row0x);\n\n  const angle = rad2deg(rotation);\n\n  return [mat[6], mat[7], scalingX, scalingY, angle];\n}\n\nconst tmp = mat4.create();\nconst perspectiveMatrix = mat4.create();\nconst tmpVec4 = vec4.create();\nconst row = [vec3.create(), vec3.create(), vec3.create()];\nconst pdum3 = vec3.create();\n\n/*\nInput:  matrix      ; a 4x4 matrix\nOutput: translation ; a 3 component vector\n        scale       ; a 3 component vector\n        skew        ; skew factors XY,XZ,YZ represented as a 3 component vector\n        perspective ; a 4 component vector\n        quaternion  ; a 4 component vector\nReturns false if the matrix cannot be decomposed, true if it can\n\n\nReferences:\nhttps://github.com/kamicane/matrix3d/blob/master/lib/Matrix3d.js\nhttps://github.com/ChromiumWebApps/chromium/blob/master/ui/gfx/transform_util.cc\nhttp://www.w3.org/TR/css3-transforms/#decomposing-a-3d-matrix\n*/\nexport function decomposeMat4(\n  matrix: mat4,\n  translation: vec3,\n  scale: vec3,\n  skew: vec3,\n  perspective: vec4,\n  quaternion: vec4,\n) {\n  // normalize, if not possible then bail out early\n  if (!normalize(tmp, matrix)) return false;\n\n  // perspectiveMatrix is used to solve for perspective, but it also provides\n  // an easy way to test for singularity of the upper 3x3 component.\n  mat4.copy(perspectiveMatrix, tmp);\n\n  perspectiveMatrix[3] = 0;\n  perspectiveMatrix[7] = 0;\n  perspectiveMatrix[11] = 0;\n  perspectiveMatrix[15] = 1;\n\n  // If the perspectiveMatrix is not invertible, we are also unable to\n  // decompose, so we'll bail early. Constant taken from SkMatrix44::invert.\n  if (Math.abs(mat4.determinant(perspectiveMatrix)) < 1e-8) return false;\n\n  const a03 = tmp[3];\n  const a13 = tmp[7];\n  const a23 = tmp[11];\n  const a30 = tmp[12];\n  const a31 = tmp[13];\n  const a32 = tmp[14];\n  const a33 = tmp[15];\n\n  // First, isolate perspective.\n  if (a03 !== 0 || a13 !== 0 || a23 !== 0) {\n    tmpVec4[0] = a03;\n    tmpVec4[1] = a13;\n    tmpVec4[2] = a23;\n    tmpVec4[3] = a33;\n\n    // Solve the equation by inverting perspectiveMatrix and multiplying\n    // rightHandSide by the inverse.\n    // resuing the perspectiveMatrix here since it's no longer needed\n    const ret = mat4.invert(perspectiveMatrix, perspectiveMatrix);\n    if (!ret) return false;\n    mat4.transpose(perspectiveMatrix, perspectiveMatrix);\n\n    // multiply by transposed inverse perspective matrix, into perspective vec4\n    vec4.transformMat4(perspective, tmpVec4, perspectiveMatrix);\n  } else {\n    // no perspective\n    perspective[0] = perspective[1] = perspective[2] = 0;\n    perspective[3] = 1;\n  }\n\n  // Next take care of translation\n  translation[0] = a30;\n  translation[1] = a31;\n  translation[2] = a32;\n\n  // Now get scale and shear. 'row' is a 3 element array of 3 component vectors\n  mat3from4(row as unknown as mat3, tmp);\n\n  // Compute X scale factor and normalize first row.\n  scale[0] = vec3.length(row[0]);\n  vec3.normalize(row[0], row[0]);\n\n  // Compute XY shear factor and make 2nd row orthogonal to 1st.\n  skew[0] = vec3.dot(row[0], row[1]);\n  combine(row[1], row[1], row[0], 1.0, -skew[0]);\n\n  // Now, compute Y scale and normalize 2nd row.\n  scale[1] = vec3.length(row[1]);\n  vec3.normalize(row[1], row[1]);\n  skew[0] /= scale[1];\n\n  // Compute XZ and YZ shears, orthogonalize 3rd row\n  skew[1] = vec3.dot(row[0], row[2]);\n  combine(row[2], row[2], row[0], 1.0, -skew[1]);\n  skew[2] = vec3.dot(row[1], row[2]);\n  combine(row[2], row[2], row[1], 1.0, -skew[2]);\n\n  // Next, get Z scale and normalize 3rd row.\n  scale[2] = vec3.length(row[2]);\n  vec3.normalize(row[2], row[2]);\n  skew[1] /= scale[2];\n  skew[2] /= scale[2];\n\n  // At this point, the matrix (in rows) is orthonormal.\n  // Check for a coordinate system flip.  If the determinant\n  // is -1, then negate the matrix and the scaling factors.\n  vec3.cross(pdum3, row[1], row[2]);\n  if (vec3.dot(row[0], pdum3) < 0) {\n    for (let i = 0; i < 3; i++) {\n      scale[i] *= -1;\n      row[i][0] *= -1;\n      row[i][1] *= -1;\n      row[i][2] *= -1;\n    }\n  }\n\n  // Now, get the rotations out\n  quaternion[0] =\n    0.5 * Math.sqrt(Math.max(1 + row[0][0] - row[1][1] - row[2][2], 0));\n  quaternion[1] =\n    0.5 * Math.sqrt(Math.max(1 - row[0][0] + row[1][1] - row[2][2], 0));\n  quaternion[2] =\n    0.5 * Math.sqrt(Math.max(1 - row[0][0] - row[1][1] + row[2][2], 0));\n  quaternion[3] =\n    0.5 * Math.sqrt(Math.max(1 + row[0][0] + row[1][1] + row[2][2], 0));\n\n  if (row[2][1] > row[1][2]) quaternion[0] = -quaternion[0];\n  if (row[0][2] > row[2][0]) quaternion[1] = -quaternion[1];\n  if (row[1][0] > row[0][1]) quaternion[2] = -quaternion[2];\n  return true;\n}\n\nfunction normalize(out: mat4, mat: mat4) {\n  const m44 = mat[15];\n  // Cannot normalize.\n  if (m44 === 0) return false;\n  const scale = 1 / m44;\n  for (let i = 0; i < 16; i++) out[i] = mat[i] * scale;\n  return true;\n}\n\n// gets upper-left of a 4x4 matrix into a 3x3 of vectors\nfunction mat3from4(out: mat3, mat4x4: mat4) {\n  out[0][0] = mat4x4[0];\n  out[0][1] = mat4x4[1];\n  out[0][2] = mat4x4[2];\n\n  out[1][0] = mat4x4[4];\n  out[1][1] = mat4x4[5];\n  out[1][2] = mat4x4[6];\n\n  out[2][0] = mat4x4[8];\n  out[2][1] = mat4x4[9];\n  out[2][2] = mat4x4[10];\n}\n\nfunction combine(out: vec3, a: vec3, b: vec3, scale1: number, scale2: number) {\n  out[0] = a[0] * scale1 + b[0] * scale2;\n  out[1] = a[1] * scale1 + b[1] * scale2;\n  out[2] = a[2] * scale1 + b[2] * scale2;\n}\n", "import type { EventEmitter } from 'eventemitter3';\nimport type { mat4, vec2, vec3 } from 'gl-matrix';\nimport type { TypeEasingFunction } from '..';\nimport type { ICanvas } from '../dom';\nimport type { Frustum } from '../shapes';\nimport type { Landmark } from './Landmark';\n\n/**\n * Different type of cameras, eg. simple camera used in 2D scene or\n * advanced camera which can do actions & switch between landmarks.\n */\n\nexport enum CameraType {\n  /**\n   * Performs all the rotational operations with the focal point instead of the camera position.\n   * This type of camera is useful in applications(like CAD) where 3D objects are being designed or explored.\n   * Camera cannot orbits over the north & south poles.\n   * @see http://voxelent.com/tutorial-cameras/\n   *\n   * In Three.js it's used in OrbitControls.\n   * @see https://threejs.org/docs/#examples/zh/controls/OrbitControls\n   */\n  ORBITING,\n  /**\n   * It's similar to the ORBITING camera, but it allows the camera to orbit over the north or south poles.\n   *\n   * In Three.js it's used in OrbitControls.\n   * @see https://threejs.org/docs/#examples/en/controls/TrackballControls\n   */\n  EXPLORING,\n  /**\n   * Performs all the rotational operations with the camera position.\n   * It's useful in first person shooting games.\n   * Camera cannot orbits over the north & south poles.\n   *\n   * In Three.js it's used in FirstPersonControls.\n   * @see https://threejs.org/docs/#examples/en/controls/FirstPersonControls\n   */\n  TRACKING,\n}\n\n/**\n * CameraType must be TRACKING\n */\nexport enum CameraTrackingMode {\n  DEFAULT,\n  ROTATIONAL,\n  TRANSLATIONAL,\n  CINEMATIC,\n}\n\nexport enum CameraProjectionMode {\n  ORTHOGRAPHIC,\n  PERSPECTIVE,\n}\n\nexport const CameraEvent = {\n  UPDATED: 'updated',\n};\n\nexport interface ICamera {\n  canvas: ICanvas;\n  eventEmitter: EventEmitter;\n  isOrtho: () => boolean;\n  getProjectionMode: () => CameraProjectionMode;\n  getPerspective: () => mat4;\n  getPerspectiveInverse: () => mat4;\n  getFrustum: () => Frustum;\n  getPosition: () => vec3;\n  getFocalPoint: () => vec3;\n  getDollyingStep: () => number;\n  getNear: () => number;\n  getFar: () => number;\n  getZoom: () => number;\n  getOrthoMatrix: () => mat4;\n  getView: () => {\n    enabled: boolean;\n    fullWidth: number;\n    fullHeight: number;\n    offsetX: number;\n    offsetY: number;\n    width: number;\n    height: number;\n  };\n  setEnableUpdate: (enabled: boolean) => void;\n  setType: (type: CameraType, trackingMode?: CameraTrackingMode) => this;\n  setProjectionMode: (projectionMode: CameraProjectionMode) => this;\n  setTrackingMode: (trackingMode: CameraTrackingMode) => this;\n  /**\n   * If flag is true, it reverses the azimuth and elevation angles.\n   * Subsequent calls to rotate, setAzimuth, setElevation,\n   * changeAzimuth or changeElevation will cause the inverted effect.\n   * setRoll or changeRoll is not affected by this method.\n   *\n   * This inversion is useful when one wants to simulate that the world\n   * is moving, instead of the camera.\n   *\n   * By default the camera angles are not reversed.\n   * @param {Boolean} flag the boolean flag to reverse the angles.\n   */\n  setWorldRotation: (flag: boolean) => this;\n  /**\n   *  MV \n   */\n  getViewTransform: () => mat4;\n  getWorldTransform: () => mat4;\n  jitterProjectionMatrix: (x: number, y: number) => void;\n  clearJitterProjectionMatrix: () => void;\n  /**\n   * \n   */\n  setMatrix: (matrix: mat4) => this;\n  setFov: (fov: number) => this;\n  setAspect: (aspect: number) => this;\n  setNear: (near: number) => this;\n  setFar: (far: number) => this;\n  /**\n   * Sets an offset in a larger frustum, used in PixelPicking\n   */\n  setViewOffset: (\n    fullWidth: number,\n    fullHeight: number,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n  ) => this;\n  clearViewOffset: () => this;\n  setZoom: (zoom: number) => this;\n  setZoomByViewportPoint: (zoom: number, viewportPoint: vec2) => this;\n  setPerspective: (\n    near: number,\n    far: number,\n    fov: number,\n    aspect: number,\n  ) => this;\n  setOrthographic: (\n    l: number,\n    r: number,\n    t: number,\n    b: number,\n    near: number,\n    far: number,\n  ) => this;\n  /**\n   * Move the camera in world coordinates.\n   * It will keep looking at the current focal point.\n   *\n   * support scalars or vectors.\n   * @example\n   * setPosition(1, 2, 3);\n   * setPosition([1, 2, 3]);\n   */\n  setPosition: (x: number | vec2 | vec3, y?: number, z?: number) => this;\n  /**\n   * Sets the focal point of this camera in world coordinates.\n   *\n   * support scalars or vectors.\n   * @example\n   * setFocalPoint(1, 2, 3);\n   * setFocalPoint([1, 2, 3]);\n   */\n  setFocalPoint: (x: number | vec2 | vec3, y?: number, z?: number) => this;\n  getDistance: () => number;\n  getDistanceVector: () => vec3;\n  /**\n   * Moves the camera towards/from the focal point.\n   */\n  setDistance: (d: number) => this;\n  setMaxDistance: (d: number) => this;\n  setMinDistance: (d: number) => this;\n  /**\n   * \n   * the azimuth in degrees\n   */\n  setAzimuth: (az: number) => this;\n  getAzimuth: () => number;\n  /**\n   * \n   */\n  setElevation: (el: number) => this;\n  getElevation: () => number;\n  /**\n   * \n   */\n  setRoll: (angle: number) => this;\n  getRoll: () => number;\n  /**\n   * Changes the azimuth and elevation with respect to the current camera axes\n   * @param {Number} azimuth the relative azimuth\n   * @param {Number} elevation the relative elevation\n   * @param {Number} roll the relative roll\n   */\n  rotate: (azimuth: number, elevation: number, roll: number) => this;\n  /**\n   * (right) & (up)\n   */\n  pan: (tx: number, ty: number) => this;\n  /**\n   *  n \n   */\n  dolly: (value: number) => this;\n  createLandmark: (\n    name: string,\n    params?: Partial<{\n      position: vec3 | vec2;\n      focalPoint: vec3 | vec2;\n      zoom: number;\n      roll: number;\n    }>,\n  ) => Landmark;\n  gotoLandmark: (\n    name: string | Landmark,\n    options?:\n      | number\n      | Partial<{\n          easing: string;\n          easingFunction: TypeEasingFunction;\n          duration: number;\n          onfinish: () => void;\n        }>,\n  ) => void;\n  /**\n   * Stop camera animation immediately.\n   */\n  cancelLandmarkAnimation: () => void;\n}\n", "import EventEmitter from 'eventemitter3';\nimport type { vec2 } from 'gl-matrix';\nimport { mat3, mat4, quat, vec3, vec4 } from 'gl-matrix';\nimport type { Canvas } from '../Canvas';\nimport { Frustum } from '../shapes';\nimport { ClipSpaceNearZ, TypeEasingFunction } from '../types';\nimport { ERROR_MSG_METHOD_NOT_IMPLEMENTED } from '../utils/error';\nimport {\n  createVec3,\n  deg2rad,\n  getAngle,\n  makePerspective,\n  rad2deg,\n} from '../utils/math';\nimport type { Landmark } from './Landmark';\nimport type { ICamera } from './interfaces';\nimport {\n  CameraEvent,\n  CameraProjectionMode,\n  CameraTrackingMode,\n  CameraType,\n} from './interfaces';\n\nconst MIN_DISTANCE = 0.0002;\n\n/**\n * WebGL Insights - 23.Designing Cameras for WebGL Applications Responsible Camera \n * @see https://github.com/d13g0/nucleo.js/blob/master/source/camera/Camera.js\n *\n * \n * 1. dolly  n \n * 2. pan  u v \n * 3. rotate \n * 4.  Landmark\n */\n\nexport class Camera implements ICamera {\n  canvas: Canvas;\n\n  /**\n   * Clip space near Z, default to range `[-1, 1]`\n   */\n  clipSpaceNearZ = ClipSpaceNearZ.NEGATIVE_ONE;\n\n  eventEmitter = new EventEmitter();\n\n  /**\n   * Matrix of camera\n   */\n  protected matrix = mat4.create();\n\n  /**\n   * u axis +X is right\n   * @see http://learnwebgl.brown37.net/07_cameras/camera_introduction.html#a-camera-definition\n   */\n  protected right = vec3.fromValues(1, 0, 0);\n\n  /**\n   * v axis +Y is up\n   */\n  protected up = vec3.fromValues(0, 1, 0);\n\n  /**\n   * n axis +Z is inside\n   */\n  protected forward = vec3.fromValues(0, 0, 1);\n\n  /**\n   * Position of camera.\n   */\n  protected position = vec3.fromValues(0, 0, 1);\n\n  /**\n   * Position of focal point.\n   */\n  protected focalPoint = vec3.fromValues(0, 0, 0);\n\n  /**\n   * vector from focalPoint to position\n   */\n  protected distanceVector = vec3.fromValues(0, 0, -1);\n\n  /**\n   * length(focalPoint - position)\n   */\n  protected distance = 1;\n\n  /**\n   * @see https://en.wikipedia.org/wiki/Azimuth\n   */\n  protected azimuth = 0;\n  protected elevation = 0;\n  protected roll = 0;\n  protected relAzimuth = 0;\n  protected relElevation = 0;\n  protected relRoll = 0;\n\n  /**\n   *  n \n   */\n  protected dollyingStep = 0;\n  protected maxDistance = Infinity;\n  protected minDistance = -Infinity;\n\n  /**\n   * zoom factor of the camera, default is 1\n   * eg. https://threejs.org/docs/#api/en/cameras/OrthographicCamera.zoom\n   */\n  protected zoom = 1;\n\n  /**\n   * invert the horizontal coordinate system HCS\n   */\n  protected rotateWorld = false;\n\n  /**\n   * \n   */\n\n  /**\n   * field of view [0-360]\n   * @see http://en.wikipedia.org/wiki/Angle_of_view\n   */\n  protected fov = 30;\n  protected near = 0.1;\n  protected far = 1000;\n  protected aspect = 1;\n  protected left: number;\n  protected rright: number;\n  protected top: number;\n  protected bottom: number;\n  protected projectionMatrix = mat4.create();\n  protected projectionMatrixInverse = mat4.create();\n  protected jitteredProjectionMatrix: mat4 | undefined = undefined;\n\n  protected view:\n    | {\n        enabled: boolean;\n        fullWidth: number;\n        fullHeight: number;\n        offsetX: number;\n        offsetY: number;\n        width: number;\n        height: number;\n      }\n    | undefined;\n  protected enableUpdate = true;\n\n  // protected following = undefined;\n\n  protected type = CameraType.EXPLORING;\n  protected trackingMode = CameraTrackingMode.DEFAULT;\n  protected projectionMode = CameraProjectionMode.PERSPECTIVE;\n\n  /**\n   * for culling use\n   */\n  protected frustum: Frustum = new Frustum();\n\n  /**\n   * ortho matrix for Canvas2D & SVG\n   */\n  protected orthoMatrix: mat4 = mat4.create();\n\n  // constructor(type = CameraType.EXPLORING, trackingMode = CameraTrackingMode.DEFAULT) {\n  //   this.setType(type, trackingMode);\n  // }\n\n  isOrtho() {\n    return this.projectionMode === CameraProjectionMode.ORTHOGRAPHIC;\n  }\n\n  getProjectionMode() {\n    return this.projectionMode;\n  }\n\n  getPerspective() {\n    // account for TAA\n    return this.jitteredProjectionMatrix || this.projectionMatrix;\n  }\n\n  getPerspectiveInverse() {\n    return this.projectionMatrixInverse;\n  }\n\n  getFrustum() {\n    return this.frustum;\n  }\n\n  getPosition() {\n    return this.position;\n  }\n\n  getFocalPoint() {\n    return this.focalPoint;\n  }\n\n  getDollyingStep() {\n    return this.dollyingStep;\n  }\n\n  getNear() {\n    return this.near;\n  }\n\n  getFar() {\n    return this.far;\n  }\n\n  getZoom() {\n    return this.zoom;\n  }\n\n  getOrthoMatrix() {\n    return this.orthoMatrix;\n  }\n\n  getView() {\n    return this.view;\n  }\n\n  setEnableUpdate(enabled: boolean) {\n    this.enableUpdate = enabled;\n  }\n\n  setType(type: CameraType, trackingMode?: CameraTrackingMode) {\n    this.type = type;\n    if (this.type === CameraType.EXPLORING) {\n      this.setWorldRotation(true);\n    } else {\n      this.setWorldRotation(false);\n    }\n    this._getAngles();\n\n    if (this.type === CameraType.TRACKING && trackingMode !== undefined) {\n      this.setTrackingMode(trackingMode);\n    }\n    return this;\n  }\n\n  setProjectionMode(projectionMode: CameraProjectionMode) {\n    this.projectionMode = projectionMode;\n    return this;\n  }\n\n  setTrackingMode(trackingMode: CameraTrackingMode) {\n    if (this.type !== CameraType.TRACKING) {\n      throw new Error(\n        'Impossible to set a tracking mode if the camera is not of tracking type',\n      );\n    }\n    this.trackingMode = trackingMode;\n    return this;\n  }\n\n  /**\n   * If flag is true, it reverses the azimuth and elevation angles.\n   * Subsequent calls to rotate, setAzimuth, setElevation,\n   * changeAzimuth or changeElevation will cause the inverted effect.\n   * setRoll or changeRoll is not affected by this method.\n   *\n   * This inversion is useful when one wants to simulate that the world\n   * is moving, instead of the camera.\n   *\n   * By default the camera angles are not reversed.\n   * @param {Boolean} flag the boolean flag to reverse the angles.\n   */\n  setWorldRotation(flag: boolean) {\n    this.rotateWorld = flag;\n    this._getAngles();\n    return this;\n  }\n\n  /**\n   *  MV \n   */\n  getViewTransform(): mat4 {\n    // mat4.scale(this.matrix, this.matrix, vec3.fromValues(1, -1, 1));\n\n    return mat4.invert(mat4.create(), this.matrix);\n  }\n\n  getWorldTransform(): mat4 {\n    return this.matrix;\n  }\n\n  jitterProjectionMatrix(x: number, y: number) {\n    const translation = mat4.fromTranslation(mat4.create(), [x, y, 0]);\n\n    this.jitteredProjectionMatrix = mat4.multiply(\n      mat4.create(),\n      translation,\n      this.projectionMatrix,\n    );\n  }\n\n  clearJitterProjectionMatrix() {\n    this.jitteredProjectionMatrix = undefined;\n  }\n\n  /**\n   * \n   */\n  setMatrix(matrix: mat4) {\n    this.matrix = matrix;\n    this._update();\n    return this;\n  }\n\n  /**\n   * Set projection matrix manually.\n   */\n  setProjectionMatrix(matrix: mat4) {\n    this.projectionMatrix = matrix;\n  }\n\n  setFov(fov: number) {\n    this.setPerspective(this.near, this.far, fov, this.aspect);\n    return this;\n  }\n\n  setAspect(aspect: number) {\n    this.setPerspective(this.near, this.far, this.fov, aspect);\n    return this;\n  }\n\n  setNear(near: number) {\n    if (this.projectionMode === CameraProjectionMode.PERSPECTIVE) {\n      this.setPerspective(near, this.far, this.fov, this.aspect);\n    } else {\n      this.setOrthographic(\n        this.left,\n        this.rright,\n        this.top,\n        this.bottom,\n        near,\n        this.far,\n      );\n    }\n    return this;\n  }\n\n  setFar(far: number) {\n    if (this.projectionMode === CameraProjectionMode.PERSPECTIVE) {\n      this.setPerspective(this.near, far, this.fov, this.aspect);\n    } else {\n      this.setOrthographic(\n        this.left,\n        this.rright,\n        this.top,\n        this.bottom,\n        this.near,\n        far,\n      );\n    }\n    return this;\n  }\n\n  /**\n   * Sets an offset in a larger frustum, used in PixelPicking\n   */\n  setViewOffset(\n    fullWidth: number,\n    fullHeight: number,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n  ) {\n    this.aspect = fullWidth / fullHeight;\n    if (this.view === undefined) {\n      this.view = {\n        enabled: true,\n        fullWidth: 1,\n        fullHeight: 1,\n        offsetX: 0,\n        offsetY: 0,\n        width: 1,\n        height: 1,\n      };\n    }\n\n    this.view.enabled = true;\n    this.view.fullWidth = fullWidth;\n    this.view.fullHeight = fullHeight;\n    this.view.offsetX = x;\n    this.view.offsetY = y;\n    this.view.width = width;\n    this.view.height = height;\n\n    if (this.projectionMode === CameraProjectionMode.PERSPECTIVE) {\n      this.setPerspective(this.near, this.far, this.fov, this.aspect);\n    } else {\n      this.setOrthographic(\n        this.left,\n        this.rright,\n        this.top,\n        this.bottom,\n        this.near,\n        this.far,\n      );\n    }\n    return this;\n  }\n\n  clearViewOffset() {\n    if (this.view !== undefined) {\n      this.view.enabled = false;\n    }\n\n    if (this.projectionMode === CameraProjectionMode.PERSPECTIVE) {\n      this.setPerspective(this.near, this.far, this.fov, this.aspect);\n    } else {\n      this.setOrthographic(\n        this.left,\n        this.rright,\n        this.top,\n        this.bottom,\n        this.near,\n        this.far,\n      );\n    }\n    return this;\n  }\n\n  setZoom(zoom: number) {\n    this.zoom = zoom;\n    if (this.projectionMode === CameraProjectionMode.ORTHOGRAPHIC) {\n      this.setOrthographic(\n        this.left,\n        this.rright,\n        this.top,\n        this.bottom,\n        this.near,\n        this.far,\n      );\n    } else if (this.projectionMode === CameraProjectionMode.PERSPECTIVE) {\n      this.setPerspective(this.near, this.far, this.fov, this.aspect);\n    }\n    return this;\n  }\n\n  /**\n   * Zoom by specified point in viewport coordinates.\n   */\n  setZoomByViewportPoint(zoom: number, viewportPoint: vec2) {\n    const { x: ox, y: oy } = this.canvas.viewport2Canvas({\n      x: viewportPoint[0],\n      y: viewportPoint[1],\n    });\n\n    const { roll } = this;\n\n    this.rotate(0, 0, -roll);\n    this.setPosition(ox, oy);\n    this.setFocalPoint(ox, oy);\n    this.setZoom(zoom);\n    this.rotate(0, 0, roll);\n\n    const { x: cx, y: cy } = this.canvas.viewport2Canvas({\n      x: viewportPoint[0],\n      y: viewportPoint[1],\n    });\n\n    // project to rotated axis\n    const dvec = vec3.fromValues(cx - ox, cy - oy, 0);\n    const dx = vec3.dot(dvec, this.right) / vec3.length(this.right);\n    const dy = vec3.dot(dvec, this.up) / vec3.length(this.up);\n\n    const [px, py] = this.getPosition();\n    const [fx, fy] = this.getFocalPoint();\n\n    this.setPosition(px - dx, py - dy);\n    this.setFocalPoint(fx - dx, fy - dy);\n\n    return this;\n  }\n\n  setPerspective(near: number, far: number, fov: number, aspect: number) {\n    this.projectionMode = CameraProjectionMode.PERSPECTIVE;\n    this.fov = fov;\n    this.near = near;\n    this.far = far;\n    this.aspect = aspect;\n\n    let top = (this.near * Math.tan(deg2rad(0.5 * this.fov))) / this.zoom;\n    let height = 2 * top;\n    let width = this.aspect * height;\n    let left = -0.5 * width;\n\n    if (this.view?.enabled) {\n      const { fullWidth } = this.view;\n      const { fullHeight } = this.view;\n\n      left += (this.view.offsetX * width) / fullWidth;\n      top -= (this.view.offsetY * height) / fullHeight;\n      width *= this.view.width / fullWidth;\n      height *= this.view.height / fullHeight;\n    }\n\n    makePerspective(\n      this.projectionMatrix,\n      left,\n      left + width,\n      top - height,\n      top,\n      near,\n      this.far,\n      this.clipSpaceNearZ === ClipSpaceNearZ.ZERO,\n    );\n\n    mat4.invert(this.projectionMatrixInverse, this.projectionMatrix);\n\n    this.triggerUpdate();\n    return this;\n  }\n\n  setOrthographic(\n    l: number,\n    r: number,\n    t: number,\n    b: number,\n    near: number,\n    far: number,\n  ) {\n    this.projectionMode = CameraProjectionMode.ORTHOGRAPHIC;\n    this.rright = r;\n    this.left = l;\n    this.top = t;\n    this.bottom = b;\n    this.near = near;\n    this.far = far;\n\n    const dx = (this.rright - this.left) / (2 * this.zoom);\n    const dy = (this.top - this.bottom) / (2 * this.zoom);\n    const cx = (this.rright + this.left) / 2;\n    const cy = (this.top + this.bottom) / 2;\n\n    let left = cx - dx;\n    let right = cx + dx;\n    let top = cy + dy;\n    let bottom = cy - dy;\n\n    if (this.view?.enabled) {\n      const scaleW =\n        (this.rright - this.left) / this.view.fullWidth / this.zoom;\n      const scaleH =\n        (this.top - this.bottom) / this.view.fullHeight / this.zoom;\n\n      left += scaleW * this.view.offsetX;\n      right = left + scaleW * this.view.width;\n      top -= scaleH * this.view.offsetY;\n      bottom = top - scaleH * this.view.height;\n    }\n\n    if (this.clipSpaceNearZ === ClipSpaceNearZ.NEGATIVE_ONE) {\n      // FlipY with switching bottom & top.\n      // @see https://stackoverflow.com/a/4886656\n      mat4.ortho(this.projectionMatrix, left, right, top, bottom, near, far);\n    } else {\n      mat4.orthoZO(this.projectionMatrix, left, right, top, bottom, near, far);\n    }\n\n    mat4.invert(this.projectionMatrixInverse, this.projectionMatrix);\n\n    this._getOrthoMatrix();\n    this.triggerUpdate();\n    return this;\n  }\n\n  /**\n   * Move the camera in world coordinates.\n   * It will keep looking at the current focal point.\n   *\n   * support scalars or vectors.\n   * @example\n   * setPosition(1, 2, 3);\n   * setPosition([1, 2, 3]);\n   */\n  setPosition(\n    x: number | vec2 | vec3,\n    y: number = this.position[1],\n    z: number = this.position[2],\n  ) {\n    const position = createVec3(x, y, z);\n    this._setPosition(position);\n    this.setFocalPoint(this.focalPoint);\n\n    this.triggerUpdate();\n    return this;\n  }\n\n  /**\n   * Sets the focal point of this camera in world coordinates.\n   *\n   * support scalars or vectors.\n   * @example\n   * setFocalPoint(1, 2, 3);\n   * setFocalPoint([1, 2, 3]);\n   */\n  setFocalPoint(\n    x: number | vec2 | vec3,\n    y: number = this.focalPoint[1],\n    z: number = this.focalPoint[2],\n  ) {\n    let up = vec3.fromValues(0, 1, 0);\n    this.focalPoint = createVec3(x, y, z);\n\n    if (this.trackingMode === CameraTrackingMode.CINEMATIC) {\n      const d = vec3.subtract(vec3.create(), this.focalPoint, this.position);\n      x = d[0];\n      y = d[1];\n      z = d[2];\n      const r = vec3.length(d);\n      const el = rad2deg(Math.asin(y / r));\n      const az = 90 + rad2deg(Math.atan2(z, x));\n      const m = mat4.create();\n      mat4.rotateY(m, m, deg2rad(az));\n      mat4.rotateX(m, m, deg2rad(el));\n      up = vec3.transformMat4(vec3.create(), [0, 1, 0], m);\n    }\n\n    mat4.invert(\n      this.matrix,\n      mat4.lookAt(mat4.create(), this.position, this.focalPoint, up),\n    );\n\n    this._getAxes();\n    this._getDistance();\n    this._getAngles();\n    this.triggerUpdate();\n    return this;\n  }\n\n  getDistance() {\n    return this.distance;\n  }\n\n  getDistanceVector() {\n    return this.distanceVector;\n  }\n\n  /**\n   * Moves the camera towards/from the focal point.\n   */\n  setDistance(d: number) {\n    if (this.distance === d || d < 0) {\n      return this;\n    }\n\n    this.distance = d;\n\n    if (this.distance < MIN_DISTANCE) {\n      this.distance = MIN_DISTANCE;\n    }\n    this.dollyingStep = this.distance / 100;\n\n    const pos = vec3.create();\n    d = this.distance;\n    const n = this.forward;\n    const f = this.focalPoint;\n\n    pos[0] = d * n[0] + f[0];\n    pos[1] = d * n[1] + f[1];\n    pos[2] = d * n[2] + f[2];\n\n    this._setPosition(pos);\n    this.triggerUpdate();\n    return this;\n  }\n\n  setMaxDistance(d: number) {\n    this.maxDistance = d;\n    return this;\n  }\n\n  setMinDistance(d: number) {\n    this.minDistance = d;\n    return this;\n  }\n\n  /**\n   * \n   * the azimuth in degrees\n   */\n  setAzimuth(az: number) {\n    this.azimuth = getAngle(az);\n    this.computeMatrix();\n\n    this._getAxes();\n    if (\n      this.type === CameraType.ORBITING ||\n      this.type === CameraType.EXPLORING\n    ) {\n      this._getPosition();\n    } else if (this.type === CameraType.TRACKING) {\n      this._getFocalPoint();\n    }\n\n    this.triggerUpdate();\n    return this;\n  }\n\n  getAzimuth() {\n    return this.azimuth;\n  }\n\n  /**\n   * \n   */\n  setElevation(el: number) {\n    this.elevation = getAngle(el);\n    this.computeMatrix();\n\n    this._getAxes();\n    if (\n      this.type === CameraType.ORBITING ||\n      this.type === CameraType.EXPLORING\n    ) {\n      this._getPosition();\n    } else if (this.type === CameraType.TRACKING) {\n      this._getFocalPoint();\n    }\n\n    this.triggerUpdate();\n    return this;\n  }\n\n  getElevation() {\n    return this.elevation;\n  }\n\n  /**\n   * \n   */\n  setRoll(angle: number) {\n    this.roll = getAngle(angle);\n    this.computeMatrix();\n\n    this._getAxes();\n    if (\n      this.type === CameraType.ORBITING ||\n      this.type === CameraType.EXPLORING\n    ) {\n      this._getPosition();\n    } else if (this.type === CameraType.TRACKING) {\n      this._getFocalPoint();\n    }\n\n    this.triggerUpdate();\n    return this;\n  }\n\n  getRoll() {\n    return this.roll;\n  }\n\n  /**\n   * \n   */\n  protected _update() {\n    this._getAxes();\n    this._getPosition();\n    this._getDistance();\n    this._getAngles();\n    this._getOrthoMatrix();\n\n    this.triggerUpdate();\n  }\n\n  /**\n   * \n   */\n  protected computeMatrix() {\n    //  3D \n    // @see https://xiaoiver.github.io/coding/2018/12/28/Camera-%E8%AE%BE%E8%AE%A1-%E4%B8%80.html\n    const rotZ = quat.setAxisAngle(\n      quat.create(),\n      [0, 0, 1],\n      deg2rad(this.roll),\n    );\n\n    mat4.identity(this.matrix);\n\n    // only consider HCS for EXPLORING and ORBITING cameras\n    const rotX = quat.setAxisAngle(\n      quat.create(),\n      [1, 0, 0],\n      deg2rad(\n        ((this.rotateWorld && this.type !== CameraType.TRACKING) ||\n        this.type === CameraType.TRACKING\n          ? 1\n          : -1) * this.elevation,\n      ),\n    );\n    const rotY = quat.setAxisAngle(\n      quat.create(),\n      [0, 1, 0],\n      deg2rad(\n        ((this.rotateWorld && this.type !== CameraType.TRACKING) ||\n        this.type === CameraType.TRACKING\n          ? 1\n          : -1) * this.azimuth,\n      ),\n    );\n\n    let rotQ = quat.multiply(quat.create(), rotY, rotX);\n    rotQ = quat.multiply(quat.create(), rotQ, rotZ);\n    const rotMatrix = mat4.fromQuat(mat4.create(), rotQ);\n\n    if (\n      this.type === CameraType.ORBITING ||\n      this.type === CameraType.EXPLORING\n    ) {\n      mat4.translate(this.matrix, this.matrix, this.focalPoint);\n      mat4.multiply(this.matrix, this.matrix, rotMatrix);\n      mat4.translate(this.matrix, this.matrix, [0, 0, this.distance]);\n    } else if (this.type === CameraType.TRACKING) {\n      mat4.translate(this.matrix, this.matrix, this.position);\n      mat4.multiply(this.matrix, this.matrix, rotMatrix);\n    }\n  }\n\n  /**\n   * Sets the camera position in the camera matrix\n   */\n  protected _setPosition(x: number | vec3, y?: number, z?: number) {\n    this.position = createVec3(x, y, z);\n    const m = this.matrix;\n    m[12] = this.position[0];\n    m[13] = this.position[1];\n    m[14] = this.position[2];\n    m[15] = 1;\n\n    this._getOrthoMatrix();\n  }\n\n  /**\n   * Recalculates axes based on the current matrix\n   */\n  protected _getAxes() {\n    vec3.copy(\n      this.right,\n      createVec3(vec4.transformMat4(vec4.create(), [1, 0, 0, 0], this.matrix)),\n    );\n    vec3.copy(\n      this.up,\n      createVec3(vec4.transformMat4(vec4.create(), [0, 1, 0, 0], this.matrix)),\n    );\n    vec3.copy(\n      this.forward,\n      createVec3(vec4.transformMat4(vec4.create(), [0, 0, 1, 0], this.matrix)),\n    );\n    vec3.normalize(this.right, this.right);\n    vec3.normalize(this.up, this.up);\n    vec3.normalize(this.forward, this.forward);\n  }\n\n  /**\n   * Recalculates euler angles based on the current state\n   */\n  protected _getAngles() {\n    // Recalculates angles\n    const x = this.distanceVector[0];\n    const y = this.distanceVector[1];\n    const z = this.distanceVector[2];\n    const r = vec3.length(this.distanceVector);\n\n    // FAST FAIL: If there is no distance we cannot compute angles\n    if (r === 0) {\n      this.elevation = 0;\n      this.azimuth = 0;\n      return;\n    }\n\n    if (this.type === CameraType.TRACKING) {\n      this.elevation = rad2deg(Math.asin(y / r));\n      this.azimuth = rad2deg(Math.atan2(-x, -z));\n    } else if (this.rotateWorld) {\n      this.elevation = rad2deg(Math.asin(y / r));\n      this.azimuth = rad2deg(Math.atan2(-x, -z));\n    } else {\n      this.elevation = -rad2deg(Math.asin(y / r));\n      this.azimuth = -rad2deg(Math.atan2(-x, -z));\n    }\n  }\n\n  /**\n   *  ORBITING \n   */\n  protected _getPosition() {\n    vec3.copy(\n      this.position,\n      createVec3(vec4.transformMat4(vec4.create(), [0, 0, 0, 1], this.matrix)),\n    );\n\n    // \n    this._getDistance();\n  }\n\n  /**\n   *  TRACKING \n   */\n  protected _getFocalPoint() {\n    vec3.transformMat3(\n      this.distanceVector,\n      [0, 0, -this.distance],\n      mat3.fromMat4(mat3.create(), this.matrix),\n    );\n    vec3.add(this.focalPoint, this.position, this.distanceVector);\n\n    // \n    this._getDistance();\n  }\n\n  /**\n   * \n   */\n  protected _getDistance() {\n    this.distanceVector = vec3.subtract(\n      vec3.create(),\n      this.focalPoint,\n      this.position,\n    );\n    this.distance = vec3.length(this.distanceVector);\n    this.dollyingStep = this.distance / 100;\n  }\n\n  protected _getOrthoMatrix() {\n    if (this.projectionMode !== CameraProjectionMode.ORTHOGRAPHIC) {\n      return;\n    }\n\n    const { position } = this;\n    const rotZ = quat.setAxisAngle(\n      quat.create(),\n      [0, 0, 1],\n      (-this.roll * Math.PI) / 180,\n    );\n    mat4.fromRotationTranslationScaleOrigin(\n      this.orthoMatrix,\n      rotZ,\n      vec3.fromValues(\n        (this.rright - this.left) / 2 - position[0],\n        (this.top - this.bottom) / 2 - position[1],\n        0,\n      ),\n      vec3.fromValues(this.zoom, this.zoom, 1),\n      position,\n    );\n  }\n\n  protected triggerUpdate() {\n    if (this.enableUpdate) {\n      // update frustum\n      const viewMatrix = this.getViewTransform();\n      const vpMatrix = mat4.multiply(\n        mat4.create(),\n        this.getPerspective(),\n        viewMatrix,\n      );\n      this.getFrustum().extractFromVPMatrix(vpMatrix);\n\n      this.eventEmitter.emit(CameraEvent.UPDATED);\n    }\n  }\n\n  rotate(azimuth: number, elevation: number, roll: number): this {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  pan(tx: number, ty: number): this {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  dolly(value: number): this {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  createLandmark(\n    name: string,\n    params?: Partial<{\n      position: [number, number, number] | Float32Array | [number, number];\n      focalPoint: [number, number, number] | Float32Array | [number, number];\n      zoom: number;\n      roll: number;\n    }>,\n  ): Landmark {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  gotoLandmark(\n    name: string | Landmark,\n    options?:\n      | number\n      | Partial<{\n          easing: string;\n          easingFunction: TypeEasingFunction;\n          duration: number;\n          onfinish: () => void;\n        }>,\n  ): void {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  cancelLandmarkAnimation(): void {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n}\n", "/**\n * @see https://doc.babylonjs.com/how_to/optimizing_your_scene#changing-mesh-culling-strategy\n */\nexport enum Strategy {\n  Standard,\n}\n\nexport interface Cullable {\n  strategy: Strategy;\n\n  visibilityPlaneMask: number;\n\n  visible: boolean;\n\n  enable: boolean;\n}\n", "import type { INode } from '../dom/interfaces';\n\nexport enum SortReason {\n  ADDED,\n  REMOVED,\n  Z_INDEX_CHANGED,\n}\n\nexport interface Sortable {\n  /**\n   * need to re-sort\n   */\n  dirty: boolean;\n\n  /**\n   * sorted child entities\n   */\n  sorted: INode[];\n\n  /**\n   * render order in whole scenegraph\n   */\n  renderOrder: number;\n\n  /**\n   * dirty children\n   */\n  dirtyChildren: INode[];\n\n  dirtyReason: SortReason;\n}\n", "import { AbsoluteArray } from '@antv/util';\nimport { Rectangle } from '../shapes';\n\nexport const EMPTY_PARSED_PATH = {\n  absolutePath: [] as unknown as AbsoluteArray,\n  hasArc: false,\n  segments: [],\n  polygons: [],\n  polylines: [],\n  curve: null,\n  totalLength: 0,\n  rect: new Rectangle(0, 0, 0, 0),\n};\n", "import type { BaseStyleProps } from '..';\nimport type { DisplayObject } from '../display-objects';\nimport type { CSSProperty } from './CSSProperty';\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type\n */\nexport enum PropertySyntax {\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#coordinate\n   */\n  COORDINATE = '<coordinate>',\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color\n   */\n  COLOR = '<color>',\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint\n   */\n  PAINT = '<paint>',\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number\n   */\n  NUMBER = '<number>',\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/angle\n   */\n  ANGLE = '<angle>',\n  /**\n   * <number> with range 0..1\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value\n   */\n  OPACITY_VALUE = '<opacity-value>',\n  /**\n   * <number> with range 0..Infinity\n   */\n  SHADOW_BLUR = '<shadow-blur>',\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length\n   */\n  LENGTH = '<length>',\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage\n   */\n  PERCENTAGE = '<percentage>',\n  LENGTH_PERCENTAGE = '<length> | <percentage>',\n\n  LENGTH_PERCENTAGE_12 = '[<length> | <percentage>]{1,2}',\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/margin#formal_syntax\n   */\n  LENGTH_PERCENTAGE_14 = '[<length> | <percentage>]{1,4}',\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts\n   */\n  LIST_OF_POINTS = '<list-of-points>',\n  PATH = '<path>',\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/filter#formal_syntax\n   */\n  FILTER = '<filter>',\n  Z_INDEX = '<z-index>',\n  OFFSET_DISTANCE = '<offset-distance>',\n  DEFINED_PATH = '<defined-path>',\n  MARKER = '<marker>',\n  TRANSFORM = '<transform>',\n  TRANSFORM_ORIGIN = '<transform-origin>',\n  TEXT = '<text>',\n  TEXT_TRANSFORM = '<text-transform>',\n}\n\nexport interface PropertyMetadata {\n  n: string;\n\n  /**\n   * The interpolable flag indicates whether a property can be animated smoothly.\n   * Default to `false`.\n   */\n  int?: boolean;\n\n  /**\n   * The property will inherit by default if no value is specified.\n   * Default to `false`.\n   */\n  inh?: boolean;\n\n  /**\n   * This property affects only one field on ComputedStyle, and can be set\n   * directly during inheritance instead of forcing a recalc.\n   */\n  ind?: boolean;\n\n  /**\n   * This specifies the default value for this field.\n   * - for keyword fields, this is the initial keyword\n   * - for other fields, this is a string containg the C++ expression that is used to initialise the field.\n   */\n  d?: string | ((nodeName: string) => string);\n\n  /**\n   * The resolved value used for getComputedStyle() depends on layout for this\n   * property, which means we may need to update layout to return the correct\n   * value from getComputedStyle().\n   */\n  l?: boolean;\n\n  /**\n   * This specifies all valid keyword values for the property.\n   */\n  k?: string[];\n\n  /**\n   * eg. strokeWidth is an alias of lineWidth\n   */\n  a?: string[];\n\n  /**\n   * sort before init attributes according to this priority\n   */\n  p?: number;\n\n  /**\n   * eg. <color> <paint> <number>\n   */\n  syntax?: string;\n}\n\nexport interface PropertyParseOptions {\n  skipUpdateAttribute: boolean;\n  skipParse: boolean;\n  forceUpdateGeometry: boolean;\n  usedAttributes: string[];\n  memoize: boolean;\n}\n\nexport interface StyleValueRegistry {\n  updateSizeAttenuation: (displayObject: DisplayObject, zoom: number) => void;\n  registerMetadata: (metadata: PropertyMetadata) => void;\n  getPropertySyntax: (syntax: string) => CSSProperty<any, any>;\n  processProperties: (\n    object: DisplayObject,\n    attributes: BaseStyleProps,\n    options?: Partial<PropertyParseOptions>,\n  ) => void;\n}\n\nexport interface LayoutRegistry {\n  registerLayout: (name: string, ctor: any) => void;\n  hasLayout: (name: string) => boolean;\n  getLayout: (name: string) => any;\n}\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export function memoize<F = (...args: unknown[]) => unknown>(\n  func: F,\n  resolver?: (...args: any[]) => any,\n) {\n  if (\n    typeof func !== 'function' ||\n    (resolver != null && typeof resolver !== 'function')\n  ) {\n    throw new TypeError('Expected a function');\n  }\n\n  const memoized = function (...args) {\n    const key = resolver ? resolver.apply(this, args) : args[0];\n    const { cache } = memoized;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    const result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || Map)();\n  memoize.cacheList.push(memoized.cache);\n\n  return memoized as F;\n}\n\nmemoize.Cache = Map;\nmemoize.cacheList = [];\nmemoize.clearCache = () => {\n  memoize.cacheList.forEach((cache) =>\n    (cache as unknown as Map<unknown, unknown>).clear(),\n  );\n};\n", "// These units are iterated through, so be careful when adding or changing the\n// order.\nexport enum UnitType {\n  kUnknown,\n  kNumber,\n  kPercentage,\n  // Length units\n  kEms,\n  // kExs,\n  kPixels,\n  // kCentimeters,\n  // kMillimeters,\n  // kInches,\n  // kPoints,\n  // kPicas,\n  // kQuarterMillimeters,\n  // https://drafts.csswg.org/css-values-4/#viewport-relative-lengths\n  //\n  // See also IsViewportPercentageLength.\n  // kViewportWidth,\n  // kViewportHeight,\n  // kViewportInlineSize,\n  // kViewportBlockSize,\n  // kViewportMin,\n  // kViewportMax,\n  // kSmallViewportWidth,\n  // kSmallViewportHeight,\n  // kSmallViewportInlineSize,\n  // kSmallViewportBlockSize,\n  // kSmallViewportMin,\n  // kSmallViewportMax,\n  // kLargeViewportWidth,\n  // kLargeViewportHeight,\n  // kLargeViewportInlineSize,\n  // kLargeViewportBlockSize,\n  // kLargeViewportMin,\n  // kLargeViewportMax,\n  // kDynamicViewportWidth,\n  // kDynamicViewportHeight,\n  // kDynamicViewportInlineSize,\n  // kDynamicViewportBlockSize,\n  // kDynamicViewportMin,\n  // kDynamicViewportMax,\n  // https://drafts.csswg.org/css-contain-3/#container-lengths\n  //\n  // See also IsContainerPercentageLength.\n  // kContainerWidth,\n  // kContainerHeight,\n  // kContainerInlineSize,\n  // kContainerBlockSize,\n  // kContainerMin,\n  // kContainerMax,\n  kRems,\n  // kChs,\n  // kUserUnits, // The SVG term for unitless lengths\n  // Angle units\n  kDegrees,\n  kRadians,\n  kGradians,\n  kTurns,\n  // Time units\n  kMilliseconds,\n  kSeconds,\n  // kHertz,\n  // kKilohertz,\n  // Resolution\n  // kDotsPerPixel,\n  // kDotsPerInch,\n  // kDotsPerCentimeter,\n  // Other units\n  // kFraction,\n  kInteger,\n  // This value is used to handle quirky margins in reflow roots (body, td,\n  // and th) like WinIE. The basic idea is that a stylesheet can use the value\n  // __qem (for quirky em) instead of em. When the quirky value is used, if\n  // you're in quirks mode, the margin will collapse away inside a table cell.\n  // This quirk is specified in the HTML spec but our impl is different.\n  // TODO: Remove this. crbug.com/443952\n  // kQuirkyEms,\n}\n\nexport enum UnitCategory {\n  kUNumber,\n  kUPercent,\n  kULength,\n  kUAngle,\n  kUTime,\n  // kUFrequency,\n  // kUResolution,\n  kUOther,\n}\n\nexport enum Nested {\n  kYes,\n  kNo,\n}\nexport enum ParenLess {\n  kYes,\n  kNo,\n}\n", "import { Nested, ParenLess, UnitCategory, UnitType } from './types';\n\n// This file specifies the unit strings used in CSSPrimitiveValues.\nconst data = [\n  {\n    name: 'em',\n    unit_type: UnitType.kEms,\n  },\n  // {\n  //   name: 'ex',\n  //   unit_type: UnitType.kExs,\n  // },\n  {\n    name: 'px',\n    unit_type: UnitType.kPixels,\n  },\n  // {\n  //   name: \"cm\",\n  //   unit_type: UnitType.kCentimeters,\n  // },\n  // {\n  //   name: \"mm\",\n  //   unit_type: UnitType.kMillimeters,\n  // },\n  // {\n  //   name: \"q\",\n  //   unit_type: UnitType.kQuarterMillimeters,\n  // },\n  // {\n  //   name: \"in\",\n  //   unit_type: UnitType.kInches,\n  // },\n  // {\n  //   name: \"pt\",\n  //   unit_type: UnitType.kPoints,\n  // },\n  // {\n  //   name: \"pc\",\n  //   unit_type: UnitType.kPicas,\n  // },\n  {\n    name: 'deg',\n    unit_type: UnitType.kDegrees,\n  },\n  {\n    name: 'rad',\n    unit_type: UnitType.kRadians,\n  },\n  {\n    name: 'grad',\n    unit_type: UnitType.kGradians,\n  },\n  {\n    name: 'ms',\n    unit_type: UnitType.kMilliseconds,\n  },\n  {\n    name: 's',\n    unit_type: UnitType.kSeconds,\n  },\n  // {\n  //   name: \"hz\",\n  //   unit_type: UnitType.kHertz,\n  // },\n  // {\n  //   name: \"khz\",\n  //   unit_type: UnitType.kKilohertz,\n  // },\n  // {\n  //   name: \"dpi\",\n  //   unit_type: \"kDotsPerInch\",\n  // },\n  // {\n  //   name: \"dpcm\",\n  //   unit_type: \"kDotsPerCentimeter\",\n  // },\n  // {\n  //   name: \"dppx\",\n  //   unit_type: \"kDotsPerPixel\",\n  // },\n  // {\n  //   name: \"x\",\n  //   unit_type: \"kDotsPerPixel\",\n  // },\n  // {\n  //   name: \"vw\",\n  //   unit_type: \"kViewportWidth\",\n  // },\n  // {\n  //   name: \"vh\",\n  //   unit_type: \"kViewportHeight\",\n  // },\n  // {\n  //   name: \"vi\",\n  //   unit_type: \"kViewportInlineSize\",\n  // },\n  // {\n  //   name: \"vb\",\n  //   unit_type: \"kViewportBlockSize\",\n  // },\n  // {\n  //   name: \"vmin\",\n  //   unit_type: UnitType.kViewportMin,\n  // },\n  // {\n  //   name: \"vmax\",\n  //   unit_type: UnitType.kViewportMax,\n  // },\n  // {\n  //   name: \"svw\",\n  //   unit_type: \"kSmallViewportWidth\",\n  // },\n  // {\n  //   name: \"svh\",\n  //   unit_type: \"kSmallViewportHeight\",\n  // },\n  // {\n  //   name: \"svi\",\n  //   unit_type: \"kSmallViewportInlineSize\",\n  // },\n  // {\n  //   name: \"svb\",\n  //   unit_type: \"kSmallViewportBlockSize\",\n  // },\n  // {\n  //   name: \"svmin\",\n  //   unit_type: \"kSmallViewportMin\",\n  // },\n  // {\n  //   name: \"svmax\",\n  //   unit_type: \"kSmallViewportMax\",\n  // },\n  // {\n  //   name: \"lvw\",\n  //   unit_type: \"kLargeViewportWidth\",\n  // },\n  // {\n  //   name: \"lvh\",\n  //   unit_type: \"kLargeViewportHeight\",\n  // },\n  // {\n  //   name: \"lvi\",\n  //   unit_type: \"kLargeViewportInlineSize\",\n  // },\n  // {\n  //   name: \"lvb\",\n  //   unit_type: \"kLargeViewportBlockSize\",\n  // },\n  // {\n  //   name: \"lvmin\",\n  //   unit_type: UnitType.kLargeViewportMin,\n  // },\n  // {\n  //   name: \"lvmax\",\n  //   unit_type: UnitType.kLargeViewportMax,\n  // },\n  // {\n  //   name: \"dvw\",\n  //   unit_type: UnitType.kDynamicViewportWidth,\n  // },\n  // {\n  //   name: \"dvh\",\n  //   unit_type: UnitType.kDynamicViewportHeight,\n  // },\n  // {\n  //   name: \"dvi\",\n  //   unit_type: UnitType.kDynamicViewportInlineSize,\n  // },\n  // {\n  //   name: \"dvb\",\n  //   unit_type: UnitType.kDynamicViewportBlockSize,\n  // },\n  // {\n  //   name: \"dvmin\",\n  //   unit_type: UnitType.kDynamicViewportMin,\n  // },\n  // {\n  //   name: \"dvmax\",\n  //   unit_type: UnitType.kDynamicViewportMax,\n  // },\n  // {\n  //   name: \"cqw\",\n  //   unit_type: UnitType.kContainerWidth,\n  // },\n  // {\n  //   name: \"cqh\",\n  //   unit_type: UnitType.kContainerHeight,\n  // },\n  // {\n  //   name: \"cqi\",\n  //   unit_type: UnitType.kContainerInlineSize,\n  // },\n  // {\n  //   name: \"cqb\",\n  //   unit_type: UnitType.kContainerBlockSize,\n  // },\n  // {\n  //   name: \"cqmin\",\n  //   unit_type: UnitType.kContainerMin,\n  // },\n  // {\n  //   name: \"cqmax\",\n  //   unit_type: UnitType.kContainerMax,\n  // },\n  {\n    name: 'rem',\n    unit_type: UnitType.kRems,\n  },\n  // {\n  //   name: 'fr',\n  //   unit_type: UnitType.kFraction,\n  // },\n  {\n    name: 'turn',\n    unit_type: UnitType.kTurns,\n  },\n  // {\n  //   name: 'ch',\n  //   unit_type: UnitType.kChs,\n  // },\n  // {\n  //   name: '__qem',\n  //   unit_type: UnitType.kQuirkyEms,\n  // },\n];\n\nexport enum CSSStyleValueType {\n  kUnknownType,\n  kUnparsedType,\n  kKeywordType,\n  // Start of CSSNumericValue subclasses\n  kUnitType,\n  kSumType,\n  kProductType,\n  kNegateType,\n  kInvertType,\n  kMinType,\n  kMaxType,\n  kClampType,\n  // End of CSSNumericValue subclasses\n  kTransformType,\n  kPositionType,\n  kURLImageType,\n  kColorType,\n  kUnsupportedColorType,\n}\n\n// function parseCSSStyleValue(propertyName: string, value: string): CSSStyleValue[] {\n//   // const propertyId = cssPropertyID(propertyName);\n\n//   // if (propertyId === CSSPropertyID.kInvalid) {\n//   //   return [];\n//   // }\n\n//   // const customPropertyName = propertyId === CSSPropertyID.kVariable ? propertyName : null;\n//   // return fromString(propertyId, customPropertyName, value);\n//   return [];\n// }\n\nconst stringToUnitType = (name: string): UnitType => {\n  return data.find((item) => item.name === name).unit_type;\n};\n\nexport const unitFromName = (name: string) => {\n  if (!name) {\n    return UnitType.kUnknown;\n  }\n  if (name === 'number') {\n    return UnitType.kNumber;\n  }\n  if (name === 'percent' || name === '%') {\n    return UnitType.kPercentage;\n  }\n  return stringToUnitType(name);\n};\n\nexport const unitTypeToUnitCategory = (type: UnitType) => {\n  switch (type) {\n    case UnitType.kNumber:\n    case UnitType.kInteger:\n      return UnitCategory.kUNumber;\n    case UnitType.kPercentage:\n      return UnitCategory.kUPercent;\n    case UnitType.kPixels:\n      // case UnitType.kCentimeters:\n      // case UnitType.kMillimeters:\n      // case UnitType.kQuarterMillimeters:\n      // case UnitType.kInches:\n      // case UnitType.kPoints:\n      // case UnitType.kPicas:\n      // case UnitType.kUserUnits:\n      return UnitCategory.kULength;\n    case UnitType.kMilliseconds:\n    case UnitType.kSeconds:\n      return UnitCategory.kUTime;\n    case UnitType.kDegrees:\n    case UnitType.kRadians:\n    case UnitType.kGradians:\n    case UnitType.kTurns:\n      return UnitCategory.kUAngle;\n    // case UnitType.kHertz:\n    // case UnitType.kKilohertz:\n    //   return UnitCategory.kUFrequency;\n    // case UnitType.kDotsPerPixel:\n    // case UnitType.kDotsPerInch:\n    // case UnitType.kDotsPerCentimeter:\n    //   return UnitCategory.kUResolution;\n    default:\n      return UnitCategory.kUOther;\n  }\n};\n\nexport const canonicalUnitTypeForCategory = (category: UnitCategory) => {\n  // The canonical unit type is chosen according to the way\n  // CSSPropertyParser.ValidUnit() chooses the default unit in each category\n  // (based on unitflags).\n  switch (category) {\n    case UnitCategory.kUNumber:\n      return UnitType.kNumber;\n    case UnitCategory.kULength:\n      return UnitType.kPixels;\n    case UnitCategory.kUPercent:\n      return UnitType.kPercentage;\n    // return UnitType.kUnknown; // Cannot convert between numbers and percent.\n    case UnitCategory.kUTime:\n      return UnitType.kSeconds;\n    case UnitCategory.kUAngle:\n      return UnitType.kDegrees;\n    // case UnitCategory.kUFrequency:\n    //   return UnitType.kHertz;\n    // case UnitCategory.kUResolution:\n    //   return UnitType.kDotsPerPixel;\n    default:\n      return UnitType.kUnknown;\n  }\n};\n\n/**\n * @see https://chromium.googlesource.com/chromium/src/+/refs/heads/main/third_party/blink/renderer/core/css/css_primitive_value.cc#353\n */\nexport const conversionToCanonicalUnitsScaleFactor = (unit_type: UnitType) => {\n  let factor = 1.0;\n  // FIXME: the switch can be replaced by an array of scale factors.\n  switch (unit_type) {\n    // These are \"canonical\" units in their respective categories.\n    case UnitType.kPixels:\n    // case UnitType.kUserUnits:\n    case UnitType.kDegrees:\n    case UnitType.kSeconds:\n      // case UnitType.kHertz:\n      break;\n    case UnitType.kMilliseconds:\n      factor = 0.001;\n      break;\n    // case UnitType.kCentimeters:\n    //   // factor = kCssPixelsPerCentimeter;\n    //   break;\n    // case UnitType.kDotsPerCentimeter:\n    //   // factor = 1 / kCssPixelsPerCentimeter;\n    //   break;\n    // case UnitType.kMillimeters:\n    //   // factor = kCssPixelsPerMillimeter;\n    //   break;\n    // case UnitType.kQuarterMillimeters:\n    //   // factor = kCssPixelsPerQuarterMillimeter;\n    //   break;\n    // case UnitType.kInches:\n    //   // factor = kCssPixelsPerInch;\n    //   break;\n    // case UnitType.kDotsPerInch:\n    //   // factor = 1 / kCssPixelsPerInch;\n    //   break;\n    // case UnitType.kPoints:\n    //   // factor = kCssPixelsPerPoint;\n    //   break;\n    // case UnitType.kPicas:\n    //   // factor = kCssPixelsPerPica;\n    //   break;\n    case UnitType.kRadians:\n      factor = 180 / Math.PI;\n      break;\n    case UnitType.kGradians:\n      factor = 0.9;\n      break;\n    case UnitType.kTurns:\n      factor = 360;\n      break;\n    // case UnitType.kKilohertz:\n    //   factor = 1000;\n    //   break;\n    default:\n      break;\n  }\n  return factor;\n};\n\nexport const unitTypeToString = (type: UnitType) => {\n  switch (type) {\n    case UnitType.kNumber:\n    case UnitType.kInteger:\n      // case UnitType.kUserUnits:\n      return '';\n    case UnitType.kPercentage:\n      return '%';\n    case UnitType.kEms:\n      // case UnitType.kQuirkyEms:\n      return 'em';\n    // case UnitType.kExs:\n    //   return 'ex';\n    case UnitType.kRems:\n      return 'rem';\n    // case UnitType.kChs:\n    //   return 'ch';\n    case UnitType.kPixels:\n      return 'px';\n    // case UnitType.kCentimeters:\n    //   return 'cm';\n    // case UnitType.kDotsPerPixel:\n    //   return 'dppx';\n    // case UnitType.kDotsPerInch:\n    //   return 'dpi';\n    // case UnitType.kDotsPerCentimeter:\n    //   return 'dpcm';\n    // case UnitType.kMillimeters:\n    //   return 'mm';\n    // case UnitType.kQuarterMillimeters:\n    //   return 'q';\n    // case UnitType.kInches:\n    //   return 'in';\n    // case UnitType.kPoints:\n    //   return 'pt';\n    // case UnitType.kPicas:\n    //   return 'pc';\n    case UnitType.kDegrees:\n      return 'deg';\n    case UnitType.kRadians:\n      return 'rad';\n    case UnitType.kGradians:\n      return 'grad';\n    case UnitType.kMilliseconds:\n      return 'ms';\n    case UnitType.kSeconds:\n      return 's';\n    // case UnitType.kHertz:\n    //   return 'hz';\n    // case UnitType.kKilohertz:\n    //   return 'khz';\n    case UnitType.kTurns:\n      return 'turn';\n    // case UnitType.kFraction:\n    //   return 'fr';\n    // case UnitType.kViewportWidth:\n    //   return 'vw';\n    // case UnitType.kViewportHeight:\n    //   return 'vh';\n    // case UnitType.kViewportInlineSize:\n    //   return 'vi';\n    // case UnitType.kViewportBlockSize:\n    //   return 'vb';\n    // case UnitType.kViewportMin:\n    //   return 'vmin';\n    // case UnitType.kViewportMax:\n    //   return 'vmax';\n    // case UnitType.kSmallViewportWidth:\n    //   return 'svw';\n    // case UnitType.kSmallViewportHeight:\n    //   return 'svh';\n    // case UnitType.kSmallViewportInlineSize:\n    //   return 'svi';\n    // case UnitType.kSmallViewportBlockSize:\n    //   return 'svb';\n    // case UnitType.kSmallViewportMin:\n    //   return 'svmin';\n    // case UnitType.kSmallViewportMax:\n    //   return 'svmax';\n    // case UnitType.kLargeViewportWidth:\n    //   return 'lvw';\n    // case UnitType.kLargeViewportHeight:\n    //   return 'lvh';\n    // case UnitType.kLargeViewportInlineSize:\n    //   return 'lvi';\n    // case UnitType.kLargeViewportBlockSize:\n    //   return 'lvb';\n    // case UnitType.kLargeViewportMin:\n    //   return 'lvmin';\n    // case UnitType.kLargeViewportMax:\n    //   return 'lvmax';\n    // case UnitType.kDynamicViewportWidth:\n    //   return 'dvw';\n    // case UnitType.kDynamicViewportHeight:\n    //   return 'dvh';\n    // case UnitType.kDynamicViewportInlineSize:\n    //   return 'dvi';\n    // case UnitType.kDynamicViewportBlockSize:\n    //   return 'dvb';\n    // case UnitType.kDynamicViewportMin:\n    //   return 'dvmin';\n    // case UnitType.kDynamicViewportMax:\n    //   return 'dvmax';\n    // case UnitType.kContainerWidth:\n    //   return 'cqw';\n    // case UnitType.kContainerHeight:\n    //   return 'cqh';\n    // case UnitType.kContainerInlineSize:\n    //   return 'cqi';\n    // case UnitType.kContainerBlockSize:\n    //   return 'cqb';\n    // case UnitType.kContainerMin:\n    //   return 'cqmin';\n    // case UnitType.kContainerMax:\n    //   return 'cqmax';\n    default:\n      break;\n  }\n  return '';\n};\n\n/**\n * CSSStyleValue is the base class for all CSS values accessible from Typed OM.\n * Values that are not yet supported as specific types are also returned as base CSSStyleValues.\n *\n * Spec @see https://drafts.css-houdini.org/css-typed-om/#stylevalue-objects\n * Docs @see https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleValue\n */\nexport abstract class CSSStyleValue {\n  // static parse(propertyName: string, value: string): CSSStyleValue {\n  //   return parseCSSStyleValue(propertyName, value)[0];\n  // }\n\n  // static parseAll(propertyName: string, value: string): CSSStyleValue[] {\n  //   return parseCSSStyleValue(propertyName, value);\n  // }\n\n  static isAngle(unit: UnitType) {\n    return (\n      unit === UnitType.kDegrees ||\n      unit === UnitType.kRadians ||\n      unit === UnitType.kGradians ||\n      unit === UnitType.kTurns\n    );\n  }\n\n  // static isViewportPercentageLength(type: UnitType) {\n  //   return type >= UnitType.kViewportWidth && type <= UnitType.kDynamicViewportMax;\n  // }\n\n  // static isContainerPercentageLength(type: UnitType) {\n  //   return type >= UnitType.kContainerWidth && type <= UnitType.kContainerMax;\n  // }\n\n  static isLength(type: UnitType) {\n    // return (type >= UnitType.kEms && type <= UnitType.kUserUnits) || type == UnitType.kQuirkyEms;\n    return type >= UnitType.kEms && type < UnitType.kDegrees;\n  }\n\n  static isRelativeUnit(type: UnitType) {\n    return (\n      type === UnitType.kPercentage ||\n      type === UnitType.kEms ||\n      // type === UnitType.kExs ||\n      type === UnitType.kRems\n      // type === UnitType.kChs ||\n      // this.isViewportPercentageLength(type) ||\n      // this.isContainerPercentageLength(type)\n    );\n  }\n\n  static isTime(unit: UnitType) {\n    return unit === UnitType.kSeconds || unit === UnitType.kMilliseconds;\n  }\n\n  // static isFrequency(unit: UnitType) {\n  //   return unit == UnitType.kHertz || unit == UnitType.kKilohertz;\n  // }\n\n  // static isResolution(type: UnitType) {\n  //   return type >= UnitType.kDotsPerPixel && type <= UnitType.kDotsPerCentimeter;\n  // }\n\n  // static isFlex(unit: UnitType) {\n  //   return unit === UnitType.kFraction;\n  // }\n\n  protected abstract getType(): CSSStyleValueType;\n\n  abstract buildCSSText(n: Nested, p: ParenLess, result: string): string;\n\n  abstract clone(): CSSStyleValue;\n\n  // protected abstract toCSSValue(): CSSValue;\n\n  toString(): string {\n    return this.buildCSSText(Nested.kNo, ParenLess.kNo, '');\n  }\n\n  isNumericValue() {\n    return (\n      this.getType() >= CSSStyleValueType.kUnitType &&\n      this.getType() <= CSSStyleValueType.kClampType\n    );\n  }\n}\n", "import { CSSStyleValue, CSSStyleValueType } from './CSSStyleValue';\nimport { CSSNumberish } from './CSSNumericValue';\n\n/**\n * @see https://drafts.css-houdini.org/css-typed-om-1/#dom-csscolorvalue-colorspace\n */\nexport type ColorSpace = 'rgb' | 'hsl' | 'hwb' | 'lch' | 'lab';\nexport type CSSColorRGBComp = CSSNumberish | 'none';\nexport type CSSColorPercent = CSSNumberish | 'none';\nexport type CSSColorNumber = CSSNumberish | 'none';\nexport type CSSColorAngle = CSSNumberish | 'none';\n\n/**\n * CSSColorValue is the base class used for the various CSS color interfaces.\n *\n * @see https://drafts.css-houdini.org/css-typed-om-1/#colorvalue-objects\n */\nexport abstract class CSSColorValue extends CSSStyleValue {\n  constructor(public colorSpace: ColorSpace) {\n    super();\n  }\n\n  getType() {\n    return CSSStyleValueType.kColorType;\n  }\n\n  /**\n   * @see https://drafts.css-houdini.org/css-typed-om-1/#dom-csscolorvalue-to\n   */\n  to(colorSpace: ColorSpace): CSSColorValue {\n    return this;\n  }\n}\n", "import type { CSSKeywordValue } from './CSSKeywordValue';\nimport type { CSSUnitValue } from './CSSNumericValue';\nimport { CSSStyleValue, CSSStyleValueType } from './CSSStyleValue';\nimport type { Nested, ParenLess } from './types';\n\nexport interface LinearColorStop {\n  offset: CSSUnitValue;\n  color: string; // use user-defined value instead of parsed CSSRGB\n}\n\nexport interface LinearGradient {\n  angle: CSSUnitValue;\n  steps: LinearColorStop[];\n}\n\nexport interface RadialGradient {\n  cx: CSSUnitValue;\n  cy: CSSUnitValue;\n  size?: CSSUnitValue | CSSKeywordValue;\n  steps: LinearColorStop[];\n}\n\nexport enum GradientType {\n  Constant,\n  LinearGradient,\n  RadialGradient,\n}\n\nexport class CSSGradientValue extends CSSStyleValue {\n  constructor(\n    public type: GradientType,\n    public value: LinearGradient | RadialGradient,\n  ) {\n    super();\n  }\n\n  clone() {\n    return new CSSGradientValue(this.type, this.value);\n  }\n\n  buildCSSText(n: Nested, p: ParenLess, result: string): string {\n    return result;\n  }\n\n  getType() {\n    return CSSStyleValueType.kColorType;\n  }\n}\n", "import { CSSStyleValue, CSSStyleValueType } from './CSSStyleValue';\nimport type { Nested, ParenLess } from './types';\n\n/**\n * CSSKeywordValue represents CSS Values that are specified as keywords\n * eg. 'initial'\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CSSKeywordValue\n * @see https://chromium.googlesource.com/chromium/src/+/refs/heads/main/third_party/blink/renderer/core/css/cssom/css_keyword_value.idl\n */\nexport class CSSKeywordValue extends CSSStyleValue {\n  constructor(public value: string) {\n    super();\n  }\n\n  clone() {\n    return new CSSKeywordValue(this.value);\n  }\n\n  getType() {\n    return CSSStyleValueType.kKeywordType;\n  }\n\n  buildCSSText(n: Nested, p: ParenLess, result: string) {\n    return result + this.value;\n  }\n}\n", "import {\n  canonicalUnitTypeForCategory,\n  conversionToCanonicalUnitsScaleFactor,\n  CSSStyleValue,\n  CSSStyleValueType,\n  unitFromName,\n  unitTypeToString,\n  unitTypeToUnitCategory,\n} from './CSSStyleValue';\nimport { Nested, ParenLess, UnitType } from './types';\n\nexport type CSSNumberish = number;\n\nconst formatInfinityOrNaN = (number: number, suffix = '') => {\n  let result = '';\n  if (!Number.isFinite(number)) {\n    if (number > 0) result = 'infinity';\n    else result = '-infinity';\n  } else {\n    result = 'NaN';\n  }\n  return (result += suffix);\n};\n\nexport const toCanonicalUnit = (unit: UnitType) => {\n  return canonicalUnitTypeForCategory(unitTypeToUnitCategory(unit));\n};\n\n/**\n * CSSNumericValue is the base class for numeric and length typed CSS Values.\n * @see https://drafts.css-houdini.org/css-typed-om/#numeric-objects\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CSSNumericValue\n * @see https://chromium.googlesource.com/chromium/src/+/refs/heads/main/third_party/blink/renderer/core/css/cssom/css_numeric_value.idl\n */\n\n/**\n * Represents numeric values that can be expressed as a single number plus a\n * unit (or a naked number or percentage).\n * @see https://drafts.css-houdini.org/css-typed-om/#cssunitvalue\n */\nexport class CSSUnitValue extends CSSStyleValue {\n  unit: UnitType;\n  value: number;\n\n  constructor(value: number, unitOrName: UnitType | string = UnitType.kNumber) {\n    super();\n\n    let unit: UnitType;\n    if (typeof unitOrName === 'string') {\n      unit = unitFromName(unitOrName);\n    } else {\n      unit = unitOrName;\n    }\n    this.unit = unit;\n    this.value = value;\n  }\n\n  clone() {\n    return new CSSUnitValue(this.value, this.unit);\n  }\n\n  equals(other: CSSUnitValue): boolean {\n    const other_unit_value = other as unknown as CSSUnitValue;\n    return (\n      this.value === other_unit_value.value &&\n      this.unit === other_unit_value.unit\n    );\n  }\n\n  getType() {\n    return CSSStyleValueType.kUnitType;\n  }\n\n  convertTo(target_unit: UnitType): CSSUnitValue {\n    if (this.unit === target_unit) {\n      return new CSSUnitValue(this.value, this.unit);\n    }\n\n    // Instead of defining the scale factors for every unit to every other unit,\n    // we simply convert to the canonical unit and back since we already have\n    // the scale factors for canonical units.\n    const canonical_unit = toCanonicalUnit(this.unit);\n    if (\n      canonical_unit !== toCanonicalUnit(target_unit) ||\n      canonical_unit === UnitType.kUnknown\n    ) {\n      return null;\n    }\n\n    const scale_factor =\n      conversionToCanonicalUnitsScaleFactor(this.unit) /\n      conversionToCanonicalUnitsScaleFactor(target_unit);\n\n    return new CSSUnitValue(this.value * scale_factor, target_unit);\n  }\n\n  buildCSSText(n: Nested, p: ParenLess, result: string) {\n    let text: string;\n    switch (this.unit) {\n      case UnitType.kUnknown:\n        // FIXME\n        break;\n      case UnitType.kInteger:\n        text = Number(this.value).toFixed(0);\n        break;\n      case UnitType.kNumber:\n      case UnitType.kPercentage:\n      case UnitType.kEms:\n      // case UnitType.kQuirkyEms:\n      // case UnitType.kExs:\n      case UnitType.kRems:\n      // case UnitType.kChs:\n      case UnitType.kPixels:\n      // case UnitType.kCentimeters:\n      // case UnitType.kDotsPerPixel:\n      // case UnitType.kDotsPerInch:\n      // case UnitType.kDotsPerCentimeter:\n      // case UnitType.kMillimeters:\n      // case UnitType.kQuarterMillimeters:\n      // case UnitType.kInches:\n      // case UnitType.kPoints:\n      // case UnitType.kPicas:\n      // case UnitType.kUserUnits:\n      case UnitType.kDegrees:\n      case UnitType.kRadians:\n      case UnitType.kGradians:\n      case UnitType.kMilliseconds:\n      case UnitType.kSeconds:\n      // case UnitType.kHertz:\n      // case UnitType.kKilohertz:\n      case UnitType.kTurns: {\n        // case UnitType.kContainerMax: { // case UnitType.kContainerMin: // case UnitType.kContainerBlockSize: // case UnitType.kContainerInlineSize: // case UnitType.kContainerHeight: // case UnitType.kContainerWidth: // case UnitType.kDynamicViewportMax: // case UnitType.kDynamicViewportMin: // case UnitType.kDynamicViewportBlockSize: // case UnitType.kDynamicViewportInlineSize: // case UnitType.kDynamicViewportHeight: // case UnitType.kDynamicViewportWidth: // case UnitType.kLargeViewportMax: // case UnitType.kLargeViewportMin: // case UnitType.kLargeViewportBlockSize: // case UnitType.kLargeViewportInlineSize: // case UnitType.kLargeViewportHeight: // case UnitType.kLargeViewportWidth: // case UnitType.kSmallViewportMax: // case UnitType.kSmallViewportMin: // case UnitType.kSmallViewportBlockSize: // case UnitType.kSmallViewportInlineSize: // case UnitType.kSmallViewportHeight: // case UnitType.kSmallViewportWidth: // case UnitType.kViewportMax: // case UnitType.kViewportMin: // case UnitType.kViewportBlockSize: // case UnitType.kViewportInlineSize: // case UnitType.kViewportHeight: // case UnitType.kViewportWidth: // case UnitType.kFraction:\n        const kMinInteger = -999999;\n        const kMaxInteger = 999999;\n\n        const { value } = this;\n        const unit = unitTypeToString(this.unit);\n        if (value < kMinInteger || value > kMaxInteger) {\n          const unit = unitTypeToString(this.unit);\n          if (!Number.isFinite(value) || Number.isNaN(value)) {\n            text = formatInfinityOrNaN(value, unit);\n          } else {\n            text = value + (unit || '');\n          }\n        } else {\n          text = `${value}${unit}`;\n        }\n      }\n    }\n\n    result += text;\n    return result;\n  }\n}\n\nexport const Opx: CSSUnitValue = new CSSUnitValue(0, 'px');\nexport const Lpx: CSSUnitValue = new CSSUnitValue(1, 'px');\nexport const Odeg: CSSUnitValue = new CSSUnitValue(0, 'deg');\n", "import type { CSSColorPercent, CSSColorRGBComp } from './CSSColorValue';\nimport { CSSColorValue } from './CSSColorValue';\nimport type { Nested, ParenLess } from './types';\n\n/**\n * The CSSRGB class represents the CSS rgb()/rgba() functions.\n *\n * @see https://drafts.css-houdini.org/css-typed-om-1/#cssrgb\n */\nexport class CSSRGB extends CSSColorValue {\n  constructor(\n    public r: CSSColorRGBComp,\n    public g: CSSColorRGBComp,\n    public b: CSSColorRGBComp,\n    public alpha: CSSColorPercent = 1,\n    /**\n     * 'transparent' & 'none' has the same rgba data\n     */\n    public isNone = false,\n  ) {\n    super('rgb');\n  }\n\n  clone() {\n    return new CSSRGB(this.r, this.g, this.b, this.alpha);\n  }\n\n  buildCSSText(n: Nested, p: ParenLess, result: string): string {\n    return `${result}rgba(${this.r},${this.g},${this.b},${this.alpha})`;\n  }\n}\n", "import { memoize } from '../utils/memoize';\nimport { CSSKeywordValue, CSSRGB, CSSUnitValue, UnitType } from './cssom';\n\n/**\n * CSSKeywordValue\n */\nexport const unsetKeywordValue = new CSSKeywordValue('unset');\nexport const initialKeywordValue = new CSSKeywordValue('initial');\nexport const inheritKeywordValue = new CSSKeywordValue('inherit');\nconst keywordCache: Record<string, CSSKeywordValue> = {\n  '': unsetKeywordValue,\n  unset: unsetKeywordValue,\n  initial: initialKeywordValue,\n  inherit: inheritKeywordValue,\n};\nexport const getOrCreateKeyword = (name: string) => {\n  if (!keywordCache[name]) {\n    keywordCache[name] = new CSSKeywordValue(name);\n  }\n\n  return keywordCache[name];\n};\n\n/**\n * CSSColor\n */\nexport const noneColor = new CSSRGB(0, 0, 0, 0, true);\nexport const transparentColor = new CSSRGB(0, 0, 0, 0);\nexport const getOrCreateRGBA = memoize(\n  (r: number, g: number, b: number, a: number) => {\n    return new CSSRGB(r, g, b, a);\n  },\n  (r: number, g: number, b: number, a: number) => {\n    return `rgba(${r},${g},${b},${a})`;\n  },\n);\n\n// export const getOrCreateUnitValue = memoize(\n//   (value: number, unitOrName: UnitType | string = UnitType.kNumber) => {\n//     return new CSSUnitValue(value, unitOrName);\n//   },\n//   (value: number, unitOrName: UnitType | string = UnitType.kNumber) => {\n//     return `${value}${unitOrName}`;\n//   },\n// );\n\nexport const getOrCreateUnitValue = (\n  value: number,\n  unitOrName: UnitType | string = UnitType.kNumber,\n) => {\n  return new CSSUnitValue(value, unitOrName);\n};\nexport const PECENTAGE_50 = new CSSUnitValue(50, '%');\n", "/**\n * borrow from gradient-parser, but we delete some browser compatible prefix such as `-webkit-`\n * @see https://github.com/rafaelcaricio/gradient-parser\n */\n\nimport { distanceSquareRoot } from '@antv/util';\nimport { CSSKeywordValue, CSSUnitValue, UnitType } from '../css/cssom';\nimport { deg2rad } from './math';\n\nexport interface LinearGradientNode {\n  type: 'linear-gradient';\n  orientation?: DirectionalNode | AngularNode | undefined;\n  colorStops: ColorStop[];\n}\n\nexport interface RepeatingLinearGradientNode {\n  type: 'repeating-linear-gradient';\n  orientation?: DirectionalNode | AngularNode | undefined;\n  colorStops: ColorStop[];\n}\n\nexport interface RadialGradientNode {\n  type: 'radial-gradient';\n  orientation?:\n    | (ShapeNode | DefaultRadialNode | ExtentKeywordNode)[]\n    | undefined;\n  colorStops: ColorStop[];\n}\n\nexport interface RepeatingRadialGradientNode {\n  type: 'repeating-radial-gradient';\n  orientation?:\n    | (ShapeNode | DefaultRadialNode | ExtentKeywordNode)[]\n    | undefined;\n  colorStops: ColorStop[];\n}\n\nexport interface DirectionalNode {\n  type: 'directional';\n  value:\n    | 'left'\n    | 'top'\n    | 'bottom'\n    | 'right'\n    | 'left top'\n    | 'top left'\n    | 'left bottom'\n    | 'bottom left'\n    | 'right top'\n    | 'top right'\n    | 'right bottom'\n    | 'bottom right';\n}\n\nexport interface AngularNode {\n  type: 'angular';\n  value: string;\n}\n\nexport interface LiteralNode {\n  type: 'literal';\n  value: string;\n  length?: PxNode | EmNode | PercentNode | undefined;\n}\n\nexport interface HexNode {\n  type: 'hex';\n  value: string;\n  length?: PxNode | EmNode | PercentNode | undefined;\n}\n\nexport interface RgbNode {\n  type: 'rgb';\n  value: [string, string, string];\n  length?: PxNode | EmNode | PercentNode | undefined;\n}\n\nexport interface RgbaNode {\n  type: 'rgba';\n  value: [string, string, string, string?];\n  length?: PxNode | EmNode | PercentNode | undefined;\n}\n\nexport interface ShapeNode {\n  type: 'shape';\n  style?:\n    | ExtentKeywordNode\n    | PxNode\n    | EmNode\n    | PercentNode\n    | PositionKeywordNode\n    | undefined;\n  value: 'ellipse' | 'circle';\n  at?: PositionNode | undefined;\n}\n\nexport interface DefaultRadialNode {\n  type: 'default-radial';\n  at: PositionNode;\n}\n\nexport interface PositionKeywordNode {\n  type: 'position-keyword';\n  value: 'center' | 'left' | 'top' | 'bottom' | 'right';\n}\n\nexport interface PositionNode {\n  type: 'position';\n  value: {\n    x: ExtentKeywordNode | PxNode | EmNode | PercentNode | PositionKeywordNode;\n    y: ExtentKeywordNode | PxNode | EmNode | PercentNode | PositionKeywordNode;\n  };\n}\n\nexport interface ExtentKeywordNode {\n  type: 'extent-keyword';\n  value:\n    | 'closest-side'\n    | 'closest-corner'\n    | 'farthest-side'\n    | 'farthest-corner'\n    | 'contain'\n    | 'cover';\n  at?: PositionNode | undefined;\n}\n\nexport interface PxNode {\n  type: 'px';\n  value: string;\n}\n\nexport interface EmNode {\n  type: 'em';\n  value: string;\n}\n\nexport interface PercentNode {\n  type: '%';\n  value: string;\n}\n\nexport type ColorStop = LiteralNode | HexNode | RgbNode | RgbaNode;\n\nexport type GradientNode =\n  | LinearGradientNode\n  | RepeatingLinearGradientNode\n  | RadialGradientNode\n  | RepeatingRadialGradientNode;\n\nexport function colorStopToString(colorStop: ColorStop) {\n  const { type, value } = colorStop;\n  if (type === 'hex') {\n    return `#${value}`;\n  }\n  if (type === 'literal') {\n    return value;\n  }\n  if (type === 'rgb') {\n    return `rgb(${value.join(',')})`;\n  }\n  return `rgba(${value.join(',')})`;\n}\n\nexport const parseGradient = (function () {\n  const tokens = {\n    linearGradient: /^(linear\\-gradient)/i,\n    repeatingLinearGradient: /^(repeating\\-linear\\-gradient)/i,\n    radialGradient: /^(radial\\-gradient)/i,\n    repeatingRadialGradient: /^(repeating\\-radial\\-gradient)/i,\n    /**\n     * @see https://projects.verou.me/conic-gradient/\n     */\n    conicGradient: /^(conic\\-gradient)/i,\n    sideOrCorner:\n      /^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,\n    extentKeywords:\n      /^(closest\\-side|closest\\-corner|farthest\\-side|farthest\\-corner|contain|cover)/,\n    positionKeywords: /^(left|center|right|top|bottom)/i,\n    pixelValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))px/,\n    percentageValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))\\%/,\n    emValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))em/,\n    angleValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))deg/,\n    startCall: /^\\(/,\n    endCall: /^\\)/,\n    comma: /^,/,\n    hexColor: /^\\#([0-9a-fA-F]+)/,\n    literalColor: /^([a-zA-Z]+)/,\n    rgbColor: /^rgb/i,\n    rgbaColor: /^rgba/i,\n    number: /^(([0-9]*\\.[0-9]+)|([0-9]+\\.?))/,\n  };\n\n  let input = '';\n\n  function error(msg: string) {\n    throw new Error(`${input}: ${msg}`);\n  }\n\n  function getAST() {\n    const ast = matchListDefinitions();\n\n    if (input.length > 0) {\n      error('Invalid input not EOF');\n    }\n\n    return ast;\n  }\n\n  function matchListDefinitions() {\n    return matchListing(matchDefinition);\n  }\n\n  function matchDefinition() {\n    return (\n      matchGradient(\n        'linear-gradient',\n        tokens.linearGradient,\n        matchLinearOrientation,\n      ) ||\n      matchGradient(\n        'repeating-linear-gradient',\n        tokens.repeatingLinearGradient,\n        matchLinearOrientation,\n      ) ||\n      matchGradient(\n        'radial-gradient',\n        tokens.radialGradient,\n        matchListRadialOrientations,\n      ) ||\n      matchGradient(\n        'repeating-radial-gradient',\n        tokens.repeatingRadialGradient,\n        matchListRadialOrientations,\n      ) ||\n      matchGradient(\n        'conic-gradient',\n        tokens.conicGradient,\n        matchListRadialOrientations,\n      )\n    );\n  }\n\n  function matchGradient(\n    gradientType: string,\n    pattern: RegExp,\n    orientationMatcher,\n  ) {\n    return matchCall(pattern, function (captures) {\n      const orientation = orientationMatcher();\n      if (orientation) {\n        if (!scan(tokens.comma)) {\n          error('Missing comma before color stops');\n        }\n      }\n\n      return {\n        type: gradientType,\n        orientation,\n        colorStops: matchListing(matchColorStop),\n      };\n    });\n  }\n\n  function matchCall(pattern, callback) {\n    const captures = scan(pattern);\n\n    if (captures) {\n      if (!scan(tokens.startCall)) {\n        error('Missing (');\n      }\n\n      const result = callback(captures);\n\n      if (!scan(tokens.endCall)) {\n        error('Missing )');\n      }\n\n      return result;\n    }\n  }\n\n  function matchLinearOrientation() {\n    return matchSideOrCorner() || matchAngle();\n  }\n\n  function matchSideOrCorner() {\n    return match('directional', tokens.sideOrCorner, 1);\n  }\n\n  function matchAngle() {\n    return match('angular', tokens.angleValue, 1);\n  }\n\n  function matchListRadialOrientations() {\n    let radialOrientations;\n    let radialOrientation = matchRadialOrientation();\n    let lookaheadCache;\n\n    if (radialOrientation) {\n      radialOrientations = [];\n      radialOrientations.push(radialOrientation);\n\n      lookaheadCache = input;\n      if (scan(tokens.comma)) {\n        radialOrientation = matchRadialOrientation();\n        if (radialOrientation) {\n          radialOrientations.push(radialOrientation);\n        } else {\n          input = lookaheadCache;\n        }\n      }\n    }\n\n    return radialOrientations;\n  }\n\n  function matchRadialOrientation() {\n    let radialType = matchCircle() || matchEllipse();\n\n    if (radialType) {\n      // @ts-ignore\n      radialType.at = matchAtPosition();\n    } else {\n      const extent = matchExtentKeyword();\n      if (extent) {\n        radialType = extent;\n        const positionAt = matchAtPosition();\n        if (positionAt) {\n          // @ts-ignore\n          radialType.at = positionAt;\n        }\n      } else {\n        const defaultPosition = matchPositioning();\n        if (defaultPosition) {\n          radialType = {\n            type: 'default-radial',\n            // @ts-ignore\n            at: defaultPosition,\n          };\n        }\n      }\n    }\n\n    return radialType;\n  }\n\n  function matchCircle() {\n    const circle = match('shape', /^(circle)/i, 0);\n\n    if (circle) {\n      // @ts-ignore\n      circle.style = matchLength() || matchExtentKeyword();\n    }\n\n    return circle;\n  }\n\n  function matchEllipse() {\n    const ellipse = match('shape', /^(ellipse)/i, 0);\n\n    if (ellipse) {\n      // @ts-ignore\n      ellipse.style = matchDistance() || matchExtentKeyword();\n    }\n\n    return ellipse;\n  }\n\n  function matchExtentKeyword() {\n    return match('extent-keyword', tokens.extentKeywords, 1);\n  }\n\n  function matchAtPosition() {\n    if (match('position', /^at/, 0)) {\n      const positioning = matchPositioning();\n\n      if (!positioning) {\n        error('Missing positioning value');\n      }\n\n      return positioning;\n    }\n  }\n\n  function matchPositioning() {\n    const location = matchCoordinates();\n\n    if (location.x || location.y) {\n      return {\n        type: 'position',\n        value: location,\n      };\n    }\n  }\n\n  function matchCoordinates() {\n    return {\n      x: matchDistance(),\n      y: matchDistance(),\n    };\n  }\n\n  function matchListing(matcher: () => any) {\n    let captures = matcher();\n    const result = [];\n\n    if (captures) {\n      result.push(captures);\n      while (scan(tokens.comma)) {\n        captures = matcher();\n        if (captures) {\n          result.push(captures);\n        } else {\n          error('One extra comma');\n        }\n      }\n    }\n\n    return result;\n  }\n\n  function matchColorStop() {\n    const color = matchColor();\n\n    if (!color) {\n      error('Expected color definition');\n    }\n\n    color.length = matchDistance();\n    return color;\n  }\n\n  function matchColor() {\n    return (\n      matchHexColor() ||\n      matchRGBAColor() ||\n      matchRGBColor() ||\n      matchLiteralColor()\n    );\n  }\n\n  function matchLiteralColor() {\n    return match('literal', tokens.literalColor, 0);\n  }\n\n  function matchHexColor() {\n    return match('hex', tokens.hexColor, 1);\n  }\n\n  function matchRGBColor() {\n    return matchCall(tokens.rgbColor, function () {\n      return {\n        type: 'rgb',\n        value: matchListing(matchNumber),\n      };\n    });\n  }\n\n  function matchRGBAColor() {\n    return matchCall(tokens.rgbaColor, function () {\n      return {\n        type: 'rgba',\n        value: matchListing(matchNumber),\n      };\n    });\n  }\n\n  function matchNumber() {\n    return scan(tokens.number)[1];\n  }\n\n  function matchDistance() {\n    return (\n      match('%', tokens.percentageValue, 1) ||\n      matchPositionKeyword() ||\n      matchLength()\n    );\n  }\n\n  function matchPositionKeyword() {\n    return match('position-keyword', tokens.positionKeywords, 1);\n  }\n\n  function matchLength() {\n    return match('px', tokens.pixelValue, 1) || match('em', tokens.emValue, 1);\n  }\n\n  function match(type: string, pattern, captureIndex: number) {\n    const captures = scan(pattern);\n    if (captures) {\n      return {\n        type,\n        value: captures[captureIndex],\n      };\n    }\n  }\n\n  function scan(regexp) {\n    const blankCaptures = /^[\\n\\r\\t\\s]+/.exec(input);\n    if (blankCaptures) {\n      consume(blankCaptures[0].length);\n    }\n\n    const captures = regexp.exec(input);\n    if (captures) {\n      consume(captures[0].length);\n    }\n\n    return captures;\n  }\n\n  function consume(size: number) {\n    input = input.substring(size);\n  }\n\n  return function (code: string): GradientNode[] {\n    input = code;\n    return getAST();\n  };\n})();\n\nexport function computeLinearGradient(\n  min: [number, number],\n  width: number,\n  height: number,\n  angle: CSSUnitValue,\n) {\n  const rad = deg2rad(angle.value);\n  const rx = 0;\n  const ry = 0;\n  const rcx = rx + width / 2;\n  const rcy = ry + height / 2;\n  // get the length of gradient line\n  // @see https://observablehq.com/@danburzo/css-gradient-line\n  const length =\n    Math.abs(width * Math.cos(rad)) + Math.abs(height * Math.sin(rad));\n  const x1 = min[0] + rcx - (Math.cos(rad) * length) / 2;\n  const y1 = min[1] + rcy - (Math.sin(rad) * length) / 2;\n  const x2 = min[0] + rcx + (Math.cos(rad) * length) / 2;\n  const y2 = min[1] + rcy + (Math.sin(rad) * length) / 2;\n\n  return { x1, y1, x2, y2 };\n}\n\nexport function computeRadialGradient(\n  min: [number, number],\n  width: number,\n  height: number,\n  cx: CSSUnitValue,\n  cy: CSSUnitValue,\n  size?: CSSUnitValue | CSSKeywordValue,\n) {\n  // 'px'\n  let x = cx.value;\n  let y = cy.value;\n\n  // TODO: 'em'\n\n  // '%'\n  if (cx.unit === UnitType.kPercentage) {\n    x = (cx.value / 100) * width;\n  }\n  if (cy.unit === UnitType.kPercentage) {\n    y = (cy.value / 100) * height;\n  }\n\n  // default to farthest-side\n  let r = Math.max(\n    distanceSquareRoot([0, 0], [x, y]),\n    distanceSquareRoot([0, height], [x, y]),\n    distanceSquareRoot([width, height], [x, y]),\n    distanceSquareRoot([width, 0], [x, y]),\n  );\n  if (size) {\n    if (size instanceof CSSUnitValue) {\n      r = size.value;\n    } else if (size instanceof CSSKeywordValue) {\n      // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Images/Using_CSS_gradients#example_closest-side_for_circles\n      if (size.value === 'closest-side') {\n        r = Math.min(x, width - x, y, height - y);\n      } else if (size.value === 'farthest-side') {\n        r = Math.max(x, width - x, y, height - y);\n      } else if (size.value === 'closest-corner') {\n        r = Math.min(\n          distanceSquareRoot([0, 0], [x, y]),\n          distanceSquareRoot([0, height], [x, y]),\n          distanceSquareRoot([width, height], [x, y]),\n          distanceSquareRoot([width, 0], [x, y]),\n        );\n      }\n    }\n  }\n\n  return { x: x + min[0], y: y + min[1], r };\n}\n", "import { isNil, isString } from '@antv/util';\nimport type {\n  AngularNode,\n  ColorStop,\n  DirectionalNode,\n  PositionNode,\n} from '../../utils';\nimport {\n  colorStopToString,\n  parseGradient as parse,\n} from '../../utils/gradient';\nimport { memoize } from '../../utils/memoize';\nimport { getOrCreateKeyword, getOrCreateUnitValue } from '../CSSStyleValuePool';\nimport type {\n  CSSKeywordValue,\n  CSSUnitValue,\n  LinearColorStop,\n  RadialGradient,\n} from '../cssom';\nimport { CSSGradientValue, GradientType, Odeg } from '../cssom';\nimport type { Pattern } from './color';\n\nconst regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nconst regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nconst regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\nconst regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\n\nfunction spaceColorStops(colorStops: ColorStop[]) {\n  const { length } = colorStops;\n  colorStops[length - 1].length = colorStops[length - 1].length ?? {\n    type: '%',\n    value: '100',\n  };\n  if (length > 1) {\n    colorStops[0].length = colorStops[0].length ?? {\n      type: '%',\n      value: '0',\n    };\n  }\n\n  let previousIndex = 0;\n  let previousOffset = Number(colorStops[0].length.value);\n  for (let i = 1; i < length; i++) {\n    // support '%' & 'px'\n    const offset = colorStops[i].length?.value;\n    if (!isNil(offset) && !isNil(previousOffset)) {\n      for (let j = 1; j < i - previousIndex; j++)\n        colorStops[previousIndex + j].length = {\n          type: '%',\n          value: `${\n            previousOffset +\n            ((Number(offset) - previousOffset) * j) / (i - previousIndex)\n          }`,\n        };\n      previousIndex = i;\n      previousOffset = Number(offset);\n    }\n  }\n}\n\n// The position of the gradient line's starting point.\n// different from CSS side(to top) @see https://developer.mozilla.org/en-US/docs/Web/CSS/gradient/linear-gradient#values\nconst SideOrCornerToDegMap: Record<DirectionalNode['value'], number> = {\n  left: 270 - 90,\n  top: 0 - 90,\n  bottom: 180 - 90,\n  right: 90 - 90,\n  'left top': 315 - 90,\n  'top left': 315 - 90,\n  'left bottom': 225 - 90,\n  'bottom left': 225 - 90,\n  'right top': 45 - 90,\n  'top right': 45 - 90,\n  'right bottom': 135 - 90,\n  'bottom right': 135 - 90,\n};\n\nconst angleToDeg: (orientation: DirectionalNode | AngularNode) => CSSUnitValue =\n  memoize((orientation: DirectionalNode | AngularNode) => {\n    let angle: number;\n    if (orientation.type === 'angular') {\n      angle = Number(orientation.value);\n    } else {\n      angle = SideOrCornerToDegMap[orientation.value] || 0;\n    }\n    return getOrCreateUnitValue(angle, 'deg');\n  });\n\nconst positonToCSSUnitValue: (position: PositionNode) => {\n  cx: CSSUnitValue;\n  cy: CSSUnitValue;\n} = memoize((position: PositionNode) => {\n  let cx = 50;\n  let cy = 50;\n  let unitX = '%';\n  let unitY = '%';\n  if (position?.type === 'position') {\n    const { x, y } = position.value;\n    if (x?.type === 'position-keyword') {\n      if (x.value === 'left') {\n        cx = 0;\n      } else if (x.value === 'center') {\n        cx = 50;\n      } else if (x.value === 'right') {\n        cx = 100;\n      } else if (x.value === 'top') {\n        cy = 0;\n      } else if (x.value === 'bottom') {\n        cy = 100;\n      }\n    }\n\n    if (y?.type === 'position-keyword') {\n      if (y.value === 'left') {\n        cx = 0;\n      } else if (y.value === 'center') {\n        cy = 50;\n      } else if (y.value === 'right') {\n        cx = 100;\n      } else if (y.value === 'top') {\n        cy = 0;\n      } else if (y.value === 'bottom') {\n        cy = 100;\n      }\n    }\n\n    if (x?.type === 'px' || x?.type === '%' || x?.type === 'em') {\n      unitX = x?.type;\n      cx = Number(x.value);\n    }\n    if (y?.type === 'px' || y?.type === '%' || y?.type === 'em') {\n      unitY = y?.type;\n      cy = Number(y.value);\n    }\n  }\n\n  return {\n    cx: getOrCreateUnitValue(cx, unitX),\n    cy: getOrCreateUnitValue(cy, unitY),\n  };\n});\n\nexport const parseGradient = memoize((colorStr: string) => {\n  if (colorStr.indexOf('linear') > -1 || colorStr.indexOf('radial') > -1) {\n    const ast = parse(colorStr);\n    return ast.map(({ type, orientation, colorStops }) => {\n      spaceColorStops(colorStops);\n      const steps = colorStops.map<LinearColorStop>((colorStop) => {\n        // TODO: only support % for now, should calc percentage of axis length when using px/em\n        return {\n          offset: getOrCreateUnitValue(Number(colorStop.length.value), '%'),\n          color: colorStopToString(colorStop),\n        };\n      });\n      if (type === 'linear-gradient') {\n        return new CSSGradientValue(GradientType.LinearGradient, {\n          angle: orientation\n            ? angleToDeg(orientation as DirectionalNode | AngularNode)\n            : Odeg,\n          steps,\n        });\n      }\n      if (type === 'radial-gradient') {\n        if (!orientation) {\n          orientation = [\n            {\n              type: 'shape',\n              value: 'circle',\n            },\n          ];\n        }\n        if (\n          orientation[0].type === 'shape' &&\n          orientation[0].value === 'circle'\n        ) {\n          const { cx, cy } = positonToCSSUnitValue(orientation[0].at);\n          let size: CSSUnitValue | CSSKeywordValue;\n          if (orientation[0].style) {\n            const { type, value } = orientation[0].style;\n\n            if (type === 'extent-keyword') {\n              size = getOrCreateKeyword(value);\n            } else {\n              size = getOrCreateUnitValue(value, type);\n            }\n          }\n          return new CSSGradientValue(GradientType.RadialGradient, {\n            cx,\n            cy,\n            size,\n            steps,\n          });\n        }\n        // TODO: support ellipse shape\n        // TODO: repeating-linear-gradient & repeating-radial-gradient\n        // } else if (type === 'repeating-linear-gradient') {\n        // } else if (type === 'repeating-radial-gradient') {\n      }\n\n      return undefined;\n    });\n  }\n\n  // legacy format, should be deprecated later\n  const type = colorStr[0];\n  if (colorStr[1] === '(' || colorStr[2] === '(') {\n    if (type === 'l') {\n      const arr = regexLG.exec(colorStr);\n      if (arr) {\n        const steps =\n          arr[2].match(regexColorStop)?.map((stop) => stop.split(':')) || [];\n        return [\n          new CSSGradientValue(GradientType.LinearGradient, {\n            angle: getOrCreateUnitValue(parseFloat(arr[1]), 'deg'),\n            steps: steps.map(([offset, color]) => ({\n              offset: getOrCreateUnitValue(Number(offset) * 100, '%'),\n              color,\n            })),\n          }),\n        ];\n      }\n    } else if (type === 'r') {\n      const parsedRadialGradient = parseRadialGradient(colorStr);\n      if (parsedRadialGradient) {\n        if (isString(parsedRadialGradient)) {\n          colorStr = parsedRadialGradient;\n        } else {\n          return [\n            new CSSGradientValue(\n              GradientType.RadialGradient,\n              parsedRadialGradient,\n            ),\n          ];\n        }\n      }\n    } else if (type === 'p') {\n      return parsePattern(colorStr);\n    }\n  }\n});\n\nfunction parseRadialGradient(\n  gradientStr: string,\n): RadialGradient | string | null {\n  const arr = regexRG.exec(gradientStr);\n  if (arr) {\n    const steps =\n      arr[4].match(regexColorStop)?.map((stop) => stop.split(':')) || [];\n    return {\n      cx: getOrCreateUnitValue(50, '%'),\n      cy: getOrCreateUnitValue(50, '%'),\n      steps: steps.map(([offset, color]) => ({\n        offset: getOrCreateUnitValue(Number(offset) * 100, '%'),\n        color,\n      })),\n    };\n  }\n  return null;\n}\n\nfunction parsePattern(patternStr: string): Pattern | null {\n  const arr = regexPR.exec(patternStr);\n  if (arr) {\n    let repetition = arr[1];\n    const src = arr[2];\n    switch (repetition) {\n      case 'a':\n        repetition = 'repeat';\n        break;\n      case 'x':\n        repetition = 'repeat-x';\n        break;\n      case 'y':\n        repetition = 'repeat-y';\n        break;\n      case 'n':\n        repetition = 'no-repeat';\n        break;\n      default:\n        repetition = 'no-repeat';\n    }\n    return {\n      image: src,\n      // @ts-ignore\n      repetition,\n    };\n  }\n  return null;\n}\n", "import { clamp, isNil } from '@antv/util';\nimport * as d3 from '@antv/vendor/d3-color';\nimport { Rect } from '../..';\nimport { memoize } from '../../utils/memoize';\nimport type { Tuple4Number } from '../../types';\nimport type { CSSGradientValue } from '../cssom';\nimport { CSSRGB } from '../cssom';\nimport {\n  getOrCreateRGBA,\n  noneColor,\n  transparentColor,\n} from '../CSSStyleValuePool';\nimport { parseGradient } from './gradient';\n\n/**\n * @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/createPattern\n */\nexport interface Pattern {\n  image: string | CanvasImageSource | Rect;\n  repetition?: 'repeat' | 'repeat-x' | 'repeat-y' | 'no-repeat';\n  transform?: string;\n}\n\nexport function isCSSGradientValue(object: any): object is CSSGradientValue {\n  return (\n    !!(object as CSSGradientValue).type && !!(object as CSSGradientValue).value\n  );\n}\n\nexport function isPattern(object: any): object is Pattern {\n  return object && !!(object as Pattern).image;\n}\n\nexport function isCSSRGB(object: any): object is CSSRGB {\n  return (\n    object &&\n    !isNil((object as CSSRGB).r) &&\n    !isNil((object as CSSRGB).g) &&\n    !isNil((object as CSSRGB).b)\n  );\n}\n\n/**\n * @see https://github.com/WebKit/WebKit/blob/main/Source/WebCore/css/parser/CSSParser.cpp#L97\n */\nexport const parseColor = memoize(\n  (colorStr: string | Pattern): CSSRGB | CSSGradientValue[] | Pattern => {\n    if (isPattern(colorStr)) {\n      return {\n        repetition: 'repeat',\n        ...colorStr,\n      };\n    }\n\n    if (isNil(colorStr)) {\n      colorStr = '';\n    }\n\n    if (colorStr === 'transparent') {\n      // transparent black\n      return transparentColor;\n    }\n    if (colorStr === 'currentColor') {\n      // @see https://github.com/adobe-webplatform/Snap.svg/issues/526\n      colorStr = 'black';\n    } else if (colorStr === 'none') {\n      return noneColor;\n    }\n\n    // support CSS gradient syntax\n    const g = parseGradient(colorStr);\n    if (g) {\n      return g;\n    }\n\n    // constants\n    const color = d3.color(colorStr) as d3.RGBColor;\n    const rgba: Tuple4Number = [0, 0, 0, 0];\n    if (color !== null) {\n      rgba[0] = color.r || 0;\n      rgba[1] = color.g || 0;\n      rgba[2] = color.b || 0;\n      rgba[3] = color.opacity;\n    }\n\n    // return new CSSRGB(...rgba);\n    return getOrCreateRGBA(...rgba);\n  },\n);\n\nexport function mergeColors(\n  left: CSSRGB | CSSGradientValue[] | Pattern,\n  right: CSSRGB | CSSGradientValue[] | Pattern,\n): [number[], number[], (color: number[]) => string] | undefined {\n  // only support constant value, exclude gradient & pattern\n  if (!isCSSRGB(left) || !isCSSRGB(right)) {\n    return;\n  }\n\n  return [\n    [Number(left.r), Number(left.g), Number(left.b), Number(left.alpha)],\n    [Number(right.r), Number(right.g), Number(right.b), Number(right.alpha)],\n    (color: number[]) => {\n      const rgba = color.slice();\n      if (rgba[3]) {\n        for (let i = 0; i < 3; i++)\n          rgba[i] = Math.round(clamp(rgba[i], 0, 255));\n      }\n      rgba[3] = clamp(rgba[3], 0, 1);\n      return `rgba(${rgba.join(',')})`;\n    },\n  ];\n}\n", "import { isNil, isNumber, isString } from '@antv/util';\nimport type { DisplayObject } from '../../display-objects';\nimport type { IElement } from '../../dom';\nimport { Shape } from '../../types';\nimport { rad2deg, turn2deg } from '../../utils/math';\nimport { memoize } from '../../utils/memoize';\nimport { getOrCreateUnitValue } from '../CSSStyleValuePool';\nimport type { CSSStyleValue } from '../cssom';\nimport {\n  CSSUnitValue,\n  UnitType,\n  toCanonicalUnit,\n  unitTypeToString,\n} from '../cssom';\n\ntype LengthUnit = 'px' | '%' | 'em' | 'rem';\ntype AngleUnit = 'deg' | 'rad' | 'turn';\ntype Unit = LengthUnit | AngleUnit | '';\n\nexport function parseDimension(\n  unitRegExp: RegExp,\n  string: string,\n): CSSStyleValue | undefined {\n  if (isNil(string)) {\n    return getOrCreateUnitValue(0, 'px');\n  }\n\n  string = `${string}`.trim().toLowerCase();\n\n  if (isFinite(Number(string))) {\n    if ('px'.search(unitRegExp) >= 0) {\n      return getOrCreateUnitValue(Number(string), 'px');\n    }\n    if ('deg'.search(unitRegExp) >= 0) {\n      return getOrCreateUnitValue(Number(string), 'deg');\n    }\n  }\n\n  const matchedUnits: Unit[] = [];\n  string = string.replace(unitRegExp, (match: string) => {\n    matchedUnits.push(match as Unit);\n    return `U${match}`;\n  });\n  const taggedUnitRegExp = `U(${unitRegExp.source})`;\n\n  return matchedUnits.map((unit) =>\n    getOrCreateUnitValue(\n      Number(\n        string\n          .replace(new RegExp(`U${unit}`, 'g'), '')\n          .replace(new RegExp(taggedUnitRegExp, 'g'), '*0'),\n      ),\n      unit,\n    ),\n  )[0];\n}\n\n/**\n * <length>\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/length\n * length with only absolute unit, eg. 1px\n */\nexport const parseLengthUnmemoize = (css: string) => {\n  return parseDimension(new RegExp('px', 'g'), css);\n};\nexport const parseLength = memoize(parseLengthUnmemoize);\n\n/**\n * <percentage>\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/percentage\n */\nexport const parserPercentageUnmemoize = (css: string) => {\n  return parseDimension(new RegExp('%', 'g'), css);\n};\nexport const parserPercentage = memoize(parserPercentageUnmemoize);\n\n/**\n * length with absolute or relative unit,\n * eg. 1px, 0.7em, 50%, calc(100% - 200px);\n *\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/length-percentage\n */\nexport const parseLengthOrPercentageUnmemoize = (css: string): CSSUnitValue => {\n  if (isNumber(css) || isFinite(Number(css))) {\n    // Number(css) is NaN\n    return getOrCreateUnitValue(Number(css) || 0, 'px');\n    // return Number(css);\n  }\n  return parseDimension(new RegExp('px|%|em|rem', 'g'), css) as CSSUnitValue;\n};\nexport const parseLengthOrPercentage = memoize(\n  parseLengthOrPercentageUnmemoize,\n);\n\nexport const parseAngleUnmemoize = (css: string): CSSUnitValue => {\n  return parseDimension(\n    new RegExp('deg|rad|grad|turn', 'g'),\n    css,\n  ) as CSSUnitValue;\n};\nexport const parseAngle = memoize(parseAngleUnmemoize);\n\n/**\n * merge CSSUnitValue\n *\n * @example\n * 10px + 20px = 30px\n * 10deg + 10rad\n * 10% + 20% = 30%\n */\nexport function mergeDimensions(\n  left: CSSUnitValue,\n  right: CSSUnitValue,\n  target: IElement,\n  nonNegative?: boolean,\n  index = 0,\n): [number, number, (value: number) => string] {\n  let unit = '';\n  let leftValue = left.value || 0;\n  let rightValue = right.value || 0;\n\n  const canonicalUnit = toCanonicalUnit(left.unit);\n  const leftCanonicalUnitValue = left.convertTo(canonicalUnit);\n  const rightCanonicalUnitValue = right.convertTo(canonicalUnit);\n\n  if (leftCanonicalUnitValue && rightCanonicalUnitValue) {\n    leftValue = leftCanonicalUnitValue.value;\n    rightValue = rightCanonicalUnitValue.value;\n    unit = unitTypeToString(left.unit);\n  }\n  // format '%' to 'px'\n  else if (\n    CSSUnitValue.isLength(left.unit) ||\n    CSSUnitValue.isLength(right.unit)\n  ) {\n    leftValue = convertPercentUnit(left, index, target as DisplayObject);\n    rightValue = convertPercentUnit(right, index, target as DisplayObject);\n    unit = 'px';\n  }\n\n  return [\n    leftValue,\n    rightValue,\n    (value: number) => {\n      if (nonNegative) {\n        value = Math.max(value, 0);\n      }\n      return value + unit;\n    },\n  ];\n}\n\nexport function convertAngleUnit(value: CSSUnitValue) {\n  let deg = 0;\n  if (value.unit === UnitType.kDegrees) {\n    deg = value.value;\n  } else if (value.unit === UnitType.kRadians) {\n    deg = rad2deg(Number(value.value));\n  } else if (value.unit === UnitType.kTurns) {\n    deg = turn2deg(Number(value.value));\n  } else if (value.value) {\n    deg = value.value;\n  }\n  return deg;\n}\n\nexport function parseDimensionArrayFormat(\n  string: string | number | (string | number)[],\n  size?: 2 | 4 | 'even',\n): number[] {\n  let parsed: number[];\n\n  if (Array.isArray(string)) {\n    // [1, '2px', 3]\n    parsed = string.map((segment) => Number(segment));\n  } else if (isString(string)) {\n    parsed = string.split(' ').map((segment) => Number(segment));\n  } else if (isNumber(string)) {\n    parsed = [string];\n  }\n\n  if (size === 2) {\n    if (parsed.length === 1) {\n      return [parsed[0], parsed[0]];\n    }\n    return [parsed[0], parsed[1]];\n  }\n  if (size === 4) {\n    if (parsed.length === 1) {\n      return [parsed[0], parsed[0], parsed[0], parsed[0]];\n    }\n    if (parsed.length === 2) {\n      return [parsed[0], parsed[1], parsed[0], parsed[1]];\n    }\n    if (parsed.length === 3) {\n      return [parsed[0], parsed[1], parsed[2], parsed[1]];\n    }\n    return [parsed[0], parsed[1], parsed[2], parsed[3]];\n  }\n  if (size === 'even' && parsed.length % 2 === 1) {\n    return [...parsed, ...parsed];\n  }\n  return parsed;\n}\n\nexport function parseDimensionArray(\n  string: string | (string | number)[],\n): CSSUnitValue[] {\n  if (isString(string)) {\n    // \"1px 2px 3px\"\n    return string.split(' ').map((segment) => parseLengthOrPercentage(segment));\n  }\n  // [1, '2px', 3]\n  return string.map((segment) => parseLengthOrPercentage(segment.toString()));\n}\nexport function parseDimensionArrayUnmemoize(\n  string: string | (string | number)[],\n): CSSUnitValue[] {\n  if (isString(string)) {\n    // \"1px 2px 3px\"\n    return string\n      .split(' ')\n      .map((segment) => parseLengthOrPercentageUnmemoize(segment));\n  }\n  // [1, '2px', 3]\n  return string.map((segment) =>\n    parseLengthOrPercentageUnmemoize(segment.toString()),\n  );\n}\n\n// export function mergeDimensionList(\n//   left: CSSUnitValue[],\n//   right: CSSUnitValue[],\n//   target: IElement | null,\n// ): [number[], number[], (list: number[]) => string] | undefined {\n//   if (left.length !== right.length) {\n//     return;\n//   }\n\n//   const unit = left[0].unit;\n\n//   return [\n//     left.map((l) => l.value),\n//     right.map((l) => l.value),\n//     (values: number[]) => {\n//       return values.map((n) => new CSSUnitValue(n, unit)).join(' ');\n//     },\n//   ];\n// }\n\nexport function convertPercentUnit(\n  valueWithUnit: CSSUnitValue,\n  vec3Index: number,\n  target: DisplayObject,\n  useMin = false,\n): number {\n  if (valueWithUnit.unit === UnitType.kPixels) {\n    return Number(valueWithUnit.value);\n  }\n  if (valueWithUnit.unit === UnitType.kPercentage && target) {\n    const bounds =\n      target.nodeName === Shape.GROUP\n        ? target.getLocalBounds()\n        : target.getGeometryBounds();\n    return (\n      (useMin ? bounds.min[vec3Index] : 0) +\n      (valueWithUnit.value / 100) * bounds.halfExtents[vec3Index] * 2\n    );\n  }\n  return 0;\n}\n", "import type { CSSUnitValue } from '../cssom';\nimport { parseColor } from './color';\nimport { parseDimension } from './dimension';\n\nexport interface ParsedFilterStyleProperty {\n  name: string;\n  params: CSSUnitValue[];\n}\n\nexport const parseParam = (css: string) =>\n  parseDimension(/deg|rad|grad|turn|px|%/g, css);\n\nconst supportedFilters = [\n  'blur',\n  'brightness',\n  'drop-shadow',\n  'contrast',\n  'grayscale',\n  'sepia',\n  'saturate',\n  'hue-rotate',\n  'invert',\n];\n\nexport function parseFilter(filterStr = ''): ParsedFilterStyleProperty[] {\n  filterStr = filterStr.toLowerCase().trim();\n  if (filterStr === 'none') {\n    return [];\n  }\n  const filterRegExp = /\\s*([\\w-]+)\\(([^)]*)\\)/g;\n  const result: ParsedFilterStyleProperty[] = [];\n  let match;\n  let prevLastIndex = 0;\n  while ((match = filterRegExp.exec(filterStr))) {\n    if (match.index !== prevLastIndex) {\n      return [];\n    }\n    prevLastIndex = match.index + match[0].length;\n\n    if (supportedFilters.indexOf(match[1]) > -1) {\n      result.push({\n        name: match[1],\n        params: match[2].split(' ').map((p) => parseParam(p) || parseColor(p)),\n      });\n    }\n\n    if (filterRegExp.lastIndex === filterStr.length) {\n      return result;\n    }\n  }\n\n  return [];\n}\n", "import { clamp, isString } from '@antv/util';\nimport { memoize } from '../../utils/memoize';\nimport type { CSSUnitValue } from '../cssom';\nimport { getOrCreateUnitValue } from '../CSSStyleValuePool';\n\nexport function numberToString(x: number) {\n  // scale(0.00000001) -> scale(0)\n  // return x.toFixed(6).replace(/0+$/, '').replace(/\\.$/, '');\n  return x.toString();\n}\n\n/**\n * parse string or number to CSSUnitValue(numeric)\n *\n * eg.\n * * 0 -> CSSUnitValue(0)\n * * '2' -> CSSUnitValue(2)\n */\nexport const parseNumberUnmemoize = (string: string | number): CSSUnitValue => {\n  if (typeof string === 'number') {\n    return getOrCreateUnitValue(string);\n  }\n  if (/^\\s*[-+]?(\\d*\\.)?\\d+\\s*$/.test(string)) {\n    return getOrCreateUnitValue(Number(string));\n  }\n  return getOrCreateUnitValue(0);\n};\nexport const parseNumber = memoize(parseNumberUnmemoize);\n\n/**\n * separate string to array\n * eg.\n * * [0.5, 0.5] -> [CSSUnitValue, CSSUnitValue]\n */\nexport const parseNumberListUnmemoize = (\n  string: string | number[],\n): CSSUnitValue[] => {\n  if (isString(string)) {\n    return string.split(' ').map(parseNumberUnmemoize);\n  }\n  return string.map(parseNumberUnmemoize);\n};\nexport const parseNumberList = memoize(\n  (string: string | number[]): CSSUnitValue[] => {\n    if (isString(string)) {\n      return string.split(' ').map(parseNumber);\n    }\n    return string.map(parseNumber);\n  },\n);\n\nexport function mergeNumbers(\n  left: number,\n  right: number,\n): [number, number, (n: number) => string] {\n  return [left, right, numberToString];\n}\n\nexport function clampedMergeNumbers(min: number, max: number) {\n  return (\n    left: number,\n    right: number,\n  ): [number, number, (i: number) => string] => [\n    left,\n    right,\n    (x: number) => numberToString(clamp(x, min, max)),\n  ];\n}\n\nexport function mergeNumberLists(\n  left: number[],\n  right: number[],\n): [number[], number[], (numberList: number[]) => number[]] | undefined {\n  if (left.length !== right.length) {\n    return;\n  }\n  return [\n    left,\n    right,\n    (numberList: number[]) => {\n      return numberList;\n    },\n  ];\n}\n", "/**\n * implements morph animation with cubic splitting\n * @see http://thednp.github.io/kute.js/svgCubicMorph.html\n */\nimport { arcBox, cubicBox, polylineLength, quadBox } from '@antv/g-math';\nimport type { AbsoluteArray, ASegment } from '@antv/util';\nimport {\n  clamp,\n  getTotalLength,\n  isNumberEqual,\n  max,\n  min,\n  mod,\n} from '@antv/util';\nimport { mat4, vec3 } from 'gl-matrix';\nimport type {\n  Circle,\n  Ellipse,\n  Line,\n  Path,\n  PathArcParams,\n  PathSegment,\n  PathSegmentBBox,\n  Polygon,\n  Polyline,\n  Rect,\n} from '../display-objects';\nimport type { PointLike } from '../shapes';\nimport { Shape } from '../types';\nimport { deg2rad } from './math';\n\nexport function getOrCalculatePathTotalLength(path: Path) {\n  if (path.parsedStyle.d.totalLength === 0) {\n    path.parsedStyle.d.totalLength = getTotalLength(\n      path.parsedStyle.d.absolutePath,\n    );\n  }\n  return path.parsedStyle.d.totalLength;\n}\n\nexport function getOrCalculatePolylineTotalLength(polyline: Polyline) {\n  if (polyline.parsedStyle.points.totalLength === 0) {\n    polyline.parsedStyle.points.totalLength = polylineLength(\n      polyline.parsedStyle.points.points as [number, number][],\n    );\n  }\n  return polyline.parsedStyle.points.totalLength;\n}\n\nexport function removeRedundantMCommand(path: AbsoluteArray) {\n  for (let i = 0; i < path.length; i++) {\n    const prevSegment = path[i - 1];\n    const segment = path[i];\n    const cmd = segment[0];\n    if (cmd === 'M') {\n      if (prevSegment) {\n        const prevCmd = prevSegment[0];\n        const srcPoint = [segment[1], segment[2]];\n        let destPoint: [number, number];\n\n        if (prevCmd === 'L' || prevCmd === 'M') {\n          destPoint = [prevSegment[1], prevSegment[2]];\n        } else if (prevCmd === 'C' || prevCmd === 'A' || prevCmd === 'Q') {\n          destPoint = [\n            prevSegment[prevSegment.length - 2] as number,\n            prevSegment[prevSegment.length - 1] as number,\n          ];\n        }\n\n        if (destPoint && isSamePoint(srcPoint, destPoint)) {\n          path.splice(i, 1);\n          i--;\n        }\n      }\n    }\n  }\n}\n\nexport function hasArcOrBezier(path: AbsoluteArray) {\n  let hasArc = false;\n  const count = path.length;\n  for (let i = 0; i < count; i++) {\n    const params = path[i];\n    const cmd = params[0];\n    if (cmd === 'C' || cmd === 'A' || cmd === 'Q') {\n      hasArc = true;\n      break;\n    }\n  }\n  return hasArc;\n}\n\nexport function extractPolygons(pathArray: AbsoluteArray) {\n  const polygons: [number, number][][] = [];\n  const polylines: [number, number][][] = [];\n  let points: [number, number][] = []; //  'M'\n  for (let i = 0; i < pathArray.length; i++) {\n    const params = pathArray[i];\n    const cmd = params[0];\n    if (cmd === 'M') {\n      //  'M' \n      if (points.length) {\n        //  'Z'\n        polylines.push(points);\n        points = []; // \n      }\n      points.push([params[1], params[2]]);\n    } else if (cmd === 'Z') {\n      if (points.length) {\n        // \n        polygons.push(points);\n        points = []; // \n      }\n      //  'Z'\n    } else {\n      points.push([params[1], params[2]]);\n    }\n  }\n  //  points  polygons  polyline\n  //  M Z \n  if (points.length > 0) {\n    polylines.push(points);\n  }\n  return {\n    polygons,\n    polylines,\n  };\n}\n\nfunction isSamePoint(point1, point2) {\n  return point1[0] === point2[0] && point1[1] === point2[1];\n}\n\nexport function getPathBBox(segments: any[], lineWidth: number) {\n  let xArr = [];\n  let yArr = [];\n  const segmentsWithAngle = [];\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const { currentPoint, params, prePoint } = segment;\n    let box: PathSegmentBBox;\n    switch (segment.command) {\n      case 'Q':\n        box = quadBox(\n          prePoint[0],\n          prePoint[1],\n          params[1],\n          params[2],\n          params[3],\n          params[4],\n        );\n        break;\n      case 'C':\n        box = cubicBox(\n          prePoint[0],\n          prePoint[1],\n          params[1],\n          params[2],\n          params[3],\n          params[4],\n          params[5],\n          params[6],\n        );\n        break;\n      case 'A':\n        const { arcParams } = segment;\n        box = arcBox(\n          arcParams.cx,\n          arcParams.cy,\n          arcParams.rx,\n          arcParams.ry,\n          arcParams.xRotation,\n          arcParams.startAngle,\n          arcParams.endAngle,\n        );\n        break;\n      default:\n        xArr.push(currentPoint[0]);\n        yArr.push(currentPoint[1]);\n        break;\n    }\n    if (box) {\n      segment.box = box;\n      xArr.push(box.x, box.x + box.width);\n      yArr.push(box.y, box.y + box.height);\n    }\n    if (\n      lineWidth &&\n      (segment.command === 'L' || segment.command === 'M') &&\n      segment.prePoint &&\n      segment.nextPoint\n    ) {\n      segmentsWithAngle.push(segment);\n    }\n  }\n  // bbox calculation should ignore NaN for path attribute\n  // ref: https://github.com/antvis/g/issues/210\n  // ref: https://github.com/antvis/G2/issues/3109\n  xArr = xArr.filter(\n    (item) => !Number.isNaN(item) && item !== Infinity && item !== -Infinity,\n  );\n  yArr = yArr.filter(\n    (item) => !Number.isNaN(item) && item !== Infinity && item !== -Infinity,\n  );\n  let minX = min(xArr);\n  let minY = min(yArr);\n  let maxX = max(xArr);\n  let maxY = max(yArr);\n  if (segmentsWithAngle.length === 0) {\n    return {\n      x: minX,\n      y: minY,\n      width: maxX - minX,\n      height: maxY - minY,\n    };\n  }\n  for (let i = 0; i < segmentsWithAngle.length; i++) {\n    const segment = segmentsWithAngle[i];\n    const { currentPoint } = segment;\n    let extra;\n    if (currentPoint[0] === minX) {\n      extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n      minX -= extra.xExtra;\n    } else if (currentPoint[0] === maxX) {\n      extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n      maxX += extra.xExtra;\n    }\n    if (currentPoint[1] === minY) {\n      extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n      minY -= extra.yExtra;\n    } else if (currentPoint[1] === maxY) {\n      extra = getExtraFromSegmentWithAngle(segment, lineWidth);\n      maxY += extra.yExtra;\n    }\n  }\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY,\n  };\n}\n\nfunction getExtraFromSegmentWithAngle(segment, lineWidth: number) {\n  const { prePoint, currentPoint, nextPoint } = segment;\n  const currentAndPre =\n    (currentPoint[0] - prePoint[0]) ** 2 + (currentPoint[1] - prePoint[1]) ** 2;\n  const currentAndNext =\n    (currentPoint[0] - nextPoint[0]) ** 2 +\n    (currentPoint[1] - nextPoint[1]) ** 2;\n  const preAndNext =\n    (prePoint[0] - nextPoint[0]) ** 2 + (prePoint[1] - nextPoint[1]) ** 2;\n  //  currentPoint \n  const currentAngle = Math.acos(\n    (currentAndPre + currentAndNext - preAndNext) /\n      (2 * Math.sqrt(currentAndPre) * Math.sqrt(currentAndNext)),\n  );\n  //  0  PI \n  // :  0  0 \n  if (\n    !currentAngle ||\n    Math.sin(currentAngle) === 0 ||\n    isNumberEqual(currentAngle, 0)\n  ) {\n    return {\n      xExtra: 0,\n      yExtra: 0,\n    };\n  }\n  let xAngle = Math.abs(\n    Math.atan2(nextPoint[1] - currentPoint[1], nextPoint[0] - currentPoint[0]),\n  );\n  let yAngle = Math.abs(\n    Math.atan2(nextPoint[0] - currentPoint[0], nextPoint[1] - currentPoint[1]),\n  );\n  // \n  xAngle = xAngle > Math.PI / 2 ? Math.PI - xAngle : xAngle;\n  yAngle = yAngle > Math.PI / 2 ? Math.PI - yAngle : yAngle;\n  // \n  // \n  const extra = {\n    // \n    xExtra:\n      Math.cos(currentAngle / 2 - xAngle) *\n        ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) -\n        lineWidth / 2 || 0,\n    // \n    yExtra:\n      Math.cos(yAngle - currentAngle / 2) *\n        ((lineWidth / 2) * (1 / Math.sin(currentAngle / 2))) -\n        lineWidth / 2 || 0,\n  };\n  return extra;\n}\n\n// \nfunction toSymmetry(point: number[], center: number[]) {\n  return [\n    center[0] + (center[0] - point[0]),\n    center[1] + (center[1] - point[1]),\n  ];\n}\n\nconst angleBetween = (v0: PointLike, v1: PointLike) => {\n  const p = v0.x * v1.x + v0.y * v1.y;\n  const n = Math.sqrt((v0.x ** 2 + v0.y ** 2) * (v1.x ** 2 + v1.y ** 2));\n  const sign = v0.x * v1.y - v0.y * v1.x < 0 ? -1 : 1;\n  const angle = sign * Math.acos(p / n);\n\n  return angle;\n};\ninterface PointOnEllipticalArc {\n  x: number;\n  y: number;\n  ellipticalArcAngle: number;\n}\n/**\n * @see https://github.com/rveciana/svg-path-properties/blob/b6bd9a322966f6ef7a311872d80c56e3718de861/src/arc.ts#L121\n */\nconst pointOnEllipticalArc = (\n  p0: PointLike,\n  rx: number,\n  ry: number,\n  xAxisRotation: number,\n  largeArcFlag: boolean,\n  sweepFlag: boolean,\n  p1: PointLike,\n  t: number,\n): PointOnEllipticalArc => {\n  // In accordance to: http://www.w3.org/TR/SVG/implnote.html#ArcOutOfRangeParameters\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n  xAxisRotation = mod(xAxisRotation, 360);\n  const xAxisRotationRadians = deg2rad(xAxisRotation);\n  // If the endpoints are identical, then this is equivalent to omitting the elliptical arc segment entirely.\n  if (p0.x === p1.x && p0.y === p1.y) {\n    return { x: p0.x, y: p0.y, ellipticalArcAngle: 0 }; // Check if angle is correct\n  }\n\n  // If rx = 0 or ry = 0 then this arc is treated as a straight line segment joining the endpoints.\n  if (rx === 0 || ry === 0) {\n    // return this.pointOnLine(p0, p1, t);\n    return { x: 0, y: 0, ellipticalArcAngle: 0 }; // Check if angle is correct\n  }\n\n  // Following \"Conversion from endpoint to center parameterization\"\n  // http://www.w3.org/TR/SVG/implnote.html#ArcConversionEndpointToCenter\n\n  // Step #1: Compute transformedPoint\n  const dx = (p0.x - p1.x) / 2;\n  const dy = (p0.y - p1.y) / 2;\n  const transformedPoint = {\n    x:\n      Math.cos(xAxisRotationRadians) * dx + Math.sin(xAxisRotationRadians) * dy,\n    y:\n      -Math.sin(xAxisRotationRadians) * dx +\n      Math.cos(xAxisRotationRadians) * dy,\n  };\n  // Ensure radii are large enough\n  const radiiCheck =\n    transformedPoint.x ** 2 / rx ** 2 + transformedPoint.y ** 2 / ry ** 2;\n  if (radiiCheck > 1) {\n    rx *= Math.sqrt(radiiCheck);\n    ry *= Math.sqrt(radiiCheck);\n  }\n\n  // Step #2: Compute transformedCenter\n  const cSquareNumerator =\n    rx ** 2 * ry ** 2 -\n    rx ** 2 * transformedPoint.y ** 2 -\n    ry ** 2 * transformedPoint.x ** 2;\n  const cSquareRootDenom =\n    rx ** 2 * transformedPoint.y ** 2 + ry ** 2 * transformedPoint.x ** 2;\n  let cRadicand = cSquareNumerator / cSquareRootDenom;\n  // Make sure this never drops below zero because of precision\n  cRadicand = cRadicand < 0 ? 0 : cRadicand;\n  const cCoef = (largeArcFlag !== sweepFlag ? 1 : -1) * Math.sqrt(cRadicand);\n  const transformedCenter = {\n    x: cCoef * ((rx * transformedPoint.y) / ry),\n    y: cCoef * (-(ry * transformedPoint.x) / rx),\n  };\n\n  // Step #3: Compute center\n  const center = {\n    x:\n      Math.cos(xAxisRotationRadians) * transformedCenter.x -\n      Math.sin(xAxisRotationRadians) * transformedCenter.y +\n      (p0.x + p1.x) / 2,\n    y:\n      Math.sin(xAxisRotationRadians) * transformedCenter.x +\n      Math.cos(xAxisRotationRadians) * transformedCenter.y +\n      (p0.y + p1.y) / 2,\n  };\n\n  // Step #4: Compute start/sweep angles\n  // Start angle of the elliptical arc prior to the stretch and rotate operations.\n  // Difference between the start and end angles\n  const startVector = {\n    x: (transformedPoint.x - transformedCenter.x) / rx,\n    y: (transformedPoint.y - transformedCenter.y) / ry,\n  };\n  const startAngle = angleBetween(\n    {\n      x: 1,\n      y: 0,\n    },\n    startVector,\n  );\n\n  const endVector = {\n    x: (-transformedPoint.x - transformedCenter.x) / rx,\n    y: (-transformedPoint.y - transformedCenter.y) / ry,\n  };\n  let sweepAngle = angleBetween(startVector, endVector);\n\n  if (!sweepFlag && sweepAngle > 0) {\n    sweepAngle -= 2 * Math.PI;\n  } else if (sweepFlag && sweepAngle < 0) {\n    sweepAngle += 2 * Math.PI;\n  }\n  // We use % instead of `mod(..)` because we want it to be -360deg to 360deg(but actually in radians)\n  sweepAngle %= 2 * Math.PI;\n\n  // From http://www.w3.org/TR/SVG/implnote.html#ArcParameterizationAlternatives\n  const angle = startAngle + sweepAngle * t;\n  const ellipseComponentX = rx * Math.cos(angle);\n  const ellipseComponentY = ry * Math.sin(angle);\n\n  const point = {\n    x:\n      Math.cos(xAxisRotationRadians) * ellipseComponentX -\n      Math.sin(xAxisRotationRadians) * ellipseComponentY +\n      center.x,\n    y:\n      Math.sin(xAxisRotationRadians) * ellipseComponentX +\n      Math.cos(xAxisRotationRadians) * ellipseComponentY +\n      center.y,\n    ellipticalArcStartAngle: startAngle,\n    ellipticalArcEndAngle: startAngle + sweepAngle,\n    ellipticalArcAngle: angle,\n    ellipticalArcCenter: center,\n    resultantRx: rx,\n    resultantRy: ry,\n  };\n\n  return point;\n};\n\nexport function path2Segments(path: AbsoluteArray): PathSegment[] {\n  const segments = [];\n  let currentPoint = null; // \n  let nextParams = null; //  path \n  let startMovePoint = null; //  M \n  let lastStartMovePointIndex = 0; //  M \n  const count = path.length;\n  for (let i = 0; i < count; i++) {\n    const params = path[i];\n    nextParams = path[i + 1];\n    const command = params[0];\n    // \n    const segment: PathSegment = {\n      command,\n      prePoint: currentPoint,\n      params,\n      startTangent: null,\n      endTangent: null,\n      currentPoint: null,\n      nextPoint: null,\n      arcParams: null,\n      box: null,\n      cubicParams: null,\n    };\n    switch (command) {\n      case 'M':\n        startMovePoint = [params[1], params[2]];\n        lastStartMovePointIndex = i;\n        break;\n      case 'A':\n        const arcParams = getArcParams(currentPoint, params);\n        segment.arcParams = arcParams;\n        break;\n      default:\n        break;\n    }\n    if (command === 'Z') {\n      //  Z  M \n      currentPoint = startMovePoint;\n      //  Z M  M \n      nextParams = path[lastStartMovePointIndex + 1];\n    } else {\n      const len = params.length;\n      currentPoint = [params[len - 2], params[len - 1]];\n    }\n    if (nextParams && nextParams[0] === 'Z') {\n      //  Z M \n      nextParams = path[lastStartMovePointIndex];\n      if (segments[lastStartMovePointIndex]) {\n        //  Z M \n        segments[lastStartMovePointIndex].prePoint = currentPoint;\n      }\n    }\n    segment.currentPoint = currentPoint;\n    //  M  M \n    if (\n      segments[lastStartMovePointIndex] &&\n      isSamePoint(currentPoint, segments[lastStartMovePointIndex].currentPoint)\n    ) {\n      segments[lastStartMovePointIndex].prePoint = segment.prePoint;\n    }\n    const nextPoint = nextParams\n      ? [nextParams[nextParams.length - 2], nextParams[nextParams.length - 1]]\n      : null;\n    segment.nextPoint = nextPoint as [number, number];\n    // Add startTangent and endTangent\n    const { prePoint } = segment;\n    if (['L', 'H', 'V'].includes(command)) {\n      segment.startTangent = [\n        prePoint[0] - currentPoint[0],\n        prePoint[1] - currentPoint[1],\n      ];\n      segment.endTangent = [\n        currentPoint[0] - prePoint[0],\n        currentPoint[1] - prePoint[1],\n      ];\n    } else if (command === 'Q') {\n      // \n      const cp = [params[1], params[2]];\n      //  currentPoint\n      segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n      segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n    } else if (command === 'T') {\n      const preSegment = segments[i - 1];\n      const cp = toSymmetry(preSegment.currentPoint, prePoint);\n      if (preSegment.command === 'Q') {\n        segment.command = 'Q';\n        segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n        segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n      } else {\n        // @ts-ignore\n        segment.command = 'TL';\n        segment.startTangent = [\n          prePoint[0] - currentPoint[0],\n          prePoint[1] - currentPoint[1],\n        ];\n        segment.endTangent = [\n          currentPoint[0] - prePoint[0],\n          currentPoint[1] - prePoint[1],\n        ];\n      }\n    } else if (command === 'C') {\n      // \n      const cp1 = [params[1], params[2]];\n      const cp2 = [params[3], params[4]];\n      segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n      segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n\n      // horizontal line, eg. ['C', 100, 100, 100, 100, 200, 200]\n      if (segment.startTangent[0] === 0 && segment.startTangent[1] === 0) {\n        segment.startTangent = [cp1[0] - cp2[0], cp1[1] - cp2[1]];\n      }\n      if (segment.endTangent[0] === 0 && segment.endTangent[1] === 0) {\n        segment.endTangent = [cp2[0] - cp1[0], cp2[1] - cp1[1]];\n      }\n    } else if (command === 'S') {\n      const preSegment = segments[i - 1];\n      const cp1 = toSymmetry(preSegment.currentPoint, prePoint);\n      const cp2 = [params[1], params[2]];\n      if (preSegment.command === 'C') {\n        segment.command = 'C'; //  S  C \n        segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n        segment.endTangent = [\n          currentPoint[0] - cp2[0],\n          currentPoint[1] - cp2[1],\n        ];\n      } else {\n        // @ts-ignore\n        segment.command = 'SQ'; //  S  SQ \n        segment.startTangent = [prePoint[0] - cp2[0], prePoint[1] - cp2[1]];\n        segment.endTangent = [\n          currentPoint[0] - cp2[0],\n          currentPoint[1] - cp2[1],\n        ];\n      }\n    } else if (command === 'A') {\n      const { x: dx1, y: dy1 } = getTangentAtRatio(segment, 0);\n      const { x: dx2, y: dy2 } = getTangentAtRatio(segment, 1, false);\n\n      segment.startTangent = [dx1, dy1];\n      segment.endTangent = [dx2, dy2];\n    }\n    segments.push(segment);\n  }\n  return segments;\n}\n\n/**\n * Use length instead of ratio\n */\nfunction getTangentAtRatio(segment: PathSegment, ratio: number, sign = true) {\n  const { rx = 0, ry = 0, xRotation, arcFlag, sweepFlag } = segment.arcParams;\n  const p1 = pointOnEllipticalArc(\n    { x: segment.prePoint[0], y: segment.prePoint[1] },\n    rx,\n    ry,\n    xRotation,\n    !!arcFlag,\n    !!sweepFlag,\n    { x: segment.currentPoint[0], y: segment.currentPoint[1] },\n    ratio,\n  );\n\n  const p2 = pointOnEllipticalArc(\n    { x: segment.prePoint[0], y: segment.prePoint[1] },\n    rx,\n    ry,\n    xRotation,\n    !!arcFlag,\n    !!sweepFlag,\n    { x: segment.currentPoint[0], y: segment.currentPoint[1] },\n    sign ? ratio + 0.005 : ratio - 0.005,\n  );\n\n  const xDist = p2.x - p1.x;\n  const yDist = p2.y - p1.y;\n\n  const dist = Math.sqrt(xDist * xDist + yDist * yDist);\n  return { x: -xDist / dist, y: -yDist / dist };\n}\n\n// \nfunction vMag(v: number[]) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n\n// u.v/|u||v|\nfunction vRatio(u: number[], v: number[]) {\n  //  0  0 1\n  return vMag(u) * vMag(v)\n    ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v))\n    : 1;\n}\n\n// \nfunction vAngle(u: number[], v: number[]) {\n  return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n\nfunction getArcParams(\n  startPoint: [number, number],\n  params: ASegment,\n): PathArcParams {\n  let rx = params[1];\n  let ry = params[2];\n  const xRotation = mod(deg2rad(params[3]), Math.PI * 2);\n  const arcFlag = params[4];\n  const sweepFlag = params[5];\n  // \n  const x1 = startPoint[0];\n  const y1 = startPoint[1];\n  // \n  const x2 = params[6];\n  const y2 = params[7];\n  const xp =\n    (Math.cos(xRotation) * (x1 - x2)) / 2.0 +\n    (Math.sin(xRotation) * (y1 - y2)) / 2.0;\n  const yp =\n    (-1 * Math.sin(xRotation) * (x1 - x2)) / 2.0 +\n    (Math.cos(xRotation) * (y1 - y2)) / 2.0;\n  const lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n  const diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n\n  let f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n\n  if (arcFlag === sweepFlag) {\n    f *= -1;\n  }\n  if (isNaN(f)) {\n    f = 0;\n  }\n\n  //  0  (0, 0) \n  const cxp = ry ? (f * rx * yp) / ry : 0;\n  const cyp = rx ? (f * -ry * xp) / rx : 0;\n\n  // \n  const cx =\n    (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n  const cy =\n    (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n\n  // \n  const u = [(xp - cxp) / rx, (yp - cyp) / ry];\n  // \n  const v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n  //  x \n  const theta = vAngle([1, 0], u);\n\n  // \n  let dTheta = vAngle(u, v);\n\n  if (vRatio(u, v) <= -1) {\n    dTheta = Math.PI;\n  }\n  if (vRatio(u, v) >= 1) {\n    dTheta = 0;\n  }\n  if (sweepFlag === 0 && dTheta > 0) {\n    dTheta -= 2 * Math.PI;\n  }\n  if (sweepFlag === 1 && dTheta < 0) {\n    dTheta += 2 * Math.PI;\n  }\n  return {\n    cx,\n    cy,\n    //  0 \n    rx: isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n    ry: isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n    startAngle: theta,\n    endAngle: theta + dTheta,\n    xRotation,\n    arcFlag,\n    sweepFlag,\n  };\n}\n\nfunction commandsToPathString(\n  commands: AbsoluteArray,\n  object: Circle | Ellipse | Rect | Line | Polyline | Polygon | Path,\n  transform?: mat4,\n) {\n  return commands.reduce((prev, cur) => {\n    let path = '';\n    if (cur[0] === 'M' || cur[0] === 'L') {\n      const p = vec3.fromValues(cur[1], cur[2], 0);\n\n      if (transform) {\n        vec3.transformMat4(p, p, transform);\n      }\n\n      path = `${cur[0]}${p[0]},${p[1]}`;\n    } else if (cur[0] === 'Z') {\n      path = cur[0];\n    } else if (cur[0] === 'C') {\n      const p1 = vec3.fromValues(cur[1], cur[2], 0);\n      const p2 = vec3.fromValues(cur[3], cur[4], 0);\n      const p3 = vec3.fromValues(cur[5], cur[6], 0);\n\n      if (transform) {\n        vec3.transformMat4(p1, p1, transform);\n        vec3.transformMat4(p2, p2, transform);\n        vec3.transformMat4(p3, p3, transform);\n      }\n\n      path = `${cur[0]}${p1[0]},${p1[1]},${p2[0]},${p2[1]},${p3[0]},${p3[1]}`;\n    } else if (cur[0] === 'A') {\n      const c = vec3.fromValues(cur[6], cur[7], 0);\n      if (transform) {\n        vec3.transformMat4(c, c, transform);\n      }\n      path = `${cur[0]}${cur[1]},${cur[2]},${cur[3]},${cur[4]},${cur[5]},${c[0]},${c[1]}`;\n    } else if (cur[0] === 'Q') {\n      const p1 = vec3.fromValues(cur[1], cur[2], 0);\n      const p2 = vec3.fromValues(cur[3], cur[4], 0);\n      if (transform) {\n        vec3.transformMat4(p1, p1, transform);\n        vec3.transformMat4(p2, p2, transform);\n      }\n      path = `${cur[0]}${cur[1]},${cur[2]},${cur[3]},${cur[4]}}`;\n    }\n\n    return (prev += path);\n  }, '');\n}\n\nfunction lineToCommands(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n): AbsoluteArray {\n  return [\n    ['M', x1, y1],\n    ['L', x2, y2],\n  ];\n}\n\nfunction ellipseToCommands(\n  rx: number,\n  ry: number,\n  cx: number,\n  cy: number,\n): AbsoluteArray {\n  const factor = ((-1 + Math.sqrt(2)) / 3) * 4;\n  const dx = rx * factor;\n  const dy = ry * factor;\n  const left = cx - rx;\n  const right = cx + rx;\n  const top = cy - ry;\n  const bottom = cy + ry;\n\n  return [\n    ['M', left, cy],\n    ['C', left, cy - dy, cx - dx, top, cx, top],\n    ['C', cx + dx, top, right, cy - dy, right, cy],\n    ['C', right, cy + dy, cx + dx, bottom, cx, bottom],\n    ['C', cx - dx, bottom, left, cy + dy, left, cy],\n    ['Z'],\n  ];\n}\n\nfunction polygonToCommands(\n  points: ([number, number] | [number, number, number])[],\n  closed: boolean,\n): AbsoluteArray {\n  const result = points.map((point, i) => {\n    return [i === 0 ? 'M' : 'L', point[0], point[1]];\n  });\n\n  if (closed) {\n    result.push(['Z']);\n  }\n\n  return result as AbsoluteArray;\n}\n\nfunction rectToCommands(\n  width: number,\n  height: number,\n  x: number,\n  y: number,\n  radius?: [number, number, number, number],\n): AbsoluteArray {\n  // @see https://gist.github.com/danielpquinn/dd966af424030d47e476\n  if (radius) {\n    const [tlr, trr, brr, blr] = radius;\n    const signX = width > 0 ? 1 : -1;\n    const signY = height > 0 ? 1 : -1;\n    // sweep-flag @see https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Paths#arcs\n    const sweepFlag = signX + signY !== 0 ? 1 : 0;\n    return [\n      ['M', signX * tlr + x, y],\n      ['L', width - signX * trr + x, y],\n      trr ? ['A', trr, trr, 0, 0, sweepFlag, width + x, signY * trr + y] : null,\n      ['L', width + x, height - signY * brr + y],\n      brr\n        ? ['A', brr, brr, 0, 0, sweepFlag, width + x - signX * brr, height + y]\n        : null,\n      ['L', x + signX * blr, height + y],\n      blr\n        ? ['A', blr, blr, 0, 0, sweepFlag, x, height + y - signY * blr]\n        : null,\n      ['L', x, signY * tlr + y],\n      tlr ? ['A', tlr, tlr, 0, 0, sweepFlag, signX * tlr + x, y] : null,\n      ['Z'],\n    ].filter((command) => command) as AbsoluteArray;\n  }\n\n  return [\n    ['M', x, y],\n    ['L', x + width, y],\n    ['L', x + width, y + height],\n    ['L', x, y + height],\n    ['Z'],\n  ];\n}\n\n/**\n * convert object to path, should account for:\n * * transform & origin\n * * lineWidth\n */\nexport function convertToPath(\n  object: Circle | Ellipse | Rect | Line | Polyline | Polygon | Path,\n  transform: mat4 = object.getLocalTransform(),\n) {\n  let commands: AbsoluteArray = [] as unknown as AbsoluteArray;\n  switch (object.nodeName) {\n    case Shape.LINE:\n      const { x1 = 0, y1 = 0, x2 = 0, y2 = 0 } = (object as Line).parsedStyle;\n      commands = lineToCommands(x1, y1, x2, y2);\n      break;\n    case Shape.CIRCLE: {\n      const { r = 0, cx = 0, cy = 0 } = (object as Circle).parsedStyle;\n      commands = ellipseToCommands(r, r, cx, cy);\n      break;\n    }\n    case Shape.ELLIPSE: {\n      const {\n        rx = 0,\n        ry = 0,\n        cx = 0,\n        cy = 0,\n      } = (object as Ellipse).parsedStyle;\n      commands = ellipseToCommands(rx, ry, cx, cy);\n      break;\n    }\n    case Shape.POLYLINE:\n    case Shape.POLYGON:\n      const { points } = (object as Polyline).parsedStyle;\n      commands = polygonToCommands(\n        points.points,\n        object.nodeName === Shape.POLYGON,\n      );\n      break;\n    case Shape.RECT:\n      const {\n        width = 0,\n        height = 0,\n        x = 0,\n        y = 0,\n        radius,\n      } = (object as Rect).parsedStyle;\n\n      const hasRadius = radius && radius.some((r) => r !== 0);\n      commands = rectToCommands(\n        width,\n        height,\n        x,\n        y,\n        hasRadius &&\n          (radius.map((r) =>\n            clamp(r, 0, Math.min(Math.abs(width) / 2, Math.abs(height) / 2)),\n          ) as [number, number, number, number]),\n      );\n      break;\n    case Shape.PATH:\n      const { absolutePath } = (object as Path).parsedStyle.d;\n      commands = [...absolutePath];\n      break;\n  }\n\n  if (commands.length) {\n    return commandsToPathString(commands, object, transform);\n  }\n}\n\nexport function translatePathToString(\n  absolutePath: AbsoluteArray,\n  startOffsetX = 0,\n  startOffsetY = 0,\n  endOffsetX = 0,\n  endOffsetY = 0,\n) {\n  const newValue = absolutePath\n    .map((params, i) => {\n      const command = params[0];\n      const nextSegment = absolutePath[i + 1];\n      const useStartOffset =\n        i === 0 && (startOffsetX !== 0 || startOffsetY !== 0);\n      const useEndOffset =\n        (i === absolutePath.length - 1 ||\n          (nextSegment &&\n            (nextSegment[0] === 'M' || nextSegment[0] === 'Z'))) &&\n        endOffsetX !== 0 &&\n        endOffsetY !== 0;\n      const [startOffsetXTemp, startOffsetYTemp] = useStartOffset\n        ? [startOffsetX, startOffsetY]\n        : [0, 0];\n      const [endOffsetXTemp, endOffsetYTemp] = useEndOffset\n        ? [endOffsetX, endOffsetY]\n        : [0, 0];\n\n      switch (command) {\n        case 'M':\n          return `M ${params[1] + startOffsetXTemp},${params[2] + startOffsetYTemp}`;\n\n        case 'L':\n          return `L ${params[1] + endOffsetXTemp},${\n            params[2] + endOffsetYTemp\n          }`;\n\n        case 'Q':\n          return `Q ${params[1]} ${params[2]},${params[3] + endOffsetXTemp} ${params[4] + endOffsetYTemp}`;\n\n        case 'C':\n          return `C ${params[1]} ${params[2]},${params[3]} ${params[4]},${params[5] + endOffsetXTemp} ${params[6] + endOffsetYTemp}`;\n\n        case 'A':\n          return `A ${params[1]} ${params[2]} ${params[3]} ${params[4]} ${params[5]} ${params[6]} ${params[7]}${\n            useEndOffset\n              ? ` L ${params[6] + endOffsetX},${params[7] + endOffsetY}`\n              : ''\n          }`;\n\n        case 'Z':\n          return 'Z';\n\n        default:\n          return null;\n      }\n    })\n    .filter((item) => item !== null)\n    .join(' ');\n  if (~newValue.indexOf('NaN')) {\n    return '';\n  }\n  return newValue;\n}\n", "import type { AbsoluteArray, CurveArray, PathArray } from '@antv/util';\nimport {\n  clonePath,\n  equalizeSegments,\n  getDrawDirection,\n  getRotatedCurve,\n  isString,\n  normalizePath,\n  path2Curve,\n  reverseCurve,\n} from '@antv/util';\nimport type { ParsedPathStyleProps } from '../../display-objects';\nimport type { IElement } from '../../dom';\nimport { memoize } from '../../utils/memoize';\nimport {\n  extractPolygons,\n  getPathBBox,\n  hasArcOrBezier,\n  path2Segments,\n  removeRedundantMCommand,\n} from '../../utils/path';\n\nconst internalParsePath = (path: string | PathArray) => {\n  // empty path\n  if (path === '' || (Array.isArray(path) && path.length === 0)) {\n    return {\n      absolutePath: [],\n      hasArc: false,\n      segments: [],\n      polygons: [],\n      polylines: [],\n      curve: null,\n      totalLength: 0,\n      rect: {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n      },\n    };\n  }\n\n  let absolutePath: AbsoluteArray;\n  try {\n    absolutePath = normalizePath(path);\n  } catch {\n    absolutePath = normalizePath('');\n    console.error(`[g]: Invalid SVG Path definition: ${path}`);\n  }\n\n  removeRedundantMCommand(absolutePath);\n\n  const hasArc = hasArcOrBezier(absolutePath);\n\n  const { polygons, polylines } = extractPolygons(absolutePath);\n\n  // for later use\n  const segments = path2Segments(absolutePath);\n\n  // Only calculate bbox here since we don't need length now.\n  const { x, y, width, height } = getPathBBox(segments, 0);\n\n  return {\n    absolutePath,\n    hasArc,\n    segments,\n    polygons,\n    polylines,\n    // curve,\n    // Delay the calculation of length.\n    totalLength: 0,\n    rect: {\n      x: Number.isFinite(x) ? x : 0,\n      y: Number.isFinite(y) ? y : 0,\n      width: Number.isFinite(width) ? width : 0,\n      height: Number.isFinite(height) ? height : 0,\n    },\n  };\n};\n\nconst memoizedParsePath = memoize(internalParsePath);\n\nexport function parsePath(path: string | PathArray): ParsedPathStyleProps['d'] {\n  return (\n    isString(path) ? memoizedParsePath(path) : internalParsePath(path)\n  ) as ParsedPathStyleProps['d'];\n}\n\nexport function mergePaths(\n  left: ParsedPathStyleProps['d'],\n  right: ParsedPathStyleProps['d'],\n  object?: IElement,\n): [CurveArray, CurveArray, (b: CurveArray) => CurveArray] {\n  let curve1 = left.curve;\n  let curve2 = right.curve;\n  if (!curve1 || curve1.length === 0) {\n    // convert to curves to do morphing & picking later\n    // @see http://thednp.github.io/kute.js/svgCubicMorph.html\n    curve1 = path2Curve(left.absolutePath, false) as CurveArray;\n    left.curve = curve1;\n  }\n  if (!curve2 || curve2.length === 0) {\n    curve2 = path2Curve(right.absolutePath, false) as CurveArray;\n    right.curve = curve2;\n  }\n\n  let curves = [curve1, curve2];\n  if (curve1.length !== curve2.length) {\n    curves = equalizeSegments(curve1, curve2);\n  }\n\n  const curve0 =\n    getDrawDirection(curves[0]) !== getDrawDirection(curves[1])\n      ? reverseCurve(curves[0])\n      : (clonePath(curves[0]) as CurveArray);\n\n  return [\n    curve0,\n    getRotatedCurve(curves[1], curve0) as CurveArray,\n    (pathArray: CurveArray) => {\n      // need converting to path string?\n      return pathArray;\n    },\n  ];\n}\n", "import { isString } from '@antv/util';\nimport type { DisplayObject } from '../..';\n\n/**\n * @see https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/points\n *\n * @example\n * points=\"100,10 250,150 200,110\"\n */\nexport function parsePoints(\n  pointsOrStr: string | [number, number][],\n  object?: DisplayObject,\n) {\n  let points: [number, number][];\n  if (isString(pointsOrStr)) {\n    points = pointsOrStr.split(' ').map((pointStr) => {\n      const [x, y] = pointStr.split(',');\n      return [Number(x), Number(y)];\n    });\n  } else {\n    points = pointsOrStr;\n  }\n\n  return {\n    points,\n    totalLength: 0,\n    segments: [],\n  };\n}\n\nexport function mergePoints(\n  left,\n  right,\n):\n  | [\n      [number, number][],\n      [number, number][],\n      (numberList: [number, number][]) => [number, number][],\n    ]\n  | undefined {\n  return [\n    left.points,\n    right.points,\n    (points) => {\n      return points;\n    },\n  ];\n}\n", "import { clamp } from '@antv/util';\nimport type { DisplayObject } from '../../display-objects';\nimport { decomposeMat4, deg2rad } from '../../utils/math';\nimport { getOrCreateUnitValue } from '../CSSStyleValuePool';\nimport { CSSUnitValue, Odeg, Opx } from '../cssom';\nimport {\n  convertAngleUnit,\n  convertPercentUnit,\n  mergeDimensions,\n  parseAngle,\n  parseAngleUnmemoize,\n  parseLength,\n  parseLengthUnmemoize,\n  parseLengthOrPercentage,\n  parseLengthOrPercentageUnmemoize,\n} from './dimension';\nimport { parseNumber, parseNumberUnmemoize } from './numeric';\nimport type { TransformArray, TransformType } from '../../types';\n\n// eg. { t: 'scale', d: [CSSUnitValue(1), CSSUnitValue(2)] }\nexport interface ParsedTransform {\n  t: string;\n  d: CSSUnitValue[];\n}\n\ntype PatternElement = string | number | null | CSSUnitValue;\ntype CastFunction =\n  | ((string: string) => string)\n  | ((contents: (number | PatternElement)[]) => PatternElement[]);\n\nconst _ = null;\nconst TRANSFORM_REGEXP = /\\s*(\\w+)\\(([^)]*)\\)/g;\nfunction cast(pattern: PatternElement[]) {\n  return function (contents: PatternElement[]) {\n    let i = 0;\n    return pattern.map((x) => {\n      return x === _ ? contents[i++] : x;\n    });\n  };\n}\n\nfunction id(x: string) {\n  return x;\n}\n\n// type: [argTypes, convertTo3D, convertTo2D]\n// In the argument types string, lowercase characters represent optional arguments\nconst transformFunctions: Record<\n  TransformType,\n  [string] | [string, CastFunction] | [string, CastFunction, CastFunction]\n> = {\n  // @ts-ignore\n  matrix: ['NNNNNN', [_, _, 0, 0, _, _, 0, 0, 0, 0, 1, 0, _, _, 0, 1], id],\n  matrix3d: ['NNNNNNNNNNNNNNNN', id],\n  rotate: ['A'],\n  rotateX: ['A'],\n  rotateY: ['A'],\n  rotateZ: ['A'],\n  rotate3d: ['NNNA'],\n  perspective: ['L'],\n  scale: ['Nn', cast([_, _, new CSSUnitValue(1)]), id],\n  scaleX: [\n    'N',\n    cast([_, new CSSUnitValue(1), new CSSUnitValue(1)]),\n    cast([_, new CSSUnitValue(1)]),\n  ],\n  scaleY: [\n    'N',\n    cast([new CSSUnitValue(1), _, new CSSUnitValue(1)]),\n    cast([new CSSUnitValue(1), _]),\n  ],\n  scaleZ: ['N', cast([new CSSUnitValue(1), new CSSUnitValue(1), _])],\n  scale3d: ['NNN', id],\n  skew: ['Aa', null, id],\n  skewX: ['A', null, cast([_, Odeg])],\n  skewY: ['A', null, cast([Odeg, _])],\n  translate: ['Tt', cast([_, _, Opx]), id],\n  translateX: ['T', cast([_, Opx, Opx]), cast([_, Opx])],\n  translateY: ['T', cast([Opx, _, Opx]), cast([Opx, _])],\n  translateZ: ['L', cast([Opx, Opx, _])],\n  translate3d: ['TTL', id],\n};\n\nfunction parseArrayTransform(transform: TransformArray): ParsedTransform[] {\n  const result: ParsedTransform[] = [];\n  const length = transform.length;\n\n  for (let i = 0; i < length; i++) {\n    const item = transform[i];\n    const name = item[0];\n    const args = item.slice(1) as number[];\n    // infer default value\n    if (name === 'translate' || name === 'skew') {\n      if (args.length === 1) args.push(0);\n    } else if (name === 'scale') {\n      if (args.length === 1) args.push(args[0]);\n    }\n\n    const functionData = transformFunctions[name];\n    if (!functionData) return [];\n    const parsedArgs = args.map((value) => getOrCreateUnitValue(value));\n    result.push({ t: name, d: parsedArgs });\n  }\n\n  return result;\n}\n\n/**\n * none\n * scale(1) scale(1, 2)\n * scaleX(1)\n */\nexport function parseTransform(\n  transform: string | TransformArray,\n): ParsedTransform[] {\n  if (Array.isArray(transform)) {\n    return parseArrayTransform(transform);\n  }\n\n  transform = (transform || 'none').trim();\n  if (transform === 'none') {\n    return [];\n  }\n  const result: ParsedTransform[] = [];\n  let match;\n  let prevLastIndex = 0;\n  TRANSFORM_REGEXP.lastIndex = 0;\n  while ((match = TRANSFORM_REGEXP.exec(transform))) {\n    if (match.index !== prevLastIndex) {\n      return [];\n    }\n    prevLastIndex = match.index + match[0].length;\n    const functionName = match[1] as TransformType; // scale\n    const functionData = transformFunctions[functionName]; // scale(1, 2)\n    if (!functionData) {\n      // invalid, eg. scale()\n      return [];\n    }\n    const args = match[2].split(','); // 1,2\n    const argTypes = functionData[0]; // Nn\n    if (argTypes.length < args.length) {\n      // scale(N, n)\n      return [];\n    }\n\n    const parsedArgs: CSSUnitValue[] = [];\n    for (let i = 0; i < argTypes.length; i++) {\n      const arg = args[i];\n      const type = argTypes[i];\n      let parsedArg;\n      if (!arg) {\n        // @ts-ignore\n        parsedArg = {\n          a: Odeg,\n          n: parsedArgs[0],\n          t: Opx,\n        }[type];\n      } else {\n        // @ts-ignore\n        parsedArg = {\n          A: (s: string) => {\n            return s.trim() === '0' ? Odeg : parseAngle(s);\n          },\n          N: parseNumber,\n          T: parseLengthOrPercentage,\n          L: parseLength,\n        }[type.toUpperCase()](arg);\n      }\n      if (parsedArg === undefined) {\n        return [];\n      }\n      parsedArgs.push(parsedArg);\n    }\n    result.push({ t: functionName, d: parsedArgs }); // { t: scale, d: [1, 2] }\n\n    if (TRANSFORM_REGEXP.lastIndex === transform.length) {\n      return result;\n    }\n  }\n\n  return [];\n}\nexport function parseTransformUnmemoize(\n  transform: string | TransformArray,\n): ParsedTransform[] {\n  if (Array.isArray(transform)) {\n    return parseArrayTransform(transform);\n  }\n\n  transform = (transform || 'none').trim();\n  if (transform === 'none') {\n    return [];\n  }\n  const result: ParsedTransform[] = [];\n  let match;\n  let prevLastIndex = 0;\n  TRANSFORM_REGEXP.lastIndex = 0;\n  while ((match = TRANSFORM_REGEXP.exec(transform))) {\n    if (match.index !== prevLastIndex) {\n      return [];\n    }\n    prevLastIndex = match.index + match[0].length;\n    const functionName = match[1] as TransformType; // scale\n    const functionData = transformFunctions[functionName]; // scale(1, 2)\n    if (!functionData) {\n      // invalid, eg. scale()\n      return [];\n    }\n    const args = match[2].split(','); // 1,2\n    const argTypes = functionData[0]; // Nn\n    if (argTypes.length < args.length) {\n      // scale(N, n)\n      return [];\n    }\n\n    const parsedArgs: CSSUnitValue[] = [];\n    for (let i = 0; i < argTypes.length; i++) {\n      const arg = args[i];\n      const type = argTypes[i];\n      let parsedArg;\n      if (!arg) {\n        // @ts-ignore\n        parsedArg = {\n          a: Odeg,\n          n: parsedArgs[0],\n          t: Opx,\n        }[type];\n      } else {\n        // @ts-ignore\n        parsedArg = {\n          A: (s: string) => {\n            return s.trim() === '0' ? Odeg : parseAngleUnmemoize(s);\n          },\n          N: parseNumberUnmemoize,\n          T: parseLengthOrPercentageUnmemoize,\n          L: parseLengthUnmemoize,\n        }[type.toUpperCase()](arg);\n      }\n      if (parsedArg === undefined) {\n        return [];\n      }\n      parsedArgs.push(parsedArg);\n    }\n    result.push({ t: functionName, d: parsedArgs }); // { t: scale, d: [1, 2] }\n\n    if (TRANSFORM_REGEXP.lastIndex === transform.length) {\n      return result;\n    }\n  }\n\n  return [];\n}\n\nexport function convertItemToMatrix(item: ParsedTransform): number[] {\n  let x: number;\n  let y: number;\n  let z: number;\n  let angle: number;\n  switch (item.t) {\n    case 'rotateX':\n      angle = deg2rad(convertAngleUnit(item.d[0]));\n      return [\n        1,\n        0,\n        0,\n        0,\n        0,\n        Math.cos(angle),\n        Math.sin(angle),\n        0,\n        0,\n        -Math.sin(angle),\n        Math.cos(angle),\n        0,\n        0,\n        0,\n        0,\n        1,\n      ];\n    case 'rotateY':\n      angle = deg2rad(convertAngleUnit(item.d[0]));\n      return [\n        Math.cos(angle),\n        0,\n        -Math.sin(angle),\n        0,\n        0,\n        1,\n        0,\n        0,\n        Math.sin(angle),\n        0,\n        Math.cos(angle),\n        0,\n        0,\n        0,\n        0,\n        1,\n      ];\n    case 'rotate':\n    case 'rotateZ':\n      angle = deg2rad(convertAngleUnit(item.d[0]));\n      return [\n        Math.cos(angle),\n        Math.sin(angle),\n        0,\n        0,\n        -Math.sin(angle),\n        Math.cos(angle),\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n      ];\n    case 'rotate3d':\n      x = item.d[0].value;\n      y = item.d[1].value;\n      z = item.d[2].value;\n      angle = deg2rad(convertAngleUnit(item.d[3]));\n\n      const sqrLength = x * x + y * y + z * z;\n      if (sqrLength === 0) {\n        x = 1;\n        y = 0;\n        z = 0;\n      } else if (sqrLength !== 1) {\n        const length = Math.sqrt(sqrLength);\n        x /= length;\n        y /= length;\n        z /= length;\n      }\n\n      const s = Math.sin(angle / 2);\n      const sc = s * Math.cos(angle / 2);\n      const sq = s * s;\n      return [\n        1 - 2 * (y * y + z * z) * sq,\n        2 * (x * y * sq + z * sc),\n        2 * (x * z * sq - y * sc),\n        0,\n\n        2 * (x * y * sq - z * sc),\n        1 - 2 * (x * x + z * z) * sq,\n        2 * (y * z * sq + x * sc),\n        0,\n\n        2 * (x * z * sq + y * sc),\n        2 * (y * z * sq - x * sc),\n        1 - 2 * (x * x + y * y) * sq,\n        0,\n\n        0,\n        0,\n        0,\n        1,\n      ];\n    case 'scale':\n      return [\n        item.d[0].value,\n        0,\n        0,\n        0,\n        0,\n        item.d[1].value,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n      ];\n    case 'scaleX':\n      return [item.d[0].value, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    case 'scaleY':\n      return [1, 0, 0, 0, 0, item.d[0].value, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    case 'scaleZ':\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, item.d[0].value, 0, 0, 0, 0, 1];\n    case 'scale3d':\n      return [\n        item.d[0].value,\n        0,\n        0,\n        0,\n        0,\n        item.d[1].value,\n        0,\n        0,\n        0,\n        0,\n        item.d[2].value,\n        0,\n        0,\n        0,\n        0,\n        1,\n      ];\n    case 'skew':\n      const xAngle = deg2rad(convertAngleUnit(item.d[0]));\n      const yAngle = deg2rad(convertAngleUnit(item.d[1]));\n      return [\n        1,\n        Math.tan(yAngle),\n        0,\n        0,\n        Math.tan(xAngle),\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n      ];\n    case 'skewX':\n      angle = deg2rad(convertAngleUnit(item.d[0]));\n      return [1, 0, 0, 0, Math.tan(angle), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    case 'skewY':\n      angle = deg2rad(convertAngleUnit(item.d[0]));\n      return [1, Math.tan(angle), 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    case 'translate':\n      // TODO: pass target\n      x = convertPercentUnit(item.d[0], 0, null) || 0;\n      y = convertPercentUnit(item.d[1], 0, null) || 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, 0, 1];\n    case 'translateX':\n      x = convertPercentUnit(item.d[0], 0, null) || 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, 0, 0, 1];\n    case 'translateY':\n      y = convertPercentUnit(item.d[0], 0, null) || 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, y, 0, 1];\n    case 'translateZ':\n      z = convertPercentUnit(item.d[0], 0, null) || 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, z, 1];\n    case 'translate3d':\n      x = convertPercentUnit(item.d[0], 0, null) || 0;\n      y = convertPercentUnit(item.d[1], 0, null) || 0;\n      z = convertPercentUnit(item.d[2], 0, null) || 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1];\n    case 'perspective':\n      const t = convertPercentUnit(item.d[0], 0, null) || 0;\n      const p = t ? -1 / t : 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, p, 0, 0, 0, 1];\n    case 'matrix':\n      return [\n        item.d[0].value,\n        item.d[1].value,\n        0,\n        0,\n        item.d[2].value,\n        item.d[3].value,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        item.d[4].value,\n        item.d[5].value,\n        0,\n        1,\n      ];\n    case 'matrix3d':\n      return item.d.map((d) => d.value);\n    default:\n  }\n}\n\nfunction multiplyMatrices(a: number[], b: number[]) {\n  return [\n    a[0] * b[0] + a[4] * b[1] + a[8] * b[2] + a[12] * b[3],\n    a[1] * b[0] + a[5] * b[1] + a[9] * b[2] + a[13] * b[3],\n    a[2] * b[0] + a[6] * b[1] + a[10] * b[2] + a[14] * b[3],\n    a[3] * b[0] + a[7] * b[1] + a[11] * b[2] + a[15] * b[3],\n\n    a[0] * b[4] + a[4] * b[5] + a[8] * b[6] + a[12] * b[7],\n    a[1] * b[4] + a[5] * b[5] + a[9] * b[6] + a[13] * b[7],\n    a[2] * b[4] + a[6] * b[5] + a[10] * b[6] + a[14] * b[7],\n    a[3] * b[4] + a[7] * b[5] + a[11] * b[6] + a[15] * b[7],\n\n    a[0] * b[8] + a[4] * b[9] + a[8] * b[10] + a[12] * b[11],\n    a[1] * b[8] + a[5] * b[9] + a[9] * b[10] + a[13] * b[11],\n    a[2] * b[8] + a[6] * b[9] + a[10] * b[10] + a[14] * b[11],\n    a[3] * b[8] + a[7] * b[9] + a[11] * b[10] + a[15] * b[11],\n\n    a[0] * b[12] + a[4] * b[13] + a[8] * b[14] + a[12] * b[15],\n    a[1] * b[12] + a[5] * b[13] + a[9] * b[14] + a[13] * b[15],\n    a[2] * b[12] + a[6] * b[13] + a[10] * b[14] + a[14] * b[15],\n    a[3] * b[12] + a[7] * b[13] + a[11] * b[14] + a[15] * b[15],\n  ];\n}\n\nfunction convertToMatrix(transformList: ParsedTransform[]) {\n  if (transformList.length === 0) {\n    return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n  }\n  return transformList.map(convertItemToMatrix).reduce(multiplyMatrices);\n}\n\nfunction makeMatrixDecomposition(transformList: ParsedTransform[]) {\n  const translate = [0, 0, 0];\n  const scale = [1, 1, 1];\n  const skew = [0, 0, 0];\n  const perspective = [0, 0, 0, 1];\n  const quaternion = [0, 0, 0, 1];\n  decomposeMat4(\n    // @ts-ignore\n    convertToMatrix(transformList),\n    translate,\n    scale,\n    skew,\n    perspective,\n    quaternion,\n  );\n  return [[translate, scale, skew, quaternion, perspective]];\n}\n\nexport const composeMatrix = (function () {\n  function multiply(a, b) {\n    const result = [\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n      [0, 0, 0, 0],\n    ];\n    for (let i = 0; i < 4; i++) {\n      for (let j = 0; j < 4; j++) {\n        for (let k = 0; k < 4; k++) {\n          result[i][j] += b[i][k] * a[k][j];\n        }\n      }\n    }\n    return result;\n  }\n\n  function is2D(m) {\n    return (\n      m[0][2] === 0 &&\n      m[0][3] === 0 &&\n      m[1][2] === 0 &&\n      m[1][3] === 0 &&\n      m[2][0] === 0 &&\n      m[2][1] === 0 &&\n      m[2][2] === 1 &&\n      m[2][3] === 0 &&\n      m[3][2] === 0 &&\n      m[3][3] === 1\n    );\n  }\n\n  function composeMatrix(translate, scale, skew, quat, perspective) {\n    let matrix = [\n      [1, 0, 0, 0],\n      [0, 1, 0, 0],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1],\n    ];\n\n    for (let i = 0; i < 4; i++) {\n      matrix[i][3] = perspective[i];\n    }\n\n    for (let i = 0; i < 3; i++) {\n      for (let j = 0; j < 3; j++) {\n        matrix[3][i] += translate[j] * matrix[j][i];\n      }\n    }\n\n    const x = quat[0];\n    const y = quat[1];\n    const z = quat[2];\n    const w = quat[3];\n\n    const rotMatrix = [\n      [1, 0, 0, 0],\n      [0, 1, 0, 0],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1],\n    ];\n\n    rotMatrix[0][0] = 1 - 2 * (y * y + z * z);\n    rotMatrix[0][1] = 2 * (x * y - z * w);\n    rotMatrix[0][2] = 2 * (x * z + y * w);\n    rotMatrix[1][0] = 2 * (x * y + z * w);\n    rotMatrix[1][1] = 1 - 2 * (x * x + z * z);\n    rotMatrix[1][2] = 2 * (y * z - x * w);\n    rotMatrix[2][0] = 2 * (x * z - y * w);\n    rotMatrix[2][1] = 2 * (y * z + x * w);\n    rotMatrix[2][2] = 1 - 2 * (x * x + y * y);\n\n    matrix = multiply(matrix, rotMatrix);\n\n    const temp = [\n      [1, 0, 0, 0],\n      [0, 1, 0, 0],\n      [0, 0, 1, 0],\n      [0, 0, 0, 1],\n    ];\n    if (skew[2]) {\n      temp[2][1] = skew[2];\n      matrix = multiply(matrix, temp);\n    }\n\n    if (skew[1]) {\n      temp[2][1] = 0;\n      temp[2][0] = skew[0];\n      matrix = multiply(matrix, temp);\n    }\n\n    if (skew[0]) {\n      temp[2][0] = 0;\n      temp[1][0] = skew[0];\n      matrix = multiply(matrix, temp);\n    }\n\n    for (let i = 0; i < 3; i++) {\n      for (let j = 0; j < 3; j++) {\n        matrix[i][j] *= scale[i];\n      }\n    }\n\n    if (is2D(matrix)) {\n      return [\n        matrix[0][0],\n        matrix[0][1],\n        matrix[1][0],\n        matrix[1][1],\n        matrix[3][0],\n        matrix[3][1],\n      ];\n    }\n    return matrix[0].concat(matrix[1], matrix[2], matrix[3]);\n  }\n  return composeMatrix;\n})();\n\nfunction numberToLongString(x: number) {\n  return x.toFixed(6).replace('.000000', '');\n}\n\nfunction mergeMatrices(\n  left: ParsedTransform[],\n  right: ParsedTransform[],\n): [number[][], number[][], () => string] {\n  let leftArgs: number[][];\n  let rightArgs: number[][];\n  // @ts-ignore\n  if (left.decompositionPair !== right) {\n    // @ts-ignore\n    left.decompositionPair = right;\n    // @ts-ignore\n    leftArgs = makeMatrixDecomposition(left);\n  }\n  // @ts-ignore\n  if (right.decompositionPair !== left) {\n    // @ts-ignore\n    right.decompositionPair = left;\n    // @ts-ignore\n    rightArgs = makeMatrixDecomposition(right);\n  }\n  if (leftArgs[0] === null || rightArgs[0] === null)\n    return [\n      // @ts-ignore\n      [false],\n      // @ts-ignore\n      [true],\n      // @ts-ignore\n      (x) => {\n        return x ? right[0].d : left[0].d;\n      },\n    ];\n  leftArgs[0].push(0);\n  rightArgs[0].push(1);\n  return [\n    leftArgs,\n    rightArgs,\n    // @ts-ignore\n    (list) => {\n      // @ts-ignore\n      const q = quat(leftArgs[0][3], rightArgs[0][3], list[5]);\n      const mat = composeMatrix(list[0], list[1], list[2], q, list[4]);\n      const stringifiedArgs = mat.map(numberToLongString).join(',');\n      return stringifiedArgs;\n    },\n  ];\n}\n\nfunction dot(v1: number[], v2: number[]) {\n  let result = 0;\n  for (let i = 0; i < v1.length; i++) {\n    result += v1[i] * v2[i];\n  }\n  return result;\n}\n\nfunction quat(fromQ: number[], toQ: number[], f: number): number[] {\n  let product = dot(fromQ, toQ);\n  product = clamp(product, -1.0, 1.0);\n\n  let quat = [];\n  if (product === 1.0) {\n    quat = fromQ;\n  } else {\n    const theta = Math.acos(product);\n    const w = (Math.sin(f * theta) * 1) / Math.sqrt(1 - product * product);\n\n    for (let i = 0; i < 4; i++) {\n      quat.push(fromQ[i] * (Math.cos(f * theta) - product * w) + toQ[i] * w);\n    }\n  }\n  return quat;\n}\n\n// scaleX/Y/Z -> scale\nfunction typeTo2D(type: string) {\n  return type.replace(/[XY]/, '');\n}\n\n// scaleX/Y/Z -> scale3d\nfunction typeTo3D(type: string) {\n  return type.replace(/(X|Y|Z|3d)?$/, '3d');\n}\n\nconst isMatrixOrPerspective = function (lt: string, rt: string) {\n  return (\n    (lt === 'perspective' && rt === 'perspective') ||\n    ((lt === 'matrix' || lt === 'matrix3d') &&\n      (rt === 'matrix' || rt === 'matrix3d'))\n  );\n};\n\nexport function mergeTransforms(\n  left: ParsedTransform[],\n  right: ParsedTransform[],\n  target: DisplayObject | null,\n): [number[][], number[][], (d: number[][]) => string] {\n  let flipResults = false;\n  // padding empty transform, eg. merge 'scale(10)' with 'none' -> scale(1)\n  if (!left.length || !right.length) {\n    if (!left.length) {\n      flipResults = true;\n      left = right;\n      right = [];\n    }\n    for (let i = 0; i < left.length; i++) {\n      const { t: type, d: args } = left[i];\n      // none -> scale(1)/translateX(0)\n      const defaultValue = type.substring(0, 5) === 'scale' ? 1 : 0;\n      right.push({\n        t: type,\n        d: args.map((arg) => {\n          if (typeof arg === 'number') {\n            return getOrCreateUnitValue(defaultValue);\n          }\n          return getOrCreateUnitValue(defaultValue, arg.unit);\n          //   {\n          //     unit: arg.unit,\n          //     value: defaultValue,\n          //   };\n        }),\n      });\n    }\n  }\n\n  let leftResult: number[][] = [];\n  let rightResult: number[][] = [];\n  let types: any = [];\n\n  // merge matrix() with matrix3d()\n  if (left.length !== right.length) {\n    const merged = mergeMatrices(left, right);\n    // @ts-ignore\n    leftResult = [merged[0]];\n    // @ts-ignore\n    rightResult = [merged[1]];\n    types = [['matrix', [merged[2]]]];\n  } else {\n    for (let i = 0; i < left.length; i++) {\n      const leftType = left[i].t as TransformType;\n      const rightType = right[i].t as TransformType;\n      let leftArgs = left[i].d;\n      let rightArgs = right[i].d;\n\n      const leftFunctionData = transformFunctions[leftType];\n      const rightFunctionData = transformFunctions[rightType];\n\n      let type;\n      if (isMatrixOrPerspective(leftType, rightType)) {\n        const merged = mergeMatrices([left[i]], [right[i]]);\n        // @ts-ignore\n        leftResult.push(merged[0]);\n        // @ts-ignore\n        rightResult.push(merged[1]);\n        types.push(['matrix', [merged[2]]]);\n        continue;\n      } else if (leftType === rightType) {\n        type = leftType;\n      } else if (\n        leftFunctionData[2] &&\n        rightFunctionData[2] &&\n        typeTo2D(leftType) === typeTo2D(rightType)\n      ) {\n        type = typeTo2D(leftType);\n        // @ts-ignore\n        leftArgs = leftFunctionData[2](leftArgs);\n        // @ts-ignore\n        rightArgs = rightFunctionData[2](rightArgs);\n      } else if (\n        leftFunctionData[1] &&\n        rightFunctionData[1] &&\n        typeTo3D(leftType) === typeTo3D(rightType)\n      ) {\n        type = typeTo3D(leftType);\n        // @ts-ignore\n        leftArgs = leftFunctionData[1](leftArgs);\n        // @ts-ignore\n        rightArgs = rightFunctionData[1](rightArgs);\n      } else {\n        const merged = mergeMatrices(left, right);\n        // @ts-ignore\n        leftResult = [merged[0]];\n        // @ts-ignore\n        rightResult = [merged[1]];\n        types = [['matrix', [merged[2]]]];\n        break;\n      }\n\n      const leftArgsCopy = [];\n      const rightArgsCopy = [];\n      const stringConversions = [];\n      for (let j = 0; j < leftArgs.length; j++) {\n        // const merge = leftArgs[j].unit === UnitType.kNumber ? mergeDimensions : mergeDimensions;\n        const merged = mergeDimensions(\n          leftArgs[j],\n          rightArgs[j],\n          target,\n          false,\n          j,\n        );\n        leftArgsCopy[j] = merged[0];\n        rightArgsCopy[j] = merged[1];\n        stringConversions.push(merged[2]);\n      }\n      leftResult.push(leftArgsCopy);\n      rightResult.push(rightArgsCopy);\n      types.push([type, stringConversions]);\n    }\n  }\n\n  if (flipResults) {\n    const tmp = leftResult;\n    leftResult = rightResult;\n    rightResult = tmp;\n  }\n\n  return [\n    leftResult,\n    rightResult,\n    (list: number[][]) => {\n      return list\n        .map((args, i: number) => {\n          const stringifiedArgs = args\n            .map((arg, j: number) => {\n              return types[i][1][j](arg);\n            })\n            .join(',');\n          if (\n            types[i][0] === 'matrix' &&\n            stringifiedArgs.split(',').length === 16\n          ) {\n            types[i][0] = 'matrix3d';\n          }\n          if (\n            types[i][0] === 'matrix3d' &&\n            stringifiedArgs.split(',').length === 6\n          ) {\n            types[i][0] = 'matrix';\n          }\n          return `${types[i][0]}(${stringifiedArgs})`;\n        })\n        .join(' ');\n    },\n  ];\n}\n", "import { isString } from '@antv/util';\nimport type { CSSUnitValue } from '../cssom';\nimport { getOrCreateUnitValue } from '../CSSStyleValuePool';\nimport { parseLengthOrPercentage } from './dimension';\nimport { memoize } from '../../utils/memoize';\n\n/**\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-origin\n * eg. 'center' 'top left' '50px 50px'\n */\nexport const parseTransformOrigin = memoize(\n  (value: string | number[]): [CSSUnitValue, CSSUnitValue] => {\n    if (isString(value)) {\n      if (value === 'text-anchor') {\n        return [getOrCreateUnitValue(0, 'px'), getOrCreateUnitValue(0, 'px')];\n      }\n\n      const values = value.split(' ');\n      if (values.length === 1) {\n        if (values[0] === 'top' || values[0] === 'bottom') {\n          // 'top' -> 'center top'\n          values[1] = values[0];\n          values[0] = 'center';\n        } else {\n          // '50px' -> '50px center'\n          values[1] = 'center';\n        }\n      }\n\n      if (values.length !== 2) {\n        return null;\n      }\n\n      // eg. center bottom\n      return [\n        parseLengthOrPercentage(convertKeyword2Percent(values[0])),\n        parseLengthOrPercentage(convertKeyword2Percent(values[1])),\n      ];\n    }\n    return [\n      getOrCreateUnitValue(value[0] || 0, 'px'),\n      getOrCreateUnitValue(value[1] || 0, 'px'),\n    ];\n  },\n);\n\nfunction convertKeyword2Percent(keyword: string) {\n  if (keyword === 'center') {\n    return '50%';\n  }\n  if (keyword === 'left' || keyword === 'top') {\n    return '0%';\n  }\n  if (keyword === 'right' || keyword === 'bottom') {\n    return '100%';\n  }\n  return keyword;\n}\n", "import { isNil, isUndefined } from '@antv/util';\nimport { vec3 } from 'gl-matrix';\nimport type { DisplayObject } from '../display-objects';\nimport { EMPTY_PARSED_PATH } from '../display-objects/constants';\nimport type { GlobalRuntime } from '../global-runtime';\nimport { GeometryAABBUpdater } from '../services';\nimport { AABB } from '../shapes';\nimport type { BaseStyleProps, Tuple3Number } from '../types';\nimport { Shape } from '../types';\nimport type { CSSRGB } from './cssom';\nimport type {\n  PropertyMetadata,\n  PropertyParseOptions,\n  StyleValueRegistry,\n} from './interfaces';\nimport { PropertySyntax } from './interfaces';\nimport {\n  parseColor,\n  parseFilter,\n  parsePath,\n  parsePoints,\n  parseTransform,\n  parseTransformOrigin,\n} from './parser';\nimport {\n  convertPercentUnit,\n  parseDimensionArrayFormat,\n} from './parser/dimension';\n\nexport type CSSGlobalKeywords = 'unset' | 'initial' | 'inherit' | '';\n\n/**\n * Blink used them in code generation(css_properties.json5)\n */\nexport const BUILT_IN_PROPERTIES: PropertyMetadata[] = [\n  {\n    /**\n     * used in CSS Layout API\n     * eg. `display: 'flex'`\n     */\n    n: 'display',\n    k: ['none'],\n  },\n  {\n    /**\n     * range [0.0, 1.0]\n     * @see https://developer.mozilla.org/en-US/docs/Web/CSS/opacity\n     */\n    n: 'opacity',\n    int: true,\n    inh: true,\n    d: '1',\n    syntax: PropertySyntax.OPACITY_VALUE,\n  },\n  {\n    /**\n     * inheritable, range [0.0, 1.0]\n     * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-opacity\n     * @see https://svgwg.org/svg2-draft/painting.html#FillOpacity\n     */\n    n: 'fillOpacity',\n    int: true,\n    inh: true,\n    d: '1',\n    syntax: PropertySyntax.OPACITY_VALUE,\n  },\n  {\n    /**\n     * inheritable, range [0.0, 1.0]\n     * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-opacity\n     * @see https://svgwg.org/svg2-draft/painting.html#StrokeOpacity\n     */\n    n: 'strokeOpacity',\n    int: true,\n    inh: true,\n    d: '1',\n    syntax: PropertySyntax.OPACITY_VALUE,\n  },\n  {\n    /**\n     * background-color is not inheritable\n     * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Fills_and_Strokes\n     */\n    n: 'fill',\n    int: true,\n    k: ['none'],\n    d: 'none',\n    syntax: PropertySyntax.PAINT,\n  },\n  {\n    n: 'fillRule',\n    k: ['nonzero', 'evenodd'],\n    d: 'nonzero',\n  },\n  /**\n   * default to none\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke#usage_notes\n   */\n  {\n    n: 'stroke',\n    int: true,\n    k: ['none'],\n    d: 'none',\n    syntax: PropertySyntax.PAINT,\n    /**\n     * Stroke 'none' won't affect geometry but others will.\n     */\n    l: true,\n  },\n  {\n    n: 'shadowType',\n    k: ['inner', 'outer', 'both'],\n    d: 'outer',\n    l: true,\n  },\n  {\n    n: 'shadowColor',\n    int: true,\n    syntax: PropertySyntax.COLOR,\n  },\n  {\n    n: 'shadowOffsetX',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'shadowOffsetY',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'shadowBlur',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.SHADOW_BLUR,\n  },\n  {\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width\n     */\n    n: 'lineWidth',\n    int: true,\n    inh: true,\n    d: '1',\n    l: true,\n    a: ['strokeWidth'],\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'increasedLineWidthForHitTesting',\n    inh: true,\n    d: '0',\n    l: true,\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'lineJoin',\n    inh: true,\n    l: true,\n    a: ['strokeLinejoin'],\n    k: ['miter', 'bevel', 'round'],\n    d: 'miter',\n  },\n  {\n    n: 'lineCap',\n    inh: true,\n    l: true,\n    a: ['strokeLinecap'],\n    k: ['butt', 'round', 'square'],\n    d: 'butt',\n  },\n  {\n    n: 'lineDash',\n    int: true,\n    inh: true,\n    k: ['none'],\n    a: ['strokeDasharray'],\n    syntax: PropertySyntax.LENGTH_PERCENTAGE_12,\n  },\n  {\n    n: 'lineDashOffset',\n    int: true,\n    inh: true,\n    d: '0',\n    a: ['strokeDashoffset'],\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'offsetPath',\n    syntax: PropertySyntax.DEFINED_PATH,\n  },\n  {\n    n: 'offsetDistance',\n    int: true,\n    syntax: PropertySyntax.OFFSET_DISTANCE,\n  },\n  {\n    n: 'dx',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'dy',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'zIndex',\n    ind: true,\n    int: true,\n    d: '0',\n    k: ['auto'],\n    syntax: PropertySyntax.Z_INDEX,\n  },\n  {\n    n: 'visibility',\n    k: ['visible', 'hidden'],\n    ind: true,\n    inh: true,\n    /**\n     * support interpolation\n     * @see https://developer.mozilla.org/en-US/docs/Web/CSS/visibility#interpolation\n     */\n    int: true,\n    d: 'visible',\n  },\n  {\n    n: 'pointerEvents',\n    inh: true,\n    k: [\n      'none',\n      'auto',\n      'stroke',\n      'fill',\n      'painted',\n      'visible',\n      'visiblestroke',\n      'visiblefill',\n      'visiblepainted',\n      // 'bounding-box',\n      'all',\n    ],\n    d: 'auto',\n  },\n  {\n    n: 'filter',\n    ind: true,\n    l: true,\n    k: ['none'],\n    d: 'none',\n    syntax: PropertySyntax.FILTER,\n  },\n  {\n    n: 'clipPath',\n    syntax: PropertySyntax.DEFINED_PATH,\n  },\n  {\n    n: 'textPath',\n    syntax: PropertySyntax.DEFINED_PATH,\n  },\n  {\n    n: 'textPathSide',\n    k: ['left', 'right'],\n    d: 'left',\n  },\n  {\n    n: 'textPathStartOffset',\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'transform',\n    p: 100,\n    int: true,\n    k: ['none'],\n    d: 'none',\n    syntax: PropertySyntax.TRANSFORM,\n  },\n  {\n    n: 'transformOrigin',\n    p: 100,\n    d: '0 0',\n    // // int: true,\n    // d: (nodeName: string) => {\n    //   if (nodeName === Shape.CIRCLE || nodeName === Shape.ELLIPSE) {\n    //     return 'center';\n    //   }\n    //   if (nodeName === Shape.TEXT) {\n    //     return 'text-anchor';\n    //   }\n    //   return 'left top';\n    // },\n    l: true,\n    syntax: PropertySyntax.TRANSFORM_ORIGIN,\n  },\n  {\n    n: 'cx',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.COORDINATE,\n  },\n  {\n    n: 'cy',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.COORDINATE,\n  },\n  {\n    n: 'cz',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.COORDINATE,\n  },\n  {\n    n: 'r',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'rx',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'ry',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  // Rect Image Group\n  {\n    // x in local space\n    n: 'x',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.COORDINATE,\n  },\n  {\n    // y in local space\n    n: 'y',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.COORDINATE,\n  },\n  {\n    // z in local space\n    n: 'z',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.COORDINATE,\n  },\n  {\n    n: 'width',\n    int: true,\n    l: true,\n    /**\n     * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/width\n     */\n    k: ['auto', 'fit-content', 'min-content', 'max-content'],\n    d: '0',\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'height',\n    int: true,\n    l: true,\n    /**\n     * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/height\n     */\n    k: ['auto', 'fit-content', 'min-content', 'max-content'],\n    d: '0',\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'radius',\n    int: true,\n    l: true,\n    d: '0',\n    syntax: PropertySyntax.LENGTH_PERCENTAGE_14,\n  },\n  // Line\n  {\n    n: 'x1',\n    int: true,\n    l: true,\n    syntax: PropertySyntax.COORDINATE,\n  },\n  {\n    n: 'y1',\n    int: true,\n    l: true,\n    syntax: PropertySyntax.COORDINATE,\n  },\n  {\n    n: 'z1',\n    int: true,\n    l: true,\n    syntax: PropertySyntax.COORDINATE,\n  },\n  {\n    n: 'x2',\n    int: true,\n    l: true,\n    syntax: PropertySyntax.COORDINATE,\n  },\n  {\n    n: 'y2',\n    int: true,\n    l: true,\n    syntax: PropertySyntax.COORDINATE,\n  },\n  {\n    n: 'z2',\n    int: true,\n    l: true,\n    syntax: PropertySyntax.COORDINATE,\n  },\n  // Path\n  {\n    n: 'd',\n    int: true,\n    l: true,\n    d: '',\n    syntax: PropertySyntax.PATH,\n    p: 50,\n  },\n  // Polyline & Polygon\n  {\n    n: 'points',\n    /**\n     * support interpolation\n     */\n    int: true,\n    l: true,\n    syntax: PropertySyntax.LIST_OF_POINTS,\n    p: 50,\n  },\n  // Text\n  {\n    n: 'text',\n    l: true,\n    d: '',\n    syntax: PropertySyntax.TEXT,\n    p: 50,\n  },\n  {\n    n: 'textTransform',\n    l: true,\n    inh: true,\n    k: ['capitalize', 'uppercase', 'lowercase', 'none'],\n    d: 'none',\n    syntax: PropertySyntax.TEXT_TRANSFORM,\n    p: 51, // it must get parsed after text\n  },\n  {\n    n: 'font',\n    l: true,\n  },\n  {\n    n: 'fontSize',\n    int: true,\n    inh: true,\n    /**\n     * @see https://www.w3schools.com/css/css_font_size.asp\n     */\n    d: '16px',\n    l: true,\n    syntax: PropertySyntax.LENGTH_PERCENTAGE,\n  },\n  {\n    n: 'fontFamily',\n    l: true,\n    inh: true,\n    d: 'sans-serif',\n  },\n  {\n    n: 'fontStyle',\n    l: true,\n    inh: true,\n    k: ['normal', 'italic', 'oblique'],\n    d: 'normal',\n  },\n  {\n    n: 'fontWeight',\n    l: true,\n    inh: true,\n    k: ['normal', 'bold', 'bolder', 'lighter'],\n    d: 'normal',\n  },\n  {\n    n: 'fontVariant',\n    l: true,\n    inh: true,\n    k: ['normal', 'small-caps'],\n    d: 'normal',\n  },\n  {\n    n: 'lineHeight',\n    l: true,\n    syntax: PropertySyntax.LENGTH,\n    int: true,\n    d: '0',\n  },\n  {\n    n: 'letterSpacing',\n    l: true,\n    syntax: PropertySyntax.LENGTH,\n    int: true,\n    d: '0',\n  },\n  {\n    n: 'miterLimit',\n    l: true,\n    syntax: PropertySyntax.NUMBER,\n    d: (nodeName: string) => {\n      if (\n        nodeName === Shape.PATH ||\n        nodeName === Shape.POLYGON ||\n        nodeName === Shape.POLYLINE\n      ) {\n        return '4';\n      }\n      return '10';\n    },\n  },\n  {\n    n: 'wordWrap',\n    l: true,\n  },\n  {\n    n: 'wordWrapWidth',\n    l: true,\n  },\n  {\n    n: 'maxLines',\n    l: true,\n  },\n  {\n    n: 'textOverflow',\n    l: true,\n    d: 'clip',\n  },\n  {\n    n: 'leading',\n    l: true,\n  },\n  {\n    n: 'textBaseline',\n    l: true,\n    inh: true,\n    k: ['top', 'hanging', 'middle', 'alphabetic', 'ideographic', 'bottom'],\n    d: 'alphabetic',\n  },\n  {\n    n: 'textAlign',\n    l: true,\n    inh: true,\n    k: ['start', 'center', 'middle', 'end', 'left', 'right'],\n    d: 'start',\n  },\n  // {\n  //   n: 'whiteSpace',\n  //   l: true,\n  // },\n  {\n    n: 'markerStart',\n    syntax: PropertySyntax.MARKER,\n  },\n  {\n    n: 'markerEnd',\n    syntax: PropertySyntax.MARKER,\n  },\n  {\n    n: 'markerMid',\n    syntax: PropertySyntax.MARKER,\n  },\n  {\n    n: 'markerStartOffset',\n    syntax: PropertySyntax.LENGTH,\n    l: true,\n    int: true,\n    d: '0',\n  },\n  {\n    n: 'markerEndOffset',\n    syntax: PropertySyntax.LENGTH,\n    l: true,\n    int: true,\n    d: '0',\n  },\n];\n\nconst GEOMETRY_ATTRIBUTE_NAMES = new Set(\n  BUILT_IN_PROPERTIES.filter((n) => !!n.l).map((n) => n.n),\n);\n\nexport const propertyMetadataCache: Record<string, PropertyMetadata> = {};\n\nexport class DefaultStyleValueRegistry implements StyleValueRegistry {\n  constructor(private runtime: GlobalRuntime) {\n    BUILT_IN_PROPERTIES.forEach((property) => {\n      this.registerMetadata(property);\n    });\n  }\n\n  registerMetadata(metadata: PropertyMetadata) {\n    [metadata.n, ...(metadata.a || [])].forEach((name) => {\n      propertyMetadataCache[name] = metadata;\n    });\n  }\n\n  getPropertySyntax(syntax: string) {\n    return this.runtime.CSSPropertySyntaxFactory[syntax];\n  }\n\n  /**\n   * * parse value, eg.\n   * fill: 'red' => CSSRGB\n   * translateX: '10px' => CSSUnitValue { unit: 'px', value: 10 }\n   * fontSize: '2em' => { unit: 'px', value: 32 }\n   *\n   * * calculate used value\n   * * post process\n   */\n  processProperties(\n    object: DisplayObject,\n    attributes: BaseStyleProps,\n    options: Partial<PropertyParseOptions> = {\n      skipUpdateAttribute: false,\n      skipParse: false,\n      forceUpdateGeometry: false,\n      usedAttributes: [],\n      memoize: true,\n    },\n  ) {\n    Object.assign(object.attributes, attributes);\n\n    // clipPath\n    const oldClipPath = object.parsedStyle.clipPath;\n    const oldOffsetPath = object.parsedStyle.offsetPath;\n\n    assignParsedStyle(object, attributes);\n\n    let needUpdateGeometry = !!options.forceUpdateGeometry;\n    if (!needUpdateGeometry) {\n      for (const i in attributes) {\n        if (GEOMETRY_ATTRIBUTE_NAMES.has(i)) {\n          needUpdateGeometry = true;\n          break;\n        }\n      }\n    }\n\n    const list = getParsedStyleListOf(object);\n\n    if (list.has('fill') && attributes.fill) {\n      object.parsedStyle.fill = parseColor(attributes.fill);\n    }\n    if (list.has('stroke') && attributes.stroke) {\n      object.parsedStyle.stroke = parseColor(attributes.stroke);\n    }\n    if (list.has('shadowColor') && attributes.shadowColor) {\n      object.parsedStyle.shadowColor = parseColor(attributes.shadowColor);\n    }\n    if (list.has('filter') && attributes.filter) {\n      object.parsedStyle.filter = parseFilter(attributes.filter);\n    }\n    // Rect\n    // @ts-ignore\n    if (list.has('radius') && !isNil(attributes.radius)) {\n      // @ts-ignore\n      object.parsedStyle.radius = parseDimensionArrayFormat(\n        // @ts-ignore\n        attributes.radius,\n        4,\n      );\n    }\n    // Polyline\n    if (list.has('lineDash') && !isNil(attributes.lineDash)) {\n      // dom,webgl\n      object.parsedStyle.lineDash = parseDimensionArrayFormat(\n        attributes.lineDash,\n        'even',\n      );\n    }\n    // @ts-ignore\n    if (list.has('points') && attributes.points) {\n      // @ts-ignore\n      object.parsedStyle.points = parsePoints(attributes.points, object);\n    }\n    // Path\n    // @ts-ignore\n    if (list.has('d') && attributes.d === '') {\n      object.parsedStyle.d = {\n        ...EMPTY_PARSED_PATH,\n      };\n    }\n    // @ts-ignore\n    if (list.has('d') && attributes.d) {\n      object.parsedStyle.d = parsePath(\n        // @ts-ignore\n        attributes.d,\n      );\n    }\n    // Text\n    if (list.has('textTransform') && attributes.textTransform) {\n      this.runtime.CSSPropertySyntaxFactory[\n        PropertySyntax.TEXT_TRANSFORM\n      ].calculator(\n        null,\n        null,\n        { value: attributes.textTransform },\n        object,\n        null,\n      );\n    }\n    if (list.has('clipPath') && !isUndefined(attributes.clipPath)) {\n      this.runtime.CSSPropertySyntaxFactory[\n        PropertySyntax.DEFINED_PATH\n      ].calculator(\n        'clipPath',\n        oldClipPath,\n        attributes.clipPath,\n        object,\n        this.runtime,\n      );\n    }\n    if (list.has('offsetPath') && attributes.offsetPath) {\n      this.runtime.CSSPropertySyntaxFactory[\n        PropertySyntax.DEFINED_PATH\n      ].calculator(\n        'offsetPath',\n        oldOffsetPath,\n        attributes.offsetPath,\n        object,\n        this.runtime,\n      );\n    }\n    if (list.has('transform') && attributes.transform) {\n      object.parsedStyle.transform = parseTransform(attributes.transform);\n    }\n    if (list.has('transformOrigin') && attributes.transformOrigin) {\n      object.parsedStyle.transformOrigin = parseTransformOrigin(\n        attributes.transformOrigin,\n      );\n    }\n    // Marker\n    // @ts-ignore\n    if (list.has('markerStart') && attributes.markerStart) {\n      object.parsedStyle.markerStart = this.runtime.CSSPropertySyntaxFactory[\n        PropertySyntax.MARKER\n      ].calculator(\n        null,\n        // @ts-ignore\n        attributes.markerStart,\n        // @ts-ignore\n        attributes.markerStart,\n        null,\n        null,\n      );\n    }\n    // @ts-ignore\n    if (list.has('markerEnd') && attributes.markerEnd) {\n      object.parsedStyle.markerEnd = this.runtime.CSSPropertySyntaxFactory[\n        PropertySyntax.MARKER\n      ].calculator(\n        null,\n        // @ts-ignore\n        attributes.markerEnd,\n        // @ts-ignore\n        attributes.markerEnd,\n        null,\n        null,\n      );\n    }\n    // @ts-ignore\n    if (list.has('markerMid') && attributes.markerMid) {\n      object.parsedStyle.markerMid = this.runtime.CSSPropertySyntaxFactory[\n        PropertySyntax.MARKER\n      ].calculator(\n        '',\n        // @ts-ignore\n        attributes.markerMid,\n        // @ts-ignore\n        attributes.markerMid,\n        null,\n        null,\n      );\n    }\n\n    if (list.has('zIndex') && !isNil(attributes.zIndex)) {\n      this.runtime.CSSPropertySyntaxFactory[\n        PropertySyntax.Z_INDEX\n      ].postProcessor(object);\n    }\n    if (list.has('offsetDistance') && !isNil(attributes.offsetDistance)) {\n      this.runtime.CSSPropertySyntaxFactory[\n        PropertySyntax.OFFSET_DISTANCE\n      ].postProcessor(object);\n    }\n    if (list.has('transform') && attributes.transform) {\n      this.runtime.CSSPropertySyntaxFactory[\n        PropertySyntax.TRANSFORM\n      ].postProcessor(object);\n    }\n    if (list.has('transformOrigin') && attributes.transformOrigin) {\n      this.runtime.CSSPropertySyntaxFactory[\n        PropertySyntax.TRANSFORM_ORIGIN\n      ].postProcessor(object);\n    }\n\n    if (needUpdateGeometry) {\n      object.geometry.dirty = true;\n      object.renderable.boundsDirty = true;\n      object.renderable.renderBoundsDirty = true;\n\n      if (!options.forceUpdateGeometry) {\n        this.runtime.sceneGraphService.dirtifyToRoot(object);\n      }\n    }\n  }\n\n  /**\n   * update geometry when relative props changed,\n   * eg. r of Circle, width/height of Rect\n   */\n  updateGeometry(object: DisplayObject) {\n    const { nodeName } = object;\n    const geometryUpdater = this.runtime.geometryUpdaterFactory[\n      nodeName\n    ] as GeometryAABBUpdater;\n    if (geometryUpdater) {\n      const { geometry } = object;\n      if (!geometry.contentBounds) {\n        geometry.contentBounds = new AABB();\n      }\n      if (!geometry.renderBounds) {\n        geometry.renderBounds = new AABB();\n      }\n      const parsedStyle = object.parsedStyle;\n      const {\n        cx = 0,\n        cy = 0,\n        cz = 0,\n        hwidth = 0,\n        hheight = 0,\n        hdepth = 0,\n      } = geometryUpdater.update(parsedStyle, object);\n      // init with content box\n      const halfExtents: Tuple3Number = [\n        Math.abs(hwidth),\n        Math.abs(hheight),\n        hdepth,\n      ];\n      // anchor is center by default, don't account for lineWidth here\n      const {\n        stroke,\n        lineWidth = 1,\n        // lineCap,\n        // lineJoin,\n        // miterLimit,\n        increasedLineWidthForHitTesting = 0,\n        shadowType = 'outer',\n        shadowColor,\n        filter = [],\n        transformOrigin,\n      } = parsedStyle;\n      const center: Tuple3Number = [cx, cy, cz];\n      // update geometry's AABB\n      geometry.contentBounds.update(center, halfExtents);\n      // @see https://github.molgen.mpg.de/git-mirror/cairo/blob/master/src/cairo-stroke-style.c#L97..L128\n      const expansion =\n        nodeName === Shape.POLYLINE ||\n        nodeName === Shape.POLYGON ||\n        nodeName === Shape.PATH\n          ? Math.SQRT2\n          : 0.5;\n      // append border only if stroke existed\n      const hasStroke = stroke && !(stroke as CSSRGB).isNone;\n      if (hasStroke) {\n        const halfLineWidth =\n          ((lineWidth || 0) + (increasedLineWidthForHitTesting || 0)) *\n          expansion;\n        halfExtents[0] += halfLineWidth;\n        halfExtents[1] += halfLineWidth;\n      }\n      geometry.renderBounds.update(center, halfExtents);\n      // account for shadow, only support constant value now\n      if (shadowColor && shadowType && shadowType !== 'inner') {\n        const { min, max } = geometry.renderBounds;\n        const { shadowBlur, shadowOffsetX, shadowOffsetY } = parsedStyle;\n        const shadowBlurInPixels = shadowBlur || 0;\n        const shadowOffsetXInPixels = shadowOffsetX || 0;\n        const shadowOffsetYInPixels = shadowOffsetY || 0;\n        const shadowLeft = min[0] - shadowBlurInPixels + shadowOffsetXInPixels;\n        const shadowRight = max[0] + shadowBlurInPixels + shadowOffsetXInPixels;\n        const shadowTop = min[1] - shadowBlurInPixels + shadowOffsetYInPixels;\n        const shadowBottom =\n          max[1] + shadowBlurInPixels + shadowOffsetYInPixels;\n        min[0] = Math.min(min[0], shadowLeft);\n        max[0] = Math.max(max[0], shadowRight);\n        min[1] = Math.min(min[1], shadowTop);\n        max[1] = Math.max(max[1], shadowBottom);\n        geometry.renderBounds.setMinMax(min, max);\n      }\n      // account for filter, eg. blur(5px), drop-shadow()\n      filter.forEach(({ name, params }) => {\n        if (name === 'blur') {\n          const blurRadius = params[0].value;\n          geometry.renderBounds.update(\n            geometry.renderBounds.center,\n            vec3.add(\n              geometry.renderBounds.halfExtents,\n              geometry.renderBounds.halfExtents,\n              [blurRadius, blurRadius, 0],\n            ) as Tuple3Number,\n          );\n        } else if (name === 'drop-shadow') {\n          const shadowOffsetX = params[0].value;\n          const shadowOffsetY = params[1].value;\n          const shadowBlur = params[2].value;\n          const { min, max } = geometry.renderBounds;\n          const shadowLeft = min[0] - shadowBlur + shadowOffsetX;\n          const shadowRight = max[0] + shadowBlur + shadowOffsetX;\n          const shadowTop = min[1] - shadowBlur + shadowOffsetY;\n          const shadowBottom = max[1] + shadowBlur + shadowOffsetY;\n          min[0] = Math.min(min[0], shadowLeft);\n          max[0] = Math.max(max[0], shadowRight);\n          min[1] = Math.min(min[1], shadowTop);\n          max[1] = Math.max(max[1], shadowBottom);\n          geometry.renderBounds.setMinMax(min, max);\n        }\n      });\n\n      object.geometry.dirty = false;\n\n      // @see https://github.com/antvis/g/issues/957\n      const flipY = hwidth < 0;\n      const flipX = hheight < 0;\n      // set transform origin\n      const usedOriginXValue =\n        (flipY ? -1 : 1) *\n        (transformOrigin\n          ? convertPercentUnit(transformOrigin[0], 0, object, true)\n          : 0);\n      const usedOriginYValue =\n        (flipX ? -1 : 1) *\n        (transformOrigin\n          ? convertPercentUnit(transformOrigin[1], 1, object, true)\n          : 0);\n\n      if (usedOriginXValue || usedOriginYValue) {\n        object.setOrigin(usedOriginXValue, usedOriginYValue);\n      }\n    }\n  }\n\n  updateSizeAttenuation(node: DisplayObject, zoom: number) {\n    if (node.style.isSizeAttenuation) {\n      if (!node.style.rawLineWidth) {\n        node.style.rawLineWidth = node.style.lineWidth;\n      }\n      node.style.lineWidth = (node.style.rawLineWidth || 1) / zoom;\n\n      if (node.nodeName === Shape.CIRCLE) {\n        if (!node.style.rawR) {\n          node.style.rawR = node.style.r;\n        }\n        node.style.r = (node.style.rawR || 1) / zoom;\n      }\n    } else {\n      if (node.style.rawLineWidth) {\n        node.style.lineWidth = node.style.rawLineWidth;\n        delete node.style.rawLineWidth;\n      }\n      if (node.nodeName === Shape.CIRCLE) {\n        if (node.style.rawR) {\n          node.style.r = node.style.rawR;\n          delete node.style.rawR;\n        }\n      }\n    }\n  }\n}\n\nfunction assignParsedStyle(\n  object: DisplayObject,\n  attributes: Record<string, any>,\n) {\n  const list = getParsedStyleListOf(object);\n  for (const key in attributes) {\n    if (list.has(key)) {\n      object.parsedStyle[key] = attributes[key];\n    }\n  }\n}\n\nfunction getParsedStyleListOf(object: DisplayObject) {\n  return (object.constructor as typeof DisplayObject).PARSED_STYLE_LIST;\n}\n", "import type { DisplayObject } from '../../display-objects';\nimport type { CSSUnitValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\nimport { mergeNumbers } from '../parser';\nimport { convertAngleUnit } from '../parser/dimension';\n\nexport class CSSPropertyAngle\n  implements Partial<CSSProperty<CSSUnitValue, number>>\n{\n  mixer = mergeNumbers;\n\n  calculator(\n    name: string,\n    oldParsed: CSSUnitValue,\n    parsed: CSSUnitValue,\n    object: DisplayObject,\n  ) {\n    return convertAngleUnit(parsed);\n  }\n}\n", "import type { DisplayObject } from '../../display-objects';\nimport type { GlobalRuntime } from '../../global-runtime';\nimport type { CSSProperty } from '../CSSProperty';\nimport { CSSKeywordValue } from '../cssom';\n\n/**\n * clipPath / textPath / offsetPath\n */\nexport class CSSPropertyClipPath\n  implements Partial<CSSProperty<DisplayObject, DisplayObject>>\n{\n  calculator(\n    name: string,\n    oldPath: DisplayObject,\n    newPath: DisplayObject,\n    object: DisplayObject,\n    runtime: GlobalRuntime,\n  ) {\n    // unset\n    if (newPath instanceof CSSKeywordValue) {\n      newPath = null;\n    }\n\n    runtime.sceneGraphService.updateDisplayObjectDependency(\n      name,\n      oldPath,\n      newPath,\n      object,\n    );\n\n    if (name === 'clipPath') {\n      // should affect children\n      object.forEach((leaf) => {\n        if (leaf.childNodes.length === 0) {\n          runtime.sceneGraphService.dirtifyToRoot(leaf);\n        }\n      });\n    }\n\n    return newPath;\n  }\n}\n", "import type { DisplayObject } from '../../display-objects';\nimport type { CSSGradientValue, CSSRGB } from '../cssom';\nimport { CSSKeywordValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\nimport { noneColor, transparentColor } from '../CSSStyleValuePool';\nimport type { Pattern } from '../parser/color';\nimport { mergeColors, parseColor } from '../parser/color';\n\nexport class CSSPropertyColor\n  implements\n    Partial<\n      CSSProperty<\n        CSSRGB | CSSGradientValue[] | Pattern | CSSKeywordValue,\n        CSSRGB | CSSGradientValue[] | Pattern\n      >\n    >\n{\n  parser = parseColor;\n  calculator(\n    name: string,\n    oldParsed: CSSRGB | CSSGradientValue[] | CSSKeywordValue | Pattern,\n    parsed: CSSRGB | CSSGradientValue[] | CSSKeywordValue | Pattern,\n    object: DisplayObject,\n  ) {\n    if (parsed instanceof CSSKeywordValue) {\n      // 'unset' 'none'\n      return parsed.value === 'none' ? noneColor : transparentColor;\n    }\n    return parsed;\n  }\n\n  mixer = mergeColors;\n}\n", "import { CSSKeywordValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\nimport type { ParsedFilterStyleProperty } from '../parser';\n\nexport class CSSPropertyFilter\n  implements\n    Partial<\n      CSSProperty<ParsedFilterStyleProperty[], ParsedFilterStyleProperty[]>\n    >\n{\n  calculator(\n    name: string,\n    oldParsed: ParsedFilterStyleProperty[],\n    parsed: ParsedFilterStyleProperty[],\n  ) {\n    // unset or none\n    if (parsed instanceof CSSKeywordValue) {\n      return [];\n    }\n    return parsed;\n  }\n}\n", "import { isNil, isNumber } from '@antv/util';\nimport type {\n  DisplayObject,\n  ParsedTextStyleProps,\n} from '../../display-objects';\nimport type { GlobalRuntime } from '../../global-runtime';\nimport type { CSSProperty } from '../CSSProperty';\nimport { CSSUnitValue, UnitType } from '../cssom';\nimport { mergeNumbers } from '../parser';\n\nfunction getFontSize(object: DisplayObject): number {\n  const { fontSize } = object.parsedStyle as ParsedTextStyleProps;\n  return isNil(fontSize) ? null : fontSize;\n}\n\n/**\n * <length> & <percentage>\n */\nexport class CSSPropertyLengthOrPercentage\n  implements Partial<CSSProperty<CSSUnitValue, number>>\n{\n  mixer = mergeNumbers;\n\n  /**\n   * according to parent's bounds\n   *\n   * @example\n   * CSS.percent(50) -> CSS.px(0.5 * parent.width)\n   */\n  calculator(\n    name: string,\n    oldParsed: CSSUnitValue,\n    computed: CSSUnitValue,\n    object: DisplayObject,\n    runtime: GlobalRuntime,\n  ): number {\n    if (isNumber(computed)) {\n      return computed;\n    }\n\n    if (CSSUnitValue.isRelativeUnit(computed.unit)) {\n      if (computed.unit === UnitType.kPercentage) {\n        // TODO: merge dimensions\n        return 0;\n      }\n      if (computed.unit === UnitType.kEms) {\n        if (object.parentNode) {\n          let fontSize = getFontSize(object.parentNode as DisplayObject);\n          if (fontSize) {\n            fontSize *= computed.value;\n            return fontSize;\n          }\n        }\n        return 0;\n      }\n      if (computed.unit === UnitType.kRems) {\n        if (object?.ownerDocument?.documentElement) {\n          let fontSize = getFontSize(\n            object.ownerDocument.documentElement as DisplayObject,\n          );\n\n          if (fontSize) {\n            fontSize *= computed.value;\n            return fontSize;\n          }\n        }\n        return 0;\n      }\n    } else {\n      // remove listener if exists\n      // registry.unregisterParentGeometryBoundsChangedHandler(object, name);\n\n      // return absolute value\n      return computed.value;\n    }\n  }\n}\n", "import type { CSSUnitValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\nimport { mergeNumberLists } from '../parser';\n\n/**\n * format to Tuple2<CSSUnitValue>\n *\n * @example\n * rect.style.lineDash = 10;\n * rect.style.lineDash = [10, 10];\n * rect.style.lineDash = '10 10';\n */\nexport class CSSPropertyLengthOrPercentage12\n  implements\n    Partial<CSSProperty<[CSSUnitValue, CSSUnitValue], [number, number]>>\n{\n  calculator(\n    name: string,\n    oldParsed: [CSSUnitValue, CSSUnitValue],\n    computed: [CSSUnitValue, CSSUnitValue],\n  ): [number, number] {\n    return computed.map((c) => c.value) as [number, number];\n  }\n\n  mixer = mergeNumberLists;\n}\n", "import type { CSSUnitValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\nimport { mergeNumberLists } from '../parser';\n\n/**\n * used in rounded rect\n *\n * @example\n * rect.style.radius = 10;\n * rect.style.radius = '10 10';\n * rect.style.radius = '10 10 10 10';\n */\nexport class CSSPropertyLengthOrPercentage14\n  implements\n    Partial<\n      CSSProperty<\n        [CSSUnitValue, CSSUnitValue, CSSUnitValue, CSSUnitValue],\n        [number, number, number, number]\n      >\n    >\n{\n  calculator(\n    name: string,\n    oldParsed: [CSSUnitValue, CSSUnitValue, CSSUnitValue, CSSUnitValue],\n    computed: [CSSUnitValue, CSSUnitValue, CSSUnitValue, CSSUnitValue],\n  ): [number, number, number, number] {\n    return computed.map((c) => c.value) as [number, number, number, number];\n  }\n\n  mixer = mergeNumberLists;\n}\n", "import type { DisplayObject } from '../../display-objects';\nimport { CSSKeywordValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\n\nexport class CSSPropertyMarker\n  implements Partial<CSSProperty<DisplayObject, DisplayObject>>\n{\n  calculator(\n    name: string,\n    oldMarker: DisplayObject,\n    newMarker: DisplayObject,\n    object: DisplayObject,\n  ) {\n    // unset\n    if (newMarker instanceof CSSKeywordValue) {\n      newMarker = null;\n    }\n\n    const cloned = newMarker?.cloneNode(true);\n    if (cloned) {\n      // FIXME: SVG should not inherit parent's style, add a flag here\n      cloned.style.isMarker = true;\n    }\n\n    return cloned;\n  }\n}\n", "import type { CSSUnitValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\nimport { mergeNumbers } from '../parser/numeric';\n\nexport class CSSPropertyNumber\n  implements Partial<CSSProperty<CSSUnitValue, number>>\n{\n  mixer = mergeNumbers;\n  calculator(\n    name: string,\n    oldParsed: CSSUnitValue,\n    computed: CSSUnitValue,\n  ): number {\n    return computed.value;\n  }\n}\n", "import { Shape } from '../../types';\nimport type { DisplayObject } from '../../display-objects';\nimport type { CSSUnitValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\nimport { clampedMergeNumbers } from '../parser/numeric';\n\nexport class CSSPropertyOffsetDistance\n  implements Partial<CSSProperty<CSSUnitValue, number>>\n{\n  calculator(\n    name: string,\n    oldParsed: CSSUnitValue,\n    computed: CSSUnitValue,\n  ): number {\n    return computed.value;\n  }\n\n  mixer = clampedMergeNumbers(0, 1);\n\n  postProcessor(object: DisplayObject) {\n    const { offsetPath, offsetDistance } = object.parsedStyle;\n    if (!offsetPath) {\n      return;\n    }\n\n    const { nodeName } = offsetPath;\n    if (\n      nodeName === Shape.LINE ||\n      nodeName === Shape.PATH ||\n      nodeName === Shape.POLYLINE\n    ) {\n      // set position in world space\n      const point = offsetPath.getPoint(offsetDistance);\n      if (point) {\n        object.setLocalPosition(point.x, point.y);\n      }\n    }\n  }\n}\n", "import type { CSSUnitValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\nimport { clampedMergeNumbers } from '../parser/numeric';\n\n/**\n * opacity\n */\nexport class CSSPropertyOpacity\n  implements Partial<CSSProperty<CSSUnitValue, number>>\n{\n  calculator(\n    name: string,\n    oldParsed: CSSUnitValue,\n    computed: CSSUnitValue,\n  ): number {\n    return computed.value;\n  }\n\n  mixer = clampedMergeNumbers(0, 1);\n}\n", "import type { AbsoluteArray } from '@antv/util';\nimport type { ParsedPathStyleProps } from '../../display-objects';\nimport { Rectangle } from '../../shapes';\nimport { CSSKeywordValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\nimport { mergePaths, parsePath } from '../parser/path';\n\nexport class CSSPropertyPath\n  implements\n    Partial<CSSProperty<ParsedPathStyleProps['d'], ParsedPathStyleProps['d']>>\n{\n  /**\n   * path2Curve\n   */\n  parser = parsePath;\n\n  calculator(\n    name: string,\n    oldParsed: ParsedPathStyleProps['d'],\n    parsed: ParsedPathStyleProps['d'],\n  ) {\n    // unset\n    if (parsed instanceof CSSKeywordValue && parsed.value === 'unset') {\n      return {\n        absolutePath: [] as unknown as AbsoluteArray,\n        hasArc: false,\n        segments: [],\n        polygons: [],\n        polylines: [],\n        curve: null,\n        totalLength: 0,\n        rect: new Rectangle(0, 0, 0, 0),\n      };\n    }\n\n    return parsed;\n  }\n\n  mixer = mergePaths;\n}\n", "import type { CSSProperty } from '../CSSProperty';\nimport { mergePoints } from '../parser/points';\n\nexport class CSSPropertyPoints\n  implements\n    Partial<\n      CSSProperty<\n        {\n          points: [number, number][];\n          totalLength: number;\n          segments: [number, number][];\n        },\n        {\n          points: [number, number][];\n          totalLength: number;\n          segments: [number, number][];\n        }\n      >\n    >\n{\n  mixer = mergePoints;\n}\n", "import { clampedMergeNumbers } from '../parser/numeric';\nimport { CSSPropertyLengthOrPercentage } from './CSSPropertyLengthOrPercentage';\n\nexport class CSSPropertyShadowBlur extends CSSPropertyLengthOrPercentage {\n  mixer = clampedMergeNumbers(0, Infinity);\n}\n", "import type { DisplayObject } from '../../display-objects';\nimport { CSSKeywordValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\n\nexport class CSSPropertyText\n  implements Partial<CSSProperty<CSSKeywordValue | string, string>>\n{\n  calculator(\n    name: string,\n    oldParsed: CSSKeywordValue | string,\n    parsed: CSSKeywordValue | string,\n    object: DisplayObject,\n  ) {\n    if (parsed instanceof CSSKeywordValue) {\n      if (parsed.value === 'unset') {\n        return '';\n      }\n      return parsed.value;\n    }\n\n    // allow number as valid text content\n    return `${parsed}`;\n  }\n\n  postProcessor(object: DisplayObject) {\n    object.nodeValue = `${object.parsedStyle.text}` || '';\n  }\n}\n", "import type { TextTransform } from '../..';\nimport type { DisplayObject } from '../../display-objects';\nimport type { CSSKeywordValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\n\n/**\n * it must transform after text get parsed\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/text-transform\n */\nexport class CSSPropertyTextTransform\n  implements Partial<CSSProperty<CSSKeywordValue, TextTransform>>\n{\n  calculator(\n    name: string,\n    oldParsed: CSSKeywordValue,\n    parsed: CSSKeywordValue,\n    object: DisplayObject,\n  ) {\n    const rawText = object.getAttribute('text');\n    if (rawText) {\n      let transformedText = rawText;\n      if (parsed.value === 'capitalize') {\n        transformedText = rawText.charAt(0).toUpperCase() + rawText.slice(1);\n      } else if (parsed.value === 'lowercase') {\n        transformedText = rawText.toLowerCase();\n      } else if (parsed.value === 'uppercase') {\n        transformedText = rawText.toUpperCase();\n      }\n\n      object.parsedStyle.text = transformedText;\n    }\n\n    return parsed.value as TextTransform;\n  }\n}\n", "export const definedProps = (obj: Record<string, unknown>) =>\n  Object.fromEntries(Object.entries(obj).filter(([, v]) => v !== undefined));\n", "import type { Canvas } from '../Canvas';\n\nconst CANVAS_Map = new WeakMap<Element, Canvas>();\n\n/**\n * destroy existed canvas with the same id\n */\nexport function cleanExistedCanvas(\n  container: string | HTMLElement,\n  canvas: Canvas,\n  cleanUp?: boolean,\n) {\n  if (container) {\n    const $dom =\n      typeof container === 'string'\n        ? document.getElementById(container)\n        : container;\n    if (CANVAS_Map.has($dom)) CANVAS_Map.get($dom).destroy(cleanUp);\n    CANVAS_Map.set($dom, canvas);\n  }\n}\n\nexport const isBrowser =\n  typeof window !== 'undefined' && typeof window.document !== 'undefined';\n", "import type { DisplayObject } from '../display-objects';\nimport type { IElement, IEventTarget, INode } from '../dom';\nimport type { CanvasLike } from '../types';\nimport { isBrowser } from './canvas';\n\nexport function isElement(\n  target: IEventTarget | INode | IElement,\n): target is IElement {\n  return !!(target as IElement).getAttribute;\n}\n\nexport function sortedIndex(array: IElement[], value: IElement) {\n  let low = 0;\n  let high = array.length;\n\n  while (low < high) {\n    const mid = (low + high) >>> 1;\n    if (sortByZIndex(array[mid], value) < 0) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  return low;\n}\n\nexport function sortByZIndex(o1: IElement, o2: IElement) {\n  const zIndex1 = Number(o1.parsedStyle.zIndex || 0);\n  const zIndex2 = Number(o2.parsedStyle.zIndex || 0);\n  if (zIndex1 === zIndex2) {\n    const parent = o1.parentNode;\n    if (parent) {\n      const children = parent.childNodes || [];\n      return children.indexOf(o1) - children.indexOf(o2);\n    }\n  }\n  return zIndex1 - zIndex2;\n}\n\nexport function findClosestClipPathTarget(\n  object: DisplayObject,\n): DisplayObject {\n  let el = object;\n  do {\n    const clipPath = el.parsedStyle?.clipPath;\n    if (clipPath) return el;\n    el = el.parentElement as DisplayObject;\n  } while (el !== null);\n  return null;\n}\n\nconst PX_SUFFIX = 'px';\nexport function setDOMSize($el: CanvasLike, width: number, height: number) {\n  if (isBrowser && ($el as unknown as HTMLElement).style) {\n    ($el as unknown as HTMLElement).style.width = width + PX_SUFFIX;\n    ($el as unknown as HTMLElement).style.height = height + PX_SUFFIX;\n  }\n}\n\nexport function getStyle($el: HTMLElement | CanvasLike, property: string) {\n  if (isBrowser) {\n    return document.defaultView\n      .getComputedStyle($el as Element, null)\n      .getPropertyValue(property);\n  }\n}\n\nexport function getWidth($el: HTMLElement | CanvasLike) {\n  const width = getStyle($el, 'width');\n  if (width === 'auto') {\n    return ($el as HTMLElement).offsetWidth;\n  }\n  return parseFloat(width);\n}\n\nexport function getHeight($el: HTMLElement | CanvasLike) {\n  const height = getStyle($el, 'height');\n  if (height === 'auto') {\n    return ($el as HTMLElement).offsetHeight;\n  }\n  return parseFloat(height);\n}\n", "// borrow from hammer.js\nexport const MOUSE_POINTER_ID = 1;\nexport const TOUCH_TO_POINTER: Record<string, string> = {\n  touchstart: 'pointerdown',\n  touchend: 'pointerup',\n  touchendoutside: 'pointerupoutside',\n  touchmove: 'pointermove',\n  touchcancel: 'pointercancel',\n};\n\nexport interface FormattedPointerEvent extends PointerEvent {\n  isPrimary: boolean;\n  width: number;\n  height: number;\n  tiltX: number;\n  tiltY: number;\n  pointerType: string;\n  pointerId: number;\n  pressure: number;\n  twist: number;\n  tangentialPressure: number;\n  isNormalized: boolean;\n  type: string;\n}\n\nexport interface FormattedTouch extends Touch {\n  button: number;\n  buttons: number;\n  isPrimary: boolean;\n  width: number;\n  height: number;\n  tiltX: number;\n  tiltY: number;\n  pointerType: string;\n  pointerId: number;\n  pressure: number;\n  twist: number;\n  tangentialPressure: number;\n  layerY: number;\n  offsetX: number;\n  offsetY: number;\n  isNormalized: boolean;\n  type: string;\n}\n\nexport const clock =\n  typeof performance === 'object' && performance.now ? performance : Date;\n", "import { INode } from '../dom';\nimport { Shape } from '../types';\n\nexport function isInFragment(node: INode) {\n  if (node.nodeName === Shape.FRAGMENT) return true;\n  return node.getRootNode().nodeName === Shape.FRAGMENT;\n}\n", "import type { CSSRGB } from '../css';\nimport type { ParsedBaseStyleProps } from '../types';\n\nexport function isFillOrStrokeAffected(\n  pointerEvents: ParsedBaseStyleProps['pointerEvents'] = 'auto',\n  fill: ParsedBaseStyleProps['fill'],\n  stroke: ParsedBaseStyleProps['stroke'],\n): [boolean, boolean] {\n  // account for pointerEvents\n  // @see https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events\n\n  let hasFill = false;\n  let hasStroke = false;\n  const isFillOtherThanNone = !!fill && !(fill as CSSRGB).isNone;\n  const isStrokeOtherThanNone = !!stroke && !(stroke as CSSRGB).isNone;\n  if (\n    pointerEvents === 'visiblepainted' ||\n    pointerEvents === 'painted' ||\n    pointerEvents === 'auto'\n  ) {\n    hasFill = isFillOtherThanNone;\n    hasStroke = isStrokeOtherThanNone;\n  } else if (pointerEvents === 'visiblefill' || pointerEvents === 'fill') {\n    hasFill = true;\n  } else if (pointerEvents === 'visiblestroke' || pointerEvents === 'stroke') {\n    hasStroke = true;\n  } else if (pointerEvents === 'visible' || pointerEvents === 'all') {\n    // The values of the fill and stroke do not affect event processing.\n    hasFill = true;\n    hasStroke = true;\n  }\n\n  return [hasFill, hasStroke];\n}\n", "/**\n * Thanks for following contributor of codes\n * https://gist.github.com/1866474\n * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n * https://github.com/Financial-Times/polyfill-library/blob/master/polyfills/requestAnimationFrame/polyfill.js\n * */\n\nlet uId = 1;\nconst uniqueId = () => uId++;\n\n// We use `self` instead of `window` for `WebWorker` support.\nexport const root: any =\n  // eslint-disable-next-line no-nested-ternary\n  typeof self === 'object' && self.self === self\n    ? self\n    : // @ts-ignore\n      typeof global === 'object' && global.global === global\n      ? // @ts-ignore\n        global\n      : {};\n\nconst nowOffset = Date.now();\n\n// use performance api if exist, otherwise use Date.now.\n// Date.now polyfill required.\nexport const pnow = (): number => {\n  if (root.performance && typeof root.performance.now === 'function') {\n    return root.performance.now();\n  }\n\n  // fallback\n  return Date.now() - nowOffset;\n};\n\ninterface IReservedCBs {\n  [key: string]: (...args: any[]) => any;\n}\nlet reservedCBs: IReservedCBs = {};\n\nlet lastTime = Date.now();\n\nconst polyfillRaf = (callback: (...args: any[]) => any) => {\n  if (typeof callback !== 'function') {\n    throw new TypeError(`${callback} is not a function`);\n  }\n\n  const currentTime = Date.now();\n  const gap = currentTime - lastTime;\n  const delay = gap > 16 ? 0 : 16 - gap;\n\n  const id = uniqueId();\n  reservedCBs[id] = callback;\n\n  // keys(reservedCBs).length > 1   setTimeout   .\n  //  callback     reservedCBs   return\n  if (Object.keys(reservedCBs).length > 1) return id;\n\n  setTimeout(() => {\n    lastTime = currentTime;\n    const copied = reservedCBs;\n    reservedCBs = {};\n\n    Object.keys(copied).forEach((key: string) => copied[key](pnow()));\n  }, delay);\n\n  return id;\n};\n\nconst polyfillCaf = (id: number) => {\n  delete reservedCBs[id];\n};\n\nconst vendorPrefixes = ['', 'webkit', 'moz', 'ms', 'o'];\n\nconst getRequestAnimationFrame = (\n  vp: string | void,\n): typeof requestAnimationFrame => {\n  if (typeof vp !== 'string') return polyfillRaf;\n  if (vp === '') return root.requestAnimationFrame;\n  return root[`${vp}RequestAnimationFrame`];\n};\n\nconst getCancelAnimationFrame = (\n  vp: string | void,\n): typeof cancelAnimationFrame => {\n  if (typeof vp !== 'string') return polyfillCaf;\n  if (vp === '') return root.cancelAnimationFrame;\n  return (\n    root[`${vp}CancelAnimationFrame`] ||\n    root[`${vp}CancelRequestAnimationFrame`]\n  );\n};\n\nconst find = (arr: any[], predicate: (...args: any[]) => any) => {\n  let i = 0;\n  while (arr[i] !== undefined) {\n    if (predicate(arr[i])) return arr[i];\n\n    i += 1;\n  }\n};\n\nconst vp = find(vendorPrefixes, (vp: string) => !!getRequestAnimationFrame(vp));\n\nexport const raf = getRequestAnimationFrame(vp);\nexport const caf = getCancelAnimationFrame(vp);\n\nroot.requestAnimationFrame = raf;\nroot.cancelAnimationFrame = caf;\n", "export class AsyncParallelHook<T> {\n  private callbacks: ((...args: T[]) => Promise<void>)[] = [];\n\n  getCallbacksNum() {\n    return this.callbacks.length;\n  }\n\n  tapPromise(options: string, fn: (...args: T[]) => Promise<void>) {\n    this.callbacks.push(fn);\n  }\n\n  promise(...args: T[]): Promise<void[]> {\n    return Promise.all(\n      this.callbacks.map((callback) => {\n        return callback(...args);\n      }),\n    );\n  }\n}\n", "import type { AsArray } from './Hook';\n\nexport class AsyncSeriesWaterfallHook<T, R> {\n  private callbacks: ((...args: AsArray<T>) => Promise<R>)[] = [];\n\n  tapPromise(options: string, fn: (...args: AsArray<T>) => Promise<R>) {\n    this.callbacks.push(fn);\n  }\n\n  async promise(...args: AsArray<T>): Promise<R> {\n    if (this.callbacks.length) {\n      let result: R = await this.callbacks[0](...args);\n      for (let i = 0; i < this.callbacks.length - 1; i++) {\n        const callback = this.callbacks[i];\n        // @ts-ignore\n        // eslint-disable-next-line no-await-in-loop\n        result = await callback(result);\n      }\n\n      return result;\n    }\n\n    return null;\n  }\n}\n", "import type { AsArray } from './Hook';\n\nexport class SyncHook<T, R = void> {\n  private callbacks: ((...args: AsArray<T>) => R)[] = [];\n\n  tap(options: string, fn: (...args: AsArray<T>) => R) {\n    this.callbacks.push(fn);\n  }\n\n  call(...args: AsArray<T>): void {\n    /* eslint-disable-next-line prefer-rest-params */\n    const argsArr = arguments;\n    this.callbacks.forEach(function (callback) {\n      /* eslint-disable-next-line prefer-spread */\n      callback.apply(undefined, argsArr);\n    });\n  }\n}\n", "import type { AsArray } from './Hook';\n\nexport class SyncWaterfallHook<T, R> {\n  private callbacks: ((...args: AsArray<T>) => R)[] = [];\n\n  tap(options: string, fn: (...args: AsArray<T>) => R) {\n    this.callbacks.push(fn);\n  }\n\n  call(...args: AsArray<T>): R {\n    if (this.callbacks.length) {\n      /* eslint-disable-next-line prefer-rest-params */\n      const argsArr = arguments;\n      /* eslint-disable-next-line prefer-spread */\n      let result: R = this.callbacks[0].apply(undefined, argsArr);\n      for (let i = 0; i < this.callbacks.length - 1; i++) {\n        const callback = this.callbacks[i];\n        // @ts-ignore\n        result = callback(result);\n      }\n\n      return result;\n    }\n\n    return null;\n  }\n}\n", "import { isNumber } from '@antv/util';\nimport type { ParsedTextStyleProps } from '../display-objects/Text';\n\nconst genericFontFamilies = [\n  'serif',\n  'sans-serif',\n  'monospace',\n  'cursive',\n  'fantasy',\n  'system-ui',\n];\nconst stringRegExp = /([\\\"\\'])[^\\'\\\"]+\\1/;\n\nexport function toFontString(attributes: Partial<ParsedTextStyleProps>) {\n  const {\n    fontSize = 16,\n    fontFamily = 'sans-serif',\n    fontStyle = 'normal',\n    fontVariant = 'normal',\n    fontWeight = 'normal',\n  } = attributes;\n\n  // build canvas api font setting from individual components. Convert a numeric this.fontSize to px\n  // const fontSizeString: string = isNumber(fontSize) ? `${fontSize}px` : fontSize.toString();\n  const fontSizeString: string =\n    (isNumber(fontSize) && `${fontSize}px`) || '16px';\n  // Clean-up fontFamily property by quoting each font name\n  // this will support font names with spaces\n\n  const fontFamilies: string[] = fontFamily.split(',');\n\n  for (let i = fontFamilies.length - 1; i >= 0; i--) {\n    // Trim any extra white-space\n    let fontFamily = fontFamilies[i].trim();\n    // Check if font already contains strings\n    if (\n      !stringRegExp.test(fontFamily) &&\n      genericFontFamilies.indexOf(fontFamily) < 0\n    ) {\n      fontFamily = `\"${fontFamily}\"`;\n    }\n    fontFamilies[i] = fontFamily;\n  }\n  return `${fontStyle} ${fontVariant} ${fontWeight} ${fontSizeString} ${fontFamilies.join(\n    ',',\n  )}`;\n}\n", "import { mat4, vec3 } from 'gl-matrix';\nimport type { CSSUnitValue } from '../css/cssom';\nimport { ParsedTransform, convertAngleUnit } from '../css/parser';\nimport type { DisplayObject } from '../display-objects/DisplayObject';\nimport { runtime } from '../global-runtime';\nimport type { TransformType } from '../types';\nimport { deg2rad } from './math';\n\nfunction createSkewMatrix(skewMatrix: mat4, skewX: number, skewY: number) {\n  // Create an identity matrix\n  mat4.identity(skewMatrix);\n  // Apply skew to the matrix\n  skewMatrix[4] = Math.tan(skewX); // Skew Y axis in X direction\n  skewMatrix[1] = Math.tan(skewY); // Skew X axis in Y direction\n\n  return skewMatrix;\n}\n\nconst $mat4_1 = mat4.create();\nconst $mat4_2 = mat4.create();\n\nconst parser: Record<TransformType, (d: CSSUnitValue[]) => void> = {\n  scale: (d: CSSUnitValue[]) => {\n    mat4.fromScaling($mat4_1, [d[0].value, d[1].value, 1]);\n  },\n  scaleX: (d: CSSUnitValue[]) => {\n    mat4.fromScaling($mat4_1, [d[0].value, 1, 1]);\n  },\n  scaleY: (d: CSSUnitValue[]) => {\n    mat4.fromScaling($mat4_1, [1, d[0].value, 1]);\n  },\n  scaleZ: (d: CSSUnitValue[]) => {\n    mat4.fromScaling($mat4_1, [1, 1, d[0].value]);\n  },\n  scale3d: (d: CSSUnitValue[]) => {\n    mat4.fromScaling($mat4_1, [d[0].value, d[1].value, d[2].value]);\n  },\n  translate: (d: CSSUnitValue[]) => {\n    mat4.fromTranslation($mat4_1, [d[0].value, d[1].value, 0]);\n  },\n  translateX: (d: CSSUnitValue[]) => {\n    mat4.fromTranslation($mat4_1, [d[0].value, 0, 0]);\n  },\n  translateY: (d: CSSUnitValue[]) => {\n    mat4.fromTranslation($mat4_1, [0, d[0].value, 0]);\n  },\n  translateZ: (d: CSSUnitValue[]) => {\n    mat4.fromTranslation($mat4_1, [0, 0, d[0].value]);\n  },\n  translate3d: (d: CSSUnitValue[]) => {\n    mat4.fromTranslation($mat4_1, [d[0].value, d[1].value, d[2].value]);\n  },\n  rotate: (d: CSSUnitValue[]) => {\n    mat4.fromZRotation($mat4_1, deg2rad(convertAngleUnit(d[0])));\n  },\n  rotateX: (d: CSSUnitValue[]) => {\n    mat4.fromXRotation($mat4_1, deg2rad(convertAngleUnit(d[0])));\n  },\n  rotateY: (d: CSSUnitValue[]) => {\n    mat4.fromYRotation($mat4_1, deg2rad(convertAngleUnit(d[0])));\n  },\n  rotateZ: (d: CSSUnitValue[]) => {\n    mat4.fromZRotation($mat4_1, deg2rad(convertAngleUnit(d[0])));\n  },\n  rotate3d: (d: CSSUnitValue[]) => {\n    mat4.fromRotation($mat4_1, deg2rad(convertAngleUnit(d[3])), [\n      d[0].value,\n      d[1].value,\n      d[2].value,\n    ]);\n  },\n  skew: (d: CSSUnitValue[]) => {\n    createSkewMatrix($mat4_1, deg2rad(d[0].value), deg2rad(d[1].value));\n  },\n  skewX: (d: CSSUnitValue[]) => {\n    createSkewMatrix($mat4_1, deg2rad(d[0].value), 0);\n  },\n  skewY: (d: CSSUnitValue[]) => {\n    createSkewMatrix($mat4_1, 0, deg2rad(d[0].value));\n  },\n  matrix: (d: CSSUnitValue[]) => {\n    // prettier-ignore\n    mat4.set(\n      $mat4_1,\n      d[0].value, d[1].value, 0, 0,\n      d[2].value, d[3].value, 0, 0,\n      0,                   0, 1, 0,\n      d[4].value, d[5].value, 0, 1,\n    );\n  },\n  matrix3d: (d: CSSUnitValue[]) => {\n    // @ts-ignore\n    mat4.set($mat4_1, ...d.map((s) => s.value));\n  },\n};\n\nconst $vec3One = vec3.fromValues(1, 1, 1);\nconst $vec3Zero = vec3.create();\nconst optimizer: {\n  [key in TransformType]?: (object: DisplayObject, d: CSSUnitValue[]) => void;\n} = {\n  translate: (object: DisplayObject, d: CSSUnitValue[]) => {\n    runtime.sceneGraphService.setLocalScale(object, $vec3One, false);\n    runtime.sceneGraphService.setLocalEulerAngles(\n      object,\n      $vec3Zero,\n      undefined,\n      undefined,\n      false,\n    );\n    runtime.sceneGraphService.setLocalPosition(\n      object,\n      [d[0].value, d[1].value, 0],\n      false,\n    );\n    runtime.sceneGraphService.dirtifyLocal(object, object.transformable);\n  },\n};\n\nexport function parsedTransformToMat4(\n  transform: ParsedTransform[],\n  object: DisplayObject,\n): mat4 {\n  if (transform.length) {\n    if (transform.length === 1 && optimizer[transform[0].t]) {\n      optimizer[transform[0].t](object, transform[0].d);\n      return;\n    }\n    const m = mat4.identity($mat4_2);\n    for (let i = 0; i < transform.length; i++) {\n      const { t, d } = transform[i];\n      const p = parser[t];\n      if (p) {\n        p(d);\n        mat4.mul(m, m, $mat4_1);\n      }\n    }\n\n    object.setLocalTransform(m);\n  } else {\n    object.resetLocalTransform();\n  }\n\n  return object.getLocalTransform();\n}\n", "import type { DisplayObject } from '../../display-objects';\nimport { parsedTransformToMat4 } from '../../utils';\nimport { CSSKeywordValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\nimport type { ParsedTransform } from '../parser/transform';\nimport { mergeTransforms, parseTransformUnmemoize } from '../parser/transform';\n\n/**\n * @see /zh/docs/api/animation#\n *\n * support the following formats like CSS Transform:\n *\n * scale\n * * scale(x, y)\n * * scaleX(x)\n * * scaleY(x)\n * * scaleZ(z)\n * * scale3d(x, y, z)\n *\n * translate (unit: none, px, %(relative to its bounds))\n * * translate(x, y) eg. translate(0, 0) translate(0, 30px) translate(100%, 100%)\n * * translateX(0)\n * * translateY(0)\n * * translateZ(0)\n * * translate3d(0, 0, 0)\n *\n * rotate (unit: deg rad turn)\n * * rotate(0.5turn) rotate(30deg) rotate(1rad)\n *\n * none\n *\n * unsupported for now:\n * * calc() eg. translate(calc(100% + 10px))\n * * matrix/matrix3d()\n * * skew/skewX/skewY\n * * perspective\n */\nexport class CSSPropertyTransform\n  implements\n    Partial<\n      CSSProperty<CSSKeywordValue | ParsedTransform[], ParsedTransform[]>\n    >\n{\n  parser = parseTransformUnmemoize;\n\n  calculator(\n    name: string,\n    oldParsed: CSSKeywordValue | ParsedTransform[],\n    parsed: CSSKeywordValue | ParsedTransform[],\n    object: DisplayObject,\n  ): ParsedTransform[] {\n    // 'none'\n    if (parsed instanceof CSSKeywordValue) {\n      return [];\n    }\n    return parsed;\n  }\n\n  mixer = mergeTransforms;\n\n  postProcessor(object: DisplayObject) {\n    parsedTransformToMat4(object.parsedStyle.transform, object);\n  }\n}\n", "import { DisplayObject } from '../../display-objects';\nimport { UnitType, type CSSUnitValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\n\n/**\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-origin\n * @example\n * [10px, 10px] [10%, 10%]\n */\nexport class CSSPropertyTransformOrigin\n  implements\n    Partial<\n      CSSProperty<[CSSUnitValue, CSSUnitValue], [CSSUnitValue, CSSUnitValue]>\n    >\n{\n  postProcessor(object: DisplayObject) {\n    const { transformOrigin } = object.parsedStyle;\n    if (\n      transformOrigin[0].unit === UnitType.kPixels &&\n      transformOrigin[1].unit === UnitType.kPixels\n    ) {\n      object.setOrigin(transformOrigin[0].value, transformOrigin[1].value);\n    } else {\n      // Relative to geometry bounds, calculate later.\n      object.getGeometryBounds();\n    }\n  }\n}\n", "import { SortReason } from '../../components';\nimport type { DisplayObject } from '../../display-objects';\nimport type { CSSUnitValue } from '../cssom';\nimport type { CSSProperty } from '../CSSProperty';\n\nexport class CSSPropertyZIndex\n  implements Partial<CSSProperty<CSSUnitValue, number>>\n{\n  calculator(\n    name: string,\n    oldParsed: CSSUnitValue,\n    computed: CSSUnitValue,\n    object: DisplayObject,\n  ): number {\n    return computed.value;\n  }\n\n  postProcessor(object: DisplayObject) {\n    if (object.parentNode) {\n      const parentEntity = object.parentNode as DisplayObject;\n      const parentRenderable = parentEntity.renderable;\n      const parentSortable = parentEntity.sortable;\n      if (parentRenderable) {\n        parentRenderable.dirty = true;\n      }\n      // need re-sort on parent\n      if (parentSortable) {\n        parentSortable.dirty = true;\n        parentSortable.dirtyReason = SortReason.Z_INDEX_CHANGED;\n      }\n    }\n  }\n}\n", "import type {\n  Circle,\n  ParsedCircleStyleProps,\n} from '../../display-objects/Circle';\nimport type { GeometryAABBUpdater } from './interfaces';\n\nexport class CircleUpdater\n  implements GeometryAABBUpdater<ParsedCircleStyleProps>\n{\n  update(parsedStyle: ParsedCircleStyleProps, object: Circle) {\n    const { cx = 0, cy = 0, r = 0 } = parsedStyle;\n\n    return {\n      cx,\n      cy,\n      hwidth: r,\n      hheight: r,\n    };\n  }\n}\n", "import type {\n  Ellipse,\n  ParsedEllipseStyleProps,\n} from '../../display-objects/Ellipse';\nimport type { GeometryAABBUpdater } from './interfaces';\n\nexport class EllipseUpdater\n  implements GeometryAABBUpdater<ParsedEllipseStyleProps>\n{\n  update(parsedStyle: ParsedEllipseStyleProps, object: Ellipse) {\n    const { cx = 0, cy = 0, rx = 0, ry = 0 } = parsedStyle;\n\n    return {\n      cx,\n      cy,\n      hwidth: rx,\n      hheight: ry,\n    };\n  }\n}\n", "import type { ParsedLineStyleProps } from '../../display-objects/Line';\nimport type { GeometryAABBUpdater } from './interfaces';\n\nexport class LineUpdater implements GeometryAABBUpdater<ParsedLineStyleProps> {\n  update(parsedStyle: ParsedLineStyleProps) {\n    const { x1, y1, x2, y2 } = parsedStyle;\n\n    const minX = Math.min(x1, x2);\n    const maxX = Math.max(x1, x2);\n    const minY = Math.min(y1, y2);\n    const maxY = Math.max(y1, y2);\n\n    const width = maxX - minX;\n    const height = maxY - minY;\n    const hwidth = width / 2;\n    const hheight = height / 2;\n\n    return {\n      cx: minX + hwidth,\n      cy: minY + hheight,\n      hwidth,\n      hheight,\n    };\n  }\n}\n", "import type { ParsedPathStyleProps } from '../../display-objects';\nimport type { GeometryAABBUpdater } from './interfaces';\n\nexport class PathUpdater implements GeometryAABBUpdater<ParsedPathStyleProps> {\n  update(parsedStyle: ParsedPathStyleProps) {\n    const { d } = parsedStyle;\n\n    const { x, y, width, height } = d.rect;\n    const hwidth = width / 2;\n    const hheight = height / 2;\n\n    return {\n      cx: x + hwidth,\n      cy: y + hheight,\n      hwidth,\n      hheight,\n    };\n  }\n}\n", "import { isArray } from '@antv/util';\nimport type { ParsedPolylineStyleProps } from '../../display-objects';\nimport type { GeometryAABBUpdater } from './interfaces';\n\nexport class PolylineUpdater\n  implements GeometryAABBUpdater<ParsedPolylineStyleProps>\n{\n  update(parsedStyle: ParsedPolylineStyleProps) {\n    if (parsedStyle.points && isArray(parsedStyle.points.points)) {\n      const { points } = parsedStyle.points;\n\n      // FIXME: account for miter lineJoin\n      const minX = Math.min(...points.map((point) => point[0]));\n      const maxX = Math.max(...points.map((point) => point[0]));\n      const minY = Math.min(...points.map((point) => point[1]));\n      const maxY = Math.max(...points.map((point) => point[1]));\n\n      const width = maxX - minX;\n      const height = maxY - minY;\n      const hwidth = width / 2;\n      const hheight = height / 2;\n\n      return {\n        cx: minX + hwidth,\n        cy: minY + hheight,\n        hwidth,\n        hheight,\n      };\n    }\n    return {\n      cx: 0,\n      cy: 0,\n      hwidth: 0,\n      hheight: 0,\n    };\n  }\n}\n", "import { isString } from '@antv/util';\nimport type {\n  Group,\n  Image,\n  ParsedImageStyleProps,\n  Rect,\n} from '../../display-objects';\nimport type { GeometryAABBUpdater } from './interfaces';\n\nexport class RectUpdater implements GeometryAABBUpdater<ParsedImageStyleProps> {\n  update(parsedStyle: ParsedImageStyleProps, object: Image | Rect | Group) {\n    const { x = 0, y = 0, src, width = 0, height = 0 } = parsedStyle;\n\n    let contentWidth = width;\n    let contentHeight = height;\n\n    // resize with HTMLImageElement's size\n    if (src && !isString(src)) {\n      if (!contentWidth) {\n        contentWidth = src.width;\n        parsedStyle.width = contentWidth;\n      }\n      if (!contentHeight) {\n        contentHeight = src.height;\n        parsedStyle.height = contentHeight;\n      }\n    }\n\n    return {\n      cx: x + contentWidth / 2,\n      cy: y + contentHeight / 2,\n      hwidth: contentWidth / 2,\n      hheight: contentHeight / 2,\n    };\n  }\n}\n", "import type {\n  DisplayObject,\n  ParsedTextStyleProps,\n} from '../../display-objects';\nimport { GlobalRuntime } from '../../global-runtime';\nimport type { GeometryAABBUpdater } from './interfaces';\n\nexport class TextUpdater implements GeometryAABBUpdater<ParsedTextStyleProps> {\n  constructor(private globalRuntime: GlobalRuntime) {}\n\n  private isReadyToMeasure(\n    parsedStyle: ParsedTextStyleProps,\n    object: DisplayObject,\n  ) {\n    const { text } = parsedStyle;\n\n    return text;\n  }\n\n  update(parsedStyle: ParsedTextStyleProps, object: DisplayObject) {\n    const {\n      text,\n      textAlign = 'start',\n      lineWidth = 1,\n      textBaseline = 'alphabetic',\n      dx = 0,\n      dy = 0,\n      x = 0,\n      y = 0,\n    } = parsedStyle;\n\n    if (!this.isReadyToMeasure(parsedStyle, object)) {\n      parsedStyle.metrics = {\n        font: '',\n        width: 0,\n        height: 0,\n        lines: [],\n        lineWidths: [],\n        lineHeight: 0,\n        maxLineWidth: 0,\n        fontProperties: {\n          ascent: 0,\n          descent: 0,\n          fontSize: 0,\n        },\n        lineMetrics: [],\n      };\n      return {\n        hwidth: 0,\n        hheight: 0,\n        cx: 0,\n        cy: 0,\n      };\n    }\n\n    const { offscreenCanvas } =\n      object?.ownerDocument?.defaultView?.getConfig() || {};\n    const metrics = this.globalRuntime.textService.measureText(\n      text,\n      parsedStyle,\n      offscreenCanvas,\n    );\n    parsedStyle.metrics = metrics;\n\n    const { width, height } = metrics;\n\n    const hwidth = width / 2;\n    const hheight = height / 2;\n\n    // default 'left'\n    let lineXOffset = x + hwidth;\n    if (textAlign === 'center' || textAlign === 'middle') {\n      lineXOffset += lineWidth / 2 - hwidth;\n    } else if (textAlign === 'right' || textAlign === 'end') {\n      lineXOffset += lineWidth - hwidth * 2;\n    }\n\n    let lineYOffset = y - hheight;\n    if (textBaseline === 'middle') {\n      lineYOffset += hheight;\n    } else if (textBaseline === 'top' || textBaseline === 'hanging') {\n      lineYOffset += hheight * 2;\n    } else if (textBaseline === 'alphabetic') {\n      // alphabetic has been removed in the latest version, will be treated as bottom\n    } else if (textBaseline === 'bottom' || textBaseline === 'ideographic') {\n      lineYOffset += 0;\n    }\n    // TODO: ideographic & bottom\n\n    if (dx) {\n      lineXOffset += dx;\n    }\n    if (dy) {\n      lineYOffset += dy;\n    }\n\n    return {\n      cx: lineXOffset,\n      cy: lineYOffset,\n      hwidth,\n      hheight,\n    };\n  }\n}\n", "import type { Group, ParsedImageStyleProps } from '../../display-objects';\nimport type { GeometryAABBUpdater } from './interfaces';\n\nexport class GroupUpdater\n  implements GeometryAABBUpdater<ParsedImageStyleProps>\n{\n  update(parsedStyle: ParsedImageStyleProps, object: Group) {\n    return {\n      cx: 0,\n      cy: 0,\n      hwidth: 0,\n      hheight: 0,\n    };\n  }\n}\n", "import type { HTML, ParsedHTMLStyleProps } from '../../display-objects/HTML';\nimport type { GeometryAABBUpdater } from './interfaces';\n\nexport class HTMLUpdater implements GeometryAABBUpdater<ParsedHTMLStyleProps> {\n  update(parsedStyle: ParsedHTMLStyleProps, object: HTML) {\n    const { x = 0, y = 0, width = 0, height = 0 } = parsedStyle;\n\n    return {\n      cx: x + width / 2,\n      cy: y + height / 2,\n      hwidth: width / 2,\n      hheight: height / 2,\n    };\n  }\n}\n", "import type { EventService } from '../services';\nimport { Point } from '../shapes/Point';\nimport { ERROR_MSG_METHOD_NOT_IMPLEMENTED } from '../utils';\nimport type { IEventTarget } from './interfaces';\n\nexport function isFederatedEvent(value: any): value is FederatedEvent {\n  return !!(value as FederatedEvent).type;\n}\n\n/**\n * An DOM-compatible synthetic event implementation that is \"forwarded\" on behalf of an original\n * FederatedEvent or native Event.\n */\nexport class FederatedEvent<N extends Event = Event, T = any> {\n  /**\n   * The type of event, supports the following:\n   * * pointerdown\n   * * touchstart\n   * * mousedown\n   * * rightdown\n   * * ...\n   */\n  type: string;\n\n  /**\n   * @deprecated\n   */\n  get name() {\n    return this.type;\n  }\n\n  /**\n   * The propagation phase.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Event/eventPhase\n   */\n  eventPhase = FederatedEvent.prototype.NONE;\n\n  /**\n   * can be used to implement event delegation\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/target\n   */\n  target: IEventTarget | null;\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/bubbles\n   */\n  bubbles = true;\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/cancelBubble\n   */\n  cancelBubble = true;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Event/cancelable\n   */\n  readonly cancelable = false;\n\n  /** the event target when listeners binded */\n  currentTarget: IEventTarget | null;\n\n  /** Flags whether the default response of the user agent was prevent through this event. */\n  defaultPrevented = false;\n\n  /**\n   * timestamp when the event created\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/timeStamp\n   */\n  timeStamp: number;\n\n  /**\n   * the original event.\n   */\n  nativeEvent: N;\n\n  /** The original event that caused this event, if any. */\n  originalEvent: FederatedEvent<N>;\n\n  /** Flags whether propagation was stopped. */\n  propagationStopped = false;\n\n  /** Flags whether propagation was immediately stopped. */\n  propagationImmediatelyStopped = false;\n\n  manager: EventService | null;\n\n  /** Event-specific detail */\n  detail: T;\n\n  /**\n   * The coordinates of the evnet relative to the nearest DOM layer.\n   * This is a non-standard property.\n   */\n  layer: Point = new Point();\n  get layerX(): number {\n    return this.layer.x;\n  }\n  get layerY(): number {\n    return this.layer.y;\n  }\n\n  /**\n   * The coordinates of the event relative to the DOM document.\n   * This is a non-standard property.\n   * relative to the DOM document.\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent/pageX\n   */\n  page: Point = new Point();\n  get pageX(): number {\n    return this.page.x;\n  }\n  get pageY(): number {\n    return this.page.y;\n  }\n\n  /**\n   * relative to Canvas, origin is left-top\n   */\n  canvas: Point = new Point();\n  get x(): number {\n    return this.canvas.x;\n  }\n  get y(): number {\n    return this.canvas.y;\n  }\n  get canvasX(): number {\n    return this.canvas.x;\n  }\n  get canvasY(): number {\n    return this.canvas.y;\n  }\n\n  /**\n   * relative to Viewport, account for Camera\n   */\n  viewport: Point = new Point();\n  get viewportX(): number {\n    return this.viewport.x;\n  }\n  get viewportY(): number {\n    return this.viewport.y;\n  }\n\n  /**\n   * The event boundary which manages this event. Propagation can only occur\n   *  within the boundary's jurisdiction.\n   */\n  constructor(manager: EventService | null) {\n    this.manager = manager;\n  }\n\n  path: IEventTarget[];\n  /**\n   * The propagation path for this event\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/composedPath\n   *\n   * So composedPath()[0] represents the original target.\n   * @see https://polymer-library.polymer-project.org/3.0/docs/devguide/events#retargeting\n   */\n  composedPath(): IEventTarget[] {\n    if (this.manager && (!this.path || this.path[0] !== this.target)) {\n      this.path = this.target ? this.manager.propagationPath(this.target) : [];\n    }\n\n    return this.path;\n  }\n  /**\n   * @deprecated\n   */\n  get propagationPath() {\n    return this.composedPath();\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/preventDefault\n   */\n  preventDefault(): void {\n    if (this.nativeEvent instanceof Event && this.nativeEvent.cancelable) {\n      this.nativeEvent.preventDefault();\n    }\n\n    this.defaultPrevented = true;\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/stopImmediatePropagation\n   */\n  stopImmediatePropagation(): void {\n    this.propagationImmediatelyStopped = true;\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/stopPropagation\n   */\n  stopPropagation(): void {\n    this.propagationStopped = true;\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/UIEvent/view\n   */\n  view: any;\n\n  /**\n   * added for compatibility with DOM Event,\n   * deprecated props and methods\n   */\n  initEvent(): void {}\n  initUIEvent(): void {}\n  which: number;\n  returnValue: boolean;\n  srcElement: IEventTarget;\n  readonly composed = false;\n  isTrusted: boolean;\n\n  clone() {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  NONE = 0;\n  CAPTURING_PHASE = 1;\n  AT_TARGET = 2;\n  BUBBLING_PHASE = 3;\n}\n", "import type { DisplayObject } from '../display-objects/DisplayObject';\nimport { Point } from '../shapes/Point';\nimport { ERROR_MSG_METHOD_NOT_IMPLEMENTED } from '../utils';\nimport { FederatedEvent } from './FederatedEvent';\n\nexport class FederatedMouseEvent\n  extends FederatedEvent<MouseEvent | PointerEvent | TouchEvent>\n  implements MouseEvent\n{\n  /** Whether the \"alt\" key was pressed when this mouse event occurred. */\n  altKey: boolean;\n\n  /** The specific button that was pressed in this mouse event. */\n  button: number;\n\n  /** The button depressed when this event occurred. */\n  buttons: number;\n\n  /** Whether the \"control\" key was pressed when this mouse event occurred. */\n  ctrlKey: boolean;\n\n  /** Whether the \"meta\" key was pressed when this mouse event occurred. */\n  metaKey: boolean;\n\n  /** This is currently not implemented in the Federated Events API. */\n  // @ts-ignore\n  relatedTarget: DisplayObject | null;\n\n  /** Whether the \"shift\" key was pressed when this mouse event occurred. */\n  shiftKey: boolean;\n\n  /**\n   * The coordinates of the mouse event relative to the canvas.\n   */\n  client: Point = new Point();\n  get clientX(): number {\n    return this.client.x;\n  }\n  get clientY(): number {\n    return this.client.y;\n  }\n\n  /**\n   * The movement in this pointer relative to the last `mousemove` event.\n   */\n  movement: Point = new Point();\n  get movementX(): number {\n    return this.movement.x;\n  }\n  get movementY(): number {\n    return this.movement.y;\n  }\n\n  /**\n   * The offset of the pointer coordinates w.r.t. target DisplayObject in world space. This is\n   * not supported at the moment.\n   */\n  offset: Point = new Point();\n  get offsetX(): number {\n    return this.offset.x;\n  }\n  get offsetY(): number {\n    return this.offset.y;\n  }\n\n  /**\n   * The pointer coordinates in world space.\n   */\n  global: Point = new Point();\n  get globalX(): number {\n    return this.global.x;\n  }\n  get globalY(): number {\n    return this.global.y;\n  }\n\n  /**\n   * The pointer coordinates in sceen space.\n   */\n  screen: Point = new Point();\n  get screenX(): number {\n    return this.screen.x;\n  }\n  get screenY(): number {\n    return this.screen.y;\n  }\n\n  getModifierState(key: string): boolean {\n    return (\n      'getModifierState' in this.nativeEvent &&\n      this.nativeEvent.getModifierState(key)\n    );\n  }\n  initMouseEvent(): void {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n}\n", "import { FederatedMouseEvent } from './FederatedMouseEvent';\n\n// @ts-ignore\nexport class FederatedPointerEvent\n  extends FederatedMouseEvent\n  implements PointerEvent\n{\n  /**\n   * The unique identifier of the pointer.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerId\n   */\n  pointerId: number;\n\n  /**\n   * The width of the pointer's contact along the x-axis, measured in CSS pixels.\n   * radiusX of TouchEvents will be represented by this value.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/width\n   */\n  width = 0;\n\n  /**\n   * The height of the pointer's contact along the y-axis, measured in CSS pixels.\n   * radiusY of TouchEvents will be represented by this value.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/height\n   */\n  height = 0;\n\n  /**\n   * Indicates whether or not the pointer device that created the event is the primary pointer.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/isPrimary\n   */\n  isPrimary = false;\n\n  /**\n   * The type of pointer that triggered the event.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerType\n   */\n  pointerType: string;\n\n  /**\n   * Pressure applied by the pointing device during the event.\n   *s\n   * A Touch's force property will be represented by this value.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pressure\n   */\n  pressure: number;\n\n  /**\n   * Barrel pressure on a stylus pointer.\n   *\n   * @see https://w3c.github.io/pointerevents/#pointerevent-interface\n   */\n  tangentialPressure: number;\n\n  /**\n   * The angle, in degrees, between the pointer device and the screen.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/tiltX\n   */\n  tiltX: number;\n\n  /**\n   * The angle, in degrees, between the pointer device and the screen.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/tiltY\n   */\n  tiltY: number;\n\n  /**\n   * Twist of a stylus pointer.\n   *\n   * @see https://w3c.github.io/pointerevents/#pointerevent-interface\n   */\n  twist: number;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/getCoalescedEvents\n   */\n  getCoalescedEvents(): PointerEvent[] {\n    if (\n      this.type === 'pointermove' ||\n      this.type === 'mousemove' ||\n      this.type === 'touchmove'\n    ) {\n      // @ts-ignore\n      return [this];\n    }\n    return [];\n  }\n\n  /**\n   * @see https://chromestatus.com/feature/5765569655603200\n   */\n  getPredictedEvents(): PointerEvent[] {\n    throw new Error('getPredictedEvents is not supported!');\n  }\n\n  /**\n   * @see https://github.com/antvis/G/issues/1115\n   * We currently reuses event objects in the event system,\n   * avoiding the creation of a large number of event objects.\n   * Reused objects are only used to carry different data,\n   * such as coordinate information, native event objects,\n   * and therefore the lifecycle is limited to the event handler,\n   * which can lead to unintended consequences if an attempt is made to cache the entire event object.\n   *\n   * Therefore, while keeping the above performance considerations in mind, it is possible to provide a clone method that creates a new object when the user really wants to cache it, e.g.\n   */\n  clone() {\n    return this.manager.clonePointerEvent(this);\n  }\n}\n", "import { FederatedMouseEvent } from './FederatedMouseEvent';\n\n// @ts-ignore\nexport class FederatedWheelEvent\n  extends FederatedMouseEvent\n  implements WheelEvent\n{\n  /**\n   * The units of `deltaX`, `deltaY`, and `deltaZ`. This is one of `DOM_DELTA_LINE`,\n   * `DOM_DELTA_PAGE`, `DOM_DELTA_PIXEL`.\n   */\n  deltaMode: number;\n\n  /** Horizontal scroll amount */\n  deltaX: number;\n\n  /** Vertical scroll amount */\n  deltaY: number;\n\n  /** z-axis scroll amount. */\n  deltaZ: number;\n\n  readonly DOM_DELTA_PIXEL: 0x00;\n  readonly DOM_DELTA_LINE: 0x01;\n  readonly DOM_DELTA_PAGE: 0x02;\n\n  clone() {\n    return this.manager.cloneWheelEvent(this);\n  }\n}\n", "import { FederatedEvent } from './FederatedEvent';\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/Events/Creating_and_triggering_events\n *\n * @example\n  const event = new CustomEvent('build', { detail: { prop1: 'xx' } });\n  circle.addEventListener('build', (e) => {\n    e.target; // circle\n    e.detail; // { prop1: 'xx' }\n  });\n\n  circle.dispatchEvent(event);\n */\nexport class CustomEvent extends FederatedEvent {\n  constructor(eventName: string, object?: object) {\n    super(null);\n\n    this.type = eventName;\n    this.detail = object;\n\n    // compatible with G 3.0\n    Object.assign(this, object);\n  }\n}\n", "import { isBoolean, isFunction } from '@antv/util';\nimport EventEmitter from 'eventemitter3';\nimport { CustomEvent } from './CustomEvent';\nimport { FederatedEvent } from './FederatedEvent';\nimport type {\n  EventListenerOrEventListenerObject,\n  ICanvas,\n  IDocument,\n  IEventTarget,\n  INode,\n} from './interfaces';\n\nconst CANVAS_CACHE = new WeakMap<IEventTarget, ICanvas>();\n\n/**\n * Objects that can receive events and may have listeners for them.\n * eg. Element, Canvas, DisplayObject\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n */\nexport class EventTarget implements IEventTarget {\n  /**\n   * event emitter\n   */\n  emitter = new EventEmitter();\n\n  /**\n   * @deprecated\n   * @alias addEventListener\n   */\n  on(\n    type: string,\n    listener: EventListenerOrEventListenerObject | ((...args: any[]) => void),\n    options?: boolean | AddEventListenerOptions,\n  ) {\n    this.addEventListener(type, listener, options);\n    return this;\n  }\n  /**\n   * support `capture` & `once` in options\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener\n   */\n  addEventListener(\n    type: string,\n    listener: EventListenerOrEventListenerObject | ((...args: any[]) => void),\n    options?: boolean | AddEventListenerOptions,\n  ) {\n    let capture = false;\n    let once = false;\n\n    if (isBoolean(options)) capture = options;\n    else if (options) ({ capture = false, once = false } = options);\n\n    if (capture) type += 'capture';\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    listener = isFunction(listener) ? listener : listener.handleEvent;\n\n    const context = isFunction(listener) ? undefined : listener;\n\n    if (once) this.emitter.once(type, listener, context);\n    else this.emitter.on(type, listener, context);\n\n    return this;\n  }\n  /**\n   * @deprecated\n   * @alias removeEventListener\n   */\n  off(\n    type: string,\n    listener: EventListenerOrEventListenerObject | ((...args: any[]) => void),\n    options?: boolean | AddEventListenerOptions,\n  ) {\n    if (type) {\n      this.removeEventListener(type, listener, options);\n    } else {\n      // remove all listeners\n      this.removeAllEventListeners();\n    }\n    return this;\n  }\n\n  removeAllEventListeners() {\n    this.emitter?.removeAllListeners();\n  }\n\n  removeEventListener(\n    type: string,\n    listener?: EventListenerOrEventListenerObject | ((...args: any[]) => void),\n    options?: boolean | AddEventListenerOptions,\n  ) {\n    if (!this.emitter) return this;\n\n    const capture = isBoolean(options) ? options : options?.capture;\n    if (capture) type += 'capture';\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    listener = isFunction(listener) ? listener : listener?.handleEvent;\n    const context = isFunction(listener) ? undefined : listener;\n\n    this.emitter.off(type, listener, context);\n    return this;\n  }\n  /**\n   * @deprecated\n   * @alias dispatchEvent\n   */\n  emit(eventName: string, object: object) {\n    this.dispatchEvent(new CustomEvent(eventName, object));\n  }\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent\n   */\n  dispatchEvent<T extends FederatedEvent>(\n    e: T,\n    skipPropagate = false,\n  ): boolean {\n    let canvas: ICanvas = CANVAS_CACHE.get(this);\n\n    if (!canvas) {\n      // @ts-expect-error document may be defined in inherited class\n      if (this.document) canvas = this as unknown as ICanvas;\n      // @ts-expect-error defaultView may be defined in inherited class\n      else if (this.defaultView)\n        canvas = (this as unknown as IDocument).defaultView;\n      else canvas = (this as unknown as INode).ownerDocument?.defaultView;\n\n      if (canvas) CANVAS_CACHE.set(this, canvas);\n    }\n\n    if (canvas) {\n      e.manager = canvas.getEventService();\n      if (!e.manager) return false;\n\n      e.defaultPrevented = false;\n      if (e.path) e.path.length = 0;\n      // @ts-ignore\n      else e.page = [];\n\n      if (!skipPropagate) e.target = this;\n      e.manager.dispatchEvent(e, e.type, skipPropagate);\n    } else {\n      // HACK Fixed the issue that after an element leaves the DOM tree, there is no associated canvas,\n      // which causes the removed and destroy events to not be triggered\n      this.emitter.emit(e.type, e);\n    }\n\n    return !e.defaultPrevented;\n  }\n}\n", "import { Shape } from '../types';\nimport { ERROR_MSG_METHOD_NOT_IMPLEMENTED } from '../utils';\n// import { Text } from '../display-objects/Text';\nimport { EventTarget } from './EventTarget';\nimport type {\n  IChildNode,\n  IDocument,\n  IElement,\n  IEventTarget,\n  INode,\n  IParentNode,\n} from './interfaces';\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Node\n */\nexport abstract class Node extends EventTarget implements INode {\n  /**\n   * Both nodes are in different documents or different trees in the same document.\n   */\n  static DOCUMENT_POSITION_DISCONNECTED = 1;\n\n  /**\n   * otherNode precedes the node in either a pre-order depth-first traversal\n   * of a tree containing both (e.g., as an ancestor or previous sibling or a descendant of a previous sibling or previous sibling of an ancestor) or (if they are disconnected) in an arbitrary but consistent ordering.\n   */\n  static DOCUMENT_POSITION_PRECEDING = 2;\n\n  /**\n   * otherNode follows the node in either a pre-order depth-first traversal of a tree containing both (e.g., as a descendant or following sibling or a descendant of a following sibling or following sibling of an ancestor) or (if they are disconnected) in an arbitrary but consistent ordering.\n   */\n  static DOCUMENT_POSITION_FOLLOWING = 4;\n\n  /**\n   * otherNode is an ancestor of the node.\n   */\n  static DOCUMENT_POSITION_CONTAINS = 8;\n\n  /**\n   * otherNode is a descendant of the node.\n   */\n  static DOCUMENT_POSITION_CONTAINED_BY = 16;\n\n  /**\n   * The result relies upon arbitrary and/or implementation-specific behavior and is not guaranteed to be portable.\n   */\n  static DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC = 32;\n\n  static isNode(target: IEventTarget | INode): target is INode {\n    return !!(target as INode).childNodes;\n  }\n\n  shadow = false;\n  /**\n   * points to canvas.document\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/ownerDocument\n   */\n  ownerDocument: IDocument | null = null;\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node/isConnected\n   * @example\n      circle.isConnected; // false\n      canvas.appendChild(circle);\n      circle.isConnected; // true\n   */\n  isConnected = false;\n\n  /**\n   * Returns node's node document's document base URL.\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node\n   */\n  readonly baseURI: string = '';\n\n  /**\n   * Returns the children.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/childNodes\n   */\n  childNodes: IChildNode[] = [];\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeType\n   */\n  nodeType = 0;\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeName\n   */\n  nodeName = '';\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node/nodeValue\n   */\n  nodeValue: string | null = null;\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node/textContent\n   */\n  get textContent(): string {\n    let out = '';\n\n    if (this.nodeName === Shape.TEXT) {\n      // @ts-ignore\n      out += this.style.text;\n    }\n\n    for (const child of this.childNodes) {\n      if (child.nodeName === Shape.TEXT) {\n        out += child.nodeValue;\n      } else {\n        out += child.textContent;\n      }\n    }\n\n    return out;\n  }\n\n  set textContent(content: string) {\n    // remove all children\n    this.childNodes.slice().forEach((child) => {\n      this.removeChild(child);\n    });\n\n    if (this.nodeName === Shape.TEXT) {\n      // @ts-ignore\n      this.style.text = `${content}`;\n    } else {\n      // this.appendChild(\n      //   new Text({\n      //     style: {\n      //       text: content,\n      //     },\n      //   }),\n      // );\n    }\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node/getRootNode\n   */\n  getRootNode(opts: { composed?: boolean } = {}): INode {\n    if (this.parentNode) {\n      return this.parentNode.getRootNode(opts);\n    }\n    if (opts.composed && (this as any).host) {\n      return (this as any).host.getRootNode(opts);\n    }\n    return this;\n  }\n  hasChildNodes(): boolean {\n    return this.childNodes.length > 0;\n  }\n\n  isDefaultNamespace(namespace: string | null): boolean {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  lookupNamespaceURI(prefix: string | null): string | null {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  lookupPrefix(namespace: string | null): string | null {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  normalize(): void {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node/isEqualNode\n   */\n  isEqualNode(otherNode: INode | null): boolean {\n    // TODO: compare 2 nodes, not sameness\n    return this === otherNode;\n  }\n  isSameNode(otherNode: INode | null): boolean {\n    return this.isEqualNode(otherNode);\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/ParentNode\n   */\n  parentNode: (INode & IParentNode) | null = null;\n\n  /**\n   * @deprecated\n   * @alias parentNode\n   */\n  get parent(): INode | null {\n    return this.parentNode;\n  }\n  get parentElement(): IElement | null {\n    return null;\n  }\n  get nextSibling(): IChildNode | null {\n    return null;\n  }\n  get previousSibling(): IChildNode | null {\n    return null;\n  }\n  get firstChild(): IChildNode | null {\n    return this.childNodes.length > 0 ? this.childNodes[0] : null;\n  }\n  get lastChild(): IChildNode | null {\n    return this.childNodes.length > 0\n      ? this.childNodes[this.childNodes.length - 1]\n      : null;\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n   * @see https://github.com/b-fuze/deno-dom/blob/master/src/dom/node.ts#L338\n   */\n  compareDocumentPosition(other: INode): number {\n    if (other === this) {\n      // same node\n      return 0;\n    }\n\n    // if (!(other instanceof Node)) {\n    //   throw new TypeError(\n    //     'Node.compareDocumentPosition: Argument 1 does not implement interface Node.',\n    //   );\n    // }\n\n    let node1Root: INode = other;\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let node2Root: INode = this;\n    const node1Hierarchy: INode[] = [node1Root];\n    const node2Hierarchy: INode[] = [node2Root];\n    while (node1Root.parentNode ?? node2Root.parentNode) {\n      node1Root = node1Root.parentNode\n        ? (node1Hierarchy.push(node1Root.parentNode), node1Root.parentNode)\n        : node1Root;\n      node2Root = node2Root.parentNode\n        ? (node2Hierarchy.push(node2Root.parentNode), node2Root.parentNode)\n        : node2Root;\n    }\n\n    // Check if they don't share the same root node\n    if (node1Root !== node2Root) {\n      return (\n        Node.DOCUMENT_POSITION_DISCONNECTED |\n        Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC |\n        Node.DOCUMENT_POSITION_PRECEDING\n      );\n    }\n\n    const longerHierarchy =\n      node1Hierarchy.length > node2Hierarchy.length\n        ? node1Hierarchy\n        : node2Hierarchy;\n    const shorterHierarchy =\n      longerHierarchy === node1Hierarchy ? node2Hierarchy : node1Hierarchy;\n\n    // Check if either is a container of the other\n    if (\n      longerHierarchy[longerHierarchy.length - shorterHierarchy.length] ===\n      shorterHierarchy[0]\n    ) {\n      return longerHierarchy === node1Hierarchy\n        ? // other is a child of this\n          Node.DOCUMENT_POSITION_CONTAINED_BY | Node.DOCUMENT_POSITION_FOLLOWING\n        : // this is a child of other\n          Node.DOCUMENT_POSITION_CONTAINS | Node.DOCUMENT_POSITION_PRECEDING;\n    }\n\n    // Find their first common ancestor and see whether they\n    // are preceding or following\n    const longerStart = longerHierarchy.length - shorterHierarchy.length;\n    for (let i = shorterHierarchy.length - 1; i >= 0; i--) {\n      const shorterHierarchyNode = shorterHierarchy[i];\n      const longerHierarchyNode = longerHierarchy[longerStart + i];\n\n      // We found the first common ancestor\n      if (longerHierarchyNode !== shorterHierarchyNode) {\n        const siblings = shorterHierarchyNode.parentNode.childNodes as INode[];\n\n        if (\n          siblings.indexOf(shorterHierarchyNode) <\n          siblings.indexOf(longerHierarchyNode)\n        ) {\n          // Shorter is before longer\n          if (shorterHierarchy === node1Hierarchy) {\n            // Other is before this\n            return Node.DOCUMENT_POSITION_PRECEDING;\n          }\n          // This is before other\n          return Node.DOCUMENT_POSITION_FOLLOWING;\n        }\n        // Longer is before shorter\n        if (longerHierarchy === node1Hierarchy) {\n          // Other is before this\n          return Node.DOCUMENT_POSITION_PRECEDING;\n        }\n        // Other is after this\n        return Node.DOCUMENT_POSITION_FOLLOWING;\n      }\n    }\n\n    return Node.DOCUMENT_POSITION_FOLLOWING;\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode\n   */\n  abstract cloneNode(deep?: boolean): this;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild\n   */\n  abstract appendChild<T extends INode>(newChild: T, index?: number): T;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore\n   */\n  abstract insertBefore<T extends INode>(\n    newChild: T,\n    refChild: INode | null,\n  ): T;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/removeChild\n   */\n  abstract removeChild<T extends INode>(child: T): T;\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node/replaceChild\n   */\n  abstract replaceChild<T extends INode>(newChild: INode, oldChild: T): T;\n\n  abstract destroy(): void;\n\n  /**\n   * @deprecated\n   * @alias contains\n   */\n  contain<T extends INode>(other: T | null) {\n    return this.contains(other);\n  }\n  contains<T extends INode>(other: T | null): boolean {\n    // the node itself, one of its direct children\n    let tmp: INode | null = other;\n    // @see https://developer.mozilla.org/en-US/docs/Web/API/Node/contains\n    while (tmp && this !== tmp) {\n      tmp = tmp.parentNode;\n    }\n    return !!tmp;\n  }\n\n  getAncestor(n: number): INode | null {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let temp: INode | null = this;\n    while (n > 0 && temp) {\n      temp = temp.parentNode;\n      n--;\n    }\n    return temp;\n  }\n\n  forEach(callback: (o: INode) => void | boolean) {\n    const stack: INode[] = [this];\n\n    while (stack.length > 0) {\n      const node = stack.pop();\n      const result = callback(node);\n      if (result === false) {\n        break;\n      }\n\n      for (let i = node.childNodes.length - 1; i >= 0; i--) {\n        stack.push(node.childNodes[i]);\n      }\n    }\n  }\n}\n", "import { mat4, vec3 } from 'gl-matrix';\nimport type { CanvasContext, GlobalRuntime, InteractivePointerEvent } from '..';\nimport type { HTML } from '../display-objects';\nimport type { FederatedEvent } from '../dom/FederatedEvent';\nimport { FederatedMouseEvent } from '../dom/FederatedMouseEvent';\nimport { FederatedPointerEvent } from '../dom/FederatedPointerEvent';\nimport { FederatedWheelEvent } from '../dom/FederatedWheelEvent';\nimport { Node } from '../dom/Node';\nimport type {\n  ICanvas,\n  IDocument,\n  IEventTarget,\n  INode,\n} from '../dom/interfaces';\nimport type { PointLike } from '../shapes';\nimport { Point } from '../shapes';\nimport type { Cursor, EventPosition } from '../types';\nimport { isElement } from '../utils/dom';\nimport { clock } from '../utils/event';\n\ntype Picker = (position: EventPosition) => IEventTarget | null;\ntype TrackingData = {\n  pressTargetsByButton: Record<number, IEventTarget[]>;\n  clicksByButton: Record<\n    number,\n    {\n      clickCount: number;\n      target: IEventTarget;\n      timeStamp: number;\n    }\n  >;\n  overTargets: IEventTarget[] | null;\n};\nexport type EmitterListeners = Record<\n  string,\n  | { fn: (...args: any[]) => any; context: any; once: boolean }[]\n  | { fn: (...args: any[]) => any; context: any; once: boolean }\n>;\nconst PROPAGATION_LIMIT = 2048;\n\nexport class EventService {\n  constructor(\n    private globalRuntime: GlobalRuntime,\n    private context: CanvasContext,\n  ) {}\n\n  private rootTarget: IEventTarget;\n\n  /**\n   * Store HTML elements in current canvas.\n   */\n  nativeHTMLMap = new WeakMap<HTMLElement, HTML>();\n\n  cursor: Cursor | null = 'default';\n\n  private mappingTable: Record<\n    string,\n    {\n      fn: (e: FederatedEvent) => void;\n      priority: number;\n    }[]\n  > = {};\n  private mappingState: Record<string, any> = {\n    trackingData: {},\n  };\n  private eventPool: Map<typeof FederatedEvent, FederatedEvent[]> = new Map();\n\n  private pickHandler: Picker;\n\n  private tmpMatrix = mat4.create();\n  private tmpVec3 = vec3.create();\n\n  init() {\n    this.rootTarget = this.context.renderingContext.root.parentNode; // document\n    this.addEventMapping('pointerdown', this.onPointerDown);\n    this.addEventMapping('pointerup', this.onPointerUp);\n    this.addEventMapping('pointermove', this.onPointerMove);\n    this.addEventMapping('pointerout', this.onPointerOut);\n    this.addEventMapping('pointerleave', this.onPointerOut);\n    this.addEventMapping('pointercancel', this.onPointerCancel);\n    this.addEventMapping('pointerover', this.onPointerOver);\n    this.addEventMapping('pointerupoutside', this.onPointerUpOutside);\n    this.addEventMapping('wheel', this.onWheel);\n    this.addEventMapping('click', this.onClick);\n  }\n\n  destroy() {\n    this.mappingTable = {};\n    this.mappingState = {};\n    this.eventPool.clear();\n  }\n\n  private getScale() {\n    const bbox = this.context.contextService.getBoundingClientRect();\n    let scaleX = 1;\n    let scaleY = 1;\n    const $el =\n      this.context.contextService.getDomElement() as HTMLCanvasElement;\n    if ($el && bbox) {\n      const { offsetWidth, offsetHeight } = $el;\n      if (offsetWidth && offsetHeight) {\n        scaleX = bbox.width / offsetWidth;\n        scaleY = bbox.height / offsetHeight;\n      }\n    }\n    return {\n      scaleX,\n      scaleY,\n      bbox,\n    };\n  }\n\n  /**\n   * Should account for CSS Transform applied on container.\n   * @see https://github.com/antvis/G/issues/1161\n   * @see https://github.com/antvis/G/issues/1677\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent/offsetX\n   */\n  client2Viewport(client: PointLike): PointLike {\n    const { scaleX, scaleY, bbox } = this.getScale();\n    return new Point(\n      (client.x - (bbox?.left || 0)) / scaleX,\n      (client.y - (bbox?.top || 0)) / scaleY,\n    );\n  }\n\n  viewport2Client(canvas: PointLike): PointLike {\n    const { scaleX, scaleY, bbox } = this.getScale();\n    return new Point(\n      (canvas.x + (bbox?.left || 0)) * scaleX,\n      (canvas.y + (bbox?.top || 0)) * scaleY,\n    );\n  }\n\n  viewport2Canvas({ x, y }: PointLike): PointLike {\n    const canvas = (this.rootTarget as IDocument).defaultView;\n    const camera = canvas.getCamera();\n\n    const { width, height } = this.context.config;\n\n    const projectionMatrixInverse = camera.getPerspectiveInverse();\n    const worldMatrix = camera.getWorldTransform();\n    const vpMatrix = mat4.multiply(\n      this.tmpMatrix,\n      worldMatrix,\n      projectionMatrixInverse,\n    );\n\n    const viewport = vec3.set(\n      this.tmpVec3,\n      (x / width) * 2 - 1,\n      (1 - y / height) * 2 - 1,\n      0,\n    );\n\n    vec3.transformMat4(viewport, viewport, vpMatrix);\n\n    return new Point(viewport[0], viewport[1]);\n  }\n\n  canvas2Viewport(canvasP: PointLike): PointLike {\n    const canvas = (this.rootTarget as IDocument).defaultView;\n    const camera = canvas.getCamera();\n\n    // World -> Clip\n    const projectionMatrix = camera.getPerspective();\n    const viewMatrix = camera.getViewTransform();\n    const vpMatrix = mat4.multiply(\n      this.tmpMatrix,\n      projectionMatrix,\n      viewMatrix,\n    );\n\n    const clip = vec3.set(this.tmpVec3, canvasP.x, canvasP.y, 0);\n    vec3.transformMat4(this.tmpVec3, this.tmpVec3, vpMatrix);\n\n    // Clip -> NDC -> Viewport, flip Y\n    const { width, height } = this.context.config;\n    return new Point(\n      ((clip[0] + 1) / 2) * width,\n      (1 - (clip[1] + 1) / 2) * height,\n    );\n  }\n\n  setPickHandler(pickHandler: Picker) {\n    this.pickHandler = pickHandler;\n  }\n\n  addEventMapping(type: string, fn: (e: FederatedEvent) => void) {\n    if (!this.mappingTable[type]) {\n      this.mappingTable[type] = [];\n    }\n\n    this.mappingTable[type].push({\n      fn,\n      priority: 0,\n    });\n    this.mappingTable[type].sort((a, b) => a.priority - b.priority);\n  }\n\n  mapEvent(e: FederatedEvent) {\n    if (!this.rootTarget) {\n      return;\n    }\n\n    const mappers = this.mappingTable[e.type];\n\n    if (mappers) {\n      for (let i = 0, j = mappers.length; i < j; i++) {\n        mappers[i].fn(e);\n      }\n    } else {\n      console.warn(`[EventService]: Event mapping not defined for ${e.type}`);\n    }\n  }\n\n  onPointerDown = (from: FederatedPointerEvent) => {\n    const e = this.createPointerEvent(from);\n\n    this.dispatchEvent(e, 'pointerdown');\n\n    if (e.pointerType === 'touch') {\n      this.dispatchEvent(e, 'touchstart');\n    } else if (e.pointerType === 'mouse' || e.pointerType === 'pen') {\n      const isRightButton = e.button === 2;\n      this.dispatchEvent(e, isRightButton ? 'rightdown' : 'mousedown');\n    }\n\n    const trackingData = this.trackingData(from.pointerId);\n\n    trackingData.pressTargetsByButton[from.button] = e.composedPath();\n\n    this.freeEvent(e);\n  };\n\n  onPointerUp = (from: FederatedPointerEvent) => {\n    const now = clock.now();\n    const e = this.createPointerEvent(\n      from,\n      undefined,\n      undefined,\n      this.context.config.alwaysTriggerPointerEventOnCanvas\n        ? this.rootTarget\n        : undefined,\n    );\n\n    this.dispatchEvent(e, 'pointerup');\n\n    if (e.pointerType === 'touch') {\n      this.dispatchEvent(e, 'touchend');\n    } else if (e.pointerType === 'mouse' || e.pointerType === 'pen') {\n      const isRightButton = e.button === 2;\n      this.dispatchEvent(e, isRightButton ? 'rightup' : 'mouseup');\n    }\n\n    const trackingData = this.trackingData(from.pointerId);\n    const pressTarget = this.findMountedTarget(\n      trackingData.pressTargetsByButton[from.button],\n    );\n\n    let clickTarget = pressTarget;\n\n    // pointerupoutside only bubbles. It only bubbles upto the parent that doesn't contain\n    // the pointerup location.\n    if (pressTarget && !e.composedPath().includes(pressTarget)) {\n      let currentTarget: IEventTarget | null = pressTarget;\n\n      while (currentTarget && !e.composedPath().includes(currentTarget)) {\n        e.currentTarget = currentTarget;\n\n        this.notifyTarget(e, 'pointerupoutside');\n\n        if (e.pointerType === 'touch') {\n          this.notifyTarget(e, 'touchendoutside');\n        } else if (e.pointerType === 'mouse' || e.pointerType === 'pen') {\n          const isRightButton = e.button === 2;\n\n          this.notifyTarget(\n            e,\n            isRightButton ? 'rightupoutside' : 'mouseupoutside',\n          );\n        }\n\n        if (Node.isNode(currentTarget)) {\n          currentTarget = currentTarget.parentNode;\n        }\n      }\n\n      delete trackingData.pressTargetsByButton[from.button];\n\n      // currentTarget is the most specific ancestor holding both the pointerdown and pointerup\n      // targets. That is - it's our click target!\n      clickTarget = currentTarget;\n    }\n\n    if (clickTarget) {\n      const clickEvent = this.clonePointerEvent(e, 'click');\n\n      clickEvent.target = clickTarget;\n      clickEvent.path = [];\n\n      if (!trackingData.clicksByButton[from.button]) {\n        trackingData.clicksByButton[from.button] = {\n          clickCount: 0,\n          target: clickEvent.target,\n          timeStamp: now,\n        };\n      }\n\n      const canvas =\n        this.context.renderingContext.root.ownerDocument.defaultView;\n      const clickHistory = trackingData.clicksByButton[from.button];\n\n      if (\n        clickHistory.target === clickEvent.target &&\n        now - clickHistory.timeStamp < canvas.getConfig().dblClickSpeed\n      ) {\n        ++clickHistory.clickCount;\n      } else {\n        clickHistory.clickCount = 1;\n      }\n\n      clickHistory.target = clickEvent.target;\n      clickHistory.timeStamp = now;\n\n      clickEvent.detail = clickHistory.clickCount;\n\n      // @see https://github.com/antvis/G/issues/1091\n      if (!e.detail?.preventClick) {\n        if (\n          !this.context.config.useNativeClickEvent &&\n          (clickEvent.pointerType === 'mouse' ||\n            clickEvent.pointerType === 'touch')\n        ) {\n          this.dispatchEvent(clickEvent, 'click');\n        }\n        this.dispatchEvent(clickEvent, 'pointertap');\n      }\n\n      this.freeEvent(clickEvent);\n    }\n\n    this.freeEvent(e);\n  };\n\n  onPointerMove = (from: FederatedPointerEvent) => {\n    const e = this.createPointerEvent(\n      from,\n      undefined,\n      undefined,\n      this.context.config.alwaysTriggerPointerEventOnCanvas\n        ? this.rootTarget\n        : undefined,\n    );\n\n    const isMouse = e.pointerType === 'mouse' || e.pointerType === 'pen';\n    const trackingData = this.trackingData(from.pointerId);\n    const outTarget = this.findMountedTarget(trackingData.overTargets);\n\n    // First pointerout/pointerleave\n    if (trackingData.overTargets && outTarget !== e.target) {\n      // pointerout always occurs on the overTarget when the pointer hovers over another element.\n      const outType = from.type === 'mousemove' ? 'mouseout' : 'pointerout';\n      const outEvent = this.createPointerEvent(\n        from,\n        outType,\n        outTarget || undefined,\n      );\n\n      this.dispatchEvent(outEvent, 'pointerout');\n      if (isMouse) this.dispatchEvent(outEvent, 'mouseout');\n\n      // If the pointer exits overTarget and its descendants, then a pointerleave event is also fired. This event\n      // is dispatched to all ancestors that no longer capture the pointer.\n      if (!e.composedPath().includes(outTarget)) {\n        const leaveEvent = this.createPointerEvent(\n          from,\n          'pointerleave',\n          outTarget || undefined,\n        );\n\n        leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n\n        while (\n          leaveEvent.target &&\n          !e.composedPath().includes(leaveEvent.target)\n        ) {\n          leaveEvent.currentTarget = leaveEvent.target;\n\n          this.notifyTarget(leaveEvent);\n          if (isMouse) {\n            this.notifyTarget(leaveEvent, 'mouseleave');\n          }\n\n          if (Node.isNode(leaveEvent.target)) {\n            leaveEvent.target = leaveEvent.target.parentNode;\n          }\n        }\n\n        this.freeEvent(leaveEvent);\n      }\n\n      this.freeEvent(outEvent);\n    }\n\n    // Then pointerover\n    if (outTarget !== e.target) {\n      // pointerover always occurs on the new overTarget\n      const overType = from.type === 'mousemove' ? 'mouseover' : 'pointerover';\n      const overEvent = this.clonePointerEvent(e, overType); // clone faster\n\n      this.dispatchEvent(overEvent, 'pointerover');\n      if (isMouse) this.dispatchEvent(overEvent, 'mouseover');\n\n      // Probe whether the newly hovered Node is an ancestor of the original overTarget.\n      let overTargetAncestor =\n        outTarget && Node.isNode(outTarget) && outTarget.parentNode;\n\n      while (\n        overTargetAncestor &&\n        overTargetAncestor !==\n          (Node.isNode(this.rootTarget) && this.rootTarget.parentNode)\n      ) {\n        if (overTargetAncestor === e.target) break;\n\n        overTargetAncestor = overTargetAncestor.parentNode;\n      }\n\n      // The pointer has entered a non-ancestor of the original overTarget. This means we need a pointerentered\n      // event.\n      const didPointerEnter =\n        !overTargetAncestor ||\n        overTargetAncestor ===\n          (Node.isNode(this.rootTarget) && this.rootTarget.parentNode);\n\n      if (didPointerEnter) {\n        const enterEvent = this.clonePointerEvent(e, 'pointerenter');\n\n        enterEvent.eventPhase = enterEvent.AT_TARGET;\n\n        while (\n          enterEvent.target &&\n          enterEvent.target !== outTarget &&\n          enterEvent.target !==\n            (Node.isNode(this.rootTarget) && this.rootTarget.parentNode)\n        ) {\n          enterEvent.currentTarget = enterEvent.target;\n\n          this.notifyTarget(enterEvent);\n          if (isMouse) this.notifyTarget(enterEvent, 'mouseenter');\n\n          if (Node.isNode(enterEvent.target)) {\n            enterEvent.target = enterEvent.target.parentNode;\n          }\n        }\n\n        this.freeEvent(enterEvent);\n      }\n\n      this.freeEvent(overEvent);\n    }\n\n    // Then pointermove\n    this.dispatchEvent(e, 'pointermove');\n\n    if (e.pointerType === 'touch') this.dispatchEvent(e, 'touchmove');\n\n    if (isMouse) {\n      this.dispatchEvent(e, 'mousemove');\n      this.cursor = this.getCursor(e.target);\n    }\n\n    trackingData.overTargets = e.composedPath();\n\n    this.freeEvent(e);\n  };\n\n  onPointerOut = (from: FederatedPointerEvent) => {\n    const trackingData = this.trackingData(from.pointerId);\n\n    if (trackingData.overTargets) {\n      const isMouse =\n        from.pointerType === 'mouse' || from.pointerType === 'pen';\n      const outTarget = this.findMountedTarget(trackingData.overTargets);\n\n      // pointerout first\n      const outEvent = this.createPointerEvent(\n        from,\n        'pointerout',\n        outTarget || undefined,\n      );\n\n      this.dispatchEvent(outEvent);\n      if (isMouse) this.dispatchEvent(outEvent, 'mouseout');\n\n      // pointerleave(s) are also dispatched b/c the pointer must've left rootTarget and its descendants to\n      // get an upstream pointerout event (upstream events do not know rootTarget has descendants).\n      const leaveEvent = this.createPointerEvent(\n        from,\n        'pointerleave',\n        outTarget || undefined,\n      );\n\n      leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n\n      while (\n        leaveEvent.target &&\n        leaveEvent.target !==\n          (Node.isNode(this.rootTarget) && this.rootTarget.parentNode)\n      ) {\n        leaveEvent.currentTarget = leaveEvent.target;\n\n        this.notifyTarget(leaveEvent);\n        if (isMouse) {\n          this.notifyTarget(leaveEvent, 'mouseleave');\n        }\n\n        if (Node.isNode(leaveEvent.target)) {\n          leaveEvent.target = leaveEvent.target.parentNode;\n        }\n      }\n\n      trackingData.overTargets = null;\n\n      this.freeEvent(outEvent);\n      this.freeEvent(leaveEvent);\n    }\n\n    this.cursor = null;\n  };\n\n  onPointerOver = (from: FederatedPointerEvent) => {\n    const trackingData = this.trackingData(from.pointerId);\n    const e = this.createPointerEvent(from);\n\n    const isMouse = e.pointerType === 'mouse' || e.pointerType === 'pen';\n\n    this.dispatchEvent(e, 'pointerover');\n    if (isMouse) this.dispatchEvent(e, 'mouseover');\n    if (e.pointerType === 'mouse') this.cursor = this.getCursor(e.target);\n\n    // pointerenter events must be fired since the pointer entered from upstream.\n    const enterEvent = this.clonePointerEvent(e, 'pointerenter');\n\n    enterEvent.eventPhase = enterEvent.AT_TARGET;\n\n    while (\n      enterEvent.target &&\n      enterEvent.target !==\n        (Node.isNode(this.rootTarget) && this.rootTarget.parentNode)\n    ) {\n      enterEvent.currentTarget = enterEvent.target;\n\n      this.notifyTarget(enterEvent);\n      if (isMouse) {\n        // mouseenter should not bubble\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseenter_event#usage_notes\n        this.notifyTarget(enterEvent, 'mouseenter');\n      }\n\n      if (Node.isNode(enterEvent.target)) {\n        enterEvent.target = enterEvent.target.parentNode;\n      }\n    }\n\n    trackingData.overTargets = e.composedPath();\n\n    this.freeEvent(e);\n    this.freeEvent(enterEvent);\n  };\n\n  onPointerUpOutside = (from: FederatedPointerEvent) => {\n    const trackingData = this.trackingData(from.pointerId);\n    const pressTarget = this.findMountedTarget(\n      trackingData.pressTargetsByButton[from.button],\n    );\n    const e = this.createPointerEvent(from);\n\n    if (pressTarget) {\n      let currentTarget: IEventTarget | null = pressTarget;\n\n      while (currentTarget) {\n        e.currentTarget = currentTarget;\n\n        this.notifyTarget(e, 'pointerupoutside');\n\n        if (e.pointerType === 'touch') {\n          // this.notifyTarget(e, 'touchendoutside');\n        } else if (e.pointerType === 'mouse' || e.pointerType === 'pen') {\n          this.notifyTarget(\n            e,\n            e.button === 2 ? 'rightupoutside' : 'mouseupoutside',\n          );\n        }\n\n        if (Node.isNode(currentTarget)) {\n          currentTarget = currentTarget.parentNode;\n        }\n      }\n\n      delete trackingData.pressTargetsByButton[from.button];\n    }\n\n    this.freeEvent(e);\n  };\n\n  onWheel = (from: FederatedWheelEvent) => {\n    const wheelEvent = this.createWheelEvent(from);\n\n    this.dispatchEvent(wheelEvent);\n    this.freeEvent(wheelEvent);\n  };\n\n  onClick = (from: FederatedPointerEvent) => {\n    if (this.context.config.useNativeClickEvent) {\n      const e = this.createPointerEvent(from);\n      this.dispatchEvent(e);\n      this.freeEvent(e);\n    }\n  };\n\n  onPointerCancel = (from: FederatedPointerEvent) => {\n    const e = this.createPointerEvent(\n      from,\n      undefined,\n      undefined,\n      this.context.config.alwaysTriggerPointerEventOnCanvas\n        ? this.rootTarget\n        : undefined,\n    );\n\n    this.dispatchEvent(e);\n    this.freeEvent(e);\n  };\n\n  dispatchEvent(e: FederatedEvent, type?: string, skipPropagate?: boolean) {\n    // Canvas should skip\n    if (!skipPropagate) {\n      e.propagationStopped = false;\n      e.propagationImmediatelyStopped = false;\n      this.propagate(e, type);\n    } else {\n      // target phase\n      e.eventPhase = e.AT_TARGET;\n      const canvas = (this.rootTarget as IDocument).defaultView || null;\n      e.currentTarget = canvas;\n      this.notifyListeners(e, type);\n    }\n  }\n\n  propagate(e: FederatedEvent, type?: string) {\n    if (!e.target) {\n      return;\n    }\n\n    // [target, parent, root, Canvas]\n    const composedPath = e.composedPath();\n\n    // event flow: capture -> target -> bubbling\n\n    // capture phase\n    e.eventPhase = e.CAPTURING_PHASE;\n    for (let i = composedPath.length - 1; i >= 1; i--) {\n      e.currentTarget = composedPath[i];\n      this.notifyTarget(e, type);\n      if (e.propagationStopped || e.propagationImmediatelyStopped) return;\n    }\n\n    // target phase\n    e.eventPhase = e.AT_TARGET;\n    e.currentTarget = e.target;\n    this.notifyTarget(e, type);\n    if (e.propagationStopped || e.propagationImmediatelyStopped) return;\n\n    // find current target in composed path\n    const index = composedPath.indexOf(e.currentTarget);\n\n    // bubbling phase\n    e.eventPhase = e.BUBBLING_PHASE;\n    for (let i = index + 1; i < composedPath.length; i++) {\n      e.currentTarget = composedPath[i];\n      this.notifyTarget(e, type);\n      if (e.propagationStopped || e.propagationImmediatelyStopped) return;\n    }\n  }\n\n  propagationPath(target: IEventTarget): IEventTarget[] {\n    const propagationPath = [target];\n    const canvas = (this.rootTarget as IDocument).defaultView || null;\n\n    if (canvas && canvas === (target as unknown as ICanvas)) {\n      propagationPath.unshift(canvas.document);\n      return propagationPath;\n    }\n\n    for (let i = 0; i < PROPAGATION_LIMIT && target !== this.rootTarget; i++) {\n      // if (Node.isNode(target) && !target.parentNode) {\n      //   throw new Error('Cannot find propagation path to disconnected target');\n      // }\n\n      if (Node.isNode(target) && target.parentNode) {\n        // [target, parent, parent, root]\n        propagationPath.push(target.parentNode);\n        target = target.parentNode;\n      }\n    }\n\n    if (canvas) {\n      // @ts-ignore\n      propagationPath.push(canvas);\n    }\n\n    return propagationPath;\n  }\n\n  hitTest(position: EventPosition): IEventTarget | null {\n    const { viewportX, viewportY } = position;\n    const { width, height, disableHitTesting } = this.context.config;\n    // outside canvas\n    if (\n      viewportX < 0 ||\n      viewportY < 0 ||\n      viewportX > width ||\n      viewportY > height\n    ) {\n      return null;\n    }\n\n    return (\n      (!disableHitTesting && this.pickHandler(position)) ||\n      this.rootTarget || // return Document\n      null\n    );\n  }\n\n  /**\n   * whether the native event trigger came from Canvas,\n   * should account for HTML shape\n   */\n  isNativeEventFromCanvas(\n    $el: HTMLCanvasElement,\n    nativeEvent: InteractivePointerEvent,\n  ) {\n    let target = nativeEvent?.target as Element;\n    // Get event target inside a web component.\n    // @see https://stackoverflow.com/questions/57963312/get-event-target-inside-a-web-component\n    if (target?.shadowRoot) {\n      target = nativeEvent.composedPath()[0] as Element;\n    }\n\n    if (target) {\n      // from <canvas>\n      if (target === $el) {\n        return true;\n      }\n\n      // from <svg>\n      if ($el && ($el as unknown as HTMLCanvasElement).contains) {\n        return ($el as unknown as HTMLCanvasElement).contains(target as any);\n      }\n    }\n\n    if (nativeEvent?.composedPath) {\n      return nativeEvent.composedPath().indexOf($el as EventTarget) > -1;\n    }\n\n    // account for Touch\n    return false;\n  }\n\n  /**\n   * Find HTML from composed path in native UI event.\n   */\n  private getExistedHTML(event: FederatedEvent): HTML {\n    if (event.nativeEvent.composedPath) {\n      for (const eventTarget of event.nativeEvent.composedPath() as HTMLElement[]) {\n        const existed = this.nativeHTMLMap.get(eventTarget);\n        if (existed) {\n          return existed;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  private pickTarget(\n    event: FederatedPointerEvent | FederatedWheelEvent,\n  ): INode {\n    return this.hitTest({\n      clientX: event.clientX,\n      clientY: event.clientY,\n      viewportX: event.viewportX,\n      viewportY: event.viewportY,\n      x: event.canvasX,\n      y: event.canvasY,\n    }) as INode;\n  }\n\n  private createPointerEvent(\n    from: FederatedPointerEvent,\n    type?: string,\n    target?: IEventTarget,\n    fallbackTarget?: IEventTarget,\n  ): FederatedPointerEvent {\n    const event = this.allocateEvent(FederatedPointerEvent);\n\n    this.copyPointerData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from;\n\n    const existedHTML = this.getExistedHTML(event);\n    const $el =\n      this.context.contextService.getDomElement() as HTMLCanvasElement;\n    event.target =\n      target ??\n      (existedHTML ||\n        (this.isNativeEventFromCanvas($el, event.nativeEvent) &&\n          this.pickTarget(event)) ||\n        fallbackTarget);\n\n    if (typeof type === 'string') {\n      event.type = type;\n    }\n\n    return event;\n  }\n\n  private createWheelEvent(from: FederatedWheelEvent): FederatedWheelEvent {\n    const event = this.allocateEvent(FederatedWheelEvent);\n\n    this.copyWheelData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from;\n    const existedHTML = this.getExistedHTML(event);\n\n    const $el =\n      this.context.contextService.getDomElement() as HTMLCanvasElement;\n    event.target =\n      existedHTML ||\n      (this.isNativeEventFromCanvas($el, event.nativeEvent) &&\n        this.pickTarget(event));\n    return event;\n  }\n\n  private trackingData(id: number): TrackingData {\n    if (!this.mappingState.trackingData[id]) {\n      this.mappingState.trackingData[id] = {\n        pressTargetsByButton: {},\n        clicksByButton: {},\n        overTarget: null,\n      };\n    }\n\n    return this.mappingState.trackingData[id];\n  }\n\n  cloneWheelEvent(from: FederatedWheelEvent) {\n    const event = this.allocateEvent(FederatedWheelEvent);\n\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from.originalEvent;\n\n    this.copyWheelData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n\n    event.target = from.target;\n    event.path = from.composedPath().slice();\n    event.type = from.type;\n\n    return event;\n  }\n\n  clonePointerEvent(\n    from: FederatedPointerEvent,\n    type?: string,\n  ): FederatedPointerEvent {\n    const event = this.allocateEvent(FederatedPointerEvent);\n\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from.originalEvent;\n\n    this.copyPointerData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n\n    event.target = from.target;\n    event.path = from.composedPath().slice();\n    event.type = type ?? event.type;\n\n    return event;\n  }\n\n  private copyPointerData(\n    from: FederatedPointerEvent,\n    to: FederatedPointerEvent,\n  ) {\n    // if (\n    //   !(\n    //     from instanceof FederatedPointerEvent &&\n    //     to instanceof FederatedPointerEvent\n    //   )\n    // )\n    //   return;\n\n    to.pointerId = from.pointerId;\n    to.width = from.width;\n    to.height = from.height;\n    to.isPrimary = from.isPrimary;\n    to.pointerType = from.pointerType;\n    to.pressure = from.pressure;\n    to.tangentialPressure = from.tangentialPressure;\n    to.tiltX = from.tiltX;\n    to.tiltY = from.tiltY;\n    to.twist = from.twist;\n  }\n\n  private copyMouseData(from: FederatedMouseEvent, to: FederatedMouseEvent) {\n    // if (\n    //   !(\n    //     from instanceof FederatedMouseEvent && to instanceof FederatedMouseEvent\n    //   )\n    // )\n    //   return;\n\n    to.altKey = from.altKey;\n    to.button = from.button;\n    to.buttons = from.buttons;\n    to.ctrlKey = from.ctrlKey;\n    to.metaKey = from.metaKey;\n    to.shiftKey = from.shiftKey;\n    to.client.copyFrom(from.client);\n    to.movement.copyFrom(from.movement);\n    to.canvas.copyFrom(from.canvas);\n    to.screen.copyFrom(from.screen);\n    to.global.copyFrom(from.global);\n    to.offset.copyFrom(from.offset);\n  }\n\n  private copyWheelData(from: FederatedWheelEvent, to: FederatedWheelEvent) {\n    to.deltaMode = from.deltaMode;\n    to.deltaX = from.deltaX;\n    to.deltaY = from.deltaY;\n    to.deltaZ = from.deltaZ;\n  }\n\n  private copyData(from: FederatedEvent, to: FederatedEvent) {\n    to.isTrusted = from.isTrusted;\n    to.timeStamp = clock.now();\n    to.type = from.type;\n    to.detail = from.detail;\n    to.view = from.view;\n    to.page.copyFrom(from.page);\n    to.viewport.copyFrom(from.viewport);\n  }\n\n  private allocateEvent<T extends FederatedEvent>(constructor: {\n    new (boundary: EventService): T;\n  }): T {\n    if (!this.eventPool.has(constructor as any)) {\n      this.eventPool.set(constructor as any, []);\n    }\n\n    // @ts-ignore\n    const event =\n      (this.eventPool.get(constructor as any).pop() as T) ||\n      new constructor(this);\n\n    event.eventPhase = event.NONE;\n    event.currentTarget = null;\n    event.path = [];\n    event.target = null;\n\n    return event;\n  }\n\n  private freeEvent<T extends FederatedEvent>(event: T) {\n    if (event.manager !== this)\n      throw new Error(\n        'It is illegal to free an event not managed by this EventBoundary!',\n      );\n\n    const { constructor } = event;\n\n    if (!this.eventPool.has(constructor as any)) {\n      this.eventPool.set(constructor as any, []);\n    }\n\n    // @ts-ignore\n    this.eventPool.get(constructor as any).push(event);\n  }\n\n  private notifyTarget(e: FederatedEvent, type?: string) {\n    type = type ?? e.type;\n    const key =\n      e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET\n        ? `${type}capture`\n        : type;\n\n    this.notifyListeners(e, key);\n\n    if (e.eventPhase === e.AT_TARGET) {\n      this.notifyListeners(e, type);\n    }\n  }\n\n  private notifyListeners(e: FederatedEvent, type: string) {\n    // hack EventEmitter, stops if the `propagationImmediatelyStopped` flag is set\n    const { emitter } = e.currentTarget;\n    // @ts-ignore\n    const listeners = (emitter._events as EmitterListeners)[type];\n\n    if (!listeners) return;\n\n    if ('fn' in listeners) {\n      if (listeners.once) {\n        emitter.removeListener(type, listeners.fn, undefined, true);\n      }\n      listeners.fn.call(e.currentTarget || listeners.context, e);\n      // listeners.fn.call(listeners.context, e);\n    } else {\n      for (\n        let i = 0;\n        i < listeners.length && !e.propagationImmediatelyStopped;\n        i++\n      ) {\n        if (listeners[i].once) {\n          emitter.removeListener(type, listeners[i].fn, undefined, true);\n        }\n        listeners[i].fn.call(e.currentTarget || listeners[i].context, e);\n        // listeners[i].fn.call(listeners[i].context, e);\n      }\n    }\n  }\n\n  /**\n   * some detached nodes may exist in propagation path, need to skip them\n   */\n  private findMountedTarget(\n    propagationPath: IEventTarget[] | null,\n  ): IEventTarget | null {\n    if (!propagationPath) {\n      return null;\n    }\n\n    let currentTarget = propagationPath[propagationPath.length - 1];\n    for (let i = propagationPath.length - 2; i >= 0; i--) {\n      const target = propagationPath[i];\n      if (\n        target === this.rootTarget ||\n        (Node.isNode(target) && target.parentNode === currentTarget)\n      ) {\n        currentTarget = propagationPath[i];\n      } else {\n        break;\n      }\n    }\n\n    return currentTarget;\n  }\n\n  private getCursor(target: IEventTarget | null) {\n    let tmp: IEventTarget | null = target;\n    while (tmp) {\n      const cursor = isElement(tmp) && tmp.getAttribute('cursor');\n      if (cursor) {\n        return cursor;\n      }\n      tmp = Node.isNode(tmp) && tmp.parentNode;\n    }\n  }\n}\n", "import type { CanvasLike } from '..';\nimport { runtime } from '../global-runtime';\n\n/**\n * used in following scenes:\n * - g `ctx.measureText`\n * - g-plugin-canvas-picker `ctx.isPointInPath`\n * - g-plugin-device-renderer `ctx.createLinearGradient` and generate texture\n *\n * @see https://blog.scottlogic.com/2020/03/19/offscreen-canvas.html\n */\nexport class OffscreenCanvasCreator {\n  private canvas: CanvasLike;\n  private context: CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D;\n\n  /**\n   * @returns new canvas instance\n   */\n  static createCanvas(): HTMLCanvasElement | OffscreenCanvas | null {\n    try {\n      return new window.OffscreenCanvas(0, 0);\n    } catch {\n      //\n    }\n\n    try {\n      return document.createElement('canvas');\n    } catch {\n      //\n    }\n\n    return null;\n  }\n\n  getOrCreateCanvas(\n    offscreenCanvas: CanvasLike,\n    contextAttributes?: CanvasRenderingContext2DSettings,\n  ): CanvasLike {\n    if (this.canvas) {\n      return this.canvas;\n    }\n\n    // user-defined offscreen canvas\n    if (offscreenCanvas || runtime.offscreenCanvas) {\n      this.canvas = offscreenCanvas || runtime.offscreenCanvas;\n      this.context = this.canvas.getContext('2d', {\n        willReadFrequently: true,\n        ...contextAttributes,\n      });\n    } else {\n      try {\n        // OffscreenCanvas2D measureText can be up to 40% faster.\n        this.canvas = new window.OffscreenCanvas(0, 0) as unknown as CanvasLike;\n        this.context = this.canvas.getContext('2d', {\n          willReadFrequently: true,\n          ...contextAttributes,\n        });\n        if (!this.context || !this.context.measureText) {\n          this.canvas = document.createElement('canvas');\n          this.context = this.canvas.getContext('2d');\n        }\n      } catch {\n        this.canvas = document.createElement('canvas');\n        this.context = this.canvas.getContext('2d', {\n          willReadFrequently: true,\n          ...contextAttributes,\n        });\n      }\n    }\n\n    this.canvas.width = 10;\n    this.canvas.height = 10;\n\n    return this.canvas;\n  }\n\n  getOrCreateContext(\n    offscreenCanvas: CanvasLike,\n    contextAttributes?: CanvasRenderingContext2DSettings,\n  ) {\n    if (this.context) {\n      return this.context;\n    }\n\n    this.getOrCreateCanvas(offscreenCanvas, contextAttributes);\n    return this.context;\n  }\n}\n", "import type { DisplayObject, Group } from '../display-objects';\n\n/**\n * why we need re-render\n */\nexport enum RenderReason {\n  CAMERA_CHANGED,\n  DISPLAY_OBJECT_CHANGED,\n  NONE,\n}\nexport interface RenderingContext {\n  /**\n   * root of scenegraph\n   */\n  root: Group;\n\n  /**\n   * force rendering at next frame\n   */\n  force: boolean;\n\n  /**\n   * reason of re-render, reset after every renderred frame\n   */\n  renderReasons: Set<RenderReason>;\n\n  renderListCurrentFrame: DisplayObject[];\n\n  unculledEntities: number[];\n\n  dirty: boolean;\n}\n", "import type { ICamera } from '../camera';\nimport { SortReason, Sortable } from '../components';\nimport type { DisplayObject } from '../display-objects';\nimport type { CanvasContext, IChildNode, IElement } from '../dom';\nimport type { GlobalRuntime } from '../global-runtime';\nimport type {\n  CanvasConfig,\n  EventPosition,\n  InteractivePointerEvent,\n} from '../types';\nimport {\n  AsyncParallelHook,\n  AsyncSeriesWaterfallHook,\n  SyncHook,\n  SyncWaterfallHook,\n  sortByZIndex,\n  sortedIndex,\n} from '../utils';\nimport type { RenderingContext } from './RenderingContext';\nimport { RenderReason } from './RenderingContext';\n\nexport type RenderingPluginContext = CanvasContext & GlobalRuntime;\n\nexport interface RenderingPlugin {\n  apply: (context: RenderingPluginContext, runtime: GlobalRuntime) => void;\n}\n\nexport interface PickingResult {\n  /**\n   * position in canvas coordinate\n   */\n  position: EventPosition;\n  picked: DisplayObject[];\n  /**\n   * only return the topmost object if there are multiple objects overlapped\n   */\n  topmost?: boolean;\n}\n\n/**\n * Use frame renderer implemented by `g-canvas/svg/webgl`, in every frame we do followings:\n * * update & merge dirty rectangles\n * * begin frame\n * * filter by visible\n * * sort by z-index in scene graph\n * * culling with strategies registered in `g-canvas/webgl`\n * * end frame\n */\nexport class RenderingService {\n  constructor(\n    private globalRuntime: GlobalRuntime,\n    private context: CanvasContext,\n  ) {}\n\n  private inited = false;\n\n  private stats = {\n    /**\n     * total display objects in scenegraph\n     */\n    total: 0,\n    /**\n     * number of display objects need to render in current frame\n     */\n    rendered: 0,\n  };\n\n  private zIndexCounter = 0;\n\n  hooks = {\n    /**\n     * called before any frame rendered\n     */\n    init: new SyncHook<[]>(),\n    initAsync: new AsyncParallelHook<[]>(),\n    /**\n     * only dirty object which has sth changed will be rendered\n     */\n    dirtycheck: new SyncWaterfallHook<[DisplayObject], DisplayObject>(),\n    /**\n     * do culling\n     */\n    cull: new SyncWaterfallHook<[DisplayObject, ICamera], DisplayObject>(),\n    /**\n     * called at beginning of each frame, won't get called if nothing to re-render\n     */\n    beginFrame: new SyncHook<[XRFrame]>(),\n    /**\n     * called before every dirty object get rendered\n     */\n    beforeRender: new SyncHook<[DisplayObject]>(),\n    /**\n     * called when every dirty object rendering even it's culled\n     */\n    render: new SyncHook<[DisplayObject]>(),\n    /**\n     * called after every dirty object get rendered\n     */\n    afterRender: new SyncHook<[DisplayObject]>(),\n    endFrame: new SyncHook<[XRFrame]>(),\n    destroy: new SyncHook<[]>(),\n    /**\n     * use async but faster method such as GPU-based picking in `g-plugin-device-renderer`\n     */\n    pick: new AsyncSeriesWaterfallHook<[PickingResult], PickingResult>(),\n\n    /**\n     * Unsafe but sync version of pick.\n     */\n    pickSync: new SyncWaterfallHook<[PickingResult], PickingResult>(),\n    /**\n     * used in event system\n     */\n    pointerDown: new SyncHook<[InteractivePointerEvent]>(),\n    pointerUp: new SyncHook<[InteractivePointerEvent]>(),\n    pointerMove: new SyncHook<[InteractivePointerEvent]>(),\n    pointerOut: new SyncHook<[InteractivePointerEvent]>(),\n    pointerOver: new SyncHook<[InteractivePointerEvent]>(),\n    pointerWheel: new SyncHook<[InteractivePointerEvent]>(),\n    pointerCancel: new SyncHook<[InteractivePointerEvent]>(),\n    click: new SyncHook<[InteractivePointerEvent]>(),\n  };\n\n  init(callback: () => void) {\n    const context = { ...this.globalRuntime, ...this.context };\n\n    // register rendering plugins\n    this.context.renderingPlugins.forEach((plugin) => {\n      plugin.apply(context, this.globalRuntime);\n    });\n    this.hooks.init.call();\n\n    if (this.hooks.initAsync.getCallbacksNum() === 0) {\n      this.inited = true;\n      callback();\n    } else {\n      this.hooks.initAsync\n        .promise()\n        .then(() => {\n          this.inited = true;\n          callback();\n        })\n        .catch((err) => {});\n    }\n  }\n\n  getStats() {\n    return this.stats;\n  }\n\n  /**\n   * Meet the following conditions:\n   * * disable DirtyRectangleRendering\n   * * camera changed\n   */\n  disableDirtyRectangleRendering() {\n    const { renderer } = this.context.config;\n    const { enableDirtyRectangleRendering } = renderer.getConfig();\n    return (\n      !enableDirtyRectangleRendering ||\n      this.context.renderingContext.renderReasons.has(\n        RenderReason.CAMERA_CHANGED,\n      )\n    );\n  }\n\n  render(\n    canvasConfig: Partial<CanvasConfig>,\n    frame: XRFrame,\n    rerenderCallback: () => void,\n  ) {\n    this.stats.total = 0;\n    this.stats.rendered = 0;\n    this.zIndexCounter = 0;\n\n    const { renderingContext } = this.context;\n\n    this.globalRuntime.sceneGraphService.syncHierarchy(renderingContext.root);\n    this.globalRuntime.sceneGraphService.triggerPendingEvents();\n\n    if (renderingContext.renderReasons.size && this.inited) {\n      // @ts-ignore\n      renderingContext.dirtyRectangleRenderingDisabled =\n        this.disableDirtyRectangleRendering();\n\n      const onlyCameraChanged =\n        renderingContext.renderReasons.size === 1 &&\n        renderingContext.renderReasons.has(RenderReason.CAMERA_CHANGED);\n      const shouldTriggerRenderHooks =\n        !canvasConfig.disableRenderHooks ||\n        !(canvasConfig.disableRenderHooks && onlyCameraChanged);\n\n      if (shouldTriggerRenderHooks) {\n        this.renderDisplayObject(\n          renderingContext.root,\n          canvasConfig,\n          renderingContext,\n        );\n      }\n\n      this.hooks.beginFrame.call(frame);\n\n      if (shouldTriggerRenderHooks) {\n        renderingContext.renderListCurrentFrame.forEach((object) => {\n          this.hooks.beforeRender.call(object);\n          this.hooks.render.call(object);\n          this.hooks.afterRender.call(object);\n        });\n      }\n\n      this.hooks.endFrame.call(frame);\n      renderingContext.renderListCurrentFrame = [];\n      renderingContext.renderReasons.clear();\n\n      rerenderCallback();\n    }\n\n    // console.log('stats', this.stats);\n  }\n\n  private renderDisplayObject(\n    displayObject: DisplayObject,\n    canvasConfig: Partial<CanvasConfig>,\n    renderingContext: RenderingContext,\n  ) {\n    const self = this;\n    const { enableDirtyCheck, enableCulling } =\n      canvasConfig.renderer.getConfig();\n\n    function internalRenderSingleDisplayObject(object: DisplayObject) {\n      // TODO: relayout\n\n      // dirtycheck first\n      const { renderable, sortable } = object;\n      // eslint-disable-next-line no-nested-ternary\n      const objectChanged = enableDirtyCheck\n        ? // @ts-ignore\n          renderable.dirty || renderingContext.dirtyRectangleRenderingDisabled\n          ? object\n          : null\n        : object;\n\n      if (objectChanged) {\n        const objectToRender = enableCulling\n          ? self.hooks.cull.call(objectChanged, self.context.camera)\n          : objectChanged;\n\n        if (objectToRender) {\n          self.stats.rendered += 1;\n          renderingContext.renderListCurrentFrame.push(objectToRender);\n        }\n      }\n\n      renderable.dirty = false;\n      sortable.renderOrder = self.zIndexCounter;\n\n      self.zIndexCounter += 1;\n      self.stats.total += 1;\n\n      // sort is very expensive, use cached result if possible\n      if (sortable.dirty) {\n        self.sort(object, sortable);\n        sortable.dirty = false;\n        sortable.dirtyChildren = [];\n        sortable.dirtyReason = undefined;\n      }\n    }\n\n    const stack = [displayObject];\n\n    while (stack.length > 0) {\n      const currentObject = stack.pop();\n\n      internalRenderSingleDisplayObject(currentObject);\n\n      // recursive rendering its children\n      const objects =\n        currentObject.sortable?.sorted?.length > 0\n          ? currentObject.sortable.sorted\n          : currentObject.childNodes;\n      for (let i = objects.length - 1; i >= 0; i--) {\n        stack.push(objects[i] as unknown as DisplayObject);\n      }\n    }\n  }\n\n  private sort(displayObject: DisplayObject, sortable: Sortable) {\n    if (\n      sortable?.sorted?.length > 0 &&\n      sortable.dirtyReason !== SortReason.Z_INDEX_CHANGED\n    ) {\n      // avoid re-sorting the whole children list\n      sortable.dirtyChildren.forEach((child) => {\n        // remove from sorted list\n        const sortIndex = sortable.sorted.indexOf(child);\n        if (sortIndex > -1) {\n          sortable.sorted.splice(sortIndex, 1);\n        }\n\n        const index = displayObject.childNodes.indexOf(child as IChildNode);\n        if (index > -1) {\n          if (sortable.sorted.length === 0) {\n            sortable.sorted.push(child);\n          } else {\n            const index = sortedIndex(\n              sortable.sorted as IElement[],\n              child as IElement,\n            );\n            sortable.sorted.splice(index, 0, child);\n          }\n        }\n      });\n    } else {\n      sortable.sorted = displayObject.childNodes.slice().sort(sortByZIndex);\n    }\n\n    // When the child elements are changed and sorted, if there are no more stacked elements in the child elements (i.e. zIndex != 0), clear the sort list\n    if (\n      sortable.sorted?.length > 0 &&\n      displayObject.childNodes.filter(\n        (child: IElement) => child.parsedStyle.zIndex,\n      ).length === 0\n    ) {\n      sortable.sorted = [];\n    }\n  }\n\n  destroy() {\n    this.inited = false;\n    this.hooks.destroy.call();\n    this.globalRuntime.sceneGraphService.clearPendingEvents();\n  }\n\n  dirtify() {\n    // need re-render\n    this.context.renderingContext.renderReasons.add(\n      RenderReason.DISPLAY_OBJECT_CHANGED,\n    );\n  }\n}\n", "import { isNil } from '@antv/util';\nimport type { IElement } from '../dom/interfaces';\n\nexport interface SceneGraphSelector {\n  selectOne: <R extends IElement, T extends IElement>(\n    query: string,\n    root: R,\n  ) => T | null;\n  selectAll: <R extends IElement, T extends IElement>(\n    query: string,\n    root: R,\n  ) => T[];\n  is: <T extends IElement>(query: string, element: T) => boolean;\n}\n\nconst ATTRIBUTE_REGEXP = /\\[\\s*(.*)=(.*)\\s*\\]/;\n\n/**\n * support the following DOM API:\n * * getElementById\n * * getElementsByClassName\n * * getElementsByName\n * * getElementsByTag\n * * querySelector\n * * querySelectorAll\n */\nexport class DefaultSceneGraphSelector implements SceneGraphSelector {\n  selectOne<R extends IElement, T extends IElement>(\n    query: string,\n    root: R,\n  ): T | null {\n    if (query.startsWith('.')) {\n      return root.find((node) => {\n        // return !node.shadow && node.id === query.substring(1);\n        return (\n          (node?.classList || []).indexOf(this.getIdOrClassname(query)) > -1\n        );\n      });\n    }\n    if (query.startsWith('#')) {\n      // getElementById('id')\n      return root.find((node) => {\n        // return !node.shadow && node.id === query.substring(1);\n        return node.id === this.getIdOrClassname(query);\n      });\n    }\n    if (query.startsWith('[')) {\n      const { name, value } = this.getAttribute(query);\n      if (name) {\n        // getElementByName();\n        return root.find(\n          (node) =>\n            (root as unknown as T) !== node &&\n            (name === 'name'\n              ? node.name === value\n              : this.attributeToString(node, name) === value),\n        );\n      }\n      return null;\n    }\n    // getElementsByTag('circle');\n    return root.find(\n      (node) => (root as unknown as T) !== node && node.nodeName === query,\n    );\n  }\n\n  selectAll<R extends IElement, T extends IElement>(\n    query: string,\n    root: R,\n  ): T[] {\n    // only support `[name=\"${name}\"]` `.className` `#id`\n    if (query.startsWith('.')) {\n      // getElementsByClassName('className');\n      // should not include itself\n      return root.findAll(\n        (node) =>\n          (root as unknown as T) !== node &&\n          (node?.classList || []).indexOf(this.getIdOrClassname(query)) > -1,\n      );\n    }\n    if (query.startsWith('#')) {\n      return root.findAll(\n        (node) =>\n          (root as unknown as T) !== node &&\n          node.id === this.getIdOrClassname(query),\n      );\n    }\n    if (query.startsWith('[')) {\n      const { name, value } = this.getAttribute(query);\n      if (name) {\n        // getElementsByName();\n        return root.findAll(\n          (node) =>\n            (root as unknown as T) !== node &&\n            (name === 'name'\n              ? node.name === value\n              : this.attributeToString(node, name) === value),\n        );\n      }\n      return [];\n    }\n    // getElementsByTag('circle');\n    return root.findAll(\n      (node) => (root as unknown as T) !== node && node.nodeName === query,\n    );\n  }\n\n  is<T extends IElement>(query: string, node: T): boolean {\n    // a simple `matches` implementation\n    if (query.startsWith('.')) {\n      return node.className === this.getIdOrClassname(query);\n    }\n    if (query.startsWith('#')) {\n      return node.id === this.getIdOrClassname(query);\n    }\n    if (query.startsWith('[')) {\n      const { name, value } = this.getAttribute(query);\n      return name === 'name'\n        ? node.name === value\n        : this.attributeToString(node, name) === value;\n    }\n    return node.nodeName === query;\n  }\n\n  private getIdOrClassname(query: string): string {\n    return query.substring(1);\n  }\n\n  private getAttribute(query: string): Record<string, string> {\n    const matches = query.match(ATTRIBUTE_REGEXP);\n    let name = '';\n    let value = '';\n    if (matches && matches.length > 2) {\n      name = matches[1].replace(/\"/g, '');\n      value = matches[2].replace(/\"/g, '');\n    }\n    return { name, value };\n  }\n\n  private attributeToString(node: IElement, name: string): string {\n    if (!node.getAttribute) {\n      return '';\n    }\n\n    const value = node.getAttribute(name);\n\n    if (isNil(value)) {\n      return '';\n    }\n\n    if (value.toString) {\n      return value.toString();\n    }\n\n    return '';\n  }\n}\n", "import type RBush from 'rbush';\nimport EventEmitter from 'eventemitter3';\nimport type { GlobalRuntime } from '..';\nimport type { ICamera } from '../camera';\nimport type { RBushNodeAABB } from '../components';\nimport type { DisplayObject } from '../display-objects';\nimport type {\n  ContextService,\n  EventService,\n  RenderingContext,\n  RenderingPlugin,\n  RenderingService,\n} from '../services';\nimport type { AABB, PointLike, Rectangle } from '../shapes';\nimport type {\n  BaseStyleProps,\n  CanvasConfig,\n  InteractivePointerEvent,\n  Shape,\n  TypeEasingFunction,\n} from '../types';\nimport type { CustomElementRegistry } from './CustomElementRegistry';\nimport type { FederatedEvent } from './FederatedEvent';\n\n/**\n * built-in events for element\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationEvent\n *\n * TODO: use MutationObserver instead\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n */\nexport enum ElementEvent {\n  // --- @see https://developer.mozilla.org/en-US/docs/Web/API/MutationEvent\n  /**\n   * @see https://www.w3.org/TR/DOM-Level-3-Events/#event-type-DOMAttrModified\n   */\n  ATTR_MODIFIED = 'DOMAttrModified',\n\n  /**\n   * it has been inserted\n   * @see https://www.w3.org/TR/DOM-Level-3-Events/#event-type-DOMNodeInserted\n   */\n  INSERTED = 'DOMNodeInserted',\n\n  /**\n   * @see https://www.w3.org/TR/DOM-Level-3-Events/#domnodeinsertedintodocument\n   */\n  MOUNTED = 'DOMNodeInsertedIntoDocument',\n\n  /**\n   * it is being removed\n   * @see https://www.w3.org/TR/DOM-Level-3-Events/#event-type-DOMNodeRemoved\n   */\n  REMOVED = 'removed',\n\n  /**\n   * @see https://www.w3.org/TR/DOM-Level-3-Events/#domnoderemovedfromdocument\n   */\n  UNMOUNTED = 'DOMNodeRemovedFromDocument',\n  // ---\n\n  REPARENT = 'reparent',\n\n  DESTROY = 'destroy',\n\n  BOUNDS_CHANGED = 'bounds-changed',\n\n  CULLED = 'culled',\n}\n\n// #region EventTarget\nexport interface IEventTarget {\n  emitter: EventEmitter;\n\n  // on: (\n  //   type: string,\n  //   listener: EventListenerOrEventListenerObject | ((...args: any[]) => void),\n  //   options?: boolean | AddEventListenerOptions,\n  // ) => void;\n  addEventListener: (\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions,\n  ) => void;\n\n  // off: (\n  //   type: string,\n  //   listener: EventListenerOrEventListenerObject | ((...args: any[]) => void),\n  //   options?: boolean | AddEventListenerOptions,\n  // ) => void;\n  removeEventListener: (\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions,\n  ) => void;\n  // removeAllEventListeners: () => void;\n\n  /**\n   * @param skipPropagate - The default value is `false`. If true, the event is only triggered globally (note that the global is not the object itself), skipping the event propagation process. In addition, if the object has been removed from the global, the event is only triggered on the object itself.\n   * @param dispatchToSelf - The default value is `false`. If true, the event will be triggered on the object itself.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent\n   */\n  dispatchEvent: <T extends FederatedEvent>(\n    e: T,\n    skipPropagate?: boolean,\n    dispatchToSelf?: boolean,\n  ) => boolean;\n\n  // emit: (eventName: string, object: object) => void;\n}\n\ninterface EventListener {\n  (evt: FederatedEvent): void;\n}\ninterface EventListenerObject {\n  handleEvent(object: FederatedEvent): void;\n}\n\nexport type EventListenerOrEventListenerObject =\n  | EventListener\n  | EventListenerObject;\n\n// #region Node\nexport interface INode extends IEventTarget {\n  shadow: boolean;\n  /**\n   * Returns node's node document's document base URL.\n   */\n  readonly baseURI: string;\n  /**\n   * Returns the children.\n   */\n  readonly childNodes: IChildNode[];\n  /**\n   * Returns the first child.\n   */\n  readonly firstChild: IChildNode | null;\n  /**\n   * Returns true if node is connected and false otherwise.\n   */\n  isConnected: boolean;\n  /**\n   * Returns the last child.\n   */\n  readonly lastChild: IChildNode | null;\n\n  /**\n   * Returns the next sibling.\n   */\n  readonly nextSibling: IChildNode | null;\n  /**\n   * Returns a string appropriate for the type of node.\n   */\n  readonly nodeName: string;\n  /**\n   * Returns the type of node.\n   */\n  readonly nodeType: number;\n  nodeValue: string | null;\n  /**\n   * Returns the node document. Returns null for documents.\n   */\n  ownerDocument: IDocument | null;\n  /**\n   * Returns the parent element.\n   */\n  readonly parentElement: IElement | null;\n  /**\n   * Returns the parent.\n   */\n  parentNode: (INode & IParentNode) | null;\n  /**\n   * Returns the previous sibling.\n   */\n  readonly previousSibling: IChildNode | null;\n  textContent: string | null;\n  appendChild: <T extends INode>(newChild: T, index?: number) => T;\n  /**\n   * Returns a copy of node. If deep is true, the copy also includes the node's descendants.\n   */\n  cloneNode: (deep?: boolean) => INode;\n  /**\n   * Returns a bitmask indicating the position of other relative to node.\n   */\n  compareDocumentPosition: (other: INode) => number;\n  /**\n   * Returns true if other is an inclusive descendant of node, and false otherwise.\n   */\n  contains: (other: INode | null) => boolean;\n  /**\n   * Returns node's root.\n   */\n  getRootNode: (options?: GetRootNodeOptions) => INode;\n  /**\n   * Returns node's ancestor.\n   */\n  getAncestor: (n: number) => INode | null;\n  /**\n   * iterate current node and its descendants\n   * @param callback - callback to execute for each node, return false to break\n   */\n  forEach: (callback: (o: INode) => void | boolean) => void;\n  /**\n   * Returns whether node has children.\n   */\n  hasChildNodes: () => boolean;\n  insertBefore: <T extends INode>(newChild: T, refChild: INode | null) => T;\n  isDefaultNamespace: (namespace: string | null) => boolean;\n  /**\n   * Returns whether node and otherNode have the same properties.\n   */\n  isEqualNode: (otherNode: INode | null) => boolean;\n  isSameNode: (otherNode: INode | null) => boolean;\n  lookupNamespaceURI: (prefix: string | null) => string | null;\n  lookupPrefix: (namespace: string | null) => string | null;\n  /**\n   * Removes empty exclusive Text nodes and concatenates the data of remaining contiguous exclusive Text nodes into the first of their nodes.\n   */\n  normalize: () => void;\n  removeChild: <T extends INode>(oldChild: T) => T;\n  replaceChild: <T extends INode>(newChild: INode, oldChild: T) => T;\n\n  /**\n   * Destroy itself.\n   */\n  destroy: () => void;\n}\n\nexport interface IParentNode {\n  readonly childElementCount: number;\n  /**\n   * Returns the child elements.\n   */\n  readonly children: IElement[];\n  /**\n   * Returns the first child that is an element, and null otherwise.\n   */\n  readonly firstElementChild: IElement | null;\n  /**\n   * Returns the last child that is an element, and null otherwise.\n   */\n  readonly lastElementChild: IElement | null;\n  /**\n   * Inserts nodes after the last child of node, while replacing strings in nodes with equivalent Text nodes.\n   *\n   * Throws a \"HierarchyRequestError\" DOMException if the constraints of the node tree are violated.\n   */\n  append: (...nodes: INode[]) => void;\n  /**\n   * Inserts nodes before the first child of node, while replacing strings in nodes with equivalent Text nodes.\n   *\n   * Throws a \"HierarchyRequestError\" DOMException if the constraints of the node tree are violated.\n   */\n  prepend: (...nodes: INode[]) => void;\n  /**\n   * Returns the first element that is a descendant of node that matches selectors.\n   */\n  querySelector: <E extends IElement = IElement>(selectors: string) => E | null;\n  /**\n   * Returns all element descendants of node that match selectors.\n   */\n  querySelectorAll: <E extends IElement = IElement>(selectors: string) => E[];\n  /**\n   * Similar to querySelector, use custom filter instead of selectors.\n   */\n  find: <E extends IElement = IElement>(\n    filter: (node: E) => boolean,\n  ) => E | null;\n  /**\n   * Similar to querySelectorAll, use custom filter instead of selectors.\n   */\n  findAll: <E extends IElement = IElement>(filter: (node: E) => boolean) => E[];\n}\n\nexport interface IChildNode extends INode {\n  /**\n   * Inserts nodes just after node, while replacing strings in nodes with equivalent Text nodes.\n   *\n   * Throws a \"HierarchyRequestError\" DOMException if the constraints of the node tree are violated.\n   */\n  after: (...nodes: INode[]) => void;\n  /**\n   * Inserts nodes just before node, while replacing strings in nodes with equivalent Text nodes.\n   *\n   * Throws a \"HierarchyRequestError\" DOMException if the constraints of the node tree are violated.\n   */\n  before: (...nodes: INode[]) => void;\n  /**\n   * Removes node.\n   */\n  remove: () => void;\n  /**\n   * Replaces node with nodes, while replacing strings in nodes with equivalent Text nodes.\n   *\n   * Throws a \"HierarchyRequestError\" DOMException if the constraints of the node tree are violated.\n   */\n  replaceWith: (...nodes: INode[]) => void;\n}\n\nexport interface DisplayObjectConfig<StyleProps> {\n  /**\n   * element's identifier, must be unique in a document.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/id\n   */\n  id?: string;\n\n  name?: string;\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/className\n   */\n  class?: string;\n  className?: string;\n\n  /**\n   * all styles properties, not read-only\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style\n   */\n  style?: StyleProps;\n  initialParsedStyle?: any;\n  /**\n   * compatible with G 3.0\n   * @alias style\n   * @deprecated\n   */\n  attrs?: StyleProps;\n\n  type?: Shape | string;\n\n  /**\n   * @deprecated use `style.zIndex` instead\n   */\n  zIndex?: number;\n  /**\n   * @deprecated use `style.visibility = 'visible'` instead\n   */\n  visible?: boolean;\n  /**\n   * compatible with G 3.0\n   * @alias interactive\n   * @deprecated\n   */\n  capture?: boolean;\n\n  /**\n   * enable interaction events for the DisplayObject\n   * @deprecated use `style.pointerEvents = 'auto'` instead\n   */\n  interactive?: boolean;\n}\n\n// #region Element\nexport interface IElement<StyleProps = any, ParsedStyleProps = any>\n  extends INode,\n    IChildNode,\n    IParentNode {\n  /**\n   * Returns the value of element's id content attribute. Can be set to change it.\n   */\n  id: string;\n\n  /**\n   * Returns the qualified name.\n   */\n  tagName: string;\n\n  name: string;\n\n  /**\n   * Returns the value of element's class content attribute. Can be set to change it.\n   */\n  className: string;\n  classList: string[];\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/attributes\n   */\n  attributes: StyleProps;\n\n  /**\n   * compatible with `style`\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style\n   */\n  style: StyleProps & ICSSStyleDeclaration<StyleProps>;\n  parsedStyle: ParsedStyleProps;\n\n  getElementById: <E extends IElement = IElement>(id: string) => E | null;\n  getElementsByName: <E extends IElement = IElement>(name: string) => E[];\n  getElementsByClassName: <E extends IElement = IElement>(\n    className: string,\n  ) => E[];\n  getElementsByTagName: <E extends IElement = IElement>(tagName: string) => E[];\n\n  scrollLeft: number;\n  scrollTop: number;\n  clientLeft: number;\n  clientTop: number;\n\n  getGeometryBounds(): AABB;\n  getRenderBounds(): AABB;\n  getBounds(): AABB;\n  getLocalBounds(): AABB;\n  getBoundingClientRect(): Rectangle;\n  getClientRects(): Rectangle[];\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute\n   */\n  setAttribute: <Key extends keyof StyleProps>(\n    attributeName: Key,\n    value: StyleProps[Key],\n    force?: boolean,\n    memoize?: boolean,\n  ) => void;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute\n   */\n  getAttribute: (\n    attributeName: keyof StyleProps,\n  ) => StyleProps[keyof StyleProps] | undefined;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute\n   */\n  removeAttribute: (attributeName: keyof StyleProps) => void;\n\n  hasAttribute: (qualifiedName: string) => boolean;\n}\n\n// #region AnimationTimeline\nexport interface IAnimationTimeline {\n  currentTime: number | null;\n  destroy: () => void;\n  play: (\n    target: IElement,\n    keyframes: Keyframe[] | PropertyIndexedKeyframes | null,\n    options?: number | KeyframeAnimationOptions,\n  ) => IAnimation;\n  restart: () => boolean;\n  getAnimations: () => IAnimation[];\n}\n\nexport interface IAnimation {\n  effect: IKeyframeEffect;\n  timeline: IAnimationTimeline;\n  id: string;\n  pending: boolean;\n  playState: AnimationPlayState;\n  ready: Promise<this>;\n  finished: Promise<this>;\n  onfinish: ((this: this, ev: AnimationPlaybackEvent) => any) | null;\n  oncancel: ((this: this, ev: AnimationPlaybackEvent) => any) | null;\n  onframe: ((this: this, ev: AnimationPlaybackEvent) => any) | null;\n  currentTime: number;\n  startTime: number;\n  playbackRate: number;\n  totalDuration: number;\n  play: () => void;\n  pause: () => void;\n  finish: () => void;\n  cancel: () => void;\n  reverse: () => void;\n  updatePlaybackRate: (playbackRate: number) => void;\n  tick: (timelineTime: number, isAnimationFrame: boolean) => void;\n}\n\nexport interface IAnimationEffectTiming extends EffectTiming {\n  easingFunction: TypeEasingFunction;\n}\n\nexport interface IKeyframeEffect {\n  composite: CompositeOperation;\n  iterationComposite: IterationCompositeOperation;\n  // pseudoElement: string | null;\n  target: IElement | null;\n\n  animation: IAnimation | null;\n\n  timing: IAnimationEffectTiming;\n\n  normalizedKeyframes: ComputedKeyframe[];\n\n  applyInterpolations: () => void;\n\n  update: (localTime: number | null) => boolean;\n\n  getKeyframes: () => ComputedKeyframe[];\n\n  setKeyframes: (\n    keyframes: Keyframe[] | PropertyIndexedKeyframes | null,\n  ) => void;\n\n  getComputedTiming: () => ComputedEffectTiming;\n\n  getTiming: () => EffectTiming;\n\n  updateTiming: (timing?: OptionalEffectTiming) => void;\n}\n\n// #region Document\nexport interface IDocument extends INode, IParentNode {\n  /**\n   * Returns the Window object of the active document.\n   */\n  readonly defaultView: ICanvas | null;\n\n  /**\n   * Gets a reference to the root node of the document.\n   */\n  readonly documentElement: IElement;\n\n  readonly ownerDocument: null;\n  readonly timeline: IAnimationTimeline;\n\n  /**\n   * Creates an instance of the element for the specified tag.\n   */\n  createElement: <\n    T extends DisplayObject<StyleProps>,\n    StyleProps extends BaseStyleProps,\n  >(\n    tagName: string,\n    options: DisplayObjectConfig<StyleProps>,\n  ) => T;\n\n  elementFromPoint: (x: number, y: number) => Promise<DisplayObject>;\n  elementsFromPoint: (x: number, y: number) => Promise<DisplayObject[]>;\n  elementsFromBBox: (\n    minX: number,\n    minY: number,\n    maxX: number,\n    maxY: number,\n  ) => DisplayObject[];\n}\n\n// #region CSSStyleDeclaration\n/**\n * @see https://developer.mozilla.org/zh-CN/docs/Web/API/CSSStyleDeclaration\n */\nexport interface ICSSStyleDeclaration<StyleProps> {\n  setProperty: <Key extends keyof StyleProps>(\n    propertyName: Key,\n    value: StyleProps[Key],\n    priority?: string,\n  ) => void;\n  getPropertyValue: (\n    propertyName: keyof StyleProps,\n  ) => StyleProps[keyof StyleProps] | undefined;\n  removeProperty: (propertyName: keyof StyleProps) => void;\n  item: (index: number) => string;\n}\n\nexport interface CanvasContext {\n  config: CanvasConfig;\n  camera: ICamera;\n\n  /**\n   * ContextServiceContribution\n   */\n  ContextService: new (\n    context: GlobalRuntime & CanvasContext,\n  ) => ContextService<unknown>;\n\n  contextService: ContextService<unknown>;\n  renderingService: RenderingService;\n  eventService: EventService;\n  rBushRoot: RBush<RBushNodeAABB>;\n  renderingContext: RenderingContext;\n  renderingPlugins: RenderingPlugin[];\n}\n\n// #region Canvas\nexport interface IWindow {\n  /** https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry */\n  customElements: CustomElementRegistry;\n  /** https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio */\n  devicePixelRatio: number;\n  /** https://developer.mozilla.org/en-US/docs/Web/API/DedicatedWorkerGlobalScope/requestAnimationFrame  */\n  requestAnimationFrame: typeof requestAnimationFrame;\n  /** https://developer.mozilla.org/en-US/docs/Web/API/DedicatedWorkerGlobalScope/cancelAnimationFrame */\n  cancelAnimationFrame: typeof cancelAnimationFrame;\n  /**\n   * whether the runtime supports TouchEvent?\n   * if not, the event system won't trigger touch events like `touchstart`\n   */\n  supportsTouchEvents: boolean;\n  /**\n   * whether the runtime supports PointerEvent?\n   * if not, the event system won't trigger pointer events like `pointerdown`\n   */\n  supportsPointerEvents: boolean;\n  /**\n   * is this native event a TouchEvent?\n   */\n\n  isTouchEvent: (event: InteractivePointerEvent) => event is TouchEvent;\n  /**\n   * is this native event a MouseEvent?\n   */\n  isMouseEvent: (event: InteractivePointerEvent) => event is MouseEvent;\n}\n\nexport interface ICanvas extends IWindow, IEventTarget {\n  document: IDocument;\n  context: CanvasContext;\n\n  getConfig: () => Partial<CanvasConfig>;\n  getCamera: () => ICamera;\n  getContextService: () => ContextService<unknown>;\n  getRenderingService: () => RenderingService;\n  getEventService: () => EventService;\n\n  mountChildren: (parent: INode) => void;\n  unmountChildren: (parent: INode) => void;\n  mountFragment: (fragment: INode) => void;\n\n  client2Viewport: (client: PointLike) => PointLike;\n  viewport2Client: (viewport: PointLike) => PointLike;\n  canvas2Viewport: (canvas: PointLike) => PointLike;\n  viewport2Canvas: (viewport: PointLike) => PointLike;\n\n  render: () => void;\n  destroy: (destroyScenegraph?: boolean) => void;\n  resize: (width: number, height: number) => void;\n}\n", "import { FederatedEvent } from './FederatedEvent';\nimport type { ElementEvent, IElement } from './interfaces';\n\nexport class MutationEvent extends FederatedEvent {\n  static readonly ADDITION: number = 2;\n  static readonly MODIFICATION: number = 1;\n  static readonly REMOVAL: number = 3;\n\n  constructor(\n    typeArg: ElementEvent,\n    public relatedNode: IElement,\n    public prevValue: any,\n    public newValue: any,\n    public attrName: string,\n    public attrChange: number,\n    public prevParsedValue: any,\n    public newParsedValue: any,\n  ) {\n    super(null);\n\n    this.type = typeArg;\n  }\n}\n", "import { isNumber } from '@antv/util';\nimport { mat4, quat, vec2, vec3 } from 'gl-matrix';\nimport { SortReason, Transform } from '../components';\nimport type { CustomElement, DisplayObject } from '../display-objects';\nimport type { Element, IChildNode, IElement, INode, IParentNode } from '../dom';\nimport { CustomEvent } from '../dom/CustomEvent';\nimport { ElementEvent } from '../dom/interfaces';\nimport { MutationEvent } from '../dom/MutationEvent';\nimport { GlobalRuntime, runtime } from '../global-runtime';\nimport { AABB, Rectangle } from '../shapes';\nimport { Shape } from '../types';\nimport { findClosestClipPathTarget, isInFragment } from '../utils';\nimport type { SceneGraphService } from './interfaces';\n\nfunction markRenderableDirty(e: Element) {\n  const { renderable } = e;\n  if (renderable) {\n    renderable.renderBoundsDirty = true;\n    renderable.boundsDirty = true;\n  }\n}\n\nconst reparentEvent = new MutationEvent(\n  ElementEvent.REPARENT,\n  null,\n  '',\n  '',\n  '',\n  0,\n  '',\n  '',\n);\n\n// Object pooling\n/** do not modify this objects */\nconst $vec2Zero = vec2.create();\n/** do not modify this objects */\nconst $vec3Zero = vec3.create();\n/** do not modify this objects */\nconst $vec3One = vec3.fromValues(1, 1, 1);\n/** do not modify this objects */\nconst $mat4Identity = mat4.create();\n\n/** shared objects */\nconst $vec2 = vec2.create();\n/** shared objects */\nconst $vec3 = vec3.create();\n/** shared objects */\nconst $mat4 = mat4.create();\n/** shared objects */\nconst $quat = quat.create();\n\nconst $setLocalTransform_1 = vec3.create();\nconst $setLocalTransform_2 = quat.create();\nconst $setLocalTransform_3 = vec3.create();\nconst $setLocalPosition = vec3.create();\nconst $setPosition_1 = vec3.create();\nconst $setPosition_ParentInvertMatrix = mat4.create();\nconst $setEulerAngles_InvParentRot = quat.create();\nconst $rotateLocal = quat.create();\nconst $rotate_ParentInvertRotation = quat.create();\n\nconst $triggerPendingEvents_detail = { affectChildren: true };\n\n/**\n * update transform in scene graph\n *\n * @see https://community.khronos.org/t/scene-graphs/50542/7\n */\nexport class DefaultSceneGraphService implements SceneGraphService {\n  // target -> affectChildren\n  private pendingEvents = new Map<DisplayObject, boolean>();\n  private boundsChangedEvent = new CustomEvent(ElementEvent.BOUNDS_CHANGED);\n\n  constructor(private runtime: GlobalRuntime) {}\n\n  matches<T extends IElement>(query: string, root: T) {\n    return this.runtime.sceneGraphSelector.is(query, root);\n  }\n\n  querySelector<R extends IElement, T extends IElement>(\n    query: string,\n    root: R,\n  ): T | null {\n    return this.runtime.sceneGraphSelector.selectOne<R, T>(query, root);\n  }\n\n  querySelectorAll<R extends IElement, T extends IElement>(\n    query: string,\n    root: R,\n  ): T[] {\n    return this.runtime.sceneGraphSelector.selectAll<R, T>(query, root);\n    // .filter((node) => !node.shadow);\n  }\n\n  attach<C extends INode, P extends INode & IParentNode>(\n    child: C,\n    parent: P,\n    index?: number,\n  ) {\n    let detached = false;\n    if (child.parentNode) {\n      detached = child.parentNode !== parent;\n      this.detach(child);\n    }\n\n    const isChildFragment = child.nodeName === Shape.FRAGMENT;\n    const isAttachToFragment = isInFragment(parent);\n\n    child.parentNode = parent;\n\n    const nodes = isChildFragment\n      ? (child.childNodes as DisplayObject[])\n      : [child];\n\n    if (isNumber(index)) {\n      nodes.forEach((node) => {\n        parent.childNodes.splice(index, 0, node);\n        node.parentNode = parent;\n      });\n    } else {\n      nodes.forEach((node) => {\n        parent.childNodes.push(node);\n        node.parentNode = parent;\n      });\n    }\n\n    // parent needs re-sort\n    const { sortable } = parent as unknown as Element;\n    if (\n      sortable?.sorted?.length ||\n      sortable.dirty ||\n      (child as unknown as Element).parsedStyle.zIndex\n    ) {\n      if (sortable.dirtyChildren.indexOf(child) === -1) {\n        sortable.dirtyChildren.push(child);\n      }\n      // if (sortable) {\n      // only child has z-Index\n      sortable.dirty = true;\n      sortable.dirtyReason = SortReason.ADDED;\n    }\n\n    if (isAttachToFragment) return;\n\n    if (isChildFragment) this.dirtifyFragment(child);\n    else {\n      const transform = (child as unknown as Element).transformable;\n      if (transform) {\n        this.dirtifyWorld(child, transform);\n      }\n    }\n\n    if (detached) {\n      child.dispatchEvent(reparentEvent);\n    }\n  }\n\n  detach<C extends INode>(child: C) {\n    if (!child.parentNode) {\n      return;\n    }\n\n    const transform = (child as unknown as Element).transformable;\n    // if (transform) {\n    //   const worldTransform = this.getWorldTransform(child, transform);\n    //   mat4.getScaling(transform.localScale, worldTransform);\n    //   mat4.getTranslation(transform.localPosition, worldTransform);\n    //   mat4.getRotation(transform.localRotation, worldTransform);\n    //   transform.localDirtyFlag = true;\n    // }\n\n    // parent needs re-sort\n    const { sortable } = child.parentNode as Element;\n    // if (sortable) {\n    if (\n      sortable?.sorted?.length ||\n      (child as unknown as Element).style?.zIndex\n    ) {\n      if (sortable.dirtyChildren.indexOf(child) === -1) {\n        sortable.dirtyChildren.push(child);\n      }\n      sortable.dirty = true;\n      sortable.dirtyReason = SortReason.REMOVED;\n    }\n\n    const index = child.parentNode.childNodes.indexOf(\n      child as unknown as IChildNode & INode,\n    );\n    if (index > -1) {\n      child.parentNode.childNodes.splice(index, 1);\n    }\n\n    if (transform) {\n      this.dirtifyWorld(child, transform);\n    }\n    child.parentNode = null;\n  }\n\n  getOrigin(element: INode) {\n    (element as Element).getGeometryBounds();\n    return (element as Element).transformable.origin;\n  }\n\n  /**\n   * same as pivot in Pixi.js\n   *\n   * @see https://stackoverflow.com/questions/40748452/how-to-change-css-transform-origin-but-preserve-transformation\n   */\n  setOrigin(element: INode, origin: vec3 | number, y = 0, z = 0) {\n    if (typeof origin === 'number') {\n      origin = [origin, y, z];\n    }\n    const transform = (element as Element).transformable;\n    if (\n      origin[0] === transform.origin[0] &&\n      origin[1] === transform.origin[1] &&\n      origin[2] === transform.origin[2]\n    ) {\n      return;\n    }\n\n    const originVec = transform.origin;\n\n    // const delta = vec3.subtract(vec3.create(), origin, originVec);\n    // vec3.add(transform.localPosition, transform.localPosition, delta);\n\n    // update origin\n    originVec[0] = origin[0];\n    originVec[1] = origin[1];\n    originVec[2] = origin[2] || 0;\n    this.dirtifyLocal(element, transform);\n  }\n\n  /**\n   * rotate in world space\n   */\n  rotate(element: INode, degrees: vec3 | number, y = 0, z = 0) {\n    if (typeof degrees === 'number') {\n      degrees = vec3.fromValues(degrees, y, z);\n    }\n\n    const transform = (element as Element).transformable;\n\n    if (\n      element.parentNode === null ||\n      !(element.parentNode as Element).transformable\n    ) {\n      this.rotateLocal(element, degrees);\n    } else {\n      const rotation = $quat;\n      quat.fromEuler(rotation, degrees[0], degrees[1], degrees[2]);\n      const rot = this.getRotation(element);\n      const parentRot = this.getRotation(element.parentNode);\n\n      quat.copy($rotate_ParentInvertRotation, parentRot);\n      quat.invert($rotate_ParentInvertRotation, $rotate_ParentInvertRotation);\n      quat.multiply(rotation, $rotate_ParentInvertRotation, rotation);\n      quat.multiply(transform.localRotation, rotation, rot);\n      quat.normalize(transform.localRotation, transform.localRotation);\n\n      this.dirtifyLocal(element, transform);\n    }\n  }\n\n  /**\n   * rotate in local space\n   * @see @see https://docs.microsoft.com/en-us/windows/win32/api/directxmath/nf-directxmath-xmquaternionrotationrollpitchyaw\n   */\n  rotateLocal(element: INode, degrees: vec3 | number, y = 0, z = 0) {\n    if (typeof degrees === 'number') {\n      degrees = vec3.fromValues(degrees, y, z);\n    }\n    const transform = (element as Element).transformable;\n    quat.fromEuler($rotateLocal, degrees[0], degrees[1], degrees[2]);\n    quat.mul(transform.localRotation, transform.localRotation, $rotateLocal);\n\n    this.dirtifyLocal(element, transform);\n  }\n\n  /**\n   * set euler angles(degrees) in world space\n   */\n  setEulerAngles(element: INode, degrees: vec3 | number, y = 0, z = 0) {\n    if (typeof degrees === 'number') {\n      degrees = vec3.fromValues(degrees, y, z);\n    }\n\n    const transform = (element as Element).transformable;\n\n    if (\n      element.parentNode === null ||\n      !(element.parentNode as Element).transformable\n    ) {\n      this.setLocalEulerAngles(element, degrees);\n    } else {\n      quat.fromEuler(\n        transform.localRotation,\n        degrees[0],\n        degrees[1],\n        degrees[2],\n      );\n      const parentRotation = this.getRotation(element.parentNode);\n      quat.copy(\n        $setEulerAngles_InvParentRot,\n        quat.invert($quat, parentRotation),\n      );\n      quat.mul(\n        transform.localRotation,\n        transform.localRotation,\n        $setEulerAngles_InvParentRot,\n      );\n\n      this.dirtifyLocal(element, transform);\n    }\n  }\n\n  /**\n   * set euler angles(degrees) in local space\n   */\n  setLocalEulerAngles(\n    element: INode,\n    degrees: vec3 | number,\n    y = 0,\n    z = 0,\n    dirtify = true,\n  ) {\n    if (typeof degrees === 'number') {\n      degrees = vec3.fromValues(degrees, y, z);\n    }\n    const transform = (element as Element).transformable;\n    quat.fromEuler(transform.localRotation, degrees[0], degrees[1], degrees[2]);\n    if (dirtify) {\n      this.dirtifyLocal(element, transform);\n    }\n  }\n\n  /**\n   * translate in local space\n   *\n   * @example\n   * ```\n   * translateLocal(x, y, z)\n   * translateLocal(vec3(x, y, z))\n   * ```\n   */\n  translateLocal(element: INode, translation: vec3 | number, y = 0, z = 0) {\n    if (typeof translation === 'number') {\n      translation = vec3.fromValues(translation, y, z);\n    }\n    const transform = (element as Element).transformable;\n    if (vec3.equals(translation, $vec3Zero)) return;\n\n    vec3.transformQuat(translation, translation, transform.localRotation);\n    vec3.add(transform.localPosition, transform.localPosition, translation);\n\n    this.dirtifyLocal(element, transform);\n  }\n\n  /**\n   * move to position in world space\n   *\n   *  g  move/moveTo\n   * @see https://github.com/antvis/g/blob/master/packages/g-base/src/abstract/element.ts#L684-L689\n   */\n  setPosition(element: INode, position: vec3 | vec2) {\n    const transform = (element as Element).transformable;\n\n    $setPosition_1[0] = position[0];\n    $setPosition_1[1] = position[1];\n    $setPosition_1[2] = position[2] ?? 0;\n\n    if (vec3.equals(this.getPosition(element), $setPosition_1)) {\n      return;\n    }\n\n    vec3.copy(transform.position, $setPosition_1);\n\n    if (\n      element.parentNode === null ||\n      !(element.parentNode as Element).transformable\n    ) {\n      vec3.copy(transform.localPosition, $setPosition_1);\n    } else {\n      const parentTransform = (element.parentNode as Element).transformable;\n      mat4.copy(\n        $setPosition_ParentInvertMatrix,\n        parentTransform.worldTransform,\n      );\n      mat4.invert(\n        $setPosition_ParentInvertMatrix,\n        $setPosition_ParentInvertMatrix,\n      );\n      vec3.transformMat4(\n        transform.localPosition,\n        $setPosition_1,\n        $setPosition_ParentInvertMatrix,\n      );\n    }\n\n    this.dirtifyLocal(element, transform);\n  }\n\n  /**\n   * move to position in local space\n   */\n  setLocalPosition(element: INode, position: vec3 | vec2, dirtify = true) {\n    const transform = (element as Element).transformable;\n\n    $setLocalPosition[0] = position[0];\n    $setLocalPosition[1] = position[1];\n    $setLocalPosition[2] = position[2] ?? 0;\n\n    if (vec3.equals(transform.localPosition, $setLocalPosition)) {\n      return;\n    }\n\n    vec3.copy(transform.localPosition, $setLocalPosition);\n    if (dirtify) {\n      this.dirtifyLocal(element, transform);\n    }\n  }\n\n  /**\n   * scale in local space\n   */\n  scaleLocal(element: INode, scaling: vec3 | vec2) {\n    const transform = (element as Element).transformable;\n    vec3.multiply(\n      transform.localScale,\n      transform.localScale,\n      vec3.set($vec3, scaling[0], scaling[1], scaling[2] ?? 1),\n    );\n    this.dirtifyLocal(element, transform);\n  }\n\n  setLocalScale(element: INode, scaling: vec3 | vec2, dirtify = true) {\n    const transform = (element as Element).transformable;\n\n    vec3.set(\n      $vec3,\n      scaling[0],\n      scaling[1],\n      scaling[2] ?? transform.localScale[2],\n    );\n\n    if (vec3.equals($vec3, transform.localScale)) {\n      return;\n    }\n\n    vec3.copy(transform.localScale, $vec3);\n    if (dirtify) {\n      this.dirtifyLocal(element, transform);\n    }\n  }\n\n  /**\n   * translate in world space\n   *\n   * @example\n   * ```\n   * translate(x, y, z)\n   * translate(vec3(x, y, z))\n   * ```\n   *\n   *  g  translate 2D\n   * @see https://github.com/antvis/g/blob/master/packages/g-base/src/abstract/element.ts#L665-L676\n   */\n  translate(element: INode, translation: vec3 | number, y = 0, z = 0) {\n    if (typeof translation === 'number') {\n      translation = vec3.set($vec3, translation, y, z);\n    }\n    if (vec3.equals(translation, $vec3Zero)) return;\n\n    vec3.add($vec3, this.getPosition(element), translation);\n\n    this.setPosition(element, $vec3);\n  }\n\n  setRotation(\n    element: INode,\n    rotation: quat | number,\n    y?: number,\n    z?: number,\n    w?: number,\n  ) {\n    const transform = (element as Element).transformable;\n    if (typeof rotation === 'number') {\n      rotation = quat.fromValues(rotation, y, z, w);\n    }\n\n    if (\n      element.parentNode === null ||\n      !(element.parentNode as Element).transformable\n    ) {\n      this.setLocalRotation(element, rotation);\n    } else {\n      const parentRot = this.getRotation(element.parentNode);\n\n      quat.copy($quat, parentRot);\n      quat.invert($quat, $quat);\n      quat.multiply(transform.localRotation, $quat, rotation);\n      quat.normalize(transform.localRotation, transform.localRotation);\n\n      this.dirtifyLocal(element, transform);\n    }\n  }\n\n  setLocalRotation(\n    element: INode,\n    rotation: quat | number,\n    y?: number,\n    z?: number,\n    w?: number,\n    dirtify = true,\n  ) {\n    if (typeof rotation === 'number') {\n      rotation = quat.set($quat, rotation, y, z, w);\n    }\n    const transform = (element as Element).transformable;\n    quat.copy(transform.localRotation, rotation);\n    if (dirtify) {\n      this.dirtifyLocal(element, transform);\n    }\n  }\n\n  setLocalSkew(\n    element: INode,\n    skew: vec2 | number,\n    y?: number,\n    dirtify = true,\n  ) {\n    if (typeof skew === 'number') {\n      skew = vec2.set($vec2, skew, y);\n    }\n    const transform = (element as Element).transformable;\n    vec2.copy(transform.localSkew, skew);\n    if (dirtify) {\n      this.dirtifyLocal(element, transform);\n    }\n  }\n\n  dirtifyLocal(element: INode, transform: Transform) {\n    if (isInFragment(element)) return;\n\n    if (!transform.localDirtyFlag) {\n      transform.localDirtyFlag = true;\n      if (!transform.dirtyFlag) {\n        this.dirtifyWorld(element, transform);\n      }\n    }\n  }\n\n  dirtifyWorld(element: INode, transform: Transform) {\n    if (!transform.dirtyFlag) {\n      this.unfreezeParentToRoot(element);\n    }\n\n    this.dirtifyWorldInternal(element, transform);\n    this.dirtifyToRoot(element, true);\n  }\n\n  dirtifyFragment(element: INode) {\n    const transform = (element as Element).transformable;\n    if (transform) {\n      transform.frozen = false;\n      transform.dirtyFlag = true;\n      transform.localDirtyFlag = true;\n    }\n    const renderable = (element as Element).renderable;\n    if (renderable) {\n      renderable.renderBoundsDirty = true;\n      renderable.boundsDirty = true;\n      renderable.dirty = true;\n    }\n\n    const length = element.childNodes.length;\n    for (let i = 0; i < length; i++) {\n      this.dirtifyFragment(element.childNodes[i]);\n    }\n\n    if (element.nodeName === Shape.FRAGMENT) {\n      this.pendingEvents.set(element as DisplayObject, false);\n    }\n  }\n\n  triggerPendingEvents() {\n    const triggered = new Set<DisplayObject>();\n\n    const trigger = (element: DisplayObject, detail) => {\n      if (\n        !element.isConnected ||\n        triggered.has(element) ||\n        (element.nodeName as Shape) === Shape.FRAGMENT\n      ) {\n        return;\n      }\n\n      this.boundsChangedEvent.detail = detail;\n      this.boundsChangedEvent.target = element;\n      if (element.isMutationObserved) {\n        element.dispatchEvent(this.boundsChangedEvent);\n      } else {\n        element.ownerDocument.defaultView.dispatchEvent(\n          this.boundsChangedEvent,\n          true,\n        );\n      }\n\n      triggered.add(element);\n    };\n\n    this.pendingEvents.forEach((affectChildren, element) => {\n      if ((element.nodeName as Shape) === Shape.FRAGMENT) {\n        return;\n      }\n\n      $triggerPendingEvents_detail.affectChildren = affectChildren;\n      if (affectChildren) {\n        element.forEach((e: DisplayObject) => {\n          trigger(e, $triggerPendingEvents_detail);\n        });\n      } else trigger(element, $triggerPendingEvents_detail);\n    });\n\n    triggered.clear();\n    this.clearPendingEvents();\n  }\n\n  clearPendingEvents() {\n    this.pendingEvents.clear();\n  }\n\n  dirtifyToRoot(element: INode, affectChildren = false) {\n    let p = element;\n\n    // only need to re-render itself\n    if ((p as Element).renderable) {\n      (p as Element).renderable.dirty = true;\n    }\n\n    while (p) {\n      markRenderableDirty(p as Element);\n      p = p.parentNode;\n    }\n\n    if (affectChildren) {\n      element.forEach((e: Element) => {\n        markRenderableDirty(e);\n      });\n    }\n\n    this.informDependentDisplayObjects(element as DisplayObject);\n\n    this.pendingEvents.set(element as DisplayObject, affectChildren);\n  }\n\n  private displayObjectDependencyMap: WeakMap<\n    DisplayObject,\n    Record<string, DisplayObject[]>\n  > = new WeakMap();\n  updateDisplayObjectDependency(\n    name: string,\n    oldPath: DisplayObject,\n    newPath: DisplayObject,\n    object: DisplayObject,\n  ) {\n    // clear ref to old clip path\n    if (oldPath && oldPath !== newPath) {\n      const oldDependencyMap = this.displayObjectDependencyMap.get(oldPath);\n      if (oldDependencyMap && oldDependencyMap[name]) {\n        const index = oldDependencyMap[name].indexOf(object);\n        oldDependencyMap[name].splice(index, 1);\n      }\n    }\n\n    if (newPath) {\n      let newDependencyMap = this.displayObjectDependencyMap.get(newPath);\n      if (!newDependencyMap) {\n        this.displayObjectDependencyMap.set(newPath, {});\n        newDependencyMap = this.displayObjectDependencyMap.get(newPath);\n      }\n      if (!newDependencyMap[name]) {\n        newDependencyMap[name] = [];\n      }\n      newDependencyMap[name].push(object);\n    }\n  }\n\n  informDependentDisplayObjects(object: DisplayObject) {\n    const dependencyMap = this.displayObjectDependencyMap.get(object);\n    if (!dependencyMap) {\n      return;\n    }\n\n    Object.keys(dependencyMap).forEach((name) => {\n      dependencyMap[name].forEach((target) => {\n        this.dirtifyToRoot(target, true);\n\n        target.dispatchEvent(\n          new MutationEvent(\n            ElementEvent.ATTR_MODIFIED,\n            target as IElement,\n            this,\n            this,\n            name,\n            MutationEvent.MODIFICATION,\n            this,\n            this,\n          ),\n        );\n\n        if (target.isCustomElement && target.isConnected) {\n          if ((target as CustomElement<any>).attributeChangedCallback) {\n            (target as CustomElement<any>).attributeChangedCallback(\n              name,\n              this,\n              this,\n            );\n          }\n        }\n      });\n    });\n  }\n\n  getPosition(element: INode) {\n    const transform = (element as Element).transformable;\n    return mat4.getTranslation(\n      transform.position,\n      this.getWorldTransform(element, transform),\n    );\n  }\n\n  getRotation(element: INode) {\n    const transform = (element as Element).transformable;\n    return mat4.getRotation(\n      transform.rotation,\n      this.getWorldTransform(element, transform),\n    );\n  }\n\n  getScale(element: INode) {\n    const transform = (element as Element).transformable;\n    return mat4.getScaling(\n      transform.scaling,\n      this.getWorldTransform(element, transform),\n    );\n  }\n\n  getWorldTransform(\n    element: INode,\n    transform: Transform = (element as Element).transformable,\n  ) {\n    if (!transform.localDirtyFlag && !transform.dirtyFlag) {\n      return transform.worldTransform;\n    }\n\n    if (element.parentNode && (element.parentNode as Element).transformable) {\n      this.getWorldTransform(element.parentNode);\n    }\n\n    this.sync(element, transform);\n\n    return transform.worldTransform;\n  }\n\n  getLocalPosition(element: INode) {\n    return (element as Element).transformable.localPosition;\n  }\n\n  getLocalRotation(element: INode) {\n    return (element as Element).transformable.localRotation;\n  }\n\n  getLocalScale(element: INode) {\n    return (element as Element).transformable.localScale;\n  }\n\n  getLocalSkew(element: INode) {\n    return (element as Element).transformable.localSkew;\n  }\n\n  private calcLocalTransform(transform: Transform) {\n    const hasSkew =\n      transform.localSkew[0] !== 0 || transform.localSkew[1] !== 0;\n\n    if (hasSkew) {\n      mat4.fromRotationTranslationScaleOrigin(\n        transform.localTransform,\n        transform.localRotation,\n        transform.localPosition,\n        vec3.fromValues(1, 1, 1),\n        transform.origin,\n      );\n\n      // apply skew2D\n      if (transform.localSkew[0] !== 0 || transform.localSkew[1] !== 0) {\n        mat4.identity($mat4);\n        $mat4[4] = Math.tan(transform.localSkew[0]);\n        $mat4[1] = Math.tan(transform.localSkew[1]);\n        mat4.multiply(\n          transform.localTransform,\n          transform.localTransform,\n          $mat4,\n        );\n      }\n\n      const scaling = mat4.fromRotationTranslationScaleOrigin(\n        $mat4,\n        quat.set($quat, 0, 0, 0, 1),\n        vec3.set($vec3, 1, 1, 1),\n        transform.localScale,\n        transform.origin,\n      );\n      mat4.multiply(\n        transform.localTransform,\n        transform.localTransform,\n        scaling,\n      );\n    } else {\n      const {\n        localTransform,\n        localPosition,\n        localRotation,\n        localScale,\n        origin,\n      } = transform;\n\n      const hasPosition =\n        localPosition[0] !== 0 ||\n        localPosition[1] !== 0 ||\n        localPosition[2] !== 0;\n\n      const hasRotation =\n        localRotation[3] !== 1 ||\n        localRotation[0] !== 0 ||\n        localRotation[1] !== 0 ||\n        localRotation[2] !== 0;\n\n      const hasScale =\n        localScale[0] !== 1 || localScale[1] !== 1 || localScale[2] !== 1;\n\n      const hasOrigin = origin[0] !== 0 || origin[1] !== 0 || origin[2] !== 0;\n\n      if (!hasRotation && !hasScale && !hasOrigin) {\n        if (hasPosition) {\n          mat4.fromTranslation(localTransform, localPosition);\n        } else {\n          mat4.identity(localTransform);\n        }\n      } else {\n        // @see https://github.com/mattdesl/css-mat4/blob/master/index.js\n        mat4.fromRotationTranslationScaleOrigin(\n          localTransform,\n          localRotation,\n          localPosition,\n          localScale,\n          origin,\n        );\n      }\n    }\n  }\n\n  getLocalTransform(element: INode) {\n    const transform = (element as Element).transformable;\n    if (transform.localDirtyFlag) {\n      this.calcLocalTransform(transform);\n      transform.localDirtyFlag = false;\n    }\n    return transform.localTransform;\n  }\n\n  setLocalTransform(element: INode, transform: mat4) {\n    const t = mat4.getTranslation($setLocalTransform_1, transform);\n    const r = mat4.getRotation($setLocalTransform_2, transform);\n    const s = mat4.getScaling($setLocalTransform_3, transform);\n    this.setLocalScale(element, s, false);\n    this.setLocalPosition(element, t, false);\n    this.setLocalRotation(element, r, undefined, undefined, undefined, false);\n    this.dirtifyLocal(element, (element as Element).transformable);\n  }\n\n  resetLocalTransform(element: INode) {\n    this.setLocalScale(element, $vec3One, false);\n    this.setLocalPosition(element, $vec3Zero, false);\n    this.setLocalEulerAngles(element, $vec3Zero, undefined, undefined, false);\n    this.setLocalSkew(element, $vec2Zero, undefined, false);\n    this.dirtifyLocal(element, (element as Element).transformable);\n  }\n\n  private getTransformedGeometryBounds(\n    element: INode,\n    render = false,\n    existedAABB?: AABB,\n  ): AABB | null {\n    const bounds = this.getGeometryBounds(element, render);\n    if (!AABB.isEmpty(bounds)) {\n      const aabb = existedAABB || new AABB();\n      aabb.setFromTransformedAABB(bounds, this.getWorldTransform(element));\n      return aabb;\n    }\n    return null;\n  }\n\n  /**\n   * won't account for children\n   */\n  getGeometryBounds(element: INode, render = false): AABB {\n    const { geometry } = element as Element;\n\n    if (geometry.dirty) {\n      runtime.styleValueRegistry.updateGeometry(element as DisplayObject);\n    }\n\n    const bounds = render\n      ? geometry.renderBounds\n      : geometry.contentBounds || null;\n    // return (bounds && new AABB(bounds.center, bounds.halfExtents)) || new AABB();\n    return bounds || new AABB();\n  }\n\n  /**\n   * account for children in world space\n   */\n  getBounds(element: INode, render = false): AABB {\n    const { renderable } = element as Element;\n\n    if (!renderable.boundsDirty && !render && renderable.bounds) {\n      return renderable.bounds;\n    }\n\n    if (!renderable.renderBoundsDirty && render && renderable.renderBounds) {\n      return renderable.renderBounds;\n    }\n\n    // reuse existed if possible\n    const existedAABB = render ? renderable.renderBounds : renderable.bounds;\n\n    // reset with geometry's aabb\n    let aabb: AABB = this.getTransformedGeometryBounds(\n      element,\n      render,\n      existedAABB,\n    );\n\n    // merge children's aabbs\n    const children = element.childNodes as IElement[];\n    children.forEach((child) => {\n      const childBounds = this.getBounds(child, render);\n      if (childBounds) {\n        if (!aabb) {\n          aabb = existedAABB || new AABB();\n          aabb.update(childBounds.center, childBounds.halfExtents);\n        } else {\n          aabb.add(childBounds);\n        }\n      }\n    });\n\n    if (!aabb) {\n      aabb = new AABB();\n    }\n\n    if (render) {\n      // FIXME: account for clip path\n      const clipped = findClosestClipPathTarget(element as DisplayObject);\n      if (clipped) {\n        // use bounds under world space\n        const clipPathBounds = clipped.parsedStyle.clipPath.getBounds(render);\n        if (!aabb) {\n          aabb.update(clipPathBounds.center, clipPathBounds.halfExtents);\n        } else if (clipPathBounds) {\n          aabb = clipPathBounds.intersection(aabb);\n        }\n      }\n    }\n\n    if (render) {\n      renderable.renderBounds = aabb;\n      renderable.renderBoundsDirty = false;\n    } else {\n      renderable.bounds = aabb;\n      renderable.boundsDirty = false;\n    }\n\n    return aabb;\n  }\n\n  /**\n   * account for children in local space\n   */\n  getLocalBounds(element: INode): AABB {\n    if (element.parentNode) {\n      let parentInvert = $mat4Identity;\n\n      if ((element.parentNode as Element).transformable) {\n        parentInvert = mat4.invert(\n          $mat4,\n          this.getWorldTransform(element.parentNode),\n        );\n      }\n\n      const bounds = this.getBounds(element);\n\n      if (!AABB.isEmpty(bounds)) {\n        const localBounds = new AABB();\n        localBounds.setFromTransformedAABB(bounds, parentInvert);\n        return localBounds;\n      }\n    }\n\n    return this.getBounds(element);\n  }\n\n  getBoundingClientRect(element: INode): Rectangle {\n    let aabb: AABB;\n    const bounds = this.getGeometryBounds(element);\n    if (!AABB.isEmpty(bounds)) {\n      aabb = new AABB();\n      // apply transformation to aabb\n      aabb.setFromTransformedAABB(bounds, this.getWorldTransform(element));\n    }\n\n    // calc context's offset\n    const bbox = element.ownerDocument?.defaultView\n      ?.getContextService()\n      .getBoundingClientRect();\n\n    if (aabb) {\n      const [left, top] = aabb.getMin();\n      const [right, bottom] = aabb.getMax();\n\n      return new Rectangle(\n        left + (bbox?.left || 0),\n        top + (bbox?.top || 0),\n        right - left,\n        bottom - top,\n      );\n    }\n\n    return new Rectangle(bbox?.left || 0, bbox?.top || 0, 0, 0);\n  }\n\n  private dirtifyWorldInternal(element: INode, transform: Transform) {\n    if (!transform.dirtyFlag) {\n      transform.dirtyFlag = true;\n      transform.frozen = false;\n      element.childNodes.forEach((child) => {\n        const childTransform = (child as Element).transformable;\n        if (!childTransform.dirtyFlag) {\n          this.dirtifyWorldInternal(child as IElement, childTransform);\n        }\n      });\n\n      const { renderable } = element as Element;\n      if (renderable) {\n        renderable.renderBoundsDirty = true;\n        renderable.boundsDirty = true;\n        renderable.dirty = true;\n      }\n    }\n  }\n\n  syncHierarchy(element: INode) {\n    const transform = (element as Element).transformable;\n    if (transform.frozen) {\n      return;\n    }\n    transform.frozen = true;\n\n    if (transform.localDirtyFlag || transform.dirtyFlag) {\n      this.sync(element, transform);\n    }\n\n    const children = element.childNodes;\n    for (let i = 0; i < children.length; i++) {\n      this.syncHierarchy(children[i]);\n    }\n  }\n\n  private sync(element: INode, transform: Transform) {\n    if (transform.localDirtyFlag) {\n      this.calcLocalTransform(transform);\n      transform.localDirtyFlag = false;\n    }\n\n    if (transform.dirtyFlag) {\n      const parent = element.parentNode;\n      const parentTransform = parent && (parent as Element).transformable;\n      if (parent === null || !parentTransform) {\n        mat4.copy(transform.worldTransform, transform.localTransform);\n      } else {\n        // TODO: should we support scale compensation?\n        // @see https://github.com/playcanvas/engine/issues/1077#issuecomment-359765557\n        mat4.multiply(\n          transform.worldTransform,\n          parentTransform.worldTransform,\n          transform.localTransform,\n        );\n      }\n\n      transform.dirtyFlag = false;\n    }\n  }\n\n  private unfreezeParentToRoot(child: INode) {\n    let p = child.parentNode;\n    while (p) {\n      const transform = (p as Element).transformable;\n      if (transform) {\n        transform.frozen = false;\n      }\n      p = p.parentNode;\n    }\n  }\n}\n", "import { CanvasLike, GlobalRuntime } from '..';\nimport type { ParsedTextStyleProps } from '../display-objects';\nimport { Rectangle } from '../shapes';\nimport { toFontString } from '../utils';\n\nexport interface TextMetrics {\n  font: string;\n  width: number;\n  height: number;\n  lines: string[];\n  lineWidths: number[];\n  lineHeight: number;\n  maxLineWidth: number;\n  fontProperties: IFontMetrics;\n  lineMetrics: Rectangle[];\n}\n\ninterface IFontMetrics {\n  ascent: number;\n  descent: number;\n  fontSize: number;\n}\ntype CharacterWidthCache = Record<string, number>;\n\nconst TEXT_METRICS = {\n  MetricsString: '|q',\n  BaselineSymbol: 'M',\n  BaselineMultiplier: 1.4,\n  HeightMultiplier: 2,\n  Newlines: [\n    0x000a, // line feed\n    0x000d, // carriage return\n  ],\n  BreakingSpaces: [\n    0x0009, // character tabulation\n    0x0020, // space\n    0x2000, // en quad\n    0x2001, // em quad\n    0x2002, // en space\n    0x2003, // em space\n    0x2004, // three-per-em space\n    0x2005, // four-per-em space\n    0x2006, // six-per-em space\n    0x2008, // punctuation space\n    0x2009, // thin space\n    0x200a, // hair space\n    0x205f, // medium mathematical space\n    0x3000, // ideographic space\n  ],\n};\n\nconst LATIN_REGEX =\n  /[a-zA-Z0-9\\u00C0-\\u00D6\\u00D8-\\u00f6\\u00f8-\\u00ff!\"#$%&'()*+,-./:;]/;\n\n// Line breaking rules in CJK (Kinsoku Shori)\n// Refer from https://en.wikipedia.org/wiki/Line_breaking_rules_in_East_Asian_languages\nconst regexCannotStartZhCn =\n  /[!%),.:;?\\]}'\"\"]/;\nconst regexCannotEndZhCn = /[$('\"]/;\nconst regexCannotStartZhTw =\n  /[!),.:;?\\]}'\"\"]/;\nconst regexCannotEndZhTw = /[([{'\"]/;\nconst regexCannotStartJaJp =\n  /[)\\]'\"?!:;,.]/;\nconst regexCannotEndJaJp = /[(['\"...]/;\nconst regexCannotStartKoKr =\n  /[!%),.:;?\\]}'\"]/;\nconst regexCannotEndKoKr = /[$([{'\"#]/;\n\nconst regexCannotStart = new RegExp(\n  `${regexCannotStartZhCn.source}|${regexCannotStartZhTw.source}|${regexCannotStartJaJp.source}|${regexCannotStartKoKr.source}`,\n);\nconst regexCannotEnd = new RegExp(\n  `${regexCannotEndZhCn.source}|${regexCannotEndZhTw.source}|${regexCannotEndJaJp.source}|${regexCannotEndKoKr.source}`,\n);\n\n/**\n * Borrow from pixi/packages/text/src/TextMetrics.ts\n */\nexport class TextService {\n  constructor(private runtime: GlobalRuntime) {}\n\n  /**\n   * font metrics cache\n   */\n  private fontMetricsCache: Record<string, IFontMetrics> = {};\n\n  /**\n   * Calculates the ascent, descent and fontSize of a given font-style.\n   */\n  measureFont(font: string, offscreenCanvas: CanvasLike): IFontMetrics {\n    // as this method is used for preparing assets, don't recalculate things if we don't need to\n    if (this.fontMetricsCache[font]) {\n      return this.fontMetricsCache[font];\n    }\n    const properties: IFontMetrics = {\n      ascent: 0,\n      descent: 0,\n      fontSize: 0,\n    };\n\n    const canvas =\n      this.runtime.offscreenCanvasCreator.getOrCreateCanvas(offscreenCanvas);\n    const context = this.runtime.offscreenCanvasCreator.getOrCreateContext(\n      offscreenCanvas,\n      {\n        willReadFrequently: true,\n      },\n    );\n\n    context.font = font;\n    const metricsString =\n      TEXT_METRICS.MetricsString + TEXT_METRICS.BaselineSymbol;\n    const width = Math.ceil(context.measureText(metricsString).width);\n    let baseline = Math.ceil(\n      context.measureText(TEXT_METRICS.BaselineSymbol).width,\n    );\n    const height = TEXT_METRICS.HeightMultiplier * baseline;\n    baseline = (baseline * TEXT_METRICS.BaselineMultiplier) | 0;\n    // @ts-ignore\n    canvas.width = width;\n    // @ts-ignore\n    canvas.height = height;\n    context.fillStyle = '#f00';\n    context.fillRect(0, 0, width, height);\n    context.font = font;\n    context.textBaseline = 'alphabetic';\n    context.fillStyle = '#000';\n    context.fillText(metricsString, 0, baseline);\n    const imagedata = context.getImageData(0, 0, width || 1, height || 1).data;\n    const pixels = imagedata.length;\n    const line = width * 4;\n    let i = 0;\n    let idx = 0;\n    let stop = false;\n    // ascent. scan from top to bottom until we find a non red pixel\n    for (i = 0; i < baseline; ++i) {\n      for (let j = 0; j < line; j += 4) {\n        if (imagedata[idx + j] !== 255) {\n          stop = true;\n          break;\n        }\n      }\n      if (!stop) {\n        idx += line;\n      } else {\n        break;\n      }\n    }\n    properties.ascent = baseline - i;\n    idx = pixels - line;\n    stop = false;\n    // descent. scan from bottom to top until we find a non red pixel\n    for (i = height; i > baseline; --i) {\n      for (let j = 0; j < line; j += 4) {\n        if (imagedata[idx + j] !== 255) {\n          stop = true;\n          break;\n        }\n      }\n      if (!stop) {\n        idx -= line;\n      } else {\n        break;\n      }\n    }\n    properties.descent = i - baseline;\n    properties.fontSize = properties.ascent + properties.descent;\n\n    this.fontMetricsCache[font] = properties;\n    return properties;\n  }\n\n  measureText(\n    text: string,\n    parsedStyle: ParsedTextStyleProps,\n    offscreenCanvas: CanvasLike,\n  ): TextMetrics {\n    const {\n      fontSize = 16,\n      wordWrap = false,\n      lineHeight: strokeHeight,\n      lineWidth = 1,\n      textBaseline = 'alphabetic',\n      textAlign = 'start',\n      letterSpacing = 0,\n      textPath,\n      textPathSide,\n      textPathStartOffset,\n      // dropShadow = 0,\n      // dropShadowDistance = 0,\n      leading = 0,\n    } = parsedStyle;\n\n    const font = toFontString(parsedStyle);\n\n    const fontProperties = this.measureFont(font, offscreenCanvas);\n    // fallback in case UA disallow canvas data extraction\n    if (fontProperties.fontSize === 0) {\n      fontProperties.fontSize = fontSize;\n      fontProperties.ascent = fontSize;\n    }\n\n    const context =\n      this.runtime.offscreenCanvasCreator.getOrCreateContext(offscreenCanvas);\n    context.font = font;\n\n    // no overflowing by default\n    parsedStyle.isOverflowing = false;\n    const outputText = wordWrap\n      ? this.wordWrap(text, parsedStyle, offscreenCanvas)\n      : text;\n\n    const lines = outputText.split(/(?:\\r\\n|\\r|\\n)/);\n    const lineWidths = new Array<number>(lines.length);\n    let maxLineWidth = 0;\n\n    // account for textPath\n    if (textPath) {\n      const totalPathLength = textPath.getTotalLength();\n\n      // const startingPoint = textPath.getPoint(0);\n\n      for (let i = 0; i < lines.length; i++) {\n        let positionInPath: number;\n        const width =\n          context.measureText(lines[i]).width +\n          (lines[i].length - 1) * letterSpacing;\n        const reverse = textPathSide === 'right';\n\n        // TODO: should we support textPathStartOffsetY?\n        switch (textAlign) {\n          case 'left':\n          case 'start':\n            positionInPath = reverse ? totalPathLength - width : 0;\n            break;\n          case 'center':\n          case 'middle':\n            positionInPath = (totalPathLength - width) / 2;\n            break;\n          case 'right':\n          case 'end':\n            positionInPath = reverse ? 0 : totalPathLength - width;\n            break;\n        }\n\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        positionInPath += textPathStartOffset * (reverse ? -1 : 1);\n        // for (\n        //   let i = reverse ? lines[0].length - 1 : 0;\n        //   reverse ? i >= 0 : i < lines[0].length;\n        //   reverse ? i-- : i++\n        // ) {\n        //   graphemeInfo = lineBounds[i];\n        //   if (positionInPath > totalPathLength) {\n        //     positionInPath %= totalPathLength;\n        //   } else if (positionInPath < 0) {\n        //     positionInPath += totalPathLength;\n        //   }\n        //   // it would probably much faster to send all the grapheme position for a line\n        //   // and calculate path position/angle at once.\n        //   this.setGraphemeOnPath(\n        //     positionInPath,\n        //     graphemeInfo,\n        //     startingPoint\n        //   );\n        //   positionInPath += graphemeInfo.kernedWidth;\n        // }\n      }\n    } else {\n      for (let i = 0; i < lines.length; i++) {\n        // char width + letterSpacing\n        const lineWidth =\n          context.measureText(lines[i]).width +\n          (lines[i].length - 1) * letterSpacing;\n        lineWidths[i] = lineWidth;\n        maxLineWidth = Math.max(maxLineWidth, lineWidth);\n      }\n      const width = maxLineWidth + lineWidth;\n\n      // if (dropShadow) {\n      //   width += dropShadowDistance;\n      // }\n      let lineHeight = strokeHeight || fontProperties.fontSize + lineWidth;\n      const height =\n        Math.max(lineHeight, fontProperties.fontSize + lineWidth) +\n        (lines.length - 1) * (lineHeight + leading);\n      // if (dropShadow) {\n      //   height += dropShadowDistance;\n      // }\n      lineHeight += leading;\n\n      // handle vertical text baseline\n      let offsetY = 0;\n      if (textBaseline === 'middle') {\n        offsetY = -height / 2;\n      } else if (\n        textBaseline === 'bottom' ||\n        textBaseline === 'alphabetic' ||\n        textBaseline === 'ideographic'\n      ) {\n        offsetY = -height;\n      } else if (textBaseline === 'top' || textBaseline === 'hanging') {\n        offsetY = 0;\n      }\n\n      return {\n        font,\n        width,\n        height,\n        lines,\n        lineWidths,\n        lineHeight,\n        maxLineWidth,\n        fontProperties,\n        lineMetrics: lineWidths.map((width, i) => {\n          let offsetX = 0;\n          // handle horizontal text align\n          if (textAlign === 'center' || textAlign === 'middle') {\n            offsetX -= width / 2;\n          } else if (textAlign === 'right' || textAlign === 'end') {\n            offsetX -= width;\n          }\n\n          return new Rectangle(\n            offsetX - lineWidth / 2,\n            offsetY + i * lineHeight,\n            width + lineWidth,\n            lineHeight,\n          );\n        }),\n      };\n    }\n  }\n\n  private wordWrap(\n    text: string,\n    parsedStyle: ParsedTextStyleProps,\n    offscreenCanvas: CanvasLike,\n  ): string {\n    const self = this;\n    const {\n      wordWrapWidth = 0,\n      letterSpacing = 0,\n      maxLines = Infinity,\n      textOverflow,\n    } = parsedStyle;\n    const context =\n      this.runtime.offscreenCanvasCreator.getOrCreateContext(offscreenCanvas);\n    const maxWidth = wordWrapWidth + letterSpacing;\n\n    let ellipsis = '';\n    if (textOverflow === 'ellipsis') {\n      ellipsis = '...';\n    } else if (textOverflow && textOverflow !== 'clip') {\n      ellipsis = textOverflow;\n    }\n\n    const chars = Array.from(text);\n    let lines: string[] = [];\n    let currentLineIndex = 0;\n    let currentLineWidth = 0;\n    // @see https://github.com/antvis/G/issues/1932\n    let prevLineLastCharIndex = -1;\n\n    const cache: { [key in string]: number } = {};\n    const calcWidth = (txt: string): number => {\n      return this.getFromCache(\n        txt,\n        letterSpacing,\n        cache,\n        context as CanvasRenderingContext2D,\n      );\n    };\n    const ellipsisWidth = calcWidth(ellipsis);\n\n    /**\n     * Find text fragments that will take up as much of the given line width as possible when rendered.\n     *\n     * @see https://github.com/antvis/G/issues/1833\n     *\n     * @param lineTxt - Current line of text\n     * @param txtLastCharIndex - The index of the last character of the current line in the entire text\n     * @param txtStartCharIndex - The index of the start character of the current line in the entire text\n     */\n    function findCharIndexClosestWidthThreshold(\n      lineTxt: string,\n      txtLastCharIndex: number,\n      txtStartCharIndex: number,\n      widthThreshold: number,\n    ) {\n      while (\n        calcWidth(lineTxt) < widthThreshold &&\n        txtLastCharIndex < chars.length - 1\n      ) {\n        if (self.isNewline(chars[txtLastCharIndex + 1])) {\n          break;\n        }\n        txtLastCharIndex += 1;\n        lineTxt += chars[txtLastCharIndex];\n      }\n\n      while (\n        calcWidth(lineTxt) > widthThreshold &&\n        // @see https://github.com/antvis/G/issues/1932\n        txtLastCharIndex >= txtStartCharIndex\n      ) {\n        txtLastCharIndex -= 1;\n        lineTxt = lineTxt.slice(0, -1);\n      }\n\n      return {\n        lineTxt,\n        txtLastCharIndex,\n      };\n    }\n\n    function appendEllipsis(lineIndex: number, textCharIndex: number) {\n      // If there is not enough space to display the string itself, it is clipped.\n      // @see https://developer.mozilla.org/en-US/docs/Web/CSS/text-overflow#values\n      if (ellipsisWidth <= 0 || ellipsisWidth > maxWidth) {\n        return;\n      }\n\n      if (!lines[lineIndex]) {\n        lines[lineIndex] = ellipsis;\n\n        return;\n      }\n\n      const result = findCharIndexClosestWidthThreshold(\n        lines[lineIndex],\n        textCharIndex,\n        prevLineLastCharIndex + 1,\n        maxWidth - ellipsisWidth,\n      );\n\n      lines[lineIndex] = result.lineTxt + ellipsis;\n    }\n\n    for (let i = 0; i < chars.length; i++) {\n      let char = chars[i];\n      let prevChar = chars[i - 1];\n      let nextChar = chars[i + 1];\n      let charWidth = calcWidth(char);\n\n      if (this.isNewline(char)) {\n        // exceed maxLines, break immediately\n        if (currentLineIndex + 1 >= maxLines) {\n          parsedStyle.isOverflowing = true;\n\n          if (i < chars.length - 1) {\n            appendEllipsis(currentLineIndex, i - 1);\n          }\n\n          break;\n        }\n\n        prevLineLastCharIndex = i - 1;\n        currentLineIndex += 1;\n        currentLineWidth = 0;\n        lines[currentLineIndex] = '';\n\n        continue;\n      }\n\n      if (currentLineWidth > 0 && currentLineWidth + charWidth > maxWidth) {\n        const result = findCharIndexClosestWidthThreshold(\n          lines[currentLineIndex],\n          i - 1,\n          prevLineLastCharIndex + 1,\n          maxWidth,\n        );\n        if (result.txtLastCharIndex !== i - 1) {\n          lines[currentLineIndex] = result.lineTxt;\n\n          if (result.txtLastCharIndex === chars.length - 1) {\n            break;\n          }\n\n          i = result.txtLastCharIndex + 1;\n          char = chars[i];\n          prevChar = chars[i - 1];\n          nextChar = chars[i + 1];\n          charWidth = calcWidth(char);\n        }\n\n        if (currentLineIndex + 1 >= maxLines) {\n          parsedStyle.isOverflowing = true;\n\n          appendEllipsis(currentLineIndex, i - 1);\n\n          break;\n        }\n\n        prevLineLastCharIndex = i - 1;\n        currentLineIndex += 1;\n        currentLineWidth = 0;\n        lines[currentLineIndex] = '';\n\n        if (this.isBreakingSpace(char)) {\n          continue;\n        }\n\n        if (!this.canBreakInLastChar(char)) {\n          lines = this.trimToBreakable(lines);\n          currentLineWidth = this.sumTextWidthByCache(\n            lines[currentLineIndex] || '',\n            calcWidth,\n          );\n        }\n\n        if (this.shouldBreakByKinsokuShorui(char, nextChar)) {\n          lines = this.trimByKinsokuShorui(lines);\n          currentLineWidth += calcWidth(prevChar || '');\n        }\n      }\n\n      currentLineWidth += charWidth;\n      lines[currentLineIndex] = (lines[currentLineIndex] || '') + char;\n    }\n\n    return lines.join('\\n');\n  }\n\n  private isBreakingSpace(char: string): boolean {\n    if (typeof char !== 'string') {\n      return false;\n    }\n    return TEXT_METRICS.BreakingSpaces.indexOf(char.charCodeAt(0)) >= 0;\n  }\n\n  private isNewline(char: string): boolean {\n    if (typeof char !== 'string') {\n      return false;\n    }\n    return TEXT_METRICS.Newlines.indexOf(char.charCodeAt(0)) >= 0;\n  }\n\n  private trimToBreakable(prev: string[]): string[] {\n    const next = [...prev];\n    const prevLine = next[next.length - 2];\n\n    const index = this.findBreakableIndex(prevLine);\n    if (index === -1 || !prevLine) return next;\n\n    const trimmedChar = prevLine.slice(index, index + 1);\n    const isTrimmedWithSpace = this.isBreakingSpace(trimmedChar);\n\n    const trimFrom = index + 1;\n    const trimTo = index + (isTrimmedWithSpace ? 0 : 1);\n    next[next.length - 1] += prevLine.slice(trimFrom, prevLine.length);\n    next[next.length - 2] = prevLine.slice(0, trimTo);\n\n    return next;\n  }\n\n  private shouldBreakByKinsokuShorui = (\n    char: string | undefined,\n    nextChar: string,\n  ): boolean => {\n    if (this.isBreakingSpace(nextChar)) return false;\n\n    if (char) {\n      // Line breaking rules in CJK (Kinsoku Shori)\n      if (regexCannotEnd.exec(nextChar) || regexCannotStart.exec(char)) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  private trimByKinsokuShorui = (prev: string[]): string[] => {\n    const next = [...prev];\n    const prevLine = next[next.length - 2];\n    if (!prevLine) {\n      return prev;\n    }\n\n    const lastChar = prevLine[prevLine.length - 1];\n\n    next[next.length - 2] = prevLine.slice(0, -1);\n    next[next.length - 1] = lastChar + next[next.length - 1];\n    return next;\n  };\n\n  private canBreakInLastChar(char: string | undefined): boolean {\n    if (char && LATIN_REGEX.test(char)) return false;\n    return true;\n  }\n\n  private sumTextWidthByCache(\n    text: string,\n    calcWidthWithCache: (txt: string) => number,\n  ) {\n    return text.split('').reduce((sum: number, c) => {\n      return sum + calcWidthWithCache(c);\n    }, 0);\n  }\n\n  private findBreakableIndex(line: string): number {\n    for (let i = line.length - 1; i >= 0; i--) {\n      if (!LATIN_REGEX.test(line[i])) return i;\n    }\n    return -1;\n  }\n\n  private getFromCache(\n    key: string,\n    letterSpacing: number,\n    cache: CharacterWidthCache,\n    context: CanvasRenderingContext2D,\n  ): number {\n    let width = cache[key];\n    if (typeof width !== 'number') {\n      const spacing = key.length * letterSpacing;\n      const metrics = context.measureText(key);\n\n      width = metrics.width + spacing;\n      cache[key] = width;\n    }\n    return width;\n  }\n}\n", "import { Camera } from './camera';\nimport type { LayoutRegistry } from './css';\nimport type { CSSProperty } from './css/CSSProperty';\nimport { DefaultStyleValueRegistry } from './css/StyleValueRegistry';\nimport { PropertySyntax } from './css/interfaces';\nimport {\n  CSSPropertyAngle,\n  CSSPropertyClipPath,\n  CSSPropertyColor,\n  CSSPropertyFilter,\n  CSSPropertyLengthOrPercentage,\n  CSSPropertyLengthOrPercentage12,\n  CSSPropertyLengthOrPercentage14,\n  CSSPropertyMarker,\n  CSSPropertyNumber,\n  CSSPropertyOffsetDistance,\n  CSSPropertyOpacity,\n  CSSPropertyPath,\n  CSSPropertyPoints,\n  CSSPropertyShadowBlur,\n  CSSPropertyText,\n  CSSPropertyTextTransform,\n  CSSPropertyTransform,\n  CSSPropertyTransformOrigin,\n  CSSPropertyZIndex,\n} from './css/properties';\nimport type {\n  GeometryAABBUpdater,\n  SceneGraphSelector,\n  SceneGraphService,\n} from './services';\nimport {\n  CircleUpdater,\n  DefaultSceneGraphSelector,\n  DefaultSceneGraphService,\n  EllipseUpdater,\n  GroupUpdater,\n  LineUpdater,\n  OffscreenCanvasCreator,\n  PathUpdater,\n  PolylineUpdater,\n  RectUpdater,\n  TextService,\n  TextUpdater,\n  HTMLUpdater,\n} from './services';\nimport { CanvasLike, Shape } from './types';\n\nexport const runtime: GlobalRuntime = {} as GlobalRuntime;\n\nexport interface GlobalRuntime {\n  CameraContribution: new () => Camera;\n  // AnimationTimeline: new (doc: IDocument) => IAnimationTimeline;\n  AnimationTimeline: any;\n  EasingFunction: (...args: any[]) => (t: number) => number;\n  offscreenCanvasCreator: OffscreenCanvasCreator;\n  offscreenCanvas: CanvasLike;\n  sceneGraphSelector: SceneGraphSelector;\n  sceneGraphService: SceneGraphService;\n  textService: TextService;\n  geometryUpdaterFactory: Record<Shape, GeometryAABBUpdater<any>>;\n  styleValueRegistry: DefaultStyleValueRegistry;\n  layoutRegistry: LayoutRegistry;\n  CSSPropertySyntaxFactory: Record<\n    PropertySyntax,\n    Partial<CSSProperty<any, any>>\n  >;\n  globalThis: any;\n\n  /**\n   * circle.style.r = 100;\n   */\n  enableStyleSyntax: boolean;\n\n  enableSizeAttenuation: boolean;\n}\n\n/**\n * Replace with IoC container\n */\nconst geometryUpdaterFactory: Record<Shape, GeometryAABBUpdater<any>> = (() => {\n  const rectUpdater = new RectUpdater();\n  const polylineUpdater = new PolylineUpdater();\n  return {\n    [Shape.FRAGMENT]: null,\n    [Shape.CIRCLE]: new CircleUpdater(),\n    [Shape.ELLIPSE]: new EllipseUpdater(),\n    [Shape.RECT]: rectUpdater,\n    [Shape.IMAGE]: rectUpdater,\n    [Shape.GROUP]: new GroupUpdater(),\n    [Shape.LINE]: new LineUpdater(),\n    [Shape.TEXT]: new TextUpdater(runtime),\n    [Shape.POLYLINE]: polylineUpdater,\n    [Shape.POLYGON]: polylineUpdater,\n    [Shape.PATH]: new PathUpdater(),\n    [Shape.HTML]: new HTMLUpdater(),\n    [Shape.MESH]: null,\n  };\n})();\n\nconst CSSPropertySyntaxFactory: Record<\n  PropertySyntax,\n  Partial<CSSProperty<any, any>>\n> = (() => {\n  const color = new CSSPropertyColor();\n  const length = new CSSPropertyLengthOrPercentage();\n  return {\n    [PropertySyntax.PERCENTAGE]: null,\n    [PropertySyntax.NUMBER]: new CSSPropertyNumber(),\n    [PropertySyntax.ANGLE]: new CSSPropertyAngle(),\n    [PropertySyntax.DEFINED_PATH]: new CSSPropertyClipPath(),\n    [PropertySyntax.PAINT]: color,\n    [PropertySyntax.COLOR]: color,\n    [PropertySyntax.FILTER]: new CSSPropertyFilter(),\n    [PropertySyntax.LENGTH]: length,\n    [PropertySyntax.LENGTH_PERCENTAGE]: length,\n    [PropertySyntax.LENGTH_PERCENTAGE_12]:\n      new CSSPropertyLengthOrPercentage12(),\n    [PropertySyntax.LENGTH_PERCENTAGE_14]:\n      new CSSPropertyLengthOrPercentage14(),\n    [PropertySyntax.COORDINATE]: new CSSPropertyLengthOrPercentage(),\n    [PropertySyntax.OFFSET_DISTANCE]: new CSSPropertyOffsetDistance(),\n    [PropertySyntax.OPACITY_VALUE]: new CSSPropertyOpacity(),\n    [PropertySyntax.PATH]: new CSSPropertyPath(),\n    [PropertySyntax.LIST_OF_POINTS]: new CSSPropertyPoints(),\n    [PropertySyntax.SHADOW_BLUR]: new CSSPropertyShadowBlur(),\n    [PropertySyntax.TEXT]: new CSSPropertyText(),\n    [PropertySyntax.TEXT_TRANSFORM]: new CSSPropertyTextTransform(),\n    [PropertySyntax.TRANSFORM]: new CSSPropertyTransform(),\n    [PropertySyntax.TRANSFORM_ORIGIN]: new CSSPropertyTransformOrigin(),\n    [PropertySyntax.Z_INDEX]: new CSSPropertyZIndex(),\n    [PropertySyntax.MARKER]: new CSSPropertyMarker(),\n  };\n})();\n\nconst getGlobalThis = () => {\n  if (typeof globalThis !== 'undefined') return globalThis;\n  if (typeof self !== 'undefined') return self;\n  if (typeof window !== 'undefined') return window;\n  // @ts-ignore\n  if (typeof global !== 'undefined') return global;\n  return {};\n  // [!] Error: The 'this' keyword is equivalent to 'undefined' at the top level of an ES module, and has been rewritten\n  // @see https://rollupjs.org/troubleshooting/#error-this-is-undefined\n  // if (typeof this !== 'undefined') return this;\n};\n\n/**\n * Camera\n * `g-camera-api` will provide an advanced implementation\n */\nruntime.CameraContribution = Camera;\n\n/**\n * `g-web-animations-api` will provide an AnimationTimeline\n */\nruntime.AnimationTimeline = null;\n\nruntime.EasingFunction = null;\n\nruntime.offscreenCanvasCreator = new OffscreenCanvasCreator();\n\nruntime.sceneGraphSelector = new DefaultSceneGraphSelector();\n\nruntime.sceneGraphService = new DefaultSceneGraphService(runtime);\n\nruntime.textService = new TextService(runtime);\n\nruntime.geometryUpdaterFactory = geometryUpdaterFactory;\n\nruntime.CSSPropertySyntaxFactory = CSSPropertySyntaxFactory;\nruntime.styleValueRegistry = new DefaultStyleValueRegistry(runtime);\nruntime.layoutRegistry = null;\nruntime.globalThis = getGlobalThis();\nruntime.enableStyleSyntax = true;\nruntime.enableSizeAttenuation = false;\n", "import type {\n  Cullable,\n  Geometry,\n  RBushNode,\n  Renderable,\n  Sortable,\n  Transform,\n} from '../components';\nimport { Strategy } from '../components';\nimport { runtime } from '../global-runtime';\nimport type { AABB, Rectangle } from '../shapes';\nimport {\n  Shape,\n  type BaseStyleProps,\n  type ParsedBaseStyleProps,\n} from '../types';\nimport { isInFragment } from '../utils';\nimport {\n  ERROR_MSG_APPEND_DESTROYED_ELEMENT,\n  ERROR_MSG_METHOD_NOT_IMPLEMENTED,\n} from '../utils/error';\nimport { CustomEvent } from './CustomEvent';\nimport { MutationEvent } from './MutationEvent';\nimport { Node } from './Node';\nimport type {\n  ICSSStyleDeclaration,\n  IChildNode,\n  IElement,\n  INode,\n} from './interfaces';\nimport { ElementEvent } from './interfaces';\n\nlet entityCounter = 0;\nexport function resetEntityCounter() {\n  entityCounter = 0;\n}\n\nexport const insertedEvent = new MutationEvent(\n  ElementEvent.INSERTED,\n  null,\n  '',\n  '',\n  '',\n  0,\n  '',\n  '',\n);\nexport const removedEvent = new MutationEvent(\n  ElementEvent.REMOVED,\n  null,\n  '',\n  '',\n  '',\n  0,\n  '',\n  '',\n);\nexport const destroyEvent = new CustomEvent(ElementEvent.DESTROY);\n\n/**\n * Has following capabilities:\n * * Node insert/remove, eg. appendChild, removeChild, remove...\n * * Query eg. querySelector getElementById...\n * * Animation\n */\nexport class Element<\n    StyleProps extends BaseStyleProps = BaseStyleProps,\n    ParsedStyleProps extends ParsedBaseStyleProps = ParsedBaseStyleProps,\n  >\n  extends Node\n  implements IElement<StyleProps, ParsedStyleProps>\n{\n  /**\n   * Unique id.\n   */\n  entity = entityCounter++;\n\n  renderable: Renderable = {\n    bounds: undefined,\n    boundsDirty: true,\n    renderBounds: undefined,\n    renderBoundsDirty: true,\n    dirtyRenderBounds: undefined,\n    dirty: false,\n  };\n\n  cullable: Cullable = {\n    strategy: Strategy.Standard,\n    visibilityPlaneMask: -1,\n    visible: true,\n    enable: true,\n  };\n\n  transformable: Transform = {\n    dirtyFlag: false,\n    localDirtyFlag: false,\n    frozen: false,\n    localPosition: [0, 0, 0],\n    localRotation: [0, 0, 0, 1],\n    localScale: [1, 1, 1],\n    localTransform: [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],\n    localSkew: [0, 0],\n    position: [0, 0, 0],\n    rotation: [0, 0, 0, 1],\n    scaling: [1, 1, 1],\n    worldTransform: [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],\n    origin: [0, 0, 0],\n  };\n\n  sortable: Sortable = {\n    dirty: false,\n    sorted: undefined,\n    renderOrder: 0,\n    dirtyChildren: [],\n    dirtyReason: undefined,\n  };\n\n  geometry: Geometry = {\n    contentBounds: undefined,\n    renderBounds: undefined,\n    dirty: true,\n  };\n\n  rBushNode: RBushNode = {\n    aabb: undefined,\n  };\n\n  /**\n   * used with `getElementById()`\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/id\n   */\n  id: string;\n\n  /**\n   * used in `getElementsByClassName`\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n   */\n  get className() {\n    // @ts-ignore\n    return this.getAttribute('class') || '';\n  }\n\n  set className(className: string) {\n    this.setAttribute('class', className);\n  }\n\n  /**\n   * used in `getElementsByName`\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByName\n   */\n  name: string;\n\n  /**\n   * https://developer.mozilla.org/zh-CN/docs/Web/API/Element/namespaceURI\n   */\n  namespaceURI = 'g';\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\n   */\n  get classList() {\n    return this.className.split(' ').filter((c) => c !== '');\n  }\n\n  scrollLeft = 0;\n  scrollTop = 0;\n\n  /**\n   * We don't support border now\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/clientTop\n   */\n  clientTop = 0;\n  clientLeft = 0;\n\n  get tagName(): string {\n    return this.nodeName;\n  }\n\n  get children(): IElement[] {\n    return this.childNodes as IElement[];\n  }\n\n  get childElementCount(): number {\n    return this.childNodes.length;\n  }\n  get firstElementChild(): IElement | null {\n    return this.firstChild as IElement;\n  }\n  get lastElementChild(): IElement | null {\n    return this.lastChild as IElement;\n  }\n\n  get parentElement(): IElement | null {\n    return this.parentNode as IElement;\n  }\n\n  get nextSibling(): IElement | null {\n    if (this.parentNode) {\n      const index = this.parentNode.childNodes.indexOf(this);\n      return (this.parentNode.childNodes[index + 1] as IElement) || null;\n    }\n\n    return null;\n  }\n\n  get previousSibling(): IElement | null {\n    if (this.parentNode) {\n      const index = this.parentNode.childNodes.indexOf(this);\n      return (this.parentNode.childNodes[index - 1] as IElement) || null;\n    }\n\n    return null;\n  }\n\n  cloneNode(deep?: boolean): this {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  appendChild<T extends INode>(child: T, index?: number): T {\n    if ((child as unknown as Element).destroyed) {\n      throw new Error(ERROR_MSG_APPEND_DESTROYED_ELEMENT);\n    }\n\n    runtime.sceneGraphService.attach(child, this, index);\n\n    if (this.ownerDocument?.defaultView) {\n      if (!isInFragment(this) && child.nodeName === Shape.FRAGMENT) {\n        this.ownerDocument.defaultView.mountFragment(child);\n      } else {\n        this.ownerDocument.defaultView.mountChildren(child);\n      }\n    }\n\n    // @ts-ignore\n    if (this.isMutationObserved) {\n      insertedEvent.relatedNode = this as IElement;\n      child.dispatchEvent(insertedEvent);\n    }\n\n    return child;\n  }\n\n  insertBefore<T extends INode>(newChild: T, refChild: INode | null): T {\n    if (!refChild) {\n      this.appendChild(newChild);\n    } else {\n      if (newChild.parentElement) {\n        newChild.parentElement.removeChild(newChild);\n      }\n\n      const index = this.childNodes.indexOf(refChild as IChildNode);\n      if (index === -1) {\n        this.appendChild(newChild);\n      } else {\n        this.appendChild(newChild, index);\n      }\n    }\n    return newChild;\n  }\n\n  replaceChild<T extends INode>(newChild: INode, oldChild: T): T {\n    const index = this.childNodes.indexOf(oldChild as unknown as IChildNode);\n    this.removeChild(oldChild);\n    this.appendChild(newChild, index);\n    return oldChild;\n  }\n\n  removeChild<T extends INode>(child: T): T {\n    // should emit on itself before detach\n    removedEvent.relatedNode = this as IElement;\n    child.dispatchEvent(removedEvent);\n\n    if (child.ownerDocument?.defaultView) {\n      child.ownerDocument.defaultView.unmountChildren(child);\n    }\n\n    // remove from scene graph\n    runtime.sceneGraphService.detach(child);\n    return child;\n  }\n\n  /**\n   * Remove all children which can be appended to its original parent later again.\n   */\n  removeChildren() {\n    for (let i = this.childNodes.length - 1; i >= 0; i--) {\n      const child = this.childNodes[i] as this;\n      this.removeChild(child);\n    }\n  }\n\n  /**\n   * Recursively destroy all children which can not be appended to its original parent later again.\n   */\n  destroyChildren() {\n    for (let i = this.childNodes.length - 1; i >= 0; i--) {\n      const child = this.childNodes[i] as this;\n      if (child.childNodes.length > 0) {\n        child.destroyChildren();\n      }\n      child.destroy();\n    }\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n   */\n  matches(selector: string): boolean {\n    return runtime.sceneGraphService.matches(selector, this as IElement);\n  }\n  getElementById<E extends IElement = IElement>(id: string): E | null {\n    return runtime.sceneGraphService.querySelector<IElement, E>(\n      `#${id}`,\n      this as IElement,\n    );\n  }\n  getElementsByName<E extends IElement = IElement>(name: string): E[] {\n    return runtime.sceneGraphService.querySelectorAll<IElement, E>(\n      `[name=\"${name}\"]`,\n      this as IElement,\n    );\n  }\n  getElementsByClassName<E extends IElement = IElement>(\n    className: string,\n  ): E[] {\n    return runtime.sceneGraphService.querySelectorAll<IElement, E>(\n      `.${className}`,\n      this as IElement,\n    );\n  }\n  getElementsByTagName<E extends IElement = IElement>(tagName: string): E[] {\n    return runtime.sceneGraphService.querySelectorAll<IElement, E>(\n      tagName,\n      this as IElement,\n    );\n  }\n  querySelector<E extends IElement = IElement>(selectors: string): E | null {\n    return runtime.sceneGraphService.querySelector<IElement, E>(\n      selectors,\n      this as IElement,\n    );\n  }\n  querySelectorAll<E extends IElement = IElement>(selectors: string): E[] {\n    return runtime.sceneGraphService.querySelectorAll<IElement, E>(\n      selectors,\n      this as IElement,\n    );\n  }\n\n  /**\n   * should traverses the element and its parents (heading toward the document root)\n   * until it finds a node that matches the specified CSS selector.\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/closest\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#polyfill\n   */\n  closest<E extends IElement = IElement>(selectors: string): E | null {\n    let el = this as unknown as E;\n    do {\n      if (runtime.sceneGraphService.matches(selectors, el)) return el;\n      el = el.parentElement as E;\n    } while (el !== null);\n    return null;\n  }\n\n  /**\n   * search in scene group, but should not include itself\n   */\n  find<E extends IElement = IElement>(filter: (node: E) => boolean): E | null {\n    let target: E | null = null;\n    this.forEach((object) => {\n      if (object !== this && filter(object as E)) {\n        target = object as E;\n        return false;\n      }\n      return true;\n    });\n    return target;\n  }\n  findAll<E extends IElement = IElement>(filter: (node: E) => boolean): E[] {\n    const objects: E[] = [];\n    this.forEach((object) => {\n      if (object !== this && filter(object as E)) {\n        objects.push(object as E);\n      }\n    });\n    return objects;\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/after\n   */\n  after(...nodes: INode[]) {\n    if (this.parentNode) {\n      const index = this.parentNode.childNodes.indexOf(this);\n      nodes.forEach((node, i) =>\n        this.parentNode?.appendChild(node, index + i + 1),\n      );\n    }\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/before\n   */\n  before(...nodes: INode[]) {\n    if (this.parentNode) {\n      const index = this.parentNode.childNodes.indexOf(this);\n      const [first, ...rest] = nodes;\n      this.parentNode.appendChild(first, index);\n      (first as IChildNode).after(...rest);\n    }\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/replaceWith\n   */\n  replaceWith(...nodes: INode[]) {\n    this.after(...nodes);\n    this.remove();\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/append\n   */\n  append(...nodes: INode[]) {\n    nodes.forEach((node) => this.appendChild(node));\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/prepend\n   */\n  prepend(...nodes: INode[]) {\n    nodes.forEach((node, i) => this.appendChild(node, i));\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/replaceChildren\n   */\n  replaceChildren(...nodes: INode[]) {\n    while (this.childNodes.length && this.firstChild) {\n      this.removeChild(this.firstChild);\n    }\n    this.append(...nodes);\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/remove\n   */\n  remove(): this {\n    if (this.parentNode) {\n      return this.parentNode.removeChild(this);\n    }\n    return this;\n  }\n\n  /**\n   * is destroyed or not\n   */\n  destroyed = false;\n  destroy() {\n    // fix https://github.com/antvis/G/issues/1813\n    this.destroyChildren();\n\n    // destroy itself before remove\n    this.dispatchEvent(destroyEvent);\n\n    // remove from scenegraph first\n    this.remove();\n\n    // remove event listeners\n    this.emitter.removeAllListeners();\n\n    this.destroyed = true;\n  }\n\n  getGeometryBounds(): AABB {\n    return runtime.sceneGraphService.getGeometryBounds(this);\n  }\n\n  getRenderBounds(): AABB {\n    return runtime.sceneGraphService.getBounds(this, true);\n  }\n\n  /**\n   * get bounds in world space, account for children\n   */\n  getBounds(): AABB {\n    return runtime.sceneGraphService.getBounds(this);\n  }\n\n  /**\n   * get bounds in local space, account for children\n   */\n  getLocalBounds(): AABB {\n    return runtime.sceneGraphService.getLocalBounds(this);\n  }\n\n  /**\n   * account for context's bounds in client space,\n   * but not accounting for children\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\n   */\n  getBoundingClientRect(): Rectangle {\n    return runtime.sceneGraphService.getBoundingClientRect(this);\n  }\n\n  /**\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getClientRects\n   */\n  getClientRects() {\n    return [this.getBoundingClientRect()];\n  }\n\n  /**\n   * compatible with `style`\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style\n   */\n  style: StyleProps & ICSSStyleDeclaration<StyleProps> = {} as StyleProps &\n    ICSSStyleDeclaration<StyleProps>;\n  computedStyle = {};\n\n  /**\n   * Renderers will use these used values.\n   */\n  parsedStyle: ParsedStyleProps = {\n    // opacity: '',\n    // fillOpacity: '',\n    // strokeOpacity: '',\n    // transformOrigin: '',\n    // visibility: '',\n    // pointerEvents: '',\n    // lineWidth: '',\n    // lineCap: '',\n    // lineJoin: '',\n    // increasedLineWidthForHitTesting: '',\n    // fontSize: '',\n    // fontFamily: '',\n    // fontStyle: '',\n    // fontWeight: '',\n    // fontVariant: '',\n    // textAlign: '',\n    // textBaseline: '',\n    // textTransform: '',\n  } as ParsedStyleProps;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/computedStyleMap\n   * eg. circle.computedStyleMap().get('fill');\n   */\n  computedStyleMap() {\n    return new Map(Object.entries(this.computedStyle));\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/attributes\n   */\n  readonly attributes: StyleProps = {} as StyleProps;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttributeNames\n   */\n  getAttributeNames(): string[] {\n    return Object.keys(this.attributes);\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute\n   */\n  getAttribute(name: keyof StyleProps) {\n    // @see https://github.com/antvis/G/issues/1267\n    if (typeof name === 'symbol') {\n      return undefined;\n    }\n\n    const value = this.attributes[name];\n    if (value === undefined) {\n      // if the given attribute does not exist, the value returned will either be null or \"\"\n      return value;\n    }\n\n    return value;\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/hasAttribute\n   */\n  hasAttribute(qualifiedName: string): boolean {\n    return this.getAttributeNames().includes(qualifiedName);\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/hasAttributes\n   */\n  hasAttributes(): boolean {\n    return !!this.getAttributeNames().length;\n  }\n\n  /**\n   * should use removeAttribute() instead of setting the attribute value to null either directly or using setAttribute(). Many attributes will not behave as expected if you set them to null.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute\n   */\n  removeAttribute(attributeName: keyof StyleProps) {\n    this.setAttribute(attributeName, null);\n    delete this.attributes[attributeName];\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute\n   */\n  setAttribute<Key extends keyof StyleProps>(\n    attributeName: Key,\n    value: StyleProps[Key],\n    force?: boolean,\n    memoize?: boolean,\n  ) {\n    this.attributes[attributeName] = value;\n  }\n\n  getAttributeNS(namespace: string, localName: string): string {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  getAttributeNode(qualifiedName: string): Attr {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  getAttributeNodeNS(namespace: string, localName: string): Attr {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  hasAttributeNS(namespace: string, localName: string): boolean {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  removeAttributeNS(namespace: string, localName: string): void {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  removeAttributeNode(attr: Attr): Attr {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  setAttributeNS(\n    namespace: string,\n    qualifiedName: string,\n    value: string,\n  ): void {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  setAttributeNode(attr: Attr): Attr {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  setAttributeNodeNS(attr: Attr): Attr {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  toggleAttribute(qualifiedName: string, force?: boolean): boolean {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n}\n", "import { isNil, isObject, isUndefined } from '@antv/util';\nimport type { mat3, vec2 } from 'gl-matrix';\nimport { mat4, quat, vec3 } from 'gl-matrix';\nimport type { PropertyParseOptions } from '../css';\nimport type {\n  DisplayObjectConfig,\n  IAnimation,\n  ICSSStyleDeclaration,\n  IChildNode,\n  IElement,\n} from '../dom';\nimport { Element } from '../dom/Element';\nimport { MutationEvent } from '../dom/MutationEvent';\nimport { ElementEvent } from '../dom/interfaces';\nimport { runtime } from '../global-runtime';\nimport { Rectangle } from '../shapes';\nimport type { BaseStyleProps, ParsedBaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport {\n  createVec3,\n  decompose,\n  fromRotationTranslationScale,\n  getEuler,\n  rad2deg,\n} from '../utils';\nimport type { CustomElement } from './CustomElement';\n\nexport function isDisplayObject(value: any): value is DisplayObject {\n  return !!(value as DisplayObject)?.nodeName;\n}\n\nconst Proxy: ProxyConstructor = runtime.globalThis.Proxy\n  ? runtime.globalThis.Proxy\n  : function () {};\n\ntype ConstructorTypeOf<T> = new (...args: any[]) => T;\n\nexport const attrModifiedEvent: MutationEvent = new MutationEvent(\n  ElementEvent.ATTR_MODIFIED,\n  null,\n  null,\n  null,\n  null,\n  MutationEvent.MODIFICATION,\n  null,\n  null,\n);\n\nconst $vec3 = vec3.create();\nconst $quat = quat.create();\n\n/**\n * prototype chains: DisplayObject -> Element -> Node -> EventTarget\n *\n * mixins: Animatable, Transformable, Visible\n * @see https://github.com/tannerntannern/ts-mixer/blob/master/README.md#mixing-generic-classes\n *\n * Provide abilities in scene graph, such as:\n * * transform `translate/rotate/scale`\n * * add/remove child\n * * visibility and z-index\n *\n * Those abilities are implemented with those components: `Transform/Sortable/Visible`.\n *\n * Emit following events:\n * * init\n * * destroy\n * * attributeChanged\n */\nexport class DisplayObject<\n  StyleProps extends BaseStyleProps = any,\n  ParsedStyleProps extends ParsedBaseStyleProps = any,\n> extends Element<StyleProps, ParsedStyleProps> {\n  static PARSED_STYLE_LIST = new Set([\n    'class',\n    'className',\n    'clipPath',\n    'cursor',\n    'display',\n    'draggable',\n    'droppable',\n    'fill',\n    'fillOpacity',\n    'fillRule',\n    'filter',\n    'increasedLineWidthForHitTesting',\n    'lineCap',\n    'lineDash',\n    'lineDashOffset',\n    'lineJoin',\n    'lineWidth',\n    'miterLimit',\n    'hitArea',\n    'offsetDistance',\n    'offsetPath',\n    'offsetX',\n    'offsetY',\n    'opacity',\n    'pointerEvents',\n    'shadowColor',\n    'shadowType',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'stroke',\n    'strokeOpacity',\n    'strokeWidth',\n    'strokeLinecap',\n    'strokeLineJoin',\n    'strokeDasharray',\n    'strokeDashoffset',\n    'transform',\n    'transformOrigin',\n    'textTransform',\n    'visibility',\n    'zIndex',\n  ]);\n\n  /**\n   * contains style props in constructor's params, eg. fill, stroke...\n   */\n  config: DisplayObjectConfig<StyleProps>;\n\n  isCustomElement = false;\n\n  isMutationObserved = false;\n\n  /**\n   * push to active animations after calling `animate()`\n   */\n  private activeAnimations: IAnimation[] = [];\n\n  constructor(config: DisplayObjectConfig<StyleProps>) {\n    super();\n\n    // assign name, id to config\n    // eg. group.get('name')\n    this.config = config;\n\n    // init scene graph node\n    this.id = config.id || '';\n    this.name = config.name || '';\n    if (config.className || config.class) {\n      this.className = config.className || config.class;\n    }\n    this.nodeName = config.type || Shape.GROUP;\n\n    if (config.initialParsedStyle) {\n      Object.assign(this.parsedStyle, config.initialParsedStyle);\n    }\n\n    // start to process attributes\n    this.initAttributes(config.style);\n\n    if (runtime.enableStyleSyntax) {\n      this.style = new Proxy<StyleProps & ICSSStyleDeclaration<StyleProps>>(\n        // @ts-ignore\n        {\n          // ...this.attributes,\n          setProperty: <Key extends keyof StyleProps>(\n            propertyName: Key,\n            value: StyleProps[Key],\n            // priority?: string,\n          ) => {\n            this.setAttribute(propertyName, value);\n          },\n          getPropertyValue: (propertyName: keyof StyleProps) => {\n            return this.getAttribute(propertyName);\n          },\n          removeProperty: (propertyName: keyof StyleProps) => {\n            this.removeAttribute(propertyName);\n          },\n          item: () => {\n            return '';\n          },\n        },\n        {\n          get: (target, name: string) => {\n            if (target[name] !== undefined) {\n              // if (name in target) {\n              return target[name];\n            }\n            return this.getAttribute(name as keyof StyleProps);\n          },\n          set: (_, prop, value) => {\n            this.setAttribute(prop as keyof StyleProps, value);\n            return true;\n          },\n        },\n      );\n    }\n  }\n\n  destroy() {\n    super.destroy();\n\n    // stop all active animations\n    this.getAnimations().forEach((animation) => {\n      animation.cancel();\n    });\n  }\n\n  cloneNode(\n    deep?: boolean,\n    customCloneFunc?: (name: string, attribute: any) => any,\n  ): this {\n    const clonedStyle = { ...this.attributes };\n    for (const attributeName in clonedStyle) {\n      const attribute = clonedStyle[attributeName];\n\n      // @see https://github.com/antvis/G/issues/1095\n      if (\n        isDisplayObject(attribute) &&\n        // share the same clipPath if possible\n        attributeName !== 'clipPath' &&\n        attributeName !== 'offsetPath' &&\n        attributeName !== 'textPath'\n      ) {\n        clonedStyle[attributeName] = attribute.cloneNode(deep);\n      }\n      // TODO: clone other type\n      if (customCloneFunc) {\n        clonedStyle[attributeName] = customCloneFunc(attributeName, attribute);\n      }\n    }\n\n    const cloned = new (this.constructor as ConstructorTypeOf<DisplayObject>)({\n      // copy id & name\n      // @see https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode#notes\n      ...this.config,\n      style: clonedStyle,\n    });\n\n    // apply transform\n    cloned.setLocalTransform(this.getLocalTransform());\n\n    if (deep) {\n      this.children.forEach((child) => {\n        // skip marker\n        if (!child.style.isMarker) {\n          const clonedChild = child.cloneNode(deep);\n          cloned.appendChild(clonedChild);\n        }\n      });\n    }\n\n    return cloned as this;\n  }\n\n  private initAttributes(attributes: StyleProps = {} as StyleProps) {\n    const options = {\n      forceUpdateGeometry: true,\n    };\n\n    runtime.styleValueRegistry.processProperties(this, attributes, options);\n\n    // redraw at next frame\n    this.renderable.dirty = true;\n  }\n\n  setAttribute<Key extends keyof StyleProps>(\n    name: Key,\n    value: StyleProps[Key],\n    force = false,\n    memoize = true,\n  ) {\n    // ignore undefined value\n    if (isUndefined(value)) {\n      return;\n    }\n\n    if (force || value !== this.attributes[name]) {\n      this.internalSetAttribute(name, value, { memoize });\n      super.setAttribute(name, value);\n    }\n  }\n\n  /**\n   * called when attributes get changed or initialized\n   */\n  internalSetAttribute<Key extends keyof StyleProps>(\n    name: Key,\n    value: StyleProps[Key],\n    parseOptions: Partial<PropertyParseOptions> = {},\n  ) {\n    const { renderable } = this;\n\n    const oldValue = this.attributes[name];\n    const oldParsedValue = this.parsedStyle[name as string];\n\n    runtime.styleValueRegistry.processProperties(\n      this as unknown as DisplayObject,\n      {\n        [name]: value,\n      },\n      parseOptions,\n    );\n\n    // redraw at next frame\n    renderable.dirty = true;\n\n    const newParsedValue = this.parsedStyle[name as string];\n    if (this.isConnected) {\n      attrModifiedEvent.relatedNode = this as IElement;\n      attrModifiedEvent.prevValue = oldValue;\n      attrModifiedEvent.newValue = value;\n      attrModifiedEvent.attrName = name as string;\n      attrModifiedEvent.prevParsedValue = oldParsedValue;\n      attrModifiedEvent.newParsedValue = newParsedValue;\n      if (this.isMutationObserved) {\n        this.dispatchEvent(attrModifiedEvent);\n      } else {\n        attrModifiedEvent.target = this;\n        this.ownerDocument.defaultView.dispatchEvent(attrModifiedEvent, true);\n      }\n    }\n\n    if ((this.isCustomElement && this.isConnected) || !this.isCustomElement) {\n      (this as unknown as CustomElement<any>).attributeChangedCallback?.(\n        name,\n        oldValue,\n        value,\n        oldParsedValue,\n        newParsedValue,\n      );\n    }\n  }\n\n  // #region transformable\n  /**\n   * returns different values than getBoundingClientRect(), as the latter returns value relative to the viewport\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/SVGGraphicsElement/getBBox\n   *\n   * FIXME: It is worth noting that getBBox responds to original untransformed values of a drawn object.\n   * @see https://www.w3.org/Graphics/SVG/IG/resources/svgprimer.html#getBBox\n   */\n  getBBox(): DOMRect {\n    const aabb = this.getBounds();\n    const [left, top] = aabb.getMin();\n    const [right, bottom] = aabb.getMax();\n    return new Rectangle(left, top, right - left, bottom - top);\n  }\n\n  setOrigin(position: vec3 | vec2 | number, y = 0, z = 0) {\n    runtime.sceneGraphService.setOrigin(\n      this,\n      createVec3(position, y, z, false),\n    );\n    return this;\n  }\n\n  getOrigin(): vec3 {\n    return runtime.sceneGraphService.getOrigin(this);\n  }\n\n  /**\n   * set position in world space\n   */\n  setPosition(position: vec3 | vec2 | number, y = 0, z = 0) {\n    runtime.sceneGraphService.setPosition(\n      this,\n      createVec3(position, y, z, false),\n    );\n    return this;\n  }\n\n  /**\n   * set position in local space\n   */\n  setLocalPosition(position: vec3 | vec2 | number, y = 0, z = 0) {\n    runtime.sceneGraphService.setLocalPosition(\n      this,\n      createVec3(position, y, z, false),\n    );\n    return this;\n  }\n\n  /**\n   * translate in world space\n   */\n  translate(position: vec3 | vec2 | number, y = 0, z = 0) {\n    runtime.sceneGraphService.translate(\n      this,\n      createVec3(position, y, z, false),\n    );\n    return this;\n  }\n\n  /**\n   * translate in local space\n   */\n  translateLocal(position: vec3 | vec2 | number, y = 0, z = 0) {\n    runtime.sceneGraphService.translateLocal(\n      this,\n      createVec3(position, y, z, false),\n    );\n    return this;\n  }\n\n  getPosition(): vec3 {\n    return runtime.sceneGraphService.getPosition(this);\n  }\n\n  getLocalPosition(): vec3 {\n    return runtime.sceneGraphService.getLocalPosition(this);\n  }\n\n  /**\n   * compatible with G 3.0\n   *\n   * scaling in local space\n   * scale(10) = scale(10, 10, 10)\n   *\n   * we can't set scale in world space\n   */\n  scale(scaling: vec3 | vec2 | number, y?: number, z?: number) {\n    return this.scaleLocal(scaling, y, z);\n  }\n  scaleLocal(scaling: vec3 | vec2 | number, y?: number, z?: number) {\n    if (typeof scaling === 'number') {\n      y = y || scaling;\n      z = z || scaling;\n      scaling = createVec3(scaling, y, z, false);\n    }\n    runtime.sceneGraphService.scaleLocal(this, scaling);\n    return this;\n  }\n\n  /**\n   * set scaling in local space\n   */\n  setLocalScale(scaling: vec3 | vec2 | number, y?: number, z?: number) {\n    if (typeof scaling === 'number') {\n      y = y || scaling;\n      z = z || scaling;\n      scaling = createVec3(scaling, y, z, false);\n    }\n\n    runtime.sceneGraphService.setLocalScale(this, scaling);\n    return this;\n  }\n\n  /**\n   * get scaling in local space\n   */\n  getLocalScale(): vec3 {\n    return runtime.sceneGraphService.getLocalScale(this);\n  }\n\n  /**\n   * get scaling in world space\n   */\n  getScale(): vec3 {\n    return runtime.sceneGraphService.getScale(this);\n  }\n\n  /**\n   * only return degrees of Z axis in world space\n   */\n  getEulerAngles() {\n    const [, , ez] = getEuler(\n      $vec3,\n      runtime.sceneGraphService.getWorldTransform(this),\n    );\n    return rad2deg(ez);\n  }\n\n  /**\n   * only return degrees of Z axis in local space\n   */\n  getLocalEulerAngles() {\n    const [, , ez] = getEuler(\n      $vec3,\n      runtime.sceneGraphService.getLocalRotation(this),\n    );\n    return rad2deg(ez);\n  }\n\n  /**\n   * set euler angles(degrees) in world space\n   */\n  setEulerAngles(z: number) {\n    runtime.sceneGraphService.setEulerAngles(this, 0, 0, z);\n    return this;\n  }\n\n  /**\n   * set euler angles(degrees) in local space\n   */\n  setLocalEulerAngles(z: number) {\n    runtime.sceneGraphService.setLocalEulerAngles(this, 0, 0, z);\n    return this;\n  }\n\n  rotateLocal(x: number, y?: number, z?: number) {\n    if (isNil(y) && isNil(z)) {\n      runtime.sceneGraphService.rotateLocal(this, 0, 0, x);\n    } else {\n      runtime.sceneGraphService.rotateLocal(this, x, y, z);\n    }\n\n    return this;\n  }\n\n  rotate(x: number, y?: number, z?: number) {\n    if (isNil(y) && isNil(z)) {\n      runtime.sceneGraphService.rotate(this, 0, 0, x);\n    } else {\n      runtime.sceneGraphService.rotate(this, x, y, z);\n    }\n\n    return this;\n  }\n\n  setRotation(rotation: quat | number, y?: number, z?: number, w?: number) {\n    runtime.sceneGraphService.setRotation(this, rotation, y, z, w);\n    return this;\n  }\n\n  setLocalRotation(\n    rotation: quat | number,\n    y?: number,\n    z?: number,\n    w?: number,\n  ) {\n    runtime.sceneGraphService.setLocalRotation(this, rotation, y, z, w);\n    return this;\n  }\n\n  setLocalSkew(skew: vec2 | number, y?: number) {\n    runtime.sceneGraphService.setLocalSkew(this, skew, y);\n    return this;\n  }\n\n  getRotation(): quat {\n    return runtime.sceneGraphService.getRotation(this);\n  }\n\n  getLocalRotation(): quat {\n    return runtime.sceneGraphService.getLocalRotation(this);\n  }\n\n  getLocalSkew(): vec2 {\n    return runtime.sceneGraphService.getLocalSkew(this);\n  }\n\n  getLocalTransform(): mat4 {\n    return runtime.sceneGraphService.getLocalTransform(this);\n  }\n\n  getWorldTransform(): mat4 {\n    return runtime.sceneGraphService.getWorldTransform(this);\n  }\n\n  setLocalTransform(transform: mat4) {\n    runtime.sceneGraphService.setLocalTransform(this, transform);\n    return this;\n  }\n\n  resetLocalTransform(): void {\n    runtime.sceneGraphService.resetLocalTransform(this);\n  }\n  // #endregion transformable\n\n  // #region animatable\n  /**\n   * returns an array of all Animation objects affecting this element\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getAnimations\n   */\n  getAnimations(): IAnimation[] {\n    return this.activeAnimations;\n  }\n  /**\n   * create an animation with WAAPI\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/animate\n   */\n  animate(\n    keyframes: Keyframe[] | PropertyIndexedKeyframes | null,\n    options?: number | KeyframeAnimationOptions,\n  ): IAnimation | null {\n    const timeline = this.ownerDocument?.timeline;\n\n    if (timeline) {\n      return timeline.play(this as IElement, keyframes, options);\n    }\n    return null;\n  }\n  // #endregion animatable\n\n  // #region visible\n  /**\n   * shortcut for Used value of `visibility`\n   */\n  isVisible() {\n    return this.parsedStyle?.visibility !== 'hidden';\n  }\n\n  get interactive() {\n    return this.isInteractive();\n  }\n  set interactive(b: boolean) {\n    this.style.pointerEvents = b ? 'auto' : 'none';\n  }\n\n  isInteractive() {\n    return this.parsedStyle?.pointerEvents !== 'none';\n  }\n\n  isCulled() {\n    return !!(this.cullable && this.cullable.enable && !this.cullable.visible);\n  }\n\n  /**\n   * bring to front in current group\n   */\n  toFront() {\n    if (this.parentNode) {\n      this.style.zIndex =\n        Math.max(\n          ...this.parentNode.children.map((child) =>\n            Number(child.style.zIndex),\n          ),\n        ) + 1;\n    }\n    return this;\n  }\n\n  /**\n   * send to back in current group\n   */\n  toBack() {\n    if (this.parentNode) {\n      this.style.zIndex =\n        Math.min(\n          ...this.parentNode.children.map((child) =>\n            Number(child.style.zIndex),\n          ),\n        ) - 1;\n    }\n    return this;\n  }\n  // #endregion visible\n\n  // #region deprecated\n\n  /**\n   * compatible with G 3.0\n   * @alias object.config\n   * @deprecated\n   */\n  getConfig() {\n    return this.config;\n  }\n\n  /**\n   * @alias style\n   * @example\n   * circle.style.r = 10;\n   * const r = circle.style;\n   * @deprecated\n   */\n  attr(): StyleProps;\n  attr(name: Partial<StyleProps>): DisplayObject<StyleProps>;\n  attr<Key extends keyof StyleProps>(name: Key): StyleProps[Key];\n  attr<Key extends keyof StyleProps>(\n    name: Key,\n    value: StyleProps[Key],\n  ): DisplayObject<StyleProps>;\n  attr(...args: any): any {\n    const [name, value] = args;\n    if (!name) {\n      return this.attributes;\n    }\n    if (isObject(name)) {\n      Object.keys(name).forEach((key) => {\n        this.setAttribute(\n          key as keyof StyleProps,\n          (name as unknown as StyleProps)[key as keyof StyleProps],\n        );\n      });\n      return this;\n    }\n    if (args.length === 2) {\n      this.setAttribute(name, value);\n      return this;\n    }\n    return this.attributes[name as keyof StyleProps];\n  }\n\n  /**\n   * return 3x3 matrix in world space\n   * @deprecated\n   */\n  getMatrix(transformMat4?: mat4): mat3 {\n    const transform = transformMat4 || this.getWorldTransform();\n    const [tx, ty] = mat4.getTranslation($vec3, transform);\n    const [sx, sy] = mat4.getScaling($vec3, transform);\n    const rotation = mat4.getRotation($quat, transform);\n    const [eux, , euz] = getEuler($vec3, rotation);\n    // gimbal lock at 90 degrees\n    return fromRotationTranslationScale(eux || euz, tx, ty, sx, sy);\n  }\n\n  /**\n   * return 3x3 matrix in local space\n   * @deprecated\n   */\n  getLocalMatrix(): mat3 {\n    return this.getMatrix(this.getLocalTransform());\n  }\n\n  /**\n   * set 3x3 matrix in world space\n   * @deprecated\n   */\n  setMatrix(mat: mat3) {\n    const [tx, ty, scalingX, scalingY, angle] = decompose(mat);\n    this.setEulerAngles(angle)\n      .setPosition(tx, ty)\n      .setLocalScale(scalingX, scalingY);\n  }\n\n  /**\n   * set 3x3 matrix in local space\n   * @deprecated\n   */\n  setLocalMatrix(mat: mat3) {\n    const [tx, ty, scalingX, scalingY, angle] = decompose(mat);\n    this.setLocalEulerAngles(angle)\n      .setLocalPosition(tx, ty)\n      .setLocalScale(scalingX, scalingY);\n  }\n\n  /**\n   * Use `visibility: visible` instead.\n   * @deprecated\n   */\n  show() {\n    this.forEach((object: DisplayObject) => {\n      object.style.visibility = 'visible';\n    });\n  }\n\n  /**\n   * Use `visibility: hidden` instead.\n   * @deprecated\n   */\n  hide() {\n    this.forEach((object: DisplayObject) => {\n      object.style.visibility = 'hidden';\n    });\n  }\n\n  /**\n   * Use `childElementCount` instead.\n   * @deprecated\n   */\n  getCount() {\n    return this.childElementCount;\n  }\n\n  /**\n   * Use `parentElement` instead.\n   * @deprecated\n   */\n  getParent(): DisplayObject | null {\n    return this.parentElement as DisplayObject;\n  }\n\n  /**\n   * Use `children` instead.\n   * @deprecated\n   */\n  getChildren(): DisplayObject[] {\n    return this.children as DisplayObject[];\n  }\n\n  /**\n   * Use `firstElementChild` instead.\n   * @deprecated\n   */\n  getFirst(): DisplayObject | null {\n    return this.firstElementChild as DisplayObject;\n  }\n\n  /**\n   * Use `lastElementChild` instead.\n   * @deprecated\n   */\n  getLast(): DisplayObject | null {\n    return this.lastElementChild as DisplayObject;\n  }\n\n  /**\n   * Use `this.children[index]` instead.\n   * @deprecated\n   */\n  getChildByIndex(index: number): DisplayObject | null {\n    return (this.children[index] as DisplayObject) || null;\n  }\n\n  /**\n   * Use `appendChild` instead.\n   * @deprecated\n   */\n  add<T extends IChildNode>(child: T, index?: number): T {\n    return this.appendChild(child, index);\n  }\n\n  /**\n   * @deprecated\n   */\n  set<\n    StyleProps extends BaseStyleProps,\n    Key extends keyof DisplayObjectConfig<StyleProps>,\n  >(name: Key, value: DisplayObjectConfig<StyleProps>[Key]) {\n    // @ts-ignore\n    this.config[name] = value;\n  }\n\n  /**\n   * @deprecated\n   */\n  get<StyleProps extends BaseStyleProps>(\n    name: keyof DisplayObjectConfig<StyleProps>,\n  ) {\n    return this.config[name];\n  }\n\n  /**\n   * Use `setPosition` instead.\n   * @deprecated\n   */\n  moveTo(position: vec3 | vec2 | number, y = 0, z = 0) {\n    (this as unknown as DisplayObject).setPosition(position, y, z);\n    return this;\n  }\n\n  /**\n   * Use `setPosition` instead.\n   * @deprecated\n   */\n  move(position: vec3 | vec2 | number, y = 0, z = 0) {\n    (this as unknown as DisplayObject).setPosition(position, y, z);\n    return this;\n  }\n\n  /**\n   * Use `this.style.zIndex` instead.\n   * @deprecated\n   */\n  setZIndex(zIndex: number) {\n    this.style.zIndex = zIndex;\n    return this;\n  }\n\n  // #endregion deprecated\n}\n", "import type { DisplayObjectConfig } from '../dom/interfaces';\nimport type { BaseStyleProps, ParsedBaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport { DisplayObject } from './DisplayObject';\n\nexport interface CircleStyleProps extends BaseStyleProps {\n  /**\n   * X coordinate of the center of the circle.\n   */\n  cx?: number | string | null;\n  /**\n   * Y coordinate of the center of the circle.\n   */\n  cy?: number | string | null;\n  /**\n   * Z coordinate of the center of the circle.\n   */\n  cz?: number | string | null;\n  /**\n   * Radius of the circle.\n   */\n  r: number | string | null;\n  /**\n   * Whether the circle is billboard.\n   */\n  isBillboard?: boolean;\n  /**\n   * Whether the circle is size attenuation.\n   */\n  isSizeAttenuation?: boolean;\n}\nexport interface ParsedCircleStyleProps extends ParsedBaseStyleProps {\n  cx: number;\n  cy: number;\n  cz?: number;\n  r: number;\n  isBillboard?: boolean;\n  isSizeAttenuation?: boolean;\n}\nexport class Circle extends DisplayObject<\n  CircleStyleProps,\n  ParsedCircleStyleProps\n> {\n  static PARSED_STYLE_LIST: Set<string> = new Set([\n    ...DisplayObject.PARSED_STYLE_LIST,\n    'cx',\n    'cy',\n    'cz',\n    'r',\n    'isBillboard',\n    'isSizeAttenuation',\n  ]);\n\n  constructor(options: DisplayObjectConfig<CircleStyleProps> = {}) {\n    super({\n      type: Shape.CIRCLE,\n      ...options,\n    });\n  }\n}\n", "import type { DisplayObjectConfig } from '../dom';\nimport type { BaseStyleProps } from '../types';\nimport { DisplayObject } from './DisplayObject';\n\nexport interface BaseCustomElementStyleProps extends BaseStyleProps {}\n\n/**\n * shadow root\n * @see https://yuque.antfin-inc.com/antv/czqvg5/pgqipg\n */\nexport abstract class CustomElement<\n  CustomElementStyleProps,\n> extends DisplayObject<CustomElementStyleProps & BaseCustomElementStyleProps> {\n  static PARSED_STYLE_LIST: Set<string> = new Set([\n    'class',\n    'className',\n    'clipPath',\n    'cursor',\n    'draggable',\n    'droppable',\n    'opacity',\n    'pointerEvents',\n    'transform',\n    'transformOrigin',\n    'zIndex',\n    'visibility',\n  ]);\n\n  isCustomElement = true;\n\n  // private shadowNodes: DisplayObject[] = [];\n\n  constructor({\n    style,\n    ...rest\n  }: DisplayObjectConfig<CustomElementStyleProps> = {}) {\n    super({\n      style,\n      ...rest,\n    });\n  }\n\n  /**\n   * fired after element insert into DOM tree\n   */\n  connectedCallback?(): void;\n\n  /**\n   * fired before element removed from DOM tree\n   */\n  disconnectedCallback?(): void;\n\n  attributeChangedCallback?<Key extends keyof CustomElementStyleProps>(\n    name: Key,\n    oldValue: CustomElementStyleProps[Key],\n    newValue: CustomElementStyleProps[Key],\n    oldParsedValue?: any,\n    newParsedValue?: any,\n  ): void;\n}\n", "import type { DisplayObjectConfig } from '../dom/interfaces';\nimport type { BaseStyleProps, ParsedBaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport { DisplayObject } from './DisplayObject';\n\nexport interface EllipseStyleProps extends BaseStyleProps {\n  cx?: number | string;\n  cy?: number | string;\n  cz?: number | string;\n  rx: number | string;\n  ry: number | string;\n  isBillboard?: boolean;\n  isSizeAttenuation?: boolean;\n}\nexport interface ParsedEllipseStyleProps extends ParsedBaseStyleProps {\n  cx: number;\n  cy: number;\n  cz?: number;\n  rx: number;\n  ry: number;\n  isBillboard?: boolean;\n  isSizeAttenuation?: boolean;\n}\nexport class Ellipse extends DisplayObject<\n  EllipseStyleProps,\n  ParsedEllipseStyleProps\n> {\n  static PARSED_STYLE_LIST: Set<string> = new Set([\n    ...DisplayObject.PARSED_STYLE_LIST,\n    'cx',\n    'cy',\n    'cz',\n    'rx',\n    'ry',\n    'isBillboard',\n    'isSizeAttenuation',\n  ]);\n\n  constructor(options: DisplayObjectConfig<EllipseStyleProps> = {}) {\n    super({\n      type: Shape.ELLIPSE,\n      ...options,\n    });\n  }\n}\n", "import { Shape } from '../types';\nimport { DisplayObject } from './DisplayObject';\n\n/**\n * \n *\n *   Fragment  Fragment \n *\n *  Fragment  Canvas \n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment\n */\nexport class Fragment extends DisplayObject {\n  static PARSED_STYLE_LIST = new Set<string>(['class', 'className']);\n\n  constructor() {\n    super({ type: Shape.FRAGMENT });\n  }\n}\n", "import type { CSSUnitValue } from '../css';\nimport type { DisplayObjectConfig } from '../dom';\nimport type { BaseStyleProps, ParsedBaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport { DisplayObject } from './DisplayObject';\n\nexport interface GroupStyleProps extends BaseStyleProps {\n  width?: number | string;\n  height?: number | string;\n}\n\nexport interface ParsedGroupStyleProps extends ParsedBaseStyleProps {\n  width?: CSSUnitValue;\n  height?: CSSUnitValue;\n}\n\n/**\n * its attributes are inherited by its children.\n * @see https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/g\n * \n * @example\n * <g fill=\"white\" stroke=\"green\" stroke-width=\"5\">\n    <circle cx=\"40\" cy=\"40\" r=\"25\" />\n    <circle cx=\"60\" cy=\"60\" r=\"25\" />\n  </g>\n */\nexport class Group extends DisplayObject {\n  static PARSED_STYLE_LIST: Set<string> = new Set([\n    'class',\n    'className',\n    'clipPath',\n    'cursor',\n    'draggable',\n    'droppable',\n    'opacity',\n    'pointerEvents',\n    'transform',\n    'transformOrigin',\n    'zIndex',\n    'visibility',\n  ]);\n\n  constructor(options: DisplayObjectConfig<GroupStyleProps> = {}) {\n    super({\n      type: Shape.GROUP,\n      ...options,\n    });\n  }\n}\n", "import { mat4 } from 'gl-matrix';\nimport type { DisplayObjectConfig } from '../dom';\nimport { AABB } from '../shapes';\nimport type { BaseStyleProps, ParsedBaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport { DisplayObject } from './DisplayObject';\n\nexport interface HTMLStyleProps extends BaseStyleProps {\n  x?: number | string;\n  y?: number | string;\n  innerHTML: string | HTMLElement;\n  width?: number | string;\n  height?: number | string;\n}\n\nexport interface ParsedHTMLStyleProps extends ParsedBaseStyleProps {\n  x: number;\n  y: number;\n  $el: HTMLElement;\n  innerHTML: string | HTMLElement;\n  width: number;\n  height: number;\n}\n\n/**\n * HTML container\n * @see https://github.com/pmndrs/drei#html\n */\nexport class HTML extends DisplayObject<HTMLStyleProps, ParsedHTMLStyleProps> {\n  static PARSED_STYLE_LIST: Set<string> = new Set([\n    ...DisplayObject.PARSED_STYLE_LIST,\n    'x',\n    'y',\n    '$el',\n    'innerHTML',\n    'width',\n    'height',\n  ]);\n\n  constructor({ style, ...rest }: DisplayObjectConfig<HTMLStyleProps> = {}) {\n    super({\n      type: Shape.HTML,\n      style,\n      ...rest,\n    });\n\n    this.cullable.enable = false;\n  }\n\n  /**\n   * return wrapper HTMLElement\n   * * <div> in g-webgl/canvas\n   * * <foreignObject> in g-svg\n   */\n  getDomElement() {\n    return this.parsedStyle.$el;\n  }\n\n  /**\n   * override with $el.getBoundingClientRect\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect\n   *\n   * ! The calculation logic of the html element should be consistent with that of the canvas element\n   */\n  // getBoundingClientRect(): Rectangle {\n  //   if (this.parsedStyle.$el) {\n  //     return this.parsedStyle.$el.getBoundingClientRect();\n  //   } else {\n  //     const { x, y, width, height } = this.parsedStyle;\n  //     return new Rectangle(x, y, width, height);\n  //   }\n  // }\n\n  getClientRects() {\n    return [this.getBoundingClientRect()];\n  }\n\n  // getBounds() {\n  //   const clientRect = this.getBoundingClientRect();\n  //   // calc context's offset\n  //   // @ts-ignore\n  //   const canvasRect = this.ownerDocument?.defaultView\n  //     ?.getContextService()\n  //     .getBoundingClientRect();\n\n  //   const aabb = new AABB();\n  //   const minX = clientRect.left - (canvasRect?.left || 0);\n  //   const minY = clientRect.top - (canvasRect?.top || 0);\n  //   aabb.setMinMax(\n  //     [minX, minY, 0],\n  //     [minX + clientRect.width, minY + clientRect.height, 0],\n  //   );\n  //   return aabb;\n  // }\n\n  getLocalBounds() {\n    if (this.parentNode) {\n      const parentInvert = mat4.invert(\n        mat4.create(),\n        (this.parentNode as DisplayObject).getWorldTransform(),\n      );\n      const bounds = this.getBounds();\n\n      if (!AABB.isEmpty(bounds)) {\n        const localBounds = new AABB();\n        localBounds.setFromTransformedAABB(bounds, parentInvert);\n        return localBounds;\n      }\n    }\n\n    return this.getBounds();\n  }\n}\n", "import type { DisplayObjectConfig } from '../dom';\nimport type { BaseStyleProps, ParsedBaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport { DisplayObject } from './DisplayObject';\n\nexport interface ImageStyleProps extends BaseStyleProps {\n  x?: number | string;\n  y?: number | string;\n  z?: number;\n  src?: string | HTMLImageElement;\n  width?: number | string;\n  height?: number | string;\n  /**\n   * Whether the circle is billboard.\n   */\n  isBillboard?: boolean;\n  /**\n   * When isBillboard enabled, whether the circle is size attenuation.\n   */\n  isSizeAttenuation?: boolean;\n  /**\n   * When isBillboard enabled, the rotation.\n   */\n  billboardRotation?: number;\n  /**\n   * Whether to keep the aspect ratio of the image, under such circumstances, either the width or height can be omitted.\n   */\n  keepAspectRatio?: boolean;\n}\nexport interface ParsedImageStyleProps extends ParsedBaseStyleProps {\n  x: number;\n  y: number;\n  z?: number;\n  src?: string | HTMLImageElement;\n  width?: number;\n  height?: number;\n  isBillboard?: boolean;\n  billboardRotation?: number;\n  isSizeAttenuation?: boolean;\n  keepAspectRatio?: boolean;\n}\nexport class Image extends DisplayObject<\n  ImageStyleProps,\n  ParsedImageStyleProps\n> {\n  static PARSED_STYLE_LIST: Set<string> = new Set([\n    ...DisplayObject.PARSED_STYLE_LIST,\n    'x',\n    'y',\n    'z',\n    'src',\n    'width',\n    'height',\n    'isBillboard',\n    'billboardRotation',\n    'isSizeAttenuation',\n    'keepAspectRatio',\n  ]);\n\n  constructor(options: DisplayObjectConfig<ImageStyleProps> = {}) {\n    super({\n      type: Shape.IMAGE,\n      ...options,\n    });\n  }\n}\n", "import { lineLength, linePointAt } from '@antv/g-math';\nimport { vec3 } from 'gl-matrix';\nimport type { DisplayObjectConfig } from '../dom';\nimport { Point } from '../shapes';\nimport type { BaseStyleProps, ParsedBaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport { DisplayObject, isDisplayObject } from './DisplayObject';\n\nexport interface LineStyleProps extends BaseStyleProps {\n  /**\n   * X coordinate of the start of the line.\n   */\n  x1: number;\n  /**\n   * Y coordinate of the start of the line.\n   */\n  y1: number;\n  /**\n   * X coordinate of the end of the line.\n   */\n  x2: number;\n  /**\n   * Y coordinate of the end of the line.\n   */\n  y2: number;\n  /**\n   * Z coordinate of the start of the line.\n   */\n  z1?: number;\n  /**\n   * Z coordinate of the end of the line.\n   */\n  z2?: number;\n  /**\n   * Whether the line is billboard.\n   */\n  isBillboard?: boolean;\n  /**\n   * Whether the line is size attenuation.\n   */\n  isSizeAttenuation?: boolean;\n  /**\n   * marker will be positioned at x1/y1\n   */\n  markerStart?: DisplayObject | null;\n\n  /**\n   * marker will be positioned at x2/y2\n   */\n  markerEnd?: DisplayObject | null;\n\n  /**\n   * offset relative to original position\n   */\n  markerStartOffset?: number;\n\n  /**\n   * offset relative to original position\n   */\n  markerEndOffset?: number;\n}\nexport interface ParsedLineStyleProps extends ParsedBaseStyleProps {\n  x1: number;\n  y1: number;\n  x2: number;\n  y2: number;\n  z1?: number;\n  z2?: number;\n  isBillboard?: boolean;\n  isSizeAttenuation?: boolean;\n  markerStart?: DisplayObject | null;\n  markerEnd?: DisplayObject | null;\n  markerStartOffset?: number;\n  markerEndOffset?: number;\n}\n\n/**\n * Create a line connecting two points.\n * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Element/line\n *\n * Also support for using marker.\n */\nexport class Line extends DisplayObject<LineStyleProps, ParsedLineStyleProps> {\n  static PARSED_STYLE_LIST: Set<string> = new Set([\n    ...DisplayObject.PARSED_STYLE_LIST,\n    'x1',\n    'y1',\n    'x2',\n    'y2',\n    'z1',\n    'z2',\n    'isBillboard',\n    'isSizeAttenuation',\n    'markerStart',\n    'markerEnd',\n    'markerStartOffset',\n    'markerEndOffset',\n  ]);\n\n  private markerStartAngle = 0;\n  private markerEndAngle = 0;\n\n  constructor({ style, ...rest }: DisplayObjectConfig<LineStyleProps> = {}) {\n    super({\n      type: Shape.LINE,\n      style: {\n        x1: 0,\n        y1: 0,\n        x2: 0,\n        y2: 0,\n        z1: 0,\n        z2: 0,\n        ...style,\n      },\n      ...rest,\n    });\n\n    const { markerStart, markerEnd } = this.parsedStyle;\n\n    if (markerStart && isDisplayObject(markerStart)) {\n      this.markerStartAngle = markerStart.getLocalEulerAngles();\n      this.appendChild(markerStart);\n    }\n\n    if (markerEnd && isDisplayObject(markerEnd)) {\n      this.markerEndAngle = markerEnd.getLocalEulerAngles();\n      this.appendChild(markerEnd);\n    }\n\n    this.transformMarker(true);\n    this.transformMarker(false);\n  }\n\n  attributeChangedCallback<Key extends keyof LineStyleProps>(\n    attrName: Key,\n    oldValue: LineStyleProps[Key],\n    newValue: LineStyleProps[Key],\n    prevParsedValue: ParsedLineStyleProps[Key],\n    newParsedValue: ParsedLineStyleProps[Key],\n  ) {\n    if (\n      attrName === 'x1' ||\n      attrName === 'y1' ||\n      attrName === 'x2' ||\n      attrName === 'y2' ||\n      attrName === 'markerStartOffset' ||\n      attrName === 'markerEndOffset'\n    ) {\n      this.transformMarker(true);\n      this.transformMarker(false);\n    } else if (attrName === 'markerStart') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerStartAngle = 0;\n        prevParsedValue.remove();\n      }\n\n      // CSSKeyword 'unset'\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerStartAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(true);\n      }\n    } else if (attrName === 'markerEnd') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerEndAngle = 0;\n        prevParsedValue.remove();\n      }\n\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerEndAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(false);\n      }\n    }\n  }\n\n  private transformMarker(isStart: boolean) {\n    const {\n      markerStart,\n      markerEnd,\n      markerStartOffset,\n      markerEndOffset,\n      x1,\n      x2,\n      y1,\n      y2,\n    } = this.parsedStyle;\n    const marker = isStart ? markerStart : markerEnd;\n\n    if (!marker || !isDisplayObject(marker)) {\n      return;\n    }\n\n    let rad = 0;\n    let x: number;\n    let y: number;\n    let ox: number;\n    let oy: number;\n    let offset: number;\n    let originalAngle: number;\n\n    if (isStart) {\n      ox = x1;\n      oy = y1;\n      x = x2 - x1;\n      y = y2 - y1;\n      offset = markerStartOffset || 0;\n      originalAngle = this.markerStartAngle;\n    } else {\n      ox = x2;\n      oy = y2;\n      x = x1 - x2;\n      y = y1 - y2;\n      offset = markerEndOffset || 0;\n      originalAngle = this.markerEndAngle;\n    }\n    rad = Math.atan2(y, x);\n\n    // account for markerOffset\n    marker.setLocalEulerAngles((rad * 180) / Math.PI + originalAngle);\n    marker.setLocalPosition(\n      ox + Math.cos(rad) * offset,\n      oy + Math.sin(rad) * offset,\n    );\n  }\n\n  getPoint(ratio: number, inWorldSpace = false): Point {\n    // TODO: account for z1/z2 in 3D line\n    const { x1, y1, x2, y2 } = this.parsedStyle;\n    const { x, y } = linePointAt(x1, y1, x2, y2, ratio);\n\n    const transformed = vec3.transformMat4(\n      vec3.create(),\n      vec3.fromValues(x, y, 0),\n      inWorldSpace ? this.getWorldTransform() : this.getLocalTransform(),\n    );\n\n    // apply local transformation\n    return new Point(transformed[0], transformed[1]);\n  }\n\n  getPointAtLength(distance: number, inWorldSpace = false): Point {\n    return this.getPoint(distance / this.getTotalLength(), inWorldSpace);\n  }\n\n  getTotalLength() {\n    // TODO: account for z1/z2 in 3D line\n    const { x1, y1, x2, y2 } = this.parsedStyle;\n    return lineLength(x1, y1, x2, y2);\n  }\n}\n", "import type {\n  AbsoluteArray,\n  AbsoluteSegment,\n  CurveArray,\n  PathArray,\n} from '@antv/util';\nimport { getPointAtLength } from '@antv/util';\nimport { vec3 } from 'gl-matrix';\nimport type { DisplayObjectConfig } from '../dom';\nimport { Point } from '../shapes';\nimport { Rectangle } from '../shapes/Rectangle';\nimport type { BaseStyleProps, ParsedBaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport { getOrCalculatePathTotalLength } from '../utils';\nimport { DisplayObject, isDisplayObject } from './DisplayObject';\nimport { EMPTY_PARSED_PATH } from './constants';\n\nexport interface PathStyleProps extends BaseStyleProps {\n  d?: string | PathArray;\n  /**\n   * marker will be positioned at the first point\n   */\n  markerStart?: DisplayObject | null;\n\n  /**\n   * marker will be positioned at the last point\n   */\n  markerEnd?: DisplayObject | null;\n\n  markerMid?: DisplayObject | null;\n\n  /**\n   * offset relative to original position\n   */\n  markerStartOffset?: number;\n\n  /**\n   * offset relative to original position\n   */\n  markerEndOffset?: number;\n\n  /**\n   * Whether the circle is billboard.\n   */\n  isBillboard?: boolean;\n  /**\n   * Whether the circle is size attenuation.\n   */\n  isSizeAttenuation?: boolean;\n}\n\nexport interface PathSegmentBBox {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\nexport interface PathSegment {\n  command: 'M' | 'L' | 'V' | 'H' | 'C' | 'S' | 'Q' | 'T' | 'A' | 'Z';\n  currentPoint: [number, number];\n  prePoint: [number, number];\n  nextPoint: [number, number];\n  startTangent: [number, number];\n  endTangent: [number, number];\n  params: AbsoluteSegment;\n  arcParams: PathArcParams;\n  /**\n   * Used for hit test.\n   */\n  box: PathSegmentBBox;\n  /**\n   * Convert A to C.\n   */\n  cubicParams: [number, number, number, number, number, number];\n}\n\nexport interface PathArcParams {\n  cx: number;\n  cy: number;\n  //  0 \n  rx: number;\n  ry: number;\n  startAngle: number;\n  endAngle: number;\n  xRotation: number;\n  arcFlag: number;\n  sweepFlag: number;\n}\nexport interface ParsedPathStyleProps extends ParsedBaseStyleProps {\n  d: {\n    absolutePath: AbsoluteArray;\n    hasArc: boolean;\n    segments: PathSegment[];\n    polygons: [number, number][][];\n    polylines: [number, number][][];\n    curve: CurveArray;\n    totalLength: number;\n    rect: Rectangle;\n  };\n  markerStart?: DisplayObject | null;\n  markerMid?: DisplayObject | null;\n  markerEnd?: DisplayObject | null;\n  markerStartOffset?: number;\n  markerEndOffset?: number;\n  isBillboard?: boolean;\n  isSizeAttenuation?: boolean;\n}\nexport class Path extends DisplayObject<PathStyleProps, ParsedPathStyleProps> {\n  static PARSED_STYLE_LIST: Set<string> = new Set([\n    ...DisplayObject.PARSED_STYLE_LIST,\n    'd',\n    'markerStart',\n    'markerMid',\n    'markerEnd',\n    'markerStartOffset',\n    'markerEndOffset',\n    'isBillboard',\n    'isSizeAttenuation',\n  ]);\n\n  private markerStartAngle = 0;\n  private markerEndAngle = 0;\n\n  /**\n   * markers placed at the mid\n   */\n  private markerMidList: DisplayObject[] = [];\n\n  constructor({ style, ...rest }: DisplayObjectConfig<PathStyleProps> = {}) {\n    super({\n      type: Shape.PATH,\n      style,\n      initialParsedStyle: {\n        miterLimit: 4,\n        d: {\n          ...EMPTY_PARSED_PATH,\n        },\n      },\n      ...rest,\n    });\n\n    const { markerStart, markerEnd, markerMid } = this.parsedStyle;\n\n    if (markerStart && isDisplayObject(markerStart)) {\n      this.markerStartAngle = markerStart.getLocalEulerAngles();\n      this.appendChild(markerStart);\n    }\n\n    if (markerMid && isDisplayObject(markerMid)) {\n      this.placeMarkerMid(markerMid);\n    }\n\n    if (markerEnd && isDisplayObject(markerEnd)) {\n      this.markerEndAngle = markerEnd.getLocalEulerAngles();\n      this.appendChild(markerEnd);\n    }\n\n    this.transformMarker(true);\n    this.transformMarker(false);\n  }\n\n  attributeChangedCallback<Key extends keyof PathStyleProps>(\n    attrName: Key,\n    oldValue: PathStyleProps[Key],\n    newValue: PathStyleProps[Key],\n    prevParsedValue: ParsedPathStyleProps[Key],\n    newParsedValue: ParsedPathStyleProps[Key],\n  ) {\n    if (attrName === 'd') {\n      // recalc markers\n      this.transformMarker(true);\n      this.transformMarker(false);\n      this.placeMarkerMid(this.parsedStyle.markerMid);\n    } else if (\n      attrName === 'markerStartOffset' ||\n      attrName === 'markerEndOffset'\n    ) {\n      this.transformMarker(true);\n      this.transformMarker(false);\n    } else if (attrName === 'markerStart') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerStartAngle = 0;\n        prevParsedValue.remove();\n      }\n\n      // CSSKeyword 'unset'\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerStartAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(true);\n      }\n    } else if (attrName === 'markerEnd') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerEndAngle = 0;\n        prevParsedValue.remove();\n      }\n\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerEndAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(false);\n      }\n    } else if (attrName === 'markerMid') {\n      this.placeMarkerMid(newParsedValue as DisplayObject);\n    }\n  }\n\n  private transformMarker(isStart: boolean) {\n    const { markerStart, markerEnd, markerStartOffset, markerEndOffset } =\n      this.parsedStyle;\n    const marker = isStart ? markerStart : markerEnd;\n\n    if (!marker || !isDisplayObject(marker)) {\n      return;\n    }\n\n    let rad = 0;\n    let x: number;\n    let y: number;\n    let ox: number;\n    let oy: number;\n    let offset: number;\n    let originalAngle: number;\n\n    if (isStart) {\n      const [p1, p2] = this.getStartTangent();\n      ox = p2[0];\n      oy = p2[1];\n      x = p1[0] - p2[0];\n      y = p1[1] - p2[1];\n      offset = markerStartOffset || 0;\n      originalAngle = this.markerStartAngle;\n    } else {\n      const [p1, p2] = this.getEndTangent();\n      ox = p2[0];\n      oy = p2[1];\n      x = p1[0] - p2[0];\n      y = p1[1] - p2[1];\n      offset = markerEndOffset || 0;\n      originalAngle = this.markerEndAngle;\n    }\n    rad = Math.atan2(y, x);\n\n    // account for markerOffset\n    marker.setLocalEulerAngles((rad * 180) / Math.PI + originalAngle);\n    marker.setLocalPosition(\n      ox + Math.cos(rad) * offset,\n      oy + Math.sin(rad) * offset,\n    );\n  }\n\n  private placeMarkerMid(marker: DisplayObject) {\n    const {\n      d: { segments },\n    } = this.parsedStyle;\n    // clear all existed markers\n    this.markerMidList.forEach((marker) => {\n      marker.remove();\n    });\n    if (marker && isDisplayObject(marker)) {\n      for (let i = 1; i < segments.length - 1; i++) {\n        const [ox, oy] = segments[i].currentPoint;\n        const cloned = i === 1 ? marker : marker.cloneNode(true);\n        this.markerMidList.push(cloned);\n        this.appendChild(cloned);\n        cloned.setLocalPosition(ox, oy);\n        // TODO: orient of marker\n      }\n    }\n  }\n\n  /**\n   * Returns the total length of the path.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/SVGGeometryElement/getTotalLength\n   */\n  getTotalLength() {\n    return getOrCalculatePathTotalLength(this);\n  }\n\n  /**\n   * Returns the point at a given distance along the path.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/SVGGeometryElement/getPointAtLength\n   */\n  getPointAtLength(distance: number, inWorldSpace = false): Point {\n    const {\n      d: { absolutePath },\n    } = this.parsedStyle;\n    const { x, y } = getPointAtLength(absolutePath, distance);\n\n    const transformed = vec3.transformMat4(\n      vec3.create(),\n      vec3.fromValues(x, y, 0),\n      inWorldSpace ? this.getWorldTransform() : this.getLocalTransform(),\n    );\n\n    // apply local transformation\n    return new Point(transformed[0], transformed[1]);\n  }\n\n  /**\n   * Returns the point at a given ratio of the total length in path.\n   */\n  getPoint(ratio: number, inWorldSpace = false): Point {\n    return this.getPointAtLength(\n      ratio * getOrCalculatePathTotalLength(this),\n      inWorldSpace,\n    );\n  }\n\n  /**\n   * Get start tangent vector\n   */\n  getStartTangent(): number[][] {\n    const { segments } = this.parsedStyle.d;\n    let result: number[][] = [];\n    if (segments.length > 1) {\n      const startPoint = segments[0].currentPoint;\n      const endPoint = segments[1].currentPoint;\n      const tangent = segments[1].startTangent;\n      result = [];\n      if (tangent) {\n        result.push([startPoint[0] - tangent[0], startPoint[1] - tangent[1]]);\n        result.push([startPoint[0], startPoint[1]]);\n      } else {\n        result.push([endPoint[0], endPoint[1]]);\n        result.push([startPoint[0], startPoint[1]]);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Get end tangent vector\n   */\n  getEndTangent(): number[][] {\n    const { segments } = this.parsedStyle.d;\n    const { length } = segments;\n    let result: number[][] = [];\n    if (length > 1) {\n      const startPoint = segments[length - 2].currentPoint;\n      const endPoint = segments[length - 1].currentPoint;\n      const tangent = segments[length - 1].endTangent;\n      result = [];\n      if (tangent) {\n        result.push([endPoint[0] - tangent[0], endPoint[1] - tangent[1]]);\n        result.push([endPoint[0], endPoint[1]]);\n      } else {\n        result.push([startPoint[0], startPoint[1]]);\n        result.push([endPoint[0], endPoint[1]]);\n      }\n    }\n    return result;\n  }\n}\n", "import type { DisplayObjectConfig } from '../dom';\nimport type { BaseStyleProps, ParsedBaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport { DisplayObject, isDisplayObject } from './DisplayObject';\n\nexport interface PolygonStyleProps extends BaseStyleProps {\n  points: ([number, number] | [number, number, number])[];\n  /**\n   * marker will be positioned at the first point\n   */\n  markerStart?: DisplayObject | null;\n\n  /**\n   * marker will be positioned at the last point\n   */\n  markerEnd?: DisplayObject | null;\n\n  markerMid?: DisplayObject | null;\n\n  /**\n   * offset relative to original position\n   */\n  markerStartOffset?: number;\n\n  /**\n   * offset relative to original position\n   */\n  markerEndOffset?: number;\n  isClosed?: boolean;\n  isBillboard?: boolean;\n  isSizeAttenuation?: boolean;\n}\nexport interface ParsedPolygonStyleProps extends ParsedBaseStyleProps {\n  points: {\n    points: ([number, number] | [number, number, number])[];\n    segments: [number, number][];\n    totalLength: number;\n  };\n  markerStart?: DisplayObject | null;\n  markerMid?: DisplayObject | null;\n  markerEnd?: DisplayObject | null;\n  markerStartOffset?: number;\n  markerEndOffset?: number;\n  isClosed?: boolean;\n  isBillboard?: boolean;\n  isSizeAttenuation?: boolean;\n}\n\nexport class Polygon extends DisplayObject<\n  PolygonStyleProps,\n  ParsedPolygonStyleProps\n> {\n  static PARSED_STYLE_LIST: Set<string> = new Set([\n    ...DisplayObject.PARSED_STYLE_LIST,\n    'points',\n    'markerStart',\n    'markerMid',\n    'markerEnd',\n    'markerStartOffset',\n    'markerEndOffset',\n    'isClosed',\n    'isBillboard',\n    'isSizeAttenuation',\n  ]);\n\n  private markerStartAngle = 0;\n  private markerEndAngle = 0;\n\n  /**\n   * markers placed at the mid\n   */\n  private markerMidList: DisplayObject[] = [];\n\n  constructor({ style, ...rest }: DisplayObjectConfig<PolygonStyleProps> = {}) {\n    super({\n      type: Shape.POLYGON,\n      style,\n      initialParsedStyle: {\n        points: {\n          points: [],\n          totalLength: 0,\n          segments: [],\n        },\n        miterLimit: 4,\n        isClosed: true,\n      },\n      ...rest,\n    });\n\n    const { markerStart, markerEnd, markerMid } = this.parsedStyle;\n\n    if (markerStart && isDisplayObject(markerStart)) {\n      this.markerStartAngle = markerStart.getLocalEulerAngles();\n      this.appendChild(markerStart);\n    }\n\n    if (markerMid && isDisplayObject(markerMid)) {\n      this.placeMarkerMid(markerMid);\n    }\n\n    if (markerEnd && isDisplayObject(markerEnd)) {\n      this.markerEndAngle = markerEnd.getLocalEulerAngles();\n      this.appendChild(markerEnd);\n    }\n\n    this.transformMarker(true);\n    this.transformMarker(false);\n  }\n\n  attributeChangedCallback<Key extends keyof PolygonStyleProps>(\n    attrName: Key,\n    oldValue: PolygonStyleProps[Key],\n    newValue: PolygonStyleProps[Key],\n    prevParsedValue: ParsedPolygonStyleProps[Key],\n    newParsedValue: ParsedPolygonStyleProps[Key],\n  ) {\n    if (attrName === 'points') {\n      // recalc markers\n      this.transformMarker(true);\n      this.transformMarker(false);\n      this.placeMarkerMid(this.parsedStyle.markerMid);\n    } else if (\n      attrName === 'markerStartOffset' ||\n      attrName === 'markerEndOffset'\n    ) {\n      this.transformMarker(true);\n      this.transformMarker(false);\n    } else if (attrName === 'markerStart') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerStartAngle = 0;\n        prevParsedValue.remove();\n      }\n\n      // CSSKeyword 'unset'\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerStartAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(true);\n      }\n    } else if (attrName === 'markerEnd') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerEndAngle = 0;\n        prevParsedValue.remove();\n      }\n\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerEndAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(false);\n      }\n    } else if (attrName === 'markerMid') {\n      this.placeMarkerMid(newParsedValue as DisplayObject);\n    }\n  }\n\n  private transformMarker(isStart: boolean) {\n    const {\n      markerStart,\n      markerEnd,\n      markerStartOffset,\n      markerEndOffset,\n      points: P,\n    } = this.parsedStyle;\n    const { points } = P || {};\n    const marker = isStart ? markerStart : markerEnd;\n\n    if (!marker || !isDisplayObject(marker) || !points) {\n      return;\n    }\n\n    let rad = 0;\n    let x: number;\n    let y: number;\n    let ox: number;\n    let oy: number;\n    let offset: number;\n    let originalAngle: number;\n\n    ox = points[0][0];\n    oy = points[0][1];\n\n    if (isStart) {\n      x = points[1][0] - points[0][0];\n      y = points[1][1] - points[0][1];\n      offset = markerStartOffset || 0;\n      originalAngle = this.markerStartAngle;\n    } else {\n      const { length } = points;\n\n      if (!this.parsedStyle.isClosed) {\n        ox = points[length - 1][0];\n        oy = points[length - 1][1];\n        x = points[length - 2][0] - points[length - 1][0];\n        y = points[length - 2][1] - points[length - 1][1];\n      } else {\n        x = points[length - 1][0] - points[0][0];\n        y = points[length - 1][1] - points[0][1];\n      }\n      offset = markerEndOffset || 0;\n      originalAngle = this.markerEndAngle;\n    }\n    rad = Math.atan2(y, x);\n\n    // account for markerOffset\n    marker.setLocalEulerAngles((rad * 180) / Math.PI + originalAngle);\n    marker.setLocalPosition(\n      ox + Math.cos(rad) * offset,\n      oy + Math.sin(rad) * offset,\n    );\n  }\n\n  private placeMarkerMid(marker: DisplayObject) {\n    const { points: P } = this.parsedStyle;\n    const { points } = P || {};\n\n    // clear all existed markers\n    this.markerMidList.forEach((marker) => {\n      marker.remove();\n    });\n    this.markerMidList = [];\n\n    if (marker && isDisplayObject(marker) && points) {\n      for (\n        let i = 1;\n        i < (this.parsedStyle.isClosed ? points.length : points.length - 1);\n        i++\n      ) {\n        const ox = points[i][0];\n        const oy = points[i][1];\n\n        const cloned = i === 1 ? marker : marker.cloneNode(true);\n        this.markerMidList.push(cloned);\n\n        this.appendChild(cloned);\n        cloned.setLocalPosition(ox, oy);\n\n        // TODO: orient of marker\n      }\n    }\n  }\n}\n", "import { lineLength, linePointAt } from '@antv/g-math';\nimport { vec3 } from 'gl-matrix';\nimport type { DisplayObjectConfig } from '../dom';\nimport { Point } from '../shapes';\nimport type { BaseStyleProps, ParsedBaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport type { DisplayObject } from './DisplayObject';\nimport { Polygon } from './Polygon';\nimport { getOrCalculatePolylineTotalLength } from '../utils';\n\nexport interface PolylineStyleProps extends BaseStyleProps {\n  points: ([number, number] | [number, number, number])[];\n  /**\n   * marker will be positioned at the first point\n   */\n  markerStart?: DisplayObject | null;\n\n  /**\n   * marker will be positioned at the last point\n   */\n  markerEnd?: DisplayObject | null;\n\n  markerMid?: DisplayObject | null;\n\n  /**\n   * offset relative to original position\n   */\n  markerStartOffset?: number;\n\n  /**\n   * offset relative to original position\n   */\n  markerEndOffset?: number;\n  /**\n   * Whether the circle is billboard.\n   */\n  isBillboard?: boolean;\n  /**\n   * Whether the circle is size attenuation.\n   */\n  isSizeAttenuation?: boolean;\n}\nexport interface ParsedPolylineStyleProps extends ParsedBaseStyleProps {\n  points: {\n    points: ([number, number] | [number, number, number])[];\n    segments: [number, number][];\n    totalLength: number;\n  };\n  markerStart?: DisplayObject | null;\n  markerMid?: DisplayObject | null;\n  markerEnd?: DisplayObject | null;\n  markerStartOffset?: number;\n  markerEndOffset?: number;\n  isBillboard?: boolean;\n}\n\n/**\n * Polyline inherits the marker-related capabilities of Polygon.\n */\nexport class Polyline extends Polygon {\n  static PARSED_STYLE_LIST = new Set([\n    ...Polygon.PARSED_STYLE_LIST,\n    'points',\n    'markerStart',\n    'markerMid',\n    'markerEnd',\n    'markerStartOffset',\n    'markerEndOffset',\n    'isBillboard',\n  ]);\n\n  constructor({\n    style,\n    ...rest\n  }: DisplayObjectConfig<PolylineStyleProps> = {}) {\n    super({\n      type: Shape.POLYLINE,\n      style,\n      initialParsedStyle: {\n        points: {\n          points: [],\n          totalLength: 0,\n          segments: [],\n        },\n        miterLimit: 4,\n        isClosed: false,\n      },\n      ...rest,\n    });\n  }\n\n  getTotalLength() {\n    return getOrCalculatePolylineTotalLength(this);\n  }\n\n  getPointAtLength(distance: number, inWorldSpace = false): Point {\n    return this.getPoint(distance / this.getTotalLength(), inWorldSpace);\n  }\n\n  getPoint(ratio: number, inWorldSpace = false): Point {\n    const {\n      points: { points },\n    } = this.parsedStyle;\n\n    if (this.parsedStyle.points.segments.length === 0) {\n      const segments: [number, number][] = [];\n      let tempLength = 0;\n      let segmentT: [number, number];\n      let segmentL: number;\n\n      const totalLength = this.getTotalLength();\n\n      points.forEach((p, i) => {\n        if (points[i + 1]) {\n          segmentT = [0, 0];\n          segmentT[0] = tempLength / totalLength;\n          segmentL = lineLength(p[0], p[1], points[i + 1][0], points[i + 1][1]);\n          tempLength += segmentL;\n          segmentT[1] = tempLength / totalLength;\n          segments.push(segmentT);\n        }\n      });\n\n      this.parsedStyle.points.segments = segments;\n    }\n\n    let subt = 0;\n    let index = 0;\n    this.parsedStyle.points.segments.forEach((v, i) => {\n      if (ratio >= v[0] && ratio <= v[1]) {\n        subt = (ratio - v[0]) / (v[1] - v[0]);\n        index = i;\n      }\n    });\n\n    const { x, y } = linePointAt(\n      points[index][0],\n      points[index][1],\n      points[index + 1][0],\n      points[index + 1][1],\n      subt,\n    );\n\n    const transformed = vec3.transformMat4(\n      vec3.create(),\n      vec3.fromValues(x, y, 0),\n      inWorldSpace ? this.getWorldTransform() : this.getLocalTransform(),\n    );\n\n    // apply local transformation\n    return new Point(transformed[0], transformed[1]);\n  }\n\n  getStartTangent(): number[][] {\n    const { points } = this.parsedStyle.points;\n    const result = [];\n    result.push([points[1][0], points[1][1]]);\n    result.push([points[0][0], points[0][1]]);\n    return result;\n  }\n\n  getEndTangent(): number[][] {\n    const { points } = this.parsedStyle.points;\n    const l = points.length - 1;\n    const result = [];\n    result.push([points[l - 1][0], points[l - 1][1]]);\n    result.push([points[l][0], points[l][1]]);\n    return result;\n  }\n}\n", "import type { DisplayObjectConfig } from '../dom';\nimport type { BaseStyleProps, ParsedBaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport { DisplayObject } from './DisplayObject';\n\nexport interface RectStyleProps extends BaseStyleProps {\n  x?: number | string;\n  y?: number | string;\n  z?: number;\n  width: number | string;\n  height: number | string;\n  isBillboard?: boolean;\n  isSizeAttenuation?: boolean;\n  /**\n   * top-left, top-right, bottom-right, bottom-left\n   */\n  radius?: number | string | number[];\n}\n\nexport interface ParsedRectStyleProps extends ParsedBaseStyleProps {\n  x?: number;\n  y?: number;\n  z?: number;\n  width: number;\n  height: number;\n  isBillboard?: boolean;\n  isSizeAttenuation?: boolean;\n  radius?: [number, number, number, number];\n}\n\nexport class Rect extends DisplayObject<RectStyleProps, ParsedRectStyleProps> {\n  static PARSED_STYLE_LIST: Set<string> = new Set([\n    ...DisplayObject.PARSED_STYLE_LIST,\n    'x',\n    'y',\n    'z',\n    'width',\n    'height',\n    'isBillboard',\n    'isSizeAttenuation',\n    'radius',\n  ]);\n\n  constructor(options: DisplayObjectConfig<RectStyleProps> = {}) {\n    super({\n      type: Shape.RECT,\n      ...options,\n    });\n  }\n}\n", "import { CSSGlobalKeywords, CSSRGB } from '../css';\nimport type { DisplayObjectConfig } from '../dom/interfaces';\nimport type { TextMetrics } from '../services';\nimport type {\n  BaseStyleProps,\n  ParsedBaseStyleProps,\n  TextDecorationStyle,\n  TextOverflow,\n  TextDecorationLine,\n} from '../types';\nimport { Shape } from '../types';\nimport { DisplayObject } from './DisplayObject';\nimport type { Path } from './Path';\n\nexport interface TextStyleProps extends BaseStyleProps {\n  x?: number | string;\n  y?: number | string;\n  z?: number | string;\n\n  /**\n   * Always face the camera.\n   */\n  isBillboard?: boolean;\n\n  /**\n   * The rotation of the billboard in radians.\n   */\n  billboardRotation?: number;\n\n  /**\n   * Whether the size of the sprite is attenuated by the camera depth. (Perspective camera only.)\n   */\n  isSizeAttenuation?: boolean;\n\n  text: number | string;\n\n  /**\n   * The text-align property sets the horizontal alignment of the inline-level content.\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/text-align\n   */\n  textAlign?:\n    | CSSGlobalKeywords\n    | 'start'\n    | 'center'\n    | 'middle'\n    | 'end'\n    | 'left'\n    | 'right';\n\n  /**\n   * It specifies the current text baseline used when drawing text.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/textBaseline\n   */\n  textBaseline?:\n    | CSSGlobalKeywords\n    | 'top'\n    | 'hanging'\n    | 'middle'\n    | 'alphabetic'\n    | 'ideographic'\n    | 'bottom';\n\n  /**\n   * The text-overflow property sets how hidden overflow content is signaled to users.\n   * It can be clipped, display an ellipsis (''), or display a custom string.\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/text-overflow#values\n   */\n  textOverflow?: TextOverflow;\n\n  /**\n   * Borrow from CanvasKit ParagraphStyle.\n   */\n  maxLines?: number;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Element/textPath\n   */\n  textPath?: Path;\n\n  /**\n   * The side attribute determines the side of a path the text is placed on (relative to the path direction).\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/side\n   */\n  textPathSide?: 'left' | 'right';\n\n  /**\n   * The startOffset attribute defines an offset from the start of the path for the initial current text position along the path after converting the path to the \\<textPath\\> element's coordinate system.\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/startOffset\n   */\n  textPathStartOffset?: number | string;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/text-decoration-line\n   */\n  textDecorationLine?: TextDecorationLine;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/text-decoration-color\n   */\n  textDecorationColor?: string;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/text-decoration-style\n   */\n  textDecorationStyle?: TextDecorationStyle;\n\n  /**\n   * The font-style property sets whether a font should be styled with a normal, italic, or oblique face from its font-family.\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/font-style\n   */\n  fontStyle?: CSSGlobalKeywords | 'normal' | 'italic' | 'oblique';\n\n  /**\n   * The font-size property sets the size of the font.\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/font-size\n   */\n  fontSize?: number | string;\n\n  /**\n   * The font-family property specifies a prioritized list of one or more font family names and/or generic family names for the selected element.\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/font-family\n   */\n  fontFamily?: string;\n\n  /**\n   * The font-weight property sets the weight (or boldness) of the font. The weights available depend on the font-family that is currently set.\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight\n   */\n  fontWeight?:\n    | CSSGlobalKeywords\n    | 'normal'\n    | 'bold'\n    | 'bolder'\n    | 'lighter'\n    | number;\n\n  /**\n   * The font-variant shorthand property allows you to set all the font variants for a font.\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant\n   */\n  fontVariant?: CSSGlobalKeywords | 'normal' | 'small-caps' | string;\n\n  /**\n   * The line-height property sets the height of a line box.\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height\n   */\n  lineHeight?: number | string;\n\n  /**\n   * It specifies the spacing between letters when drawing text.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/letterSpacing\n   */\n  letterSpacing?: number | string;\n\n  /**\n   * The white-space property sets how white space inside an element is handled.\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/white-space\n   */\n  // whiteSpace?: 'pre';\n\n  /**\n   * There is no \"CSS leading\" property\n   * @see https://css-tricks.com/how-to-tame-line-height-in-css/\n   */\n  leading?: number;\n\n  /**\n   * The overflow-wrap CSS property applies to inline elements,\n   * setting whether the browser should insert line breaks within an otherwise unbreakable string to prevent text from overflowing its line box.\n   *\n   * The overflow-wrap property acts in the same way as the non-standard property word-wrap.\n   * The word-wrap property is now treated by browsers as an alias of the standard property.\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/overflow-wrap\n   */\n  wordWrap?: boolean;\n\n  /**\n   * Max width of overflowing box.\n   */\n  wordWrapWidth?: number;\n  // dropShadow?: boolean;\n  // dropShadowDistance?: number;\n\n  /**\n   * The dx attribute indicates a shift along the x-axis on the position of an element or its content.\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/dx\n   */\n  dx?: number | string;\n\n  /**\n   * The dy attribute indicates a shift along the y-axis on the position of an element or its content.\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/dy\n   */\n  dy?: number | string;\n}\nexport interface ParsedTextStyleProps extends ParsedBaseStyleProps {\n  x: number;\n  y: number;\n  z?: number;\n  isBillboard?: boolean;\n  billboardRotation?: number;\n  isSizeAttenuation?: boolean;\n  text: string;\n  textAlign?: 'start' | 'center' | 'middle' | 'end' | 'left' | 'right';\n  textBaseline?:\n    | 'top'\n    | 'hanging'\n    | 'middle'\n    | 'alphabetic'\n    | 'ideographic'\n    | 'bottom';\n  fontStyle?: 'normal' | 'italic' | 'oblique';\n  fontSize?: number;\n  fontFamily?: string;\n  fontWeight?: 'normal' | 'bold' | 'bolder' | 'lighter' | number;\n  fontVariant?: 'normal' | 'small-caps' | string;\n  lineHeight?: number;\n  letterSpacing?: number;\n  leading?: number;\n  wordWrap?: boolean;\n  wordWrapWidth?: number;\n  maxLines?: number;\n  textOverflow?: TextOverflow;\n  isOverflowing?: boolean;\n  textPath?: Path;\n  textDecorationLine?: TextDecorationLine;\n  textDecorationColor?: CSSRGB;\n  textDecorationStyle?: TextDecorationStyle | string;\n  textPathSide?: 'left' | 'right';\n  textPathStartOffset?: number;\n  metrics?: TextMetrics;\n  dx?: number;\n  dy?: number;\n}\n\n/**\n * <text> @see https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement\n */\nexport class Text extends DisplayObject<TextStyleProps, ParsedTextStyleProps> {\n  static PARSED_STYLE_LIST: Set<string> = new Set([\n    ...DisplayObject.PARSED_STYLE_LIST,\n    'x',\n    'y',\n    'z',\n    'isBillboard',\n    'billboardRotation',\n    'isSizeAttenuation',\n    'text',\n    'textAlign',\n    'textBaseline',\n    'fontStyle',\n    'fontSize',\n    'fontFamily',\n    'fontWeight',\n    'fontVariant',\n    'lineHeight',\n    'letterSpacing',\n    'leading',\n    'wordWrap',\n    'wordWrapWidth',\n    'maxLines',\n    'textOverflow',\n    'isOverflowing',\n    'textPath',\n    'textDecorationLine',\n    'textDecorationColor',\n    'textDecorationStyle',\n    'textPathSide',\n    'textPathStartOffset',\n    'metrics',\n    'dx',\n    'dy',\n  ]);\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/SVGTextContentElement#constants\n   */\n  // LENGTHADJUST_SPACING: number = 1;\n  // LENGTHADJUST_SPACINGANDGLYPHS: number = 2;\n  // LENGTHADJUST_UNKNOWN: number = 0;\n\n  constructor({ style, ...rest }: DisplayObjectConfig<TextStyleProps> = {}) {\n    super({\n      type: Shape.TEXT,\n      style: {\n        fill: 'black',\n        ...style,\n      },\n      ...rest,\n    });\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/SVGTextContentElement\n   */\n  getComputedTextLength(): number {\n    this.getGeometryBounds();\n    return this.parsedStyle.metrics?.maxLineWidth || 0;\n  }\n\n  getLineBoundingRects() {\n    this.getGeometryBounds();\n    return this.parsedStyle.metrics?.lineMetrics || [];\n  }\n\n  isOverflowing() {\n    this.getGeometryBounds();\n    return !!this.parsedStyle.isOverflowing;\n  }\n}\n", "import type { DisplayObject } from '../display-objects';\nimport {\n  Circle,\n  Ellipse,\n  Group,\n  HTML,\n  Image,\n  Line,\n  Path,\n  Polygon,\n  Polyline,\n  Rect,\n  Text,\n} from '../display-objects';\nimport { Shape } from '../types';\n\n/**\n * canvas.customElements\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry\n */\nexport class CustomElementRegistry {\n  private registry: Record<string, new (...args: any[]) => DisplayObject> = {};\n\n  constructor() {\n    this.define(Shape.CIRCLE, Circle);\n    this.define(Shape.ELLIPSE, Ellipse);\n    this.define(Shape.RECT, Rect);\n    this.define(Shape.IMAGE, Image);\n    this.define(Shape.LINE, Line);\n    this.define(Shape.GROUP, Group);\n    this.define(Shape.PATH, Path);\n    this.define(Shape.POLYGON, Polygon);\n    this.define(Shape.POLYLINE, Polyline);\n    this.define(Shape.TEXT, Text);\n    this.define(Shape.HTML, HTML);\n  }\n\n  define<T extends DisplayObject>(\n    name: string,\n    constructor: new (...args: any[]) => T,\n  ) {\n    this.registry[name] = constructor;\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry/get\n   */\n  get<T extends DisplayObject>(name: string): new (...args: any[]) => T {\n    return this.registry[name] as new (...args: any[]) => T;\n  }\n}\n", "import { runtime } from '../global-runtime';\nimport { CSSUnitValue } from './cssom';\nimport type { PropertySyntax } from './interfaces';\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CSS/RegisterProperty#parameters\n */\nexport interface PropertyDefinition {\n  name: string;\n  /**\n   * representing the expected syntax of the defined property. Defaults to \"*\".\n   */\n  syntax: PropertySyntax;\n  /**\n   * A boolean value defining whether the defined property should be inherited (true), or not (false). Defaults to false.\n   */\n  inherits?: boolean;\n  interpolable?: boolean;\n  initialValue?: string;\n}\n\n/**\n * holds useful CSS-related methods.\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CSS\n *\n * * CSS Typed OM @see https://developer.mozilla.org/en-US/docs/Web/API/CSS/factory_functions\n * * register property @see https://developer.mozilla.org/en-US/docs/Web/API/CSS/RegisterProperty\n * * CSS Layout API\n */\nexport const CSS = {\n  /**\n   * <number>\n   * @see https://drafts.csswg.org/css-values-4/#number-value\n   */\n  number: (n: number) => {\n    return new CSSUnitValue(n);\n  },\n\n  /**\n   * <percentage>\n   * @see https://drafts.csswg.org/css-values-4/#percentage-value\n   */\n  percent: (n: number) => {\n    return new CSSUnitValue(n, '%');\n  },\n\n  /**\n   * <length>\n   */\n  px: (n: number) => {\n    return new CSSUnitValue(n, 'px');\n  },\n\n  /**\n   * <length>\n   */\n  em: (n: number) => {\n    return new CSSUnitValue(n, 'em');\n  },\n\n  rem: (n: number) => {\n    return new CSSUnitValue(n, 'rem');\n  },\n\n  /**\n   * <angle>\n   */\n  deg: (n: number) => {\n    return new CSSUnitValue(n, 'deg');\n  },\n\n  /**\n   * <angle>\n   */\n  grad: (n: number) => {\n    return new CSSUnitValue(n, 'grad');\n  },\n\n  /**\n   * <angle>\n   */\n  rad: (n: number) => {\n    return new CSSUnitValue(n, 'rad');\n  },\n\n  /**\n   * <angle>\n   */\n  turn: (n: number) => {\n    return new CSSUnitValue(n, 'turn');\n  },\n\n  /**\n   * <time>\n   */\n  s: (n: number) => {\n    return new CSSUnitValue(n, 's');\n  },\n\n  /**\n   * <time>\n   */\n  ms: (n: number) => {\n    return new CSSUnitValue(n, 'ms');\n  },\n\n  /**\n   * CSS Properties & Values API\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CSS_Properties_and_Values_API\n   * @see https://drafts.css-houdini.org/css-properties-values-api/#registering-custom-properties\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CSS/RegisterProperty\n   */\n  registerProperty: (definition: PropertyDefinition) => {\n    const { name, inherits, interpolable, initialValue, syntax } = definition;\n    runtime.styleValueRegistry.registerMetadata({\n      n: name,\n      inh: inherits,\n      int: interpolable,\n      d: initialValue,\n      syntax,\n    });\n  },\n\n  /**\n   * CSS Layout API\n   * register layout\n   *\n   * @see https://github.com/w3c/css-houdini-drafts/blob/main/css-layout-api/EXPLAINER.md\n   * @see https://developer.mozilla.org/en-US/docs/Web/Guide/Houdini#css_layout_api\n   */\n  registerLayout: (name: string, clazz: any) => {\n    runtime.layoutRegistry.registerLayout(name, clazz);\n  },\n};\n", "import { isFunction } from '@antv/util';\nimport { runtime } from '../global-runtime';\nimport { BUILT_IN_PROPERTIES } from '../css';\nimport { Group, Text } from '../display-objects';\nimport type { DisplayObject } from '../display-objects';\nimport type { BaseStyleProps } from '../types';\nimport { Shape } from '../types';\nimport {\n  ERROR_MSG_METHOD_NOT_IMPLEMENTED,\n  ERROR_MSG_USE_DOCUMENT_ELEMENT,\n} from '../utils';\nimport type {\n  DisplayObjectConfig,\n  IAnimationTimeline,\n  ICanvas,\n  IDocument,\n  IElement,\n  INode,\n} from './interfaces';\nimport { Node } from './Node';\n\n/**\n * the entry of DOM tree\n * Document -> Node -> EventTarget\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Document\n */\nexport class Document extends Node implements IDocument {\n  constructor() {\n    super();\n\n    this.nodeName = 'document';\n\n    // create timeline\n    try {\n      this.timeline = new runtime.AnimationTimeline(this);\n    } catch {}\n\n    /**\n     * for inherited properties, the initial value is used on the root element only,\n     * as long as no specified value is supplied.\n     * @see https://developer.mozilla.org/en-US/docs/Web/CSS/initial_value\n     */\n    const initialStyle = {};\n    BUILT_IN_PROPERTIES.forEach(({ n, inh, d }) => {\n      if (inh && d) {\n        initialStyle[n] = isFunction(d) ? d(Shape.GROUP) : d;\n      }\n    });\n\n    // like <html> in DOM tree\n    this.documentElement = new Group({\n      id: 'g-root',\n      style: initialStyle,\n    });\n    this.documentElement.ownerDocument = this;\n    this.documentElement.parentNode = this;\n    this.childNodes = [this.documentElement];\n  }\n\n  get children(): IElement[] {\n    return this.childNodes as IElement[];\n  }\n  get childElementCount(): number {\n    return this.childNodes.length;\n  }\n  get firstElementChild(): IElement | null {\n    return this.firstChild as IElement;\n  }\n  get lastElementChild(): IElement | null {\n    return this.lastChild as IElement;\n  }\n\n  /**\n   * only document has defaultView, points to canvas,\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/defaultView\n   */\n  defaultView: ICanvas | null = null;\n\n  /**\n   * the root element of document, eg. <html>\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/documentElement\n   */\n  readonly documentElement: Group;\n\n  /**\n   * document.timeline in WAAPI\n   */\n  readonly timeline: IAnimationTimeline;\n\n  readonly ownerDocument = null;\n\n  /**\n   * @example const circle = document.createElement('circle', { style: { r: 10 } });\n   */\n  createElement<\n    T extends DisplayObject<StyleProps>,\n    StyleProps extends BaseStyleProps,\n  >(tagName: string, options: DisplayObjectConfig<StyleProps>): T {\n    // @observablehq/plot will create <svg>\n    if (tagName === 'svg') {\n      return this.documentElement as unknown as T;\n    }\n\n    // d3 will use <tspan>\n    let clazz = this.defaultView.customElements.get(tagName);\n\n    if (!clazz) {\n      console.warn('Unsupported tagName: ', tagName);\n      clazz = tagName === 'tspan' ? Text : Group;\n    }\n\n    const shape = new clazz(options) as unknown as T;\n    shape.ownerDocument = this;\n    return shape;\n  }\n\n  createElementNS<\n    T extends DisplayObject<StyleProps>,\n    StyleProps extends BaseStyleProps,\n  >(\n    namespaceURI: string,\n    tagName: string,\n    options: DisplayObjectConfig<StyleProps>,\n  ): T {\n    return this.createElement(tagName, options);\n  }\n\n  cloneNode(deep?: boolean): this {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  destroy(): void {\n    try {\n      this.documentElement.destroyChildren();\n      this.timeline.destroy();\n    } catch {}\n  }\n\n  /**\n   * Picking 2D graphics with RBush based on BBox, fast but inaccurate.\n   */\n  elementsFromBBox(\n    minX: number,\n    minY: number,\n    maxX: number,\n    maxY: number,\n  ): DisplayObject[] {\n    const rBush = this.defaultView.context.rBushRoot;\n    const rBushNodes = rBush.search({ minX, minY, maxX, maxY });\n\n    const hitTestList: DisplayObject[] = [];\n    rBushNodes.forEach(({ displayObject }) => {\n      const { pointerEvents = 'auto' } = displayObject.parsedStyle;\n\n      // account for `visibility`\n      // @see https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events\n      const isVisibilityAffected = [\n        'auto',\n        'visiblepainted',\n        'visiblefill',\n        'visiblestroke',\n        'visible',\n      ].includes(pointerEvents);\n\n      if (\n        (!isVisibilityAffected ||\n          (isVisibilityAffected && displayObject.isVisible())) &&\n        !displayObject.isCulled() &&\n        displayObject.isInteractive()\n      ) {\n        hitTestList.push(displayObject);\n      }\n    });\n    // find group with max z-index\n    hitTestList.sort((a, b) => b.sortable.renderOrder - a.sortable.renderOrder);\n\n    return hitTestList;\n  }\n\n  elementFromPointSync(x: number, y: number): DisplayObject {\n    const { x: viewportX, y: viewportY } = this.defaultView.canvas2Viewport({\n      x,\n      y,\n    });\n    const { width, height } = this.defaultView.getConfig();\n    // outside canvas' viewport\n    if (\n      viewportX < 0 ||\n      viewportY < 0 ||\n      viewportX > width ||\n      viewportY > height\n    ) {\n      return null;\n    }\n\n    const { x: clientX, y: clientY } = this.defaultView.viewport2Client({\n      x: viewportX,\n      y: viewportY,\n    });\n\n    const { picked } = this.defaultView\n      .getRenderingService()\n      .hooks.pickSync.call({\n        topmost: true,\n        position: {\n          x,\n          y,\n          viewportX,\n          viewportY,\n          clientX,\n          clientY,\n        },\n        picked: [],\n      });\n    return (picked && picked[0]) || this.documentElement;\n  }\n\n  /**\n   * Do picking with API instead of triggering interactive events.\n   *\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/elementFromPoint\n   */\n  async elementFromPoint(x: number, y: number): Promise<DisplayObject> {\n    const { x: viewportX, y: viewportY } = this.defaultView.canvas2Viewport({\n      x,\n      y,\n    });\n    const { width, height } = this.defaultView.getConfig();\n    // outside canvas' viewport\n    if (\n      viewportX < 0 ||\n      viewportY < 0 ||\n      viewportX > width ||\n      viewportY > height\n    ) {\n      return null;\n    }\n\n    const { x: clientX, y: clientY } = this.defaultView.viewport2Client({\n      x: viewportX,\n      y: viewportY,\n    });\n\n    const { picked } = await this.defaultView\n      .getRenderingService()\n      .hooks.pick.promise({\n        topmost: true,\n        position: {\n          x,\n          y,\n          viewportX,\n          viewportY,\n          clientX,\n          clientY,\n        },\n        picked: [],\n      });\n    return (picked && picked[0]) || this.documentElement;\n  }\n\n  elementsFromPointSync(x: number, y: number): DisplayObject[] {\n    const { x: viewportX, y: viewportY } = this.defaultView.canvas2Viewport({\n      x,\n      y,\n    });\n    const { width, height } = this.defaultView.getConfig();\n    // outside canvas' viewport\n    if (\n      viewportX < 0 ||\n      viewportY < 0 ||\n      viewportX > width ||\n      viewportY > height\n    ) {\n      return [];\n    }\n\n    const { x: clientX, y: clientY } = this.defaultView.viewport2Client({\n      x: viewportX,\n      y: viewportY,\n    });\n\n    const { picked } = this.defaultView\n      .getRenderingService()\n      .hooks.pickSync.call({\n        topmost: false,\n        position: {\n          x,\n          y,\n          viewportX,\n          viewportY,\n          clientX,\n          clientY,\n        },\n        picked: [],\n      });\n\n    if (picked[picked.length - 1] !== this.documentElement) {\n      picked.push(this.documentElement);\n    }\n    return picked;\n  }\n\n  /**\n   * Do picking with API instead of triggering interactive events.\n   *\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/elementsFromPoint\n   */\n  async elementsFromPoint(x: number, y: number): Promise<DisplayObject[]> {\n    const { x: viewportX, y: viewportY } = this.defaultView.canvas2Viewport({\n      x,\n      y,\n    });\n    const { width, height } = this.defaultView.getConfig();\n    // outside canvas' viewport\n    if (\n      viewportX < 0 ||\n      viewportY < 0 ||\n      viewportX > width ||\n      viewportY > height\n    ) {\n      return [];\n    }\n\n    const { x: clientX, y: clientY } = this.defaultView.viewport2Client({\n      x: viewportX,\n      y: viewportY,\n    });\n\n    const { picked } = await this.defaultView\n      .getRenderingService()\n      .hooks.pick.promise({\n        topmost: false,\n        position: {\n          x,\n          y,\n          viewportX,\n          viewportY,\n          clientX,\n          clientY,\n        },\n        picked: [],\n      });\n\n    if (picked[picked.length - 1] !== this.documentElement) {\n      picked.push(this.documentElement);\n    }\n    return picked;\n  }\n\n  /**\n   * eg. Uncaught DOMException: Failed to execute 'appendChild' on 'Node': Only one element on document allowed.\n   */\n\n  appendChild<T extends INode>(newChild: T, index?: number): T {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  }\n\n  insertBefore<T extends INode>(newChild: T, refChild: INode | null): T {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  }\n\n  removeChild<T extends INode>(oldChild: T, destroy?: boolean): T {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  }\n\n  replaceChild<T extends INode>(\n    newChild: INode,\n    oldChild: T,\n    destroy?: boolean,\n  ): T {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  }\n\n  append(...nodes: INode[]): void {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  }\n\n  prepend(...nodes: INode[]): void {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  }\n\n  /**\n   * Execute query on documentElement.\n   */\n  getElementById<E extends IElement = IElement>(id: string): E | null {\n    return this.documentElement.getElementById(id);\n  }\n  getElementsByName<E extends IElement = IElement>(name: string): E[] {\n    return this.documentElement.getElementsByName(name);\n  }\n  getElementsByTagName<E extends IElement = IElement>(tagName: string): E[] {\n    return this.documentElement.getElementsByTagName(tagName);\n  }\n  getElementsByClassName<E extends IElement = IElement>(\n    className: string,\n  ): E[] {\n    return this.documentElement.getElementsByClassName(className);\n  }\n  querySelector<E extends IElement = IElement>(selectors: string): E | null {\n    return this.documentElement.querySelector(selectors);\n  }\n  querySelectorAll<E extends IElement = IElement>(selectors: string): E[] {\n    return this.documentElement.querySelectorAll(selectors);\n  }\n  find<E extends IElement = IElement>(filter: (node: E) => boolean): E | null {\n    return this.documentElement.find(filter);\n  }\n  findAll<E extends IElement = IElement>(filter: (node: E) => boolean): E[] {\n    return this.documentElement.findAll(filter);\n  }\n}\n", "import type { ICamera } from '../camera';\nimport type { DisplayObject } from '../display-objects/DisplayObject';\nimport { CustomEvent, ElementEvent } from '../dom';\nimport type {\n  RenderingPlugin,\n  RenderingPluginContext,\n} from '../services/RenderingService';\n\nexport interface CullingStrategyContribution {\n  isVisible: (camera: ICamera, object: DisplayObject) => boolean;\n}\n\n/**\n * apply following rules:\n * 1. `visibility` in scenegraph node\n * 2. other custom culling strategies, eg. frustum culling\n */\nexport class CullingPlugin implements RenderingPlugin {\n  static tag = 'Culling';\n\n  constructor(private strategies: CullingStrategyContribution[]) {}\n\n  apply(context: RenderingPluginContext) {\n    const { camera, renderingService, renderingContext } = context;\n    const { strategies } = this;\n\n    renderingService.hooks.cull.tap(\n      CullingPlugin.tag,\n      (object: DisplayObject | null) => {\n        if (object) {\n          const { cullable } = object;\n          // cullable.visible = true;\n          // const renderBounds = object.getRenderBounds();\n          // if (AABB.isEmpty(renderBounds)) {\n          //   cullable.visible = false;\n          // } else {\n          //   const isShape2D = shape2D.indexOf(object.nodeName as Shape) > -1;\n          //   const [p0, p1, p2, p3] = camera.getFrustum().planes;\n          //   tmpAABB.setMinMax([-p1.distance, -p3.distance, 0], [p0.distance, p2.distance, 0]);\n\n          //   cullable.visible = isShape2D ? renderBounds.intersects(tmpAABB) : true;\n          // }\n\n          if (strategies.length === 0) {\n            cullable.visible =\n              renderingContext.unculledEntities.indexOf(object.entity) > -1;\n          } else {\n            // eg. implemented by g-webgl(frustum culling)\n            cullable.visible = strategies.every((strategy) =>\n              strategy.isVisible(camera, object),\n            );\n          }\n\n          if (!object.isCulled() && object.isVisible()) {\n            return object;\n          }\n          // if (this.renderingContext.renderListLastFrame.indexOf(object) > -1) {\n          object.dispatchEvent(new CustomEvent(ElementEvent.CULLED));\n          // }\n\n          return null;\n        }\n\n        return object;\n      },\n    );\n\n    renderingService.hooks.afterRender.tap(\n      CullingPlugin.tag,\n      (object: DisplayObject) => {\n        object.cullable.visibilityPlaneMask = -1;\n      },\n    );\n  }\n}\n", "import { isUndefined } from '@antv/util';\nimport type { FederatedMouseEvent, ICanvas, IEventTarget } from '../dom';\nimport { FederatedPointerEvent } from '../dom/FederatedPointerEvent';\nimport { FederatedWheelEvent } from '../dom/FederatedWheelEvent';\nimport type { RenderingPlugin, RenderingPluginContext } from '../services';\nimport type { Cursor, EventPosition, InteractivePointerEvent } from '../types';\nimport type { FormattedPointerEvent, FormattedTouch } from '../utils/event';\nimport { MOUSE_POINTER_ID, TOUCH_TO_POINTER, clock } from '../utils/event';\n\n/**\n * support mouse & touch events\n * @see https://github.com/pixijs/pixi.js/blob/dev/packages/interaction/README.md\n *\n * also provide some extra events such as `drag`\n */\nexport class EventPlugin implements RenderingPlugin {\n  static tag = 'Event';\n\n  private autoPreventDefault = false;\n  private rootPointerEvent = new FederatedPointerEvent(null);\n  private rootWheelEvent = new FederatedWheelEvent(null);\n\n  private context: RenderingPluginContext;\n\n  apply(context: RenderingPluginContext) {\n    this.context = context;\n    const { renderingService } = context;\n\n    const canvas = this.context.renderingContext.root.ownerDocument.defaultView;\n\n    this.context.eventService.setPickHandler((position: EventPosition) => {\n      const { picked } = this.context.renderingService.hooks.pickSync.call({\n        position,\n        picked: [],\n        topmost: true, // we only concern the topmost element\n      });\n      return picked[0] || null;\n    });\n\n    renderingService.hooks.pointerWheel.tap(\n      EventPlugin.tag,\n      (nativeEvent: InteractivePointerEvent) => {\n        const wheelEvent = this.normalizeWheelEvent(nativeEvent as WheelEvent);\n\n        this.context.eventService.mapEvent(wheelEvent);\n      },\n    );\n\n    renderingService.hooks.pointerDown.tap(\n      EventPlugin.tag,\n      (nativeEvent: InteractivePointerEvent) => {\n        if (\n          canvas.supportsTouchEvents &&\n          (nativeEvent as PointerEvent).pointerType === 'touch'\n        )\n          return;\n\n        const events = this.normalizeToPointerEvent(nativeEvent, canvas);\n\n        if (this.autoPreventDefault && (events[0] as any).isNormalized) {\n          const cancelable =\n            nativeEvent.cancelable || !('cancelable' in nativeEvent);\n\n          if (cancelable) {\n            nativeEvent.preventDefault();\n          }\n        }\n\n        for (const event of events) {\n          const federatedEvent = this.bootstrapEvent(\n            this.rootPointerEvent,\n            event,\n            canvas,\n            nativeEvent,\n          );\n          this.context.eventService.mapEvent(federatedEvent);\n        }\n\n        this.setCursor(this.context.eventService.cursor);\n      },\n    );\n\n    renderingService.hooks.pointerUp.tap(\n      EventPlugin.tag,\n      (nativeEvent: InteractivePointerEvent) => {\n        if (\n          canvas.supportsTouchEvents &&\n          (nativeEvent as PointerEvent).pointerType === 'touch'\n        )\n          return;\n\n        // account for element in SVG\n        const $element =\n          this.context.contextService.getDomElement() as HTMLCanvasElement;\n\n        const isNativeEventFromCanvas =\n          this.context.eventService.isNativeEventFromCanvas(\n            $element,\n            nativeEvent,\n          );\n        const outside = !isNativeEventFromCanvas ? 'outside' : '';\n        const normalizedEvents = this.normalizeToPointerEvent(\n          nativeEvent,\n          canvas,\n        );\n\n        for (const normalizedEvent of normalizedEvents) {\n          const event = this.bootstrapEvent(\n            this.rootPointerEvent,\n            normalizedEvent,\n            canvas,\n            nativeEvent,\n          );\n          event.type += outside;\n          this.context.eventService.mapEvent(event);\n        }\n\n        this.setCursor(this.context.eventService.cursor);\n      },\n    );\n\n    renderingService.hooks.pointerMove.tap(EventPlugin.tag, this.onPointerMove);\n\n    renderingService.hooks.pointerOver.tap(EventPlugin.tag, this.onPointerMove);\n\n    renderingService.hooks.pointerOut.tap(EventPlugin.tag, this.onPointerMove);\n\n    renderingService.hooks.click.tap(EventPlugin.tag, this.onClick);\n\n    renderingService.hooks.pointerCancel.tap(\n      EventPlugin.tag,\n      (nativeEvent: InteractivePointerEvent) => {\n        const normalizedEvents = this.normalizeToPointerEvent(\n          nativeEvent,\n          canvas,\n        );\n\n        for (const normalizedEvent of normalizedEvents) {\n          const event = this.bootstrapEvent(\n            this.rootPointerEvent,\n            normalizedEvent,\n            canvas,\n            nativeEvent,\n          );\n          this.context.eventService.mapEvent(event);\n        }\n        this.setCursor(this.context.eventService.cursor);\n      },\n    );\n  }\n\n  private onPointerMove = (nativeEvent: InteractivePointerEvent) => {\n    const canvas =\n      this.context.renderingContext.root?.ownerDocument?.defaultView;\n    if (\n      canvas.supportsTouchEvents &&\n      (nativeEvent as PointerEvent).pointerType === 'touch'\n    )\n      return;\n\n    const normalizedEvents = this.normalizeToPointerEvent(nativeEvent, canvas);\n\n    for (const normalizedEvent of normalizedEvents) {\n      const event = this.bootstrapEvent(\n        this.rootPointerEvent,\n        normalizedEvent,\n        canvas,\n        nativeEvent,\n      );\n\n      this.context.eventService.mapEvent(event);\n    }\n\n    this.setCursor(this.context.eventService.cursor);\n  };\n\n  private onClick = (nativeEvent: InteractivePointerEvent) => {\n    const canvas =\n      this.context.renderingContext.root?.ownerDocument?.defaultView;\n\n    const normalizedEvents = this.normalizeToPointerEvent(nativeEvent, canvas);\n\n    for (const normalizedEvent of normalizedEvents) {\n      const event = this.bootstrapEvent(\n        this.rootPointerEvent,\n        normalizedEvent,\n        canvas,\n        nativeEvent,\n      );\n\n      this.context.eventService.mapEvent(event);\n    }\n\n    this.setCursor(this.context.eventService.cursor);\n  };\n\n  private bootstrapEvent(\n    event: FederatedPointerEvent,\n    normalizedEvent: PointerEvent,\n    view: ICanvas,\n    nativeEvent: PointerEvent | MouseEvent | TouchEvent,\n  ): FederatedPointerEvent {\n    event.view = view;\n    event.originalEvent = null;\n    event.nativeEvent = nativeEvent;\n\n    event.pointerId = normalizedEvent.pointerId;\n    event.width = normalizedEvent.width;\n    event.height = normalizedEvent.height;\n    event.isPrimary = normalizedEvent.isPrimary;\n    event.pointerType = normalizedEvent.pointerType;\n    event.pressure = normalizedEvent.pressure;\n    event.tangentialPressure = normalizedEvent.tangentialPressure;\n    event.tiltX = normalizedEvent.tiltX;\n    event.tiltY = normalizedEvent.tiltY;\n    event.twist = normalizedEvent.twist;\n    this.transferMouseData(event, normalizedEvent);\n\n    const { x, y } = this.context.eventService.client2Viewport({\n      x: normalizedEvent.clientX,\n      y: normalizedEvent.clientY,\n    });\n    event.viewport.x = x;\n    event.viewport.y = y;\n    const { x: canvasX, y: canvasY } =\n      this.context.eventService.viewport2Canvas(event.viewport);\n    event.canvas.x = canvasX;\n    event.canvas.y = canvasY;\n    event.global.copyFrom(event.canvas);\n    event.offset.copyFrom(event.canvas);\n\n    event.isTrusted = nativeEvent.isTrusted;\n    if (event.type === 'pointerleave') {\n      event.type = 'pointerout';\n    }\n    if (event.type.startsWith('mouse')) {\n      event.type = event.type.replace('mouse', 'pointer');\n    }\n    if (event.type.startsWith('touch')) {\n      event.type = TOUCH_TO_POINTER[event.type] || event.type;\n    }\n    return event;\n  }\n\n  private normalizeWheelEvent(nativeEvent: WheelEvent): FederatedWheelEvent {\n    const event = this.rootWheelEvent;\n\n    this.transferMouseData(event, nativeEvent);\n\n    event.deltaMode = nativeEvent.deltaMode;\n    event.deltaX = nativeEvent.deltaX;\n    event.deltaY = nativeEvent.deltaY;\n    event.deltaZ = nativeEvent.deltaZ;\n\n    const { x, y } = this.context.eventService.client2Viewport({\n      x: nativeEvent.clientX,\n      y: nativeEvent.clientY,\n    });\n    event.viewport.x = x;\n    event.viewport.y = y;\n    const { x: canvasX, y: canvasY } =\n      this.context.eventService.viewport2Canvas(event.viewport);\n    event.canvas.x = canvasX;\n    event.canvas.y = canvasY;\n    event.global.copyFrom(event.canvas);\n    event.offset.copyFrom(event.canvas);\n\n    event.nativeEvent = nativeEvent;\n    event.type = nativeEvent.type;\n\n    return event;\n  }\n\n  /**\n   * Transfers base & mouse event data from the nativeEvent to the federated event.\n   */\n  private transferMouseData(\n    event: FederatedMouseEvent,\n    nativeEvent: MouseEvent,\n  ): void {\n    event.isTrusted = nativeEvent.isTrusted;\n    event.srcElement = nativeEvent.srcElement as IEventTarget;\n    event.timeStamp = clock.now();\n    event.type = nativeEvent.type;\n\n    event.altKey = nativeEvent.altKey;\n    event.metaKey = nativeEvent.metaKey;\n    event.shiftKey = nativeEvent.shiftKey;\n    event.ctrlKey = nativeEvent.ctrlKey;\n    event.button = nativeEvent.button;\n    event.buttons = nativeEvent.buttons;\n    event.client.x = nativeEvent.clientX;\n    event.client.y = nativeEvent.clientY;\n    event.movement.x = nativeEvent.movementX;\n    event.movement.y = nativeEvent.movementY;\n    event.page.x = nativeEvent.pageX;\n    event.page.y = nativeEvent.pageY;\n    event.screen.x = nativeEvent.screenX;\n    event.screen.y = nativeEvent.screenY;\n    event.relatedTarget = null;\n  }\n\n  private setCursor(cursor: Cursor | null) {\n    this.context.contextService.applyCursorStyle(\n      cursor || this.context.config.cursor || 'default',\n    );\n  }\n\n  private normalizeToPointerEvent(\n    event: InteractivePointerEvent,\n    canvas: ICanvas,\n  ): PointerEvent[] {\n    const normalizedEvents = [];\n    if (canvas.isTouchEvent(event)) {\n      for (let i = 0; i < event.changedTouches.length; i++) {\n        const touch = event.changedTouches[i] as FormattedTouch;\n\n        // use changedTouches instead of touches since touchend has no touches\n        // @see https://stackoverflow.com/a/10079076\n        if (isUndefined(touch.button)) touch.button = 0;\n        if (isUndefined(touch.buttons)) touch.buttons = 1;\n        if (isUndefined(touch.isPrimary)) {\n          touch.isPrimary =\n            event.touches.length === 1 && event.type === 'touchstart';\n        }\n        if (isUndefined(touch.width)) touch.width = touch.radiusX || 1;\n        if (isUndefined(touch.height)) touch.height = touch.radiusY || 1;\n        if (isUndefined(touch.tiltX)) touch.tiltX = 0;\n        if (isUndefined(touch.tiltY)) touch.tiltY = 0;\n        if (isUndefined(touch.pointerType)) touch.pointerType = 'touch';\n        // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Touch/identifier\n        if (isUndefined(touch.pointerId))\n          touch.pointerId = touch.identifier || 0;\n        if (isUndefined(touch.pressure)) touch.pressure = touch.force || 0.5;\n        if (isUndefined(touch.twist)) touch.twist = 0;\n        if (isUndefined(touch.tangentialPressure)) touch.tangentialPressure = 0;\n        touch.isNormalized = true;\n        touch.type = event.type;\n\n        normalizedEvents.push(touch);\n      }\n    } else if (canvas.isMouseEvent(event)) {\n      const tempEvent = event as FormattedPointerEvent;\n      if (isUndefined(tempEvent.isPrimary)) tempEvent.isPrimary = true;\n      if (isUndefined(tempEvent.width)) tempEvent.width = 1;\n      if (isUndefined(tempEvent.height)) tempEvent.height = 1;\n      if (isUndefined(tempEvent.tiltX)) tempEvent.tiltX = 0;\n      if (isUndefined(tempEvent.tiltY)) tempEvent.tiltY = 0;\n      if (isUndefined(tempEvent.pointerType)) tempEvent.pointerType = 'mouse';\n      if (isUndefined(tempEvent.pointerId))\n        tempEvent.pointerId = MOUSE_POINTER_ID;\n      if (isUndefined(tempEvent.pressure)) tempEvent.pressure = 0.5;\n      if (isUndefined(tempEvent.twist)) tempEvent.twist = 0;\n      if (isUndefined(tempEvent.tangentialPressure))\n        tempEvent.tangentialPressure = 0;\n      tempEvent.isNormalized = true;\n\n      normalizedEvents.push(tempEvent);\n    } else {\n      normalizedEvents.push(event);\n    }\n\n    return normalizedEvents as PointerEvent[];\n  }\n}\n", "import { vec3 } from 'gl-matrix';\nimport type { ICamera } from '../camera';\nimport type { DisplayObject } from '../display-objects/DisplayObject';\nimport type { Element } from '../dom';\nimport type { Plane } from '../shapes';\nimport { AABB, Mask } from '../shapes';\nimport { Shape } from '../types';\nimport type { CullingStrategyContribution } from './CullingPlugin';\n\n// group is not a 2d shape\nconst shape2D = [\n  Shape.CIRCLE,\n  Shape.ELLIPSE,\n  Shape.IMAGE,\n  Shape.RECT,\n  Shape.LINE,\n  Shape.POLYLINE,\n  Shape.POLYGON,\n  Shape.TEXT,\n  Shape.PATH,\n  Shape.HTML,\n];\n\nexport class FrustumCullingStrategy implements CullingStrategyContribution {\n  isVisible(camera: ICamera, object: DisplayObject) {\n    // return true;\n\n    const { cullable } = object;\n    if (!cullable.enable) {\n      return true;\n    }\n\n    const renderBounds = object.getRenderBounds();\n\n    if (AABB.isEmpty(renderBounds)) {\n      return false;\n    }\n\n    // get VP matrix from camera\n    const frustum = camera.getFrustum();\n\n    const parentVisibilityPlaneMask = (object.parentNode as Element)?.cullable\n      ?.visibilityPlaneMask;\n    cullable.visibilityPlaneMask = this.computeVisibilityWithPlaneMask(\n      object,\n      renderBounds,\n      parentVisibilityPlaneMask || Mask.INDETERMINATE,\n      frustum.planes,\n    );\n\n    cullable.visible = cullable.visibilityPlaneMask !== Mask.OUTSIDE;\n\n    return cullable.visible;\n  }\n\n  /**\n   *\n   * @seeOptimized View Frustum Culling Algorithms for Bounding Boxes\n   * @see https://github.com/antvis/GWebGPUEngine/issues/3\n   *\n   * *  the basic intersection test\n   * *  masking @see https://cesium.com/blog/2015/08/04/fast-hierarchical-culling/\n   * * TODO:  the plane-coherency test\n   * * TODO:  mesh  Babylon.js @see https://doc.babylonjs.com/how_to/optimizing_your_scene#changing-mesh-culling-strategy\n   *\n   * @param aabb aabb\n   * @param parentPlaneMask mask of parent\n   * @param planes planes of frustum\n   */\n  private computeVisibilityWithPlaneMask(\n    object: DisplayObject,\n    aabb: AABB,\n    parentPlaneMask: Mask,\n    planes: Plane[],\n  ) {\n    if (parentPlaneMask === Mask.OUTSIDE || parentPlaneMask === Mask.INSIDE) {\n      // \n      return parentPlaneMask;\n    }\n\n    // Start with MASK_INSIDE (all zeros) so that after the loop, the return value can be compared with MASK_INSIDE.\n    // (Because if there are fewer than 31 planes, the upper bits wont be changed.)\n    let mask = Mask.INSIDE;\n\n    const isShape2D = shape2D.indexOf(object.nodeName as Shape) > -1;\n\n    // Use viewport culling for 2D shapes\n    // @see https://github.com/antvis/g/issues/914\n    for (let k = 0, len = planes.length; k < len; ++k) {\n      // For k greater than 31 (since 31 is the maximum number of INSIDE/INTERSECTING bits we can store), skip the optimization.\n      const flag = 1 << k;\n\n      if ((parentPlaneMask & flag) === 0) {\n        // \n        continue;\n      }\n\n      // skip near & far planes when testing 2D shapes\n      if (isShape2D && (k === 4 || k === 5)) {\n        continue;\n      }\n\n      // p-vertex n-vertex <-|plane p-vertex n-vertex\n      //  p-vertex  n-vertex  aabb \n      const { normal, distance } = planes[k];\n      if (\n        vec3.dot(normal, aabb.getPositiveFarPoint(planes[k])) + distance <\n        0\n      ) {\n        return Mask.OUTSIDE;\n      }\n      if (\n        vec3.dot(normal, aabb.getNegativeFarPoint(planes[k])) + distance <\n        0\n      ) {\n        // 1\n        mask |= flag;\n      }\n    }\n\n    return mask;\n  }\n}\n", "import type RBush from 'rbush';\nimport { runtime } from '../global-runtime';\nimport type { RBushNodeAABB } from '../components';\nimport { DisplayObject } from '../display-objects';\nimport type { FederatedEvent } from '../dom';\nimport { ElementEvent } from '../dom';\nimport type { RenderingPlugin, RenderingPluginContext } from '../services';\nimport { raf } from '../utils';\nimport { AABB } from '../shapes';\n\nexport class PrepareRendererPlugin implements RenderingPlugin {\n  static tag = 'Prepare';\n  private rBush: RBush<RBushNodeAABB>;\n\n  private syncTasks = new Map<DisplayObject, boolean>();\n\n  private isFirstTimeRendering = true;\n  private syncing = false;\n\n  isFirstTimeRenderingFinished = false;\n\n  apply(context: RenderingPluginContext) {\n    const { renderingService, renderingContext, rBushRoot } = context;\n    const canvas = renderingContext.root.ownerDocument.defaultView;\n\n    this.rBush = rBushRoot;\n\n    const handleAttributeChanged = (e: FederatedEvent) => {\n      const object = e.target as DisplayObject;\n      object.renderable.dirty = true;\n      renderingService.dirtify();\n    };\n\n    const handleBoundsChanged = (e: FederatedEvent) => {\n      this.syncTasks.set(e.target as DisplayObject, e.detail.affectChildren);\n\n      renderingService.dirtify();\n    };\n\n    const handleMounted = (e: FederatedEvent) => {\n      const object = e.target as DisplayObject;\n\n      if (runtime.enableSizeAttenuation) {\n        runtime.styleValueRegistry.updateSizeAttenuation(\n          object,\n          canvas.getCamera().getZoom(),\n        );\n      }\n    };\n\n    const handleUnmounted = (e: FederatedEvent) => {\n      const object = e.target as DisplayObject;\n      const { rBushNode } = object;\n      if (rBushNode.aabb) {\n        this.rBush.remove(rBushNode.aabb);\n      }\n\n      this.syncTasks.delete(object);\n\n      runtime.sceneGraphService.dirtifyToRoot(object);\n      renderingService.dirtify();\n    };\n\n    renderingService.hooks.init.tap(PrepareRendererPlugin.tag, () => {\n      canvas.addEventListener(ElementEvent.MOUNTED, handleMounted);\n      canvas.addEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n      canvas.addEventListener(\n        ElementEvent.ATTR_MODIFIED,\n        handleAttributeChanged,\n      );\n      canvas.addEventListener(ElementEvent.BOUNDS_CHANGED, handleBoundsChanged);\n    });\n\n    renderingService.hooks.destroy.tap(PrepareRendererPlugin.tag, () => {\n      canvas.removeEventListener(ElementEvent.MOUNTED, handleMounted);\n      canvas.removeEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n      canvas.removeEventListener(\n        ElementEvent.ATTR_MODIFIED,\n        handleAttributeChanged,\n      );\n      canvas.removeEventListener(\n        ElementEvent.BOUNDS_CHANGED,\n        handleBoundsChanged,\n      );\n      this.syncTasks.clear();\n    });\n\n    const ric =\n      runtime.globalThis.requestIdleCallback ?? raf.bind(runtime.globalThis);\n    renderingService.hooks.endFrame.tap(PrepareRendererPlugin.tag, () => {\n      if (this.isFirstTimeRendering) {\n        this.isFirstTimeRendering = false;\n        this.syncing = true;\n        ric(() => {\n          this.syncRTree(true);\n          this.isFirstTimeRenderingFinished = true;\n        });\n      } else {\n        this.syncRTree();\n      }\n    });\n  }\n\n  private syncNode(node: DisplayObject, force = false) {\n    if (!node.isConnected) return;\n\n    const rBushNode = node.rBushNode;\n\n    // clear dirty node\n    if (rBushNode.aabb) this.rBush.remove(rBushNode.aabb);\n\n    const renderBounds = node.getRenderBounds();\n    if (renderBounds) {\n      const renderable = node.renderable;\n\n      if (force) {\n        if (!renderable.dirtyRenderBounds) {\n          renderable.dirtyRenderBounds = new AABB();\n        }\n        // save last dirty aabb\n        renderable.dirtyRenderBounds.update(\n          renderBounds.center,\n          renderBounds.halfExtents,\n        );\n      }\n\n      const [minX, minY] = renderBounds.getMin();\n      const [maxX, maxY] = renderBounds.getMax();\n\n      if (!rBushNode.aabb) {\n        rBushNode.aabb = {} as RBushNodeAABB;\n      }\n      rBushNode.aabb.displayObject = node;\n      rBushNode.aabb.minX = minX;\n      rBushNode.aabb.minY = minY;\n      rBushNode.aabb.maxX = maxX;\n      rBushNode.aabb.maxY = maxY;\n    }\n\n    if (rBushNode.aabb) {\n      // TODO: NaN occurs when width/height of Rect is 0\n      if (\n        !isNaN(rBushNode.aabb.maxX) &&\n        !isNaN(rBushNode.aabb.maxX) &&\n        !isNaN(rBushNode.aabb.minX) &&\n        !isNaN(rBushNode.aabb.minY)\n      ) {\n        return rBushNode.aabb;\n      }\n    }\n  }\n\n  private syncRTree(force = false) {\n    if (!force && (this.syncing || this.syncTasks.size === 0)) {\n      return;\n    }\n\n    this.syncing = true;\n\n    // bounds changed, need re-inserting its children\n    const bulk: RBushNodeAABB[] = [];\n    const synced = new Set<DisplayObject>();\n\n    const sync = (node: DisplayObject) => {\n      if (!synced.has(node) && node.renderable) {\n        const aabb = this.syncNode(node, force);\n        if (aabb) {\n          bulk.push(aabb);\n          synced.add(node);\n        }\n      }\n    };\n\n    this.syncTasks.forEach((affectChildren, node) => {\n      if (affectChildren) {\n        node.forEach(sync);\n      }\n\n      let parent = node;\n      while (parent) {\n        sync(parent);\n        parent = parent.parentElement as DisplayObject;\n      }\n    });\n\n    // use bulk inserting, which is ~2-3 times faster\n    // @see https://github.com/mourner/rbush#bulk-inserting-data\n    this.rBush.load(bulk);\n\n    bulk.length = 0;\n    this.syncing = false;\n  }\n}\n", "// eslint-disable-next-line import/extensions\nimport RBush from 'rbush/rbush.js';\nimport type { IRenderer } from './AbstractRenderer';\nimport {\n  CameraEvent,\n  CameraProjectionMode,\n  CameraTrackingMode,\n  CameraType,\n} from './camera';\nimport type { RBushNodeAABB } from './components';\nimport type { CustomElement } from './display-objects';\nimport type { MutationEvent } from './dom/MutationEvent';\nimport {\n  DisplayObject,\n  attrModifiedEvent as attrModifiedEventCache,\n} from './display-objects/DisplayObject';\nimport {\n  insertedEvent as insertedEventCache,\n  removedEvent as removedEventCache,\n  destroyEvent as destroyEventCache,\n} from './dom/Element';\nimport type { CanvasContext, Element, IChildNode } from './dom';\nimport { CustomEvent, Document, ElementEvent, EventTarget } from './dom';\nimport { CustomElementRegistry } from './dom/CustomElementRegistry';\nimport type { ICanvas } from './dom/interfaces';\nimport { runtime } from './global-runtime';\nimport { CullingPlugin } from './plugins/CullingPlugin';\nimport { EventPlugin } from './plugins/EventPlugin';\nimport { FrustumCullingStrategy } from './plugins/FrustumCullingStrategy';\nimport { PrepareRendererPlugin } from './plugins/PrepareRendererPlugin';\nimport { EventService, RenderReason, RenderingService } from './services';\nimport type { PointLike } from './shapes';\nimport {\n  type CanvasConfig,\n  type ClipSpaceNearZ,\n  type Cursor,\n  type InteractivePointerEvent,\n} from './types';\nimport {\n  caf,\n  cleanExistedCanvas,\n  getHeight,\n  getWidth,\n  isBrowser,\n  isInFragment,\n  raf,\n  memoize,\n} from './utils';\n\nexport function isCanvas(value: any): value is Canvas {\n  return !!(value as Canvas).document;\n}\n\nexport enum CanvasEvent {\n  READY = 'ready',\n  BEFORE_RENDER = 'beforerender',\n  RERENDER = 'rerender',\n  AFTER_RENDER = 'afterrender',\n  BEFORE_DESTROY = 'beforedestroy',\n  AFTER_DESTROY = 'afterdestroy',\n  RESIZE = 'resize',\n  DIRTY_RECTANGLE = 'dirtyrectangle',\n  RENDERER_CHANGED = 'rendererchanged',\n}\n\nconst DEFAULT_CAMERA_Z = 500;\nconst DEFAULT_CAMERA_NEAR = 0.1;\nconst DEFAULT_CAMERA_FAR = 1000;\n\n/**\n * reuse custom event preventing from re-create them in every frame\n */\nconst mountedEvent = new CustomEvent(ElementEvent.MOUNTED);\nconst unmountedEvent = new CustomEvent(ElementEvent.UNMOUNTED);\nconst beforeRenderEvent = new CustomEvent(CanvasEvent.BEFORE_RENDER);\nconst rerenderEvent = new CustomEvent(CanvasEvent.RERENDER);\nconst afterRenderEvent = new CustomEvent(CanvasEvent.AFTER_RENDER);\n\n/**\n * can be treated like Window in DOM\n * provide some extra methods like `window`, such as:\n * * `window.requestAnimationFrame`\n * * `window.devicePixelRatio`\n *\n * prototype chains: Canvas(Window) -> EventTarget\n *\n * @docs https://g.antv.antgroup.com/api/canvas/intro\n */\nexport class Canvas extends EventTarget implements ICanvas {\n  // #region environment\n  customElements: ICanvas['customElements'];\n  devicePixelRatio: ICanvas['devicePixelRatio'];\n  requestAnimationFrame: ICanvas['requestAnimationFrame'];\n  cancelAnimationFrame: ICanvas['cancelAnimationFrame'];\n  supportsTouchEvents: ICanvas['supportsTouchEvents'];\n  supportsPointerEvents: ICanvas['supportsPointerEvents'];\n  isTouchEvent: ICanvas['isTouchEvent'];\n  isMouseEvent: ICanvas['isMouseEvent'];\n\n  /**\n   * window.document\n   */\n  document: Document;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element\n   */\n  Element = DisplayObject;\n  // #endregion environment\n\n  /**\n   * rAF in auto rendering\n   */\n  private frameId?: number;\n\n  private inited = false;\n  private readyPromise: Promise<any> | undefined;\n  private resolveReadyPromise: () => void;\n\n  context = {} as CanvasContext;\n\n  constructor(config: CanvasConfig) {\n    super();\n\n    const {\n      container,\n      canvas,\n      renderer,\n      width,\n      height,\n      background,\n      cursor,\n      supportsMutipleCanvasesInOneContainer,\n      cleanUpOnDestroy = true,\n      offscreenCanvas,\n      devicePixelRatio,\n      requestAnimationFrame,\n      cancelAnimationFrame,\n      createImage,\n      supportsTouchEvents,\n      supportsPointerEvents,\n      isTouchEvent,\n      isMouseEvent,\n      dblClickSpeed,\n    } = config;\n    let canvasWidth = width;\n    let canvasHeight = height;\n    let dpr = devicePixelRatio || (isBrowser && window.devicePixelRatio) || 1;\n    dpr = dpr >= 1 ? Math.ceil(dpr) : 1;\n\n    // use user-defined <canvas> or OffscreenCanvas\n    if (canvas) {\n      // infer width & height with dpr\n      canvasWidth = width || getWidth(canvas) || canvas.width / dpr;\n      canvasHeight = height || getHeight(canvas) || canvas.height / dpr;\n    }\n\n    /**\n     * implements `Window` interface\n     */\n    this.customElements = new CustomElementRegistry();\n    this.devicePixelRatio = dpr;\n    this.requestAnimationFrame =\n      requestAnimationFrame ?? (raf.bind(runtime.globalThis) as typeof raf);\n    this.cancelAnimationFrame =\n      cancelAnimationFrame ?? (caf.bind(runtime.globalThis) as typeof caf);\n    // the following feature-detect from hammer.js\n    // @see https://github.com/hammerjs/hammer.js/blob/master/src/inputjs/input-consts.js#L5\n    this.supportsTouchEvents =\n      supportsTouchEvents ?? 'ontouchstart' in runtime.globalThis;\n    this.supportsPointerEvents =\n      supportsPointerEvents ?? !!runtime.globalThis.PointerEvent;\n    this.isTouchEvent =\n      isTouchEvent ??\n      ((event: InteractivePointerEvent): event is TouchEvent =>\n        this.supportsTouchEvents &&\n        event instanceof runtime.globalThis.TouchEvent);\n    this.isMouseEvent =\n      isMouseEvent ??\n      ((event: InteractivePointerEvent): event is MouseEvent =>\n        !runtime.globalThis.MouseEvent ||\n        (event instanceof runtime.globalThis.MouseEvent &&\n          (!this.supportsPointerEvents ||\n            !(event instanceof runtime.globalThis.PointerEvent))));\n\n    // override it in runtime\n    if (offscreenCanvas) {\n      runtime.offscreenCanvas = offscreenCanvas;\n    }\n\n    // create document\n    this.document = new Document();\n    this.document.defaultView = this;\n\n    if (!supportsMutipleCanvasesInOneContainer) {\n      cleanExistedCanvas(container, this, cleanUpOnDestroy);\n    }\n\n    this.initRenderingContext({\n      ...config,\n      width: canvasWidth,\n      height: canvasHeight,\n      background: background ?? 'transparent',\n      cursor: cursor ?? ('default' as Cursor),\n      cleanUpOnDestroy,\n      devicePixelRatio: dpr,\n      requestAnimationFrame: this.requestAnimationFrame,\n      cancelAnimationFrame: this.cancelAnimationFrame,\n      supportsTouchEvents: this.supportsTouchEvents,\n      supportsPointerEvents: this.supportsPointerEvents,\n      isTouchEvent: this.isTouchEvent,\n      isMouseEvent: this.isMouseEvent,\n      dblClickSpeed: dblClickSpeed ?? 200,\n      createImage: createImage ?? (() => new window.Image()),\n    });\n\n    this.initDefaultCamera(canvasWidth, canvasHeight, renderer.clipSpaceNearZ);\n\n    this.initRenderer(renderer, true);\n  }\n\n  private initRenderingContext(mergedConfig: CanvasConfig) {\n    this.context.config = mergedConfig;\n\n    // bind rendering context, shared by all renderers\n    this.context.renderingContext = {\n      /**\n       * the root node in scene graph\n       */\n      root: this.document.documentElement,\n      renderListCurrentFrame: [],\n      unculledEntities: [],\n\n      renderReasons: new Set(),\n\n      force: false,\n      dirty: false,\n    };\n  }\n\n  private initDefaultCamera(\n    width: number,\n    height: number,\n    clipSpaceNearZ: ClipSpaceNearZ,\n  ) {\n    // set a default ortho camera\n    const camera = new runtime.CameraContribution();\n    camera.clipSpaceNearZ = clipSpaceNearZ;\n\n    camera\n      .setType(CameraType.EXPLORING, CameraTrackingMode.DEFAULT)\n      .setPosition(width / 2, height / 2, DEFAULT_CAMERA_Z)\n      .setFocalPoint(width / 2, height / 2, 0)\n      .setOrthographic(\n        width / -2,\n        width / 2,\n        height / 2,\n        height / -2,\n        DEFAULT_CAMERA_NEAR,\n        DEFAULT_CAMERA_FAR,\n      );\n\n    // keep ref since it will use raf in camera animation\n    camera.canvas = this;\n\n    // redraw when camera changed\n    camera.eventEmitter.on(CameraEvent.UPDATED, () => {\n      this.context.renderingContext.renderReasons.add(\n        RenderReason.CAMERA_CHANGED,\n      );\n\n      if (\n        runtime.enableSizeAttenuation &&\n        this.getConfig().renderer.getConfig().enableSizeAttenuation\n      ) {\n        this.updateSizeAttenuation();\n      }\n    });\n\n    // bind camera\n    this.context.camera = camera;\n  }\n\n  private updateSizeAttenuation() {\n    const zoom = this.getCamera().getZoom();\n    this.document.documentElement.forEach((node: DisplayObject) => {\n      runtime.styleValueRegistry.updateSizeAttenuation(node, zoom);\n    });\n  }\n\n  getConfig() {\n    return this.context.config;\n  }\n\n  /**\n   * get the root displayObject in scenegraph\n   * @alias this.document.documentElement\n   */\n  getRoot() {\n    return this.document.documentElement;\n  }\n\n  /**\n   * get the camera of canvas\n   */\n  getCamera() {\n    return this.context.camera;\n  }\n\n  getContextService() {\n    return this.context.contextService;\n  }\n\n  getEventService() {\n    return this.context.eventService;\n  }\n\n  getRenderingService() {\n    return this.context.renderingService;\n  }\n\n  getRenderingContext() {\n    return this.context.renderingContext;\n  }\n\n  getStats() {\n    return this.getRenderingService().getStats();\n  }\n\n  // /**\n  //  * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Window/getComputedStyle\n  //  */\n  // getComputedStyle(node: DisplayObject) {\n  //   return node.computedStyle;\n  // }\n\n  get ready() {\n    if (!this.readyPromise) {\n      this.readyPromise = new Promise((resolve) => {\n        this.resolveReadyPromise = () => {\n          resolve(this);\n        };\n      });\n      if (this.inited) {\n        this.resolveReadyPromise();\n      }\n    }\n    return this.readyPromise;\n  }\n\n  /**\n   * @param cleanUp - whether to clean up all the internal services of Canvas\n   * @param skipTriggerEvent - whether to skip trigger destroy event\n   */\n  destroy(cleanUp = true, skipTriggerEvent?: boolean) {\n    memoize.clearCache();\n\n    if (!skipTriggerEvent) {\n      this.dispatchEvent(new CustomEvent(CanvasEvent.BEFORE_DESTROY));\n    }\n    if (this.frameId) {\n      this.cancelAnimationFrame(this.frameId);\n    }\n\n    // unmount all children\n    const root = this.getRoot();\n\n    if (cleanUp) {\n      this.unmountChildren(root);\n      // destroy Document\n      this.document.destroy();\n      this.getEventService().destroy();\n    }\n\n    // destroy services\n    this.getRenderingService().destroy();\n    this.getContextService().destroy();\n\n    // clear root after render service destroyed\n    if (this.context.rBushRoot) {\n      // clear rbush\n      this.context.rBushRoot.clear();\n    }\n\n    if (!skipTriggerEvent) {\n      this.dispatchEvent(new CustomEvent(CanvasEvent.AFTER_DESTROY));\n    }\n\n    const clearEventRetain = (event: CustomEvent | MutationEvent) => {\n      event.currentTarget = null;\n      event.manager = null;\n      event.target = null;\n      (event as MutationEvent).relatedNode = null;\n    };\n\n    clearEventRetain(mountedEvent);\n    clearEventRetain(unmountedEvent);\n    clearEventRetain(beforeRenderEvent);\n    clearEventRetain(rerenderEvent);\n    clearEventRetain(afterRenderEvent);\n    clearEventRetain(attrModifiedEventCache);\n    clearEventRetain(insertedEventCache);\n    clearEventRetain(removedEventCache);\n    clearEventRetain(destroyEventCache);\n  }\n\n  /**\n   * compatible with G 3.0\n   * @deprecated\n   * @alias resize\n   */\n  changeSize(width: number, height: number) {\n    this.resize(width, height);\n  }\n  resize(width: number, height: number) {\n    // update canvas' config\n    const canvasConfig = this.context.config;\n    canvasConfig.width = width;\n    canvasConfig.height = height;\n\n    // resize context\n    this.getContextService().resize(width, height);\n\n    // resize camera\n    const { camera } = this.context;\n    const projectionMode = camera.getProjectionMode();\n    camera\n      .setPosition(width / 2, height / 2, DEFAULT_CAMERA_Z)\n      .setFocalPoint(width / 2, height / 2, 0);\n    if (projectionMode === CameraProjectionMode.ORTHOGRAPHIC) {\n      camera.setOrthographic(\n        width / -2,\n        width / 2,\n        height / 2,\n        height / -2,\n        camera.getNear(),\n        camera.getFar(),\n      );\n    } else {\n      camera.setAspect(width / height);\n    }\n\n    this.dispatchEvent(new CustomEvent(CanvasEvent.RESIZE, { width, height }));\n  }\n\n  // proxy to document.documentElement\n  appendChild<T extends IChildNode>(child: T, index?: number): T {\n    return this.document.documentElement.appendChild(child, index);\n  }\n  insertBefore<T extends IChildNode, N extends IChildNode>(\n    newChild: T,\n    refChild: N | null,\n  ): T {\n    return this.document.documentElement.insertBefore(newChild, refChild);\n  }\n  removeChild<T extends IChildNode>(child: T): T {\n    return this.document.documentElement.removeChild(child);\n  }\n\n  /**\n   * Remove all children which can be appended to its original parent later again.\n   */\n  removeChildren() {\n    this.document.documentElement.removeChildren();\n  }\n\n  /**\n   * Recursively destroy all children which can not be appended to its original parent later again.\n   * But the canvas remains running which means display objects can be appended later.\n   */\n  destroyChildren() {\n    this.document.documentElement.destroyChildren();\n  }\n\n  render(frame?: XRFrame) {\n    // console.log('render ----------------------');\n    if (frame) {\n      beforeRenderEvent.detail = frame;\n      afterRenderEvent.detail = frame;\n    }\n\n    this.dispatchEvent(beforeRenderEvent);\n\n    const renderingService = this.getRenderingService();\n    renderingService.render(this.getConfig(), frame, () => {\n      // trigger actual rerender event\n      // @see https://github.com/antvis/G/issues/1268\n      this.dispatchEvent(rerenderEvent);\n    });\n\n    this.dispatchEvent(afterRenderEvent);\n  }\n\n  private run() {\n    const tick = (time: number, frame?: XRFrame) => {\n      this.render(frame);\n      this.frameId = this.requestAnimationFrame(tick);\n    };\n    tick(0);\n  }\n\n  private initRenderer(renderer: IRenderer, firstContentfullPaint = false) {\n    if (!renderer) {\n      throw new Error('Renderer is required.');\n    }\n\n    // reset\n    this.inited = false;\n    this.readyPromise = undefined;\n\n    // FIXME: should re-create here?\n    this.context.rBushRoot = new RBush<RBushNodeAABB>();\n\n    // reset rendering plugins\n    this.context.renderingPlugins = [];\n    this.context.renderingPlugins.push(\n      new EventPlugin(),\n      new PrepareRendererPlugin(),\n      // new DirtyCheckPlugin(),\n      new CullingPlugin([new FrustumCullingStrategy()]),\n    );\n\n    //\n    this.loadRendererContainerModule(renderer);\n\n    // init context service\n    this.context.contextService = new this.context.ContextService({\n      ...runtime,\n      ...this.context,\n    });\n\n    // init rendering service\n    this.context.renderingService = new RenderingService(runtime, this.context);\n\n    // init event service\n    this.context.eventService = new EventService(runtime, this.context);\n    this.context.eventService.init();\n\n    if (this.context.contextService.init) {\n      this.context.contextService.init();\n      this.initRenderingService(renderer, firstContentfullPaint, true);\n    } else {\n      this.context.contextService\n        .initAsync()\n        .then(() => {\n          this.initRenderingService(renderer, firstContentfullPaint);\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n  }\n\n  private initRenderingService(\n    renderer: IRenderer,\n    firstContentfullPaint = false,\n    async = false,\n  ) {\n    this.context.renderingService.init(() => {\n      this.inited = true;\n\n      if (firstContentfullPaint) {\n        if (async) {\n          this.requestAnimationFrame(() => {\n            this.dispatchEvent(new CustomEvent(CanvasEvent.READY));\n          });\n        } else {\n          this.dispatchEvent(new CustomEvent(CanvasEvent.READY));\n        }\n      } else {\n        this.dispatchEvent(new CustomEvent(CanvasEvent.RENDERER_CHANGED));\n      }\n\n      if (this.readyPromise) {\n        this.resolveReadyPromise();\n      }\n\n      if (!firstContentfullPaint) {\n        this.getRoot().forEach((node) => {\n          const { renderable } = node as Element;\n          if (renderable) {\n            renderable.renderBoundsDirty = true;\n            renderable.boundsDirty = true;\n            renderable.dirty = true;\n          }\n        });\n      }\n\n      // keep current scenegraph unchanged, just trigger mounted event\n      this.mountChildren(this.getRoot());\n\n      if (renderer.getConfig().enableAutoRendering) {\n        this.run();\n      }\n    });\n  }\n\n  private loadRendererContainerModule(renderer: IRenderer) {\n    // load other container modules provided by g-canvas/g-svg/g-webgl\n    const plugins = renderer.getPlugins();\n    plugins.forEach((plugin) => {\n      plugin.context = this.context;\n      plugin.init(runtime);\n    });\n  }\n\n  setRenderer(renderer: IRenderer) {\n    // update canvas' config\n    const canvasConfig = this.getConfig();\n    if (canvasConfig.renderer === renderer) {\n      return;\n    }\n\n    const oldRenderer = canvasConfig.renderer;\n    canvasConfig.renderer = renderer;\n\n    // keep all children undestroyed\n    this.destroy(false, true);\n\n    // destroy all plugins, reverse will mutate origin array\n    [...(oldRenderer?.getPlugins() || [])].reverse().forEach((plugin) => {\n      plugin.destroy(runtime);\n    });\n\n    this.initRenderer(renderer);\n  }\n\n  setCursor(cursor: Cursor) {\n    const canvasConfig = this.getConfig();\n    canvasConfig.cursor = cursor;\n    this.getContextService().applyCursorStyle(cursor);\n  }\n\n  unmountChildren(parent: DisplayObject) {\n    // unmountChildren recursively\n    parent.childNodes.forEach((child: DisplayObject) => {\n      this.unmountChildren(child);\n    });\n\n    if (this.inited) {\n      if (parent.isMutationObserved) {\n        parent.dispatchEvent(unmountedEvent);\n      } else {\n        unmountedEvent.target = parent;\n        this.dispatchEvent(unmountedEvent, true);\n      }\n\n      // skip document.documentElement\n      if (parent !== this.document.documentElement) {\n        parent.ownerDocument = null;\n      }\n      parent.isConnected = false;\n    }\n\n    // trigger after unmounted\n    if (parent.isCustomElement) {\n      if ((parent as CustomElement<any>).disconnectedCallback) {\n        (parent as CustomElement<any>).disconnectedCallback();\n      }\n    }\n  }\n\n  mountChildren(\n    child: DisplayObject,\n    skipTriggerEvent: boolean = isInFragment(child),\n  ) {\n    if (this.inited) {\n      if (!child.isConnected) {\n        child.ownerDocument = this.document;\n        child.isConnected = true;\n\n        if (!skipTriggerEvent) {\n          if (child.isMutationObserved) {\n            child.dispatchEvent(mountedEvent);\n          } else {\n            mountedEvent.target = child;\n            this.dispatchEvent(mountedEvent, true);\n          }\n        }\n      }\n    } else {\n      console.warn(\n        \"[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.\",\n        'appended child: ',\n        child.nodeName,\n      );\n    }\n\n    // recursively mount children\n    child.childNodes.forEach((c: DisplayObject) => {\n      this.mountChildren(c, skipTriggerEvent);\n    });\n\n    // trigger after mounted\n    if (child.isCustomElement) {\n      if ((child as CustomElement<any>).connectedCallback) {\n        (child as CustomElement<any>).connectedCallback();\n      }\n    }\n  }\n\n  mountFragment(child: DisplayObject) {\n    this.mountChildren(child, false);\n  }\n\n  client2Viewport(client: PointLike): PointLike {\n    return this.getEventService().client2Viewport(client);\n  }\n\n  viewport2Client(canvas: PointLike): PointLike {\n    return this.getEventService().viewport2Client(canvas);\n  }\n\n  viewport2Canvas(viewport: PointLike): PointLike {\n    return this.getEventService().viewport2Canvas(viewport);\n  }\n\n  canvas2Viewport(canvas: PointLike): PointLike {\n    return this.getEventService().canvas2Viewport(canvas);\n  }\n\n  /**\n   * @deprecated\n   * @alias client2Viewport\n   */\n  getPointByClient(clientX: number, clientY: number): PointLike {\n    return this.client2Viewport({ x: clientX, y: clientY });\n  }\n\n  /**\n   * @deprecated\n   * @alias viewport2Client\n   */\n  getClientByPoint(x: number, y: number): PointLike {\n    return this.viewport2Client({ x, y });\n  }\n}\n", "import {\n  Camera,\n  CameraType,\n  getAngle,\n  createVec3,\n  deg2rad,\n  runtime,\n} from '@antv/g-lite';\nimport { isString, isNumber } from '@antv/util';\nimport { mat4, quat, vec3 } from 'gl-matrix';\nimport type { vec2 } from 'gl-matrix';\nimport type { TypeEasingFunction, Landmark } from '@antv/g-lite';\n\n/**\n * Provides camera action & animation.\n */\nexport class AdvancedCamera extends Camera {\n  /**\n   * switch between multiple landmarks\n   */\n  private landmarks: Landmark[] = [];\n  private landmarkAnimationID: number | undefined;\n\n  /**\n   * Changes the azimuth and elevation with respect to the current camera axes\n   * @param {Number} azimuth the relative azimuth\n   * @param {Number} elevation the relative elevation\n   * @param {Number} roll the relative roll\n   */\n  rotate(azimuth: number, elevation: number, roll: number) {\n    this.relElevation = getAngle(elevation);\n    this.relAzimuth = getAngle(azimuth);\n    this.relRoll = getAngle(roll);\n    this.elevation += this.relElevation;\n    this.azimuth += this.relAzimuth;\n    this.roll += this.relRoll;\n\n    if (this.type === CameraType.EXPLORING) {\n      const rotX = quat.setAxisAngle(\n        quat.create(),\n        [1, 0, 0],\n        deg2rad((this.rotateWorld ? 1 : -1) * this.relElevation),\n      );\n      const rotY = quat.setAxisAngle(\n        quat.create(),\n        [0, 1, 0],\n        deg2rad((this.rotateWorld ? 1 : -1) * this.relAzimuth),\n      );\n\n      const rotZ = quat.setAxisAngle(\n        quat.create(),\n        [0, 0, 1],\n        deg2rad(this.relRoll),\n      );\n      let rotQ = quat.multiply(quat.create(), rotY, rotX);\n      rotQ = quat.multiply(quat.create(), rotQ, rotZ);\n      const rotMatrix = mat4.fromQuat(mat4.create(), rotQ);\n      mat4.translate(this.matrix, this.matrix, [0, 0, -this.distance]);\n      mat4.multiply(this.matrix, this.matrix, rotMatrix);\n      mat4.translate(this.matrix, this.matrix, [0, 0, this.distance]);\n    } else {\n      if (Math.abs(this.elevation) > 90) {\n        return this;\n      }\n      this.computeMatrix();\n    }\n\n    this._getAxes();\n    if (\n      this.type === CameraType.ORBITING ||\n      this.type === CameraType.EXPLORING\n    ) {\n      this._getPosition();\n    } else if (this.type === CameraType.TRACKING) {\n      this._getFocalPoint();\n    }\n\n    this._update();\n    return this;\n  }\n\n  /**\n   * (right) & (up)\n   */\n  pan(tx: number, ty: number) {\n    const coords = createVec3(tx, ty, 0);\n    const pos = vec3.clone(this.position);\n\n    vec3.add(pos, pos, vec3.scale(vec3.create(), this.right, coords[0]));\n    vec3.add(pos, pos, vec3.scale(vec3.create(), this.up, coords[1]));\n\n    this._setPosition(pos);\n\n    this.triggerUpdate();\n\n    return this;\n  }\n\n  /**\n   *  n \n   */\n  dolly(value: number) {\n    const n = this.forward;\n    const pos = vec3.clone(this.position);\n    let step = value * this.dollyingStep;\n    const updatedDistance = this.distance + value * this.dollyingStep;\n\n    // \n    step =\n      Math.max(Math.min(updatedDistance, this.maxDistance), this.minDistance) -\n      this.distance;\n    pos[0] += step * n[0];\n    pos[1] += step * n[1];\n    pos[2] += step * n[2];\n\n    this._setPosition(pos);\n    if (\n      this.type === CameraType.ORBITING ||\n      this.type === CameraType.EXPLORING\n    ) {\n      // \n      this._getDistance();\n    } else if (this.type === CameraType.TRACKING) {\n      // \n      vec3.add(this.focalPoint, pos, this.distanceVector);\n    }\n\n    this.triggerUpdate();\n    return this;\n  }\n\n  cancelLandmarkAnimation() {\n    if (this.landmarkAnimationID !== undefined) {\n      this.canvas.cancelAnimationFrame(this.landmarkAnimationID);\n    }\n  }\n\n  createLandmark(\n    name: string,\n    params: Partial<{\n      position: vec3 | vec2;\n      focalPoint: vec3 | vec2;\n      zoom: number;\n      roll: number;\n    }> = {},\n  ): Landmark {\n    const {\n      position = this.position,\n      focalPoint = this.focalPoint,\n      roll,\n      zoom,\n    } = params;\n\n    const camera = new runtime.CameraContribution() as AdvancedCamera;\n    camera.setType(this.type, undefined);\n    camera.setPosition(\n      position[0],\n      position[1] ?? this.position[1],\n      position[2] ?? this.position[2],\n    );\n    camera.setFocalPoint(\n      focalPoint[0],\n      focalPoint[1] ?? this.focalPoint[1],\n      focalPoint[2] ?? this.focalPoint[2],\n    );\n    camera.setRoll(roll ?? this.roll);\n    camera.setZoom(zoom ?? this.zoom);\n\n    const landmark: Landmark = {\n      name,\n      matrix: mat4.clone(camera.getWorldTransform()),\n      right: vec3.clone(camera.right),\n      up: vec3.clone(camera.up),\n      forward: vec3.clone(camera.forward),\n      position: vec3.clone(camera.getPosition()),\n      focalPoint: vec3.clone(camera.getFocalPoint()),\n      distanceVector: vec3.clone(camera.getDistanceVector()),\n      distance: camera.getDistance(),\n      dollyingStep: camera.getDollyingStep(),\n      azimuth: camera.getAzimuth(),\n      elevation: camera.getElevation(),\n      roll: camera.getRoll(),\n      relAzimuth: camera.relAzimuth,\n      relElevation: camera.relElevation,\n      relRoll: camera.relRoll,\n      zoom: camera.getZoom(),\n    };\n\n    this.landmarks.push(landmark);\n    return landmark;\n  }\n\n  gotoLandmark(\n    name: string | Landmark,\n    options:\n      | number\n      | Partial<{\n          easing: string;\n          easingFunction: TypeEasingFunction;\n          duration: number;\n          onframe: (t: number) => void;\n          onfinish: () => void;\n        }> = {},\n  ) {\n    const landmark = isString(name)\n      ? this.landmarks.find((l) => l.name === name)\n      : name;\n    if (landmark) {\n      const {\n        easing = 'linear',\n        duration = 100,\n        easingFunction = undefined,\n        onfinish = undefined,\n        onframe = undefined,\n      } = isNumber(options) ? { duration: options } : options;\n      const epsilon = 0.01;\n\n      // cancel ongoing animation\n      this.cancelLandmarkAnimation();\n\n      const destPosition = landmark.position;\n      const destFocalPoint = landmark.focalPoint;\n      const destZoom = landmark.zoom;\n      const destRoll = landmark.roll;\n\n      const easingFunc = easingFunction || runtime.EasingFunction(easing);\n\n      let timeStart: number | undefined;\n      const end = () => {\n        this.setFocalPoint(destFocalPoint);\n        this.setPosition(destPosition);\n        this.setRoll(destRoll);\n        this.setZoom(destZoom);\n        this.computeMatrix();\n        this.triggerUpdate();\n        onfinish?.();\n      };\n\n      if (duration === 0) return end();\n\n      const animate = (timestamp: number) => {\n        if (timeStart === undefined) {\n          timeStart = timestamp;\n        }\n        const elapsed = timestamp - timeStart;\n\n        if (elapsed >= duration) {\n          end();\n          return;\n        }\n        // use the same ease function in animation system\n        const t = easingFunc(elapsed / duration);\n\n        const interFocalPoint = vec3.create();\n        const interPosition = vec3.create();\n        let interZoom = 1;\n        let interRoll = 0;\n\n        vec3.lerp(interFocalPoint, this.focalPoint, destFocalPoint, t);\n        vec3.lerp(interPosition, this.position, destPosition, t);\n        interRoll = this.roll * (1 - t) + destRoll * t;\n        interZoom = this.zoom * (1 - t) + destZoom * t;\n\n        this.setFocalPoint(interFocalPoint);\n        this.setPosition(interPosition);\n        this.setRoll(interRoll);\n        this.setZoom(interZoom);\n\n        const dist =\n          vec3.dist(interFocalPoint, destFocalPoint) +\n          vec3.dist(interPosition, destPosition);\n        if (\n          dist <= epsilon &&\n          destZoom === undefined &&\n          destRoll === undefined\n        ) {\n          return end();\n        }\n\n        this.computeMatrix();\n        this.triggerUpdate();\n\n        if (elapsed < duration) {\n          onframe?.(t);\n          this.landmarkAnimationID = this.canvas.requestAnimationFrame(animate);\n        }\n      };\n\n      this.canvas.requestAnimationFrame(animate);\n    }\n  }\n\n  /**\n   * Sets the camera to a distance such that the area covered by the bounding box is viewed.\n   */\n  // shot(displayObject: DisplayObject) {\n  //   const aabb = displayObject.getBounds();\n\n  //   if (!AABB.isEmpty(aabb)) {\n  //     this.setElevation(0);\n  //     this.setAzimuth(0);\n  //     this.setRoll(0);\n\n  //     const { halfExtents, center } = aabb;\n  //     const maxDim = Math.max(halfExtents[0] * 2, halfExtents[1] * 2);\n\n  //     const cc = center.map((c: number) => Math.round(c * 1000) / 1000) as [number, number, number];\n\n  //     if (maxDim !== 0) {\n  //       const d = (1.5 * maxDim) / Math.tan(this.fov * DEG_2_RAD);\n  //       this.setPosition([cc[0], cc[1], cc[2] + d]);\n  //     }\n\n  //     this.setFocalPoint(cc);\n  //   }\n  // }\n}\n", "import { runtime } from '@antv/g-lite';\nimport { AdvancedCamera } from './AdvancedCamera';\n\nexport { AdvancedCamera };\n\nruntime.CameraContribution = AdvancedCamera;\n", "import type { IElement } from '@antv/g-lite';\n\nexport class MutationRecord {\n  static copy(original: MutationRecord) {\n    const record = new MutationRecord(original.type, original.target);\n    record.addedNodes = original.addedNodes.slice();\n    record.removedNodes = original.removedNodes.slice();\n    record.previousSibling = original.previousSibling;\n    record.nextSibling = original.nextSibling;\n    record.attributeName = original.attributeName;\n    record.attributeNamespace = original.attributeNamespace;\n    record.oldValue = original.oldValue;\n    return record;\n  }\n\n  addedNodes: IElement[] = [];\n  attributeName: string = null;\n  attributeNamespace: string = null;\n  nextSibling: IElement = null;\n  oldValue: string = null;\n  previousSibling: IElement = null;\n  removedNodes: IElement[] = [];\n  constructor(\n    public type: MutationRecordType,\n    public target: IElement,\n  ) {}\n}\n", "/* eslint-disable max-classes-per-file */\nimport type { DisplayObject, IElement } from '@antv/g-lite';\nimport { ElementEvent, MutationEvent, runtime } from '@antv/g-lite';\nimport { MutationRecord } from './MutationRecord';\n\nlet uidCounter = 0;\nconst registrationsTable = new WeakMap<IElement, Registration[]>();\n\nexport class Registration {\n  private transientObservedNodes = [];\n\n  constructor(\n    public observer: MutationObserver,\n    public target: IElement,\n    public options?: MutationObserverInit,\n  ) {}\n\n  enqueue(record: MutationRecord) {\n    const { records } = this.observer;\n    const { length } = records;\n\n    // There are cases where we replace the last record with the new record.\n    // For example if the record represents the same mutation we need to use\n    // the one with the oldValue. If we get same record (this can happen as we\n    // walk up the tree) we ignore the new record.\n    if (records.length > 0) {\n      const lastRecord = records[length - 1];\n      const recordToReplaceLast = selectRecord(lastRecord, record);\n      if (recordToReplaceLast) {\n        records[length - 1] = recordToReplaceLast;\n        return;\n      }\n    } else {\n      scheduleCallback(this.observer);\n    }\n\n    records[length] = record;\n  }\n\n  addListeners() {\n    this.addListeners_(this.target);\n  }\n\n  private addListeners_(node: IElement) {\n    const { options } = this;\n    if (options.attributes)\n      node.addEventListener(ElementEvent.ATTR_MODIFIED, this, true);\n\n    // if (options.characterData) node.addEventListener('DOMCharacterDataModified', this, true);\n\n    if (options.childList)\n      node.addEventListener(ElementEvent.INSERTED, this, true);\n\n    if (options.childList || options.subtree)\n      node.addEventListener(ElementEvent.REMOVED, this, true);\n  }\n\n  removeListeners() {\n    this.removeListeners_(this.target);\n  }\n\n  removeListeners_(node: IElement) {\n    const { options } = this;\n    if (options.attributes)\n      node.removeEventListener(ElementEvent.ATTR_MODIFIED, this, true);\n\n    // if (options.characterData) node.removeEventListener('DOMCharacterDataModified', this, true);\n\n    if (options.childList)\n      node.removeEventListener(ElementEvent.INSERTED, this, true);\n\n    if (options.childList || options.subtree)\n      node.removeEventListener(ElementEvent.REMOVED, this, true);\n  }\n\n  /**\n   * Adds a transient observer on node. The transient observer gets removed\n   * next time we deliver the change records.\n   */\n  // addTransientObserver(node: IElement) {\n  //   // Don't add transient observers on the target itself. We already have all\n  //   // the required listeners set up on the target.\n  //   if (node === this.target) return;\n\n  //   this.addListeners_(node);\n  //   this.transientObservedNodes.push(node);\n  //   let registrations = registrationsTable.get(node);\n  //   if (!registrations) registrationsTable.set(node, (registrations = []));\n\n  //   // We know that registrations does not contain this because we already\n  //   // checked if node === this.target.\n  //   registrations.push(this);\n  // }\n\n  removeTransientObservers() {\n    const { transientObservedNodes } = this;\n    this.transientObservedNodes = [];\n\n    transientObservedNodes.forEach(function (node) {\n      // Transient observers are never added to the target.\n      this.removeListeners_(node);\n\n      const registrations = registrationsTable.get(node);\n      for (let i = 0; i < registrations.length; i++) {\n        if (registrations[i] === this) {\n          registrations.splice(i, 1);\n          // Each node can only have one registered observer associated with\n          // this observer.\n          break;\n        }\n      }\n    }, this);\n  }\n\n  handleEvent(e: MutationEvent) {\n    // Stop propagation since we are managing the propagation manually.\n    // This means that other mutation events on the page will not work\n    // correctly but that is by design.\n    e.stopImmediatePropagation();\n\n    let record: MutationRecord;\n    let target: IElement;\n\n    switch (e.type) {\n      case ElementEvent.ATTR_MODIFIED:\n        // http://dom.spec.whatwg.org/#concept-mo-queue-attributes\n\n        const name = e.attrName;\n        // @ts-ignore\n        const namespace = e.relatedNode.namespaceURI;\n        target = e.target as IElement;\n\n        // 1.\n        record = getRecord('attributes', target);\n        record.attributeName = name;\n        record.attributeNamespace = namespace;\n\n        // 2.\n        const oldValue =\n          e.attrChange === MutationEvent.ADDITION ? null : e.prevValue;\n\n        forEachAncestorAndObserverEnqueueRecord(target, (options) => {\n          // 3.1, 4.2\n          if (!options.attributes) return;\n\n          // 3.2, 4.3\n          if (\n            options.attributeFilter &&\n            options.attributeFilter.length &&\n            options.attributeFilter.indexOf(name) === -1 &&\n            options.attributeFilter.indexOf(namespace) === -1\n          ) {\n            return;\n          }\n          // 3.3, 4.4\n          if (options.attributeOldValue) return getRecordWithOldValue(oldValue);\n\n          // 3.4, 4.5\n          return record;\n        });\n\n        break;\n\n      // case 'DOMCharacterDataModified':\n      //   // http://dom.spec.whatwg.org/#concept-mo-queue-characterdata\n      //   var target = e.target;\n\n      //   // 1.\n      //   var record = getRecord('characterData', target);\n\n      //   // 2.\n      //   var oldValue = e.prevValue;\n\n      //   forEachAncestorAndObserverEnqueueRecord(target, function(options) {\n      //     // 3.1, 4.2\n      //     if (!options.characterData)\n      //       return;\n\n      //     // 3.2, 4.3\n      //     if (options.characterDataOldValue)\n      //       return getRecordWithOldValue(oldValue);\n\n      //     // 3.3, 4.4\n      //     return record;\n      //   });\n\n      //   break;\n\n      case ElementEvent.REMOVED:\n      // this.addTransientObserver(e.target as IElement);\n      // Fall through.\n      case ElementEvent.INSERTED:\n        // http://dom.spec.whatwg.org/#concept-mo-queue-childlist\n        target = e.relatedNode;\n        const changedNode = e.target as IElement;\n        let addedNodes: IElement[];\n        let removedNodes: IElement[];\n        if (e.type === ElementEvent.INSERTED) {\n          addedNodes = [changedNode];\n          removedNodes = [];\n        } else {\n          addedNodes = [];\n          removedNodes = [changedNode];\n        }\n        const { previousSibling } = changedNode;\n        const { nextSibling } = changedNode;\n\n        // 1.\n        record = getRecord('childList', target);\n        record.addedNodes = addedNodes;\n        record.removedNodes = removedNodes;\n        record.previousSibling = previousSibling as IElement;\n        record.nextSibling = nextSibling as IElement;\n\n        forEachAncestorAndObserverEnqueueRecord(target, function (options) {\n          // 2.1, 3.2\n          if (!options.childList) return;\n\n          // 2.2, 3.3\n          return record;\n        });\n    }\n\n    clearRecords();\n  }\n}\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\n * @see https://github.com/googlearchive/MutationObservers/blob/master/MutationObserver.js\n */\nexport class MutationObserver {\n  nodes: IElement[] = [];\n  records: MutationRecord[] = [];\n  uid = uidCounter++;\n\n  constructor(public callback: MutationCallback) {}\n\n  observe(target: DisplayObject, options?: MutationObserverInit) {\n    // 1.1\n    if (\n      (!options.childList && !options.attributes && !options.characterData) ||\n      // 1.2\n      (options.attributeOldValue && !options.attributes) ||\n      // 1.3\n      (options.attributeFilter &&\n        options.attributeFilter.length &&\n        !options.attributes) ||\n      // 1.4\n      (options.characterDataOldValue && !options.characterData)\n    ) {\n      throw new SyntaxError();\n    }\n\n    let registrations = registrationsTable.get(target);\n    if (!registrations) registrationsTable.set(target, (registrations = []));\n\n    // 2\n    // If target's list of registered observers already includes a registered\n    // observer associated with the context object, replace that registered\n    // observer's options with options.\n    let registration: Registration;\n    for (let i = 0; i < registrations.length; i++) {\n      if (registrations[i].observer === this) {\n        registration = registrations[i];\n        registration.removeListeners();\n        registration.options = options;\n        break;\n      }\n    }\n\n    // 3.\n    // Otherwise, add a new registered observer to target's list of registered\n    // observers with the context object as the observer and options as the\n    // options, and add target to context object's list of nodes on which it\n    // is registered.\n    if (!registration) {\n      registration = new Registration(this, target, options);\n      registrations.push(registration);\n      this.nodes.push(target);\n    }\n\n    registration.addListeners();\n  }\n\n  disconnect() {\n    this.nodes.forEach((node) => {\n      const registrations = registrationsTable.get(node);\n      for (let i = 0; i < registrations.length; i++) {\n        const registration = registrations[i];\n        if (registration.observer === this) {\n          registration.removeListeners();\n          registrations.splice(i, 1);\n          // Each node can only have one registered observer associated with\n          // this observer.\n          break;\n        }\n      }\n    }, this);\n    this.records = [];\n  }\n\n  takeRecords() {\n    const copyOfRecords = this.records;\n    this.records = [];\n    return copyOfRecords;\n  }\n}\n\n// We keep track of the two (possibly one) records used in a single mutation.\nlet currentRecord: MutationRecord;\nlet recordWithOldValue;\n\n/**\n * Creates a record without |oldValue| and caches it as |currentRecord| for\n * later use.\n */\nfunction getRecord(type: MutationRecordType, target: IElement) {\n  return (currentRecord = new MutationRecord(type, target));\n}\n\n/**\n * Gets or creates a record with |oldValue| based in the |currentRecord|\n */\nfunction getRecordWithOldValue(oldValue: any) {\n  if (recordWithOldValue) return recordWithOldValue;\n  recordWithOldValue = MutationRecord.copy(currentRecord);\n  recordWithOldValue.oldValue = oldValue;\n  return recordWithOldValue;\n}\n\nfunction clearRecords() {\n  currentRecord = recordWithOldValue = undefined;\n}\n\n/**\n * Whether the record represents a record from the current\n * mutation event.\n */\nfunction recordRepresentsCurrentMutation(record: MutationRecord) {\n  return record === recordWithOldValue || record === currentRecord;\n}\n\n/**\n * Selects which record, if any, to replace the last record in the queue.\n * This returns |null| if no record should be replaced.\n */\nfunction selectRecord(lastRecord: MutationRecord, newRecord: MutationRecord) {\n  if (lastRecord === newRecord) return lastRecord;\n\n  // Check if the the record we are adding represents the same record. If\n  // so, we keep the one with the oldValue in it.\n  if (recordWithOldValue && recordRepresentsCurrentMutation(lastRecord))\n    return recordWithOldValue;\n\n  return null;\n}\n\nfunction removeTransientObserversFor(observer: MutationObserver) {\n  observer.nodes.forEach((node) => {\n    const registrations = registrationsTable.get(node);\n    if (!registrations) return;\n    registrations.forEach(function (registration) {\n      if (registration.observer === observer)\n        registration.removeTransientObservers();\n    });\n  });\n}\n\n/**\n * This function is used for the \"For each registered observer observer (with\n * observer's options as options) in target's list of registered observers,\n * run these substeps:\" and the \"For each ancestor ancestor of target, and for\n * each registered observer observer (with options options) in ancestor's list\n * of registered observers, run these substeps:\" part of the algorithms. The\n * |options.subtree| is checked to ensure that the callback is called\n * correctly.\n *\n * @param {Node} target\n * @param {function(MutationObserverInit):MutationRecord} callback\n */\nfunction forEachAncestorAndObserverEnqueueRecord(target: IElement, callback) {\n  for (let node = target; node; node = node.parentNode as IElement) {\n    const registrations = registrationsTable.get(node);\n\n    if (registrations) {\n      for (let j = 0; j < registrations.length; j++) {\n        const registration = registrations[j];\n        const { options } = registration;\n\n        // Only target ignores subtree.\n        if (node !== target && !options.subtree) continue;\n\n        const record = callback(options);\n        if (record) registration.enqueue(record);\n      }\n    }\n  }\n}\n\n// This is used to ensure that we never schedule 2 callas to setImmediate\nlet isScheduled = false;\n\n// Keep track of observers that needs to be notified next time.\nlet scheduledObservers: MutationObserver[] = [];\n\n/**\n * Schedules |dispatchCallback| to be called in the future.\n */\nfunction scheduleCallback(observer: MutationObserver) {\n  scheduledObservers.push(observer);\n  if (!isScheduled) {\n    isScheduled = true;\n    // setImmediate(dispatchCallbacks);\n    if (typeof runtime.globalThis !== 'undefined') {\n      runtime.globalThis.setTimeout(dispatchCallbacks);\n    } else {\n      dispatchCallbacks();\n    }\n  }\n}\nfunction dispatchCallbacks() {\n  // http://dom.spec.whatwg.org/#mutation-observers\n\n  isScheduled = false; // Used to allow a new setImmediate call above.\n\n  const observers = scheduledObservers;\n  scheduledObservers = [];\n  // Sort observers based on their creation UID (incremental).\n  observers.sort((o1, o2) => {\n    return o1.uid - o2.uid;\n  });\n\n  let anyNonEmpty = false;\n  observers.forEach(function (observer) {\n    // 2.1, 2.2\n    const queue = observer.takeRecords();\n    // 2.3. Remove all transient registered observers whose observer is mo.\n    removeTransientObserversFor(observer);\n\n    // 2.4\n    if (queue.length) {\n      // @ts-ignore\n      observer.callback(queue, observer);\n      anyNonEmpty = true;\n    }\n  });\n\n  // 3.\n  if (anyNonEmpty) dispatchCallbacks();\n}\n", "import type { EventService } from '@antv/g-lite';\nimport { FederatedEvent } from '@antv/g-lite';\nimport type { Animation } from './Animation';\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationPlaybackEvent\n */\n// @ts-ignore\nexport class AnimationEvent\n  extends FederatedEvent\n  implements AnimationPlaybackEvent\n{\n  constructor(\n    manager: EventService | null,\n    target: Animation,\n    public currentTime: number | null,\n    public timelineTime: number,\n  ) {\n    super(manager);\n\n    // @ts-ignore\n    this.target = target;\n    this.type = 'finish';\n    this.bubbles = false;\n    // @ts-ignore\n    this.currentTarget = target;\n    this.defaultPrevented = false;\n    this.eventPhase = this.AT_TARGET;\n    this.timeStamp = Date.now();\n    this.currentTime = currentTime;\n    this.timelineTime = timelineTime;\n  }\n}\n", "import type { DisplayObject, IAnimation } from '@antv/g-lite';\nimport { ERROR_MSG_METHOD_NOT_IMPLEMENTED } from '@antv/g-lite';\nimport { AnimationEvent } from './AnimationEvent';\nimport type { AnimationTimeline } from './AnimationTimeline';\nimport type { KeyframeEffect } from './KeyframeEffect';\n\nlet sequenceNumber = 0;\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/Animation\n */\nexport class Animation implements IAnimation {\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/effect\n   */\n  effect: KeyframeEffect;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/timeline\n   */\n  timeline: AnimationTimeline;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/id\n   */\n  id: string;\n\n  // animation: InternalAnimation | null;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/pending\n   */\n  get pending() {\n    return (\n      (this._startTime === null && !this._paused && this.playbackRate !== 0) ||\n      this.currentTimePending\n    );\n  }\n  private currentTimePending = false;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/playState\n   */\n  // playState: AnimationPlayState;\n  private _idle = true;\n  private _paused = false;\n  private _finishedFlag = true;\n  get playState(): AnimationPlayState {\n    if (this._idle) return 'idle';\n    if (this._isFinished) return 'finished';\n    if (this._paused) return 'paused';\n    return 'running';\n  }\n\n  /**\n   * record previos state\n   */\n  private oldPlayState: AnimationPlayState | 'pending';\n\n  private _holdTime: number;\n\n  private readyPromise: Promise<any> | undefined;\n  private finishedPromise: Promise<any> | undefined;\n  private resolveReadyPromise: Function;\n  private rejectReadyPromise: Function;\n  private resolveFinishedPromise: Function;\n  private rejectFinishedPromise: Function;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/ready\n   * @example\n    animation.pause();\n    animation.ready.then(function() {\n      // Displays 'running'\n      alert(animation.playState);\n    });\n    animation.play();\n   */\n  get ready() {\n    if (!this.readyPromise) {\n      if (this.timeline.animationsWithPromises.indexOf(this) === -1) {\n        this.timeline.animationsWithPromises.push(this);\n      }\n      this.readyPromise = new Promise((resolve, reject) => {\n        this.resolveReadyPromise = () => {\n          resolve(this);\n        };\n        this.rejectReadyPromise = () => {\n          reject(new Error());\n        };\n      });\n      if (!this.pending) {\n        this.resolveReadyPromise();\n      }\n    }\n    return this.readyPromise;\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/finished\n   * @example\n    Promise.all(\n      elem.getAnimations().map(\n        function(animation) {\n          return animation.finished\n        }\n      )\n    ).then(\n      function() {\n        return elem.remove();\n      }\n    );\n   */\n  get finished() {\n    if (!this.finishedPromise) {\n      if (this.timeline.animationsWithPromises.indexOf(this) === -1) {\n        this.timeline.animationsWithPromises.push(this);\n      }\n      this.finishedPromise = new Promise((resolve, reject) => {\n        this.resolveFinishedPromise = () => {\n          resolve(this);\n        };\n        this.rejectFinishedPromise = () => {\n          reject(new Error());\n        };\n      });\n      if (this.playState === 'finished') {\n        this.resolveFinishedPromise();\n      }\n    }\n    return this.finishedPromise;\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/onfinish\n   */\n  onfinish: ((this: Animation, ev: AnimationPlaybackEvent) => any) | null;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/oncancel\n   */\n  oncancel: ((this: Animation, ev: AnimationPlaybackEvent) => any) | null;\n\n  /**\n   * get called after each frame when running\n   */\n  onframe: ((this: Animation, ev: AnimationPlaybackEvent) => any) | null;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/currentTime\n   */\n  private _currentTime = 0;\n  get currentTime(): number | null {\n    this.updatePromises();\n    return this._idle || this.currentTimePending ? null : this._currentTime;\n  }\n  set currentTime(newTime: number | null) {\n    newTime = Number(newTime);\n    if (isNaN(newTime)) return;\n    this.timeline.restart();\n    if (!this._paused && this._startTime !== null) {\n      this._startTime =\n        Number(this.timeline?.currentTime) - newTime / this.playbackRate;\n    }\n    this.currentTimePending = false;\n    if (this._currentTime === newTime) {\n      return;\n    }\n    if (this._idle) {\n      this._idle = false;\n      this._paused = true;\n    }\n    this.tickCurrentTime(newTime, true);\n    this.timeline.applyDirtiedAnimation(this);\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/startTime\n   */\n  private _startTime: number | null;\n  get startTime() {\n    return this._startTime;\n  }\n  set startTime(newTime: number | null) {\n    if (newTime !== null) {\n      this.updatePromises();\n      newTime = Number(newTime);\n      if (isNaN(newTime)) return;\n      if (this._paused || this._idle) return;\n      this._startTime = newTime;\n      this.tickCurrentTime(\n        (Number(this.timeline.currentTime) - this._startTime) *\n          this.playbackRate,\n      );\n      this.timeline.applyDirtiedAnimation(this);\n      this.updatePromises();\n    }\n  }\n\n  private _playbackRate = 1;\n  get playbackRate() {\n    return this._playbackRate;\n  }\n  set playbackRate(value: number) {\n    if (value === this._playbackRate) {\n      return;\n    }\n\n    this.updatePromises();\n    const oldCurrentTime = this.currentTime;\n    this._playbackRate = value;\n    this.startTime = null;\n    if (this.playState !== 'paused' && this.playState !== 'idle') {\n      this._finishedFlag = false;\n      this._idle = false;\n      this.ensureAlive();\n      this.timeline.applyDirtiedAnimation(this);\n    }\n    if (oldCurrentTime !== null) {\n      this.currentTime = oldCurrentTime;\n    }\n    this.updatePromises();\n  }\n\n  get _isFinished() {\n    return (\n      !this._idle &&\n      ((this._playbackRate > 0 &&\n        Number(this._currentTime) >= this._totalDuration) ||\n        (this._playbackRate < 0 && Number(this._currentTime) <= 0))\n    );\n  }\n\n  _totalDuration: number;\n  get totalDuration() {\n    return this._totalDuration;\n  }\n\n  _inEffect: boolean;\n  _inTimeline = true;\n  get _needsTick() {\n    return this.pending || this.playState === 'running' || !this._finishedFlag;\n  }\n\n  constructor(effect: KeyframeEffect, timeline: AnimationTimeline) {\n    this.effect = effect;\n    effect.animation = this;\n    this.timeline = timeline;\n    this.id = `${sequenceNumber++}`;\n\n    this._inEffect = !!this.effect.update(0);\n    this._totalDuration = Number(this.effect?.getComputedTiming().endTime);\n    this._holdTime = 0;\n    this._paused = false;\n    this.oldPlayState = 'idle';\n    this.updatePromises();\n  }\n\n  /**\n   * state machine,\n   * resolve/reject ready/finished Promise according to current state\n   */\n  updatePromises() {\n    const { oldPlayState } = this;\n    const newPlayState = this.pending ? 'pending' : this.playState;\n    if (this.readyPromise && newPlayState !== oldPlayState) {\n      if (newPlayState === 'idle') {\n        this.rejectReadyPromise();\n        this.readyPromise = undefined;\n      } else if (oldPlayState === 'pending') {\n        this.resolveReadyPromise();\n      } else if (newPlayState === 'pending') {\n        this.readyPromise = undefined;\n      }\n    }\n    if (this.finishedPromise && newPlayState !== oldPlayState) {\n      if (newPlayState === 'idle') {\n        this.rejectFinishedPromise();\n        this.finishedPromise = undefined;\n      } else if (newPlayState === 'finished') {\n        this.resolveFinishedPromise();\n      } else if (oldPlayState === 'finished') {\n        this.finishedPromise = undefined;\n      }\n    }\n    this.oldPlayState = newPlayState;\n    return this.readyPromise || this.finishedPromise;\n  }\n\n  play() {\n    this.updatePromises();\n    this._paused = false;\n    if (this._isFinished || this._idle) {\n      this.rewind();\n      this._startTime = null;\n    }\n    this._finishedFlag = false;\n    this._idle = false;\n    this.ensureAlive();\n    this.timeline.applyDirtiedAnimation(this);\n\n    if (this.timeline.animations.indexOf(this) === -1) {\n      this.timeline.animations.push(this);\n    }\n\n    this.updatePromises();\n  }\n\n  pause() {\n    this.updatePromises();\n    if (this.currentTime) {\n      this._holdTime = this.currentTime;\n    }\n\n    if (!this._isFinished && !this._paused && !this._idle) {\n      this.currentTimePending = true;\n    } else if (this._idle) {\n      this.rewind();\n      this._idle = false;\n    }\n    this._startTime = null;\n    this._paused = true;\n\n    this.updatePromises();\n  }\n\n  finish() {\n    this.updatePromises();\n    if (this._idle) return;\n    this.currentTime = this._playbackRate > 0 ? this._totalDuration : 0;\n    this._startTime = this._totalDuration - this.currentTime;\n    this.currentTimePending = false;\n    this.timeline.applyDirtiedAnimation(this);\n\n    this.updatePromises();\n  }\n\n  cancel() {\n    this.updatePromises();\n    if (!this._inEffect) return;\n    this._inEffect = false;\n    this._idle = true;\n    this._paused = false;\n    this._finishedFlag = true;\n    this._currentTime = 0;\n    this._startTime = null;\n    this.effect.update(null);\n    // effects are invalid after cancellation as the animation state\n    // needs to un-apply.\n    this.timeline.applyDirtiedAnimation(this);\n\n    this.updatePromises();\n\n    /**\n     * 1. Reject the current finished promise with a DOMException named \"AbortError\".\n     * 2. Let current finished promise be a new promise\n     * @see https://w3c.github.io/csswg-drafts/web-animations-1/#canceling-an-animation-section\n     */\n    // if (this.finishedPromise) {\n    //   this.rejectFinishedPromise();\n    //   this.finishedPromise = undefined;\n    // }\n\n    if (this.oncancel) {\n      const event = new AnimationEvent(\n        null,\n        this,\n        this.currentTime,\n        null,\n      ) as AnimationPlaybackEvent;\n      setTimeout(() => {\n        this.oncancel(event);\n      });\n    }\n  }\n\n  reverse() {\n    this.updatePromises();\n    const oldCurrentTime = this.currentTime;\n\n    this.playbackRate *= -1;\n    this.play();\n\n    if (oldCurrentTime !== null) {\n      this.currentTime = oldCurrentTime;\n    }\n    this.updatePromises();\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/updatePlaybackRate\n   */\n  updatePlaybackRate(playbackRate: number): void {\n    this.playbackRate = playbackRate;\n  }\n\n  targetAnimations() {\n    const target = this.effect?.target as unknown as DisplayObject;\n    return target.getAnimations();\n  }\n  markTarget() {\n    const animations = this.targetAnimations();\n    if (animations.indexOf(this) === -1) {\n      animations.push(this);\n    }\n  }\n  unmarkTarget() {\n    const animations = this.targetAnimations();\n    const index = animations.indexOf(this);\n    if (index !== -1) {\n      animations.splice(index, 1);\n    }\n  }\n\n  tick(timelineTime: number, isAnimationFrame: boolean) {\n    if (!this._idle && !this._paused) {\n      if (this._startTime === null) {\n        if (isAnimationFrame) {\n          this.startTime = timelineTime - this._currentTime / this.playbackRate;\n        }\n      } else if (!this._isFinished) {\n        this.tickCurrentTime(\n          (timelineTime - this._startTime) * this.playbackRate,\n        );\n      }\n    }\n\n    if (isAnimationFrame) {\n      this.currentTimePending = false;\n      this.fireEvents(timelineTime);\n    }\n  }\n\n  private rewind() {\n    if (this.playbackRate >= 0) {\n      this.currentTime = 0;\n    } else if (this._totalDuration < Infinity) {\n      this.currentTime = this._totalDuration;\n    } else {\n      throw new Error(\n        'Unable to rewind negative playback rate animation with infinite duration',\n      );\n    }\n  }\n\n  persist(): void {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  addEventListener<K extends keyof AnimationEventMap>(\n    type: K,\n    listener: (this: Animation, ev: AnimationEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions,\n  ): void;\n  addEventListener(\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions,\n  ): void;\n\n  addEventListener(type: any, listener: any, options?: any): void {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  removeEventListener<K extends keyof AnimationEventMap>(\n    type: K,\n    listener: (this: Animation, ev: AnimationEventMap[K]) => any,\n    options?: boolean | EventListenerOptions,\n  ): void;\n  removeEventListener(\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | EventListenerOptions,\n  ): void;\n\n  removeEventListener(type: any, listener: any, options?: any): void {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  dispatchEvent(event: Event): boolean {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  onremove: ((this: Animation, ev: Event) => any) | null;\n  // replaceState: AnimationReplaceState;\n  commitStyles(): void {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n\n  private ensureAlive() {\n    // If an animation is playing backwards and is not fill backwards/both\n    // then it should go out of effect when it reaches the start of its\n    // active interval (currentTime === 0).\n    if (this.playbackRate < 0 && this.currentTime === 0) {\n      this._inEffect = !!this.effect?.update(-1);\n    } else {\n      this._inEffect = !!this.effect?.update(this.currentTime);\n    }\n    if (!this._inTimeline && (this._inEffect || !this._finishedFlag)) {\n      this._inTimeline = true;\n      this.timeline.animations.push(this);\n    }\n  }\n\n  private tickCurrentTime(newTime: number, ignoreLimit?: boolean) {\n    if (newTime !== this._currentTime) {\n      this._currentTime = newTime;\n      if (this._isFinished && !ignoreLimit) {\n        this._currentTime = this._playbackRate > 0 ? this._totalDuration : 0;\n      }\n      this.ensureAlive();\n    }\n  }\n\n  private fireEvents(baseTime: number) {\n    if (this._isFinished) {\n      if (!this._finishedFlag) {\n        if (this.onfinish) {\n          const event = new AnimationEvent(\n            null,\n            this,\n            this.currentTime,\n            baseTime,\n          ) as AnimationPlaybackEvent;\n          setTimeout(() => {\n            if (this.onfinish) {\n              this.onfinish(event);\n            }\n          });\n        }\n        this._finishedFlag = true;\n      }\n    } else {\n      if (this.onframe && this.playState === 'running') {\n        const event = new AnimationEvent(\n          null,\n          this,\n          this.currentTime,\n          baseTime,\n        ) as AnimationPlaybackEvent;\n        this.onframe(event);\n      }\n      this._finishedFlag = false;\n    }\n  }\n}\n", "/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gatan Renaudeau 2014 - 2015  MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nexport const NEWTON_ITERATIONS = 4;\nexport const NEWTON_MIN_SLOPE = 0.001;\nexport const SUBDIVISION_PRECISION = 0.0000001;\nexport const SUBDIVISION_MAX_ITERATIONS = 10;\n\nexport const kSplineTableSize = 11;\nexport const kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nexport const float32ArraySupported = typeof Float32Array === 'function';\n\nexport const A = (aA1: number, aA2: number) => 1.0 - 3.0 * aA2 + 3.0 * aA1;\nexport const B = (aA1: number, aA2: number) => 3.0 * aA2 - 6.0 * aA1;\nexport const C = (aA1: number) => 3.0 * aA1;\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nexport const calcBezier = (aT: number, aA1: number, aA2: number) =>\n  ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nexport const getSlope = (aT: number, aA1: number, aA2: number) =>\n  3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\nexport const binarySubdivide = (\n  aX: number,\n  aA: number,\n  aB: number,\n  mX1: number,\n  mX2: number,\n) => {\n  let currentX: number;\n  let currentT: number;\n  let i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) aB = currentT;\n    else aA = currentT;\n  } while (\n    Math.abs(currentX) > SUBDIVISION_PRECISION &&\n    ++i < SUBDIVISION_MAX_ITERATIONS\n  );\n  return currentT;\n};\n\nexport const newtonRaphsonIterate = (\n  aX: number,\n  aGuessT: number,\n  mX1: number,\n  mX2: number,\n) => {\n  for (let i = 0; i < NEWTON_ITERATIONS; ++i) {\n    const currentSlope = getSlope(aGuessT, mX1, mX2);\n    if (currentSlope === 0.0) return aGuessT;\n\n    const currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n\n  return aGuessT;\n};\n\nexport const bezier = (mX1: number, mY1: number, mX2: number, mY2: number) => {\n  if (!(mX1 >= 0 && mX1 <= 1 && mX2 >= 0 && mX2 <= 1))\n    throw new Error('bezier x values must be in [0, 1] range');\n\n  if (mX1 === mY1 && mX2 === mY2) return (t: number) => t;\n\n  // Precompute samples table\n  const sampleValues = float32ArraySupported\n    ? new Float32Array(kSplineTableSize)\n    : new Array(kSplineTableSize);\n  for (let i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  const getTForX = (aX: number) => {\n    let intervalStart = 0.0;\n    let currentSample = 1;\n    const lastSample = kSplineTableSize - 1;\n\n    for (\n      ;\n      currentSample !== lastSample && sampleValues[currentSample] <= aX;\n      ++currentSample\n    )\n      intervalStart += kSampleStepSize;\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    const dist =\n      (aX - sampleValues[currentSample]) /\n      (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    const guessForT = intervalStart + dist * kSampleStepSize;\n\n    const initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE)\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    if (initialSlope === 0.0) return guessForT;\n\n    return binarySubdivide(\n      aX,\n      intervalStart,\n      intervalStart + kSampleStepSize,\n      mX1,\n      mX2,\n    );\n  };\n\n  return (t: number) => {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (t === 0 || t === 1) return t;\n    return calcBezier(getTForX(t), mY1, mY2);\n  };\n};\n", "/**\n * ported from https://github.com/okikio/native/blob/master/packages/animate/src/custom-easing.ts\n */\nimport type { TypeEasingFunction } from '@antv/g-lite';\nimport { clamp } from '@antv/util';\nimport { bezier } from './bezier-easing';\n\nexport const convertToDash = (str: string) => {\n  str = str.replace(/([A-Z])/g, (letter) => `-${letter.toLowerCase()}`);\n\n  // Remove first dash\n  return str.charAt(0) === '-' ? str.substring(1) : str;\n};\n\nexport type TypeColor = string | number | (string | number)[];\nexport type TypeRGBAFunction = (color: TypeColor) => number[];\n\n/**\n  Easing Functions from anime.js, they are tried and true, so, its better to use them instead of other alternatives\n*/\nconst Quad: TypeEasingFunction = (t) => t ** 2;\nconst Cubic: TypeEasingFunction = (t) => t ** 3;\nconst Quart: TypeEasingFunction = (t) => t ** 4;\nconst Quint: TypeEasingFunction = (t) => t ** 5;\nconst Expo: TypeEasingFunction = (t) => t ** 6;\nconst Sine: TypeEasingFunction = (t) => 1 - Math.cos((t * Math.PI) / 2);\nconst Circ: TypeEasingFunction = (t) => 1 - Math.sqrt(1 - t * t);\nconst Back: TypeEasingFunction = (t) => t * t * (3 * t - 2);\n\nconst Bounce: TypeEasingFunction = (t) => {\n  let pow2: number;\n  let b = 4;\n  while (t < ((pow2 = 2 ** --b) - 1) / 11) {}\n  return 1 / 4 ** (3 - b) - 7.5625 * ((pow2 * 3 - 2) / 22 - t) ** 2;\n};\n\nconst Elastic: TypeEasingFunction = (t, params: (string | number)[] = []) => {\n  const [amplitude = 1, period = 0.5] = params;\n  const a = clamp(Number(amplitude), 1, 10);\n  const p = clamp(Number(period), 0.1, 2);\n  if (t === 0 || t === 1) return t;\n  return (\n    -a *\n    2 ** (10 * (t - 1)) *\n    Math.sin(\n      ((t - 1 - (p / (Math.PI * 2)) * Math.asin(1 / a)) * (Math.PI * 2)) / p,\n    )\n  );\n};\n\nconst Spring: TypeEasingFunction = (\n  t: number,\n  params: (string | number)[] = [],\n  duration?: number,\n) => {\n  let [mass = 1, stiffness = 100, damping = 10, velocity = 0] = params;\n\n  mass = clamp(mass as number, 0.1, 1000);\n  stiffness = clamp(stiffness as number, 0.1, 1000);\n  damping = clamp(damping as number, 0.1, 1000);\n  velocity = clamp(velocity as number, 0.1, 1000);\n\n  const w0 = Math.sqrt(stiffness / mass);\n  const zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  const wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  const a = 1;\n  const b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  let progress = duration ? (duration * t) / 1000 : t;\n  if (zeta < 1) {\n    progress =\n      Math.exp(-progress * zeta * w0) *\n      (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n  } else {\n    progress = (a + b * progress) * Math.exp(-progress * w0);\n  }\n\n  if (t === 0 || t === 1) return t;\n  return 1 - progress;\n};\n\n/**\n * Cache the durations at set easing parameters\n */\n// export const EasingDurationCache: Map<string | TypeEasingFunction, number> = new Map();\n\n/**\n * The threshold for an infinite loop\n */\n// const INTINITE_LOOP_LIMIT = 10000;\n\n/** Convert easing parameters to Array of numbers, e.g. \"spring(2, 500)\" to [2, 500] */\n// export const parseEasingParameters = (str: string) => {\n//   const match = /(\\(|\\s)([^)]+)\\)?/.exec(str);\n//   return match\n//     ? match[2].split(',').map((value) => {\n//         const num = parseFloat(value);\n//         return !Number.isNaN(num) ? num : value.trim();\n//       })\n//     : [];\n// };\n\n/**\n * The spring easing function will only look smooth at certain durations, with certain parameters.\n * This functions returns the optimal duration to create a smooth springy animation based on physics\n *\n * Note: it can also be used to determine the optimal duration of other types of easing function, but be careful of 'in-'\n * easing functions, because of the nature of the function it can sometimes create an infinite loop, I suggest only using\n * `getEasingDuration` for `spring`, specifically 'out-spring' and 'spring'\n */\n// export const getEasingDuration = (easing: string | TypeEasingFunction = 'spring') => {\n//   if (EasingDurationCache.has(easing)) return EasingDurationCache.get(easing);\n\n//   // eslint-disable-next-line @typescript-eslint/no-use-before-define\n//   const easingFunction = typeof easing == 'function' ? easing : getEasingFunction(easing as string);\n//   const params = typeof easing == 'function' ? [] : parseEasingParameters(easing);\n//   const frame = 1 / 6;\n\n//   let elapsed = 0;\n//   let rest = 0;\n//   let count = 0;\n\n//   while (++count < INTINITE_LOOP_LIMIT) {\n//     elapsed += frame;\n//     if (easingFunction(elapsed, params, undefined) === 1) {\n//       rest++;\n//       if (rest >= 16) break;\n//     } else {\n//       rest = 0;\n//     }\n//   }\n\n//   const duration = elapsed * frame * 1000;\n//   EasingDurationCache.set(easing, duration);\n//   return duration;\n// };\n\n/**\n  These Easing Functions are based off of the Sozi Project's easing functions\n  https://github.com/sozi-projects/Sozi/blob/d72e44ebd580dc7579d1e177406ad41e632f961d/src/js/player/Timing.js\n*/\nconst Steps: TypeEasingFunction = (t: number, params = []) => {\n  const [steps = 10, type] = params as [number, string];\n  const trunc = type === 'start' ? Math.ceil : Math.floor;\n  return trunc(clamp(t, 0, 1) * steps) / steps;\n};\n\n// @ts-ignore\nconst Bezier: TypeEasingFunction = (t: number, params: number[] = []) => {\n  const [mX1, mY1, mX2, mY2] = params;\n  return bezier(mX1, mY1, mX2, mY2)(t);\n};\n\n/** The default `ease-in` easing function */\nconst easein: TypeEasingFunction = bezier(0.42, 0.0, 1.0, 1.0);\n\n/** Converts easing functions to their `out`counter parts */\nconst EaseOut = (ease: TypeEasingFunction): TypeEasingFunction => {\n  return (t, params = [], duration?: number) =>\n    1 - ease(1 - t, params, duration);\n};\n\n/** Converts easing functions to their `in-out` counter parts */\nconst EaseInOut = (ease: TypeEasingFunction): TypeEasingFunction => {\n  return (t, params = [], duration?: number) =>\n    t < 0.5\n      ? ease(t * 2, params, duration) / 2\n      : 1 - ease(t * -2 + 2, params, duration) / 2;\n};\n\n/** Converts easing functions to their `out-in` counter parts */\nconst EaseOutIn = (ease: TypeEasingFunction): TypeEasingFunction => {\n  return (t, params = [], duration?: number) => {\n    return t < 0.5\n      ? (1 - ease(1 - t * 2, params, duration)) / 2\n      : (ease(t * 2 - 1, params, duration) + 1) / 2;\n  };\n};\n\n/**\n * The default list of easing functions, do note this is different from {@link EASING}\n */\ntype EasingFunctionType =\n  | 'steps'\n  | 'step-start'\n  | 'step-end'\n  | 'linear'\n  | 'cubic-bezier'\n  | 'ease'\n  | 'in'\n  | 'out'\n  | 'in-out'\n  | 'out-in'\n  | 'in-quad'\n  | 'out-quad'\n  | 'in-out-quad'\n  | 'out-in-quad'\n  | 'in-cubic'\n  | 'out-cubic'\n  | 'in-out-cubic'\n  | 'out-in-cubic'\n  | 'in-quart'\n  | 'out-quart'\n  | 'in-out-quart'\n  | 'out-in-quart'\n  | 'in-quint'\n  | 'out-quint'\n  | 'in-out-quint'\n  | 'out-in-quint'\n  | 'in-expo'\n  | 'out-expo'\n  | 'in-out-expo'\n  | 'out-in-expo'\n  | 'in-sine'\n  | 'out-sine'\n  | 'in-out-sine'\n  | 'out-in-sine'\n  | 'in-circ'\n  | 'out-circ'\n  | 'in-out-circ'\n  | 'out-in-circ'\n  | 'in-back'\n  | 'out-back'\n  | 'in-out-back'\n  | 'out-in-back'\n  | 'in-bounce'\n  | 'out-bounce'\n  | 'in-out-bounce'\n  | 'out-in-bounce'\n  | 'in-elastic'\n  | 'out-elastic'\n  | 'in-out-elastic'\n  | 'out-in-elastic'\n  | 'spring'\n  | 'spring-in'\n  | 'spring-out'\n  | 'spring-in-out'\n  | 'spring-out-in';\nexport const EasingFunctions: Record<EasingFunctionType, TypeEasingFunction> = {\n  steps: Steps,\n  'step-start': (t) => Steps(t, [1, 'start']),\n  'step-end': (t) => Steps(t, [1, 'end']),\n\n  linear: (t) => t,\n  'cubic-bezier': Bezier,\n  ease: (t) => Bezier(t, [0.25, 0.1, 0.25, 1.0]),\n\n  in: easein,\n  out: EaseOut(easein),\n  'in-out': EaseInOut(easein),\n  'out-in': EaseOutIn(easein),\n\n  'in-quad': Quad,\n  'out-quad': EaseOut(Quad),\n  'in-out-quad': EaseInOut(Quad),\n  'out-in-quad': EaseOutIn(Quad),\n\n  'in-cubic': Cubic,\n  'out-cubic': EaseOut(Cubic),\n  'in-out-cubic': EaseInOut(Cubic),\n  'out-in-cubic': EaseOutIn(Cubic),\n\n  'in-quart': Quart,\n  'out-quart': EaseOut(Quart),\n  'in-out-quart': EaseInOut(Quart),\n  'out-in-quart': EaseOutIn(Quart),\n\n  'in-quint': Quint,\n  'out-quint': EaseOut(Quint),\n  'in-out-quint': EaseInOut(Quint),\n  'out-in-quint': EaseOutIn(Quint),\n\n  'in-expo': Expo,\n  'out-expo': EaseOut(Expo),\n  'in-out-expo': EaseInOut(Expo),\n  'out-in-expo': EaseOutIn(Expo),\n\n  'in-sine': Sine,\n  'out-sine': EaseOut(Sine),\n  'in-out-sine': EaseInOut(Sine),\n  'out-in-sine': EaseOutIn(Sine),\n\n  'in-circ': Circ,\n  'out-circ': EaseOut(Circ),\n  'in-out-circ': EaseInOut(Circ),\n  'out-in-circ': EaseOutIn(Circ),\n\n  'in-back': Back,\n  'out-back': EaseOut(Back),\n  'in-out-back': EaseInOut(Back),\n  'out-in-back': EaseOutIn(Back),\n\n  'in-bounce': Bounce,\n  'out-bounce': EaseOut(Bounce),\n  'in-out-bounce': EaseInOut(Bounce),\n  'out-in-bounce': EaseOutIn(Bounce),\n\n  'in-elastic': Elastic,\n  'out-elastic': EaseOut(Elastic),\n  'in-out-elastic': EaseInOut(Elastic),\n  'out-in-elastic': EaseOutIn(Elastic),\n\n  spring: Spring,\n  'spring-in': Spring,\n  'spring-out': EaseOut(Spring),\n  'spring-in-out': EaseInOut(Spring),\n  'spring-out-in': EaseOutIn(Spring),\n};\n\n/**\n * Convert string easing to their proper form\n */\nconst complexEasingSyntax = (ease: string) =>\n  convertToDash(ease)\n    .replace(/^ease-/, '') // Remove the \"ease-\" keyword\n    .replace(/(\\(|\\s).+/, '') // Remove the function brackets and parameters\n    .toLowerCase()\n    .trim();\n\n/** Re-maps a number from one range to another. Numbers outside the range are not clamped to 0 and 1, because out-of-range values are often intentional and useful. */\nexport const getEasingFunction = (ease: string) => {\n  return EasingFunctions[complexEasingSyntax(ease)] || EasingFunctions.linear;\n};\n\n// /**\n//  * Allows you to register new easing functions\n//  */\n// export const registerEasingFunction = (key: string, fn: TypeEasingFunction) => {\n//   Object.assign(EasingFunctions, {\n//     [key]: fn,\n//   });\n// };\n\n// /**\n//  * Allows you to register multiple new easing functions\n//  */\n// export const registerEasingFunctions = (...obj: typeof EasingFunctions[]) => {\n//   Object.assign(EasingFunctions, ...obj);\n// };\n", "import type { AnimationEffectTiming } from '../dom/AnimationEffectTiming';\nimport { bezier } from './bezier-easing';\nimport { convertToDash, getEasingFunction } from './custom-easing';\n\nexport const linear = (x: number) => {\n  return x;\n};\n\nconst Start = 1;\nconst Middle = 0.5;\nconst End = 0;\n\nfunction step(count: number, pos: number) {\n  return function (x: number) {\n    if (x >= 1) {\n      return 1;\n    }\n    const stepSize = 1 / count;\n    x += pos * stepSize;\n    return x - (x % stepSize);\n  };\n}\n\nconst numberString = '\\\\s*(-?\\\\d+\\\\.?\\\\d*|-?\\\\.\\\\d+)\\\\s*';\nconst cubicBezierRe = new RegExp(\n  `cubic-bezier\\\\(${numberString},${numberString},${numberString},${numberString}\\\\)`,\n);\nconst step1Re = /steps\\(\\s*(\\d+)\\s*\\)/;\nconst step2Re = /steps\\(\\s*(\\d+)\\s*,\\s*(start|middle|end)\\s*\\)/;\n\nexport function parseEasingFunction(\n  normalizedEasing: string,\n): (t: number) => number {\n  const cubicData = cubicBezierRe.exec(normalizedEasing);\n  if (cubicData) {\n    // @ts-ignore\n    return bezier(...cubicData.slice(1).map(Number));\n  }\n  const step1Data = step1Re.exec(normalizedEasing);\n  if (step1Data) {\n    return step(Number(step1Data[1]), End);\n  }\n  const step2Data = step2Re.exec(normalizedEasing);\n  if (step2Data) {\n    // @ts-ignore\n    return step(\n      Number(step2Data[1]),\n      { start: Start, middle: Middle, end: End }[step2Data[2]],\n    );\n  }\n  return getEasingFunction(normalizedEasing);\n}\n\nexport function calculateActiveDuration(timing: EffectTiming) {\n  // @ts-ignore\n  return Math.abs(repeatedDuration(timing) / (timing.playbackRate || 1));\n}\n\nfunction repeatedDuration(timing: EffectTiming): number {\n  // https://drafts.csswg.org/web-animations/#calculating-the-active-duration\n  if (timing.duration === 0 || timing.iterations === 0) {\n    return 0;\n  }\n\n  // @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/duration#value\n  // if (timing.duration === 'auto') {\n  //   timing.duration = 0;\n  // }\n\n  return (\n    (timing.duration === 'auto' ? 0 : Number(timing.duration)) *\n    (timing.iterations ?? 1)\n  );\n}\n\nconst PhaseNone = 0;\nconst PhaseBefore = 1;\nconst PhaseAfter = 2;\nconst PhaseActive = 3;\n\nfunction calculatePhase(\n  activeDuration: number,\n  localTime: number | null,\n  timing: AnimationEffectTiming,\n) {\n  // https://drafts.csswg.org/web-animations/#animation-effect-phases-and-states\n  if (localTime === null) {\n    return PhaseNone;\n  }\n\n  const { endTime } = timing;\n  if (localTime < Math.min(timing.delay, endTime)) {\n    return PhaseBefore;\n  }\n  if (\n    localTime >=\n    Math.min(timing.delay + activeDuration + timing.endDelay, endTime)\n  ) {\n    return PhaseAfter;\n  }\n\n  return PhaseActive;\n}\n\nfunction calculateActiveTime(\n  activeDuration: any,\n  fillMode: string,\n  localTime: number,\n  phase: number,\n  delay: number,\n) {\n  // https://drafts.csswg.org/web-animations/#calculating-the-active-time\n  switch (phase) {\n    case PhaseBefore:\n      if (fillMode === 'backwards' || fillMode === 'both') return 0;\n      return null;\n    case PhaseActive:\n      return localTime - delay;\n    case PhaseAfter:\n      if (fillMode === 'forwards' || fillMode === 'both') return activeDuration;\n      return null;\n    case PhaseNone:\n      return null;\n  }\n}\n\nfunction calculateOverallProgress(\n  iterationDuration: number,\n  phase: number,\n  iterations: number,\n  activeTime: number,\n  iterationStart: number,\n) {\n  // https://drafts.csswg.org/web-animations/#calculating-the-overall-progress\n  let overallProgress = iterationStart;\n  if (iterationDuration === 0) {\n    if (phase !== PhaseBefore) {\n      overallProgress += iterations;\n    }\n  } else {\n    overallProgress += activeTime / iterationDuration;\n  }\n  return overallProgress;\n}\n\nfunction calculateSimpleIterationProgress(\n  overallProgress: number,\n  iterationStart: number,\n  phase: number,\n  iterations: number,\n  activeTime: number,\n  iterationDuration: number,\n) {\n  // https://drafts.csswg.org/web-animations/#calculating-the-simple-iteration-progress\n\n  let simpleIterationProgress =\n    overallProgress === Infinity ? iterationStart % 1 : overallProgress % 1;\n  if (\n    simpleIterationProgress === 0 &&\n    phase === PhaseAfter &&\n    iterations !== 0 &&\n    (activeTime !== 0 || iterationDuration === 0)\n  ) {\n    simpleIterationProgress = 1;\n  }\n  return simpleIterationProgress;\n}\n\nfunction calculateCurrentIteration(\n  phase: number,\n  iterations: number,\n  simpleIterationProgress: number,\n  overallProgress: number,\n) {\n  // https://drafts.csswg.org/web-animations/#calculating-the-current-iteration\n  if (phase === PhaseAfter && iterations === Infinity) {\n    return Infinity;\n  }\n  if (simpleIterationProgress === 1) {\n    return Math.floor(overallProgress) - 1;\n  }\n  return Math.floor(overallProgress);\n}\n\nfunction calculateDirectedProgress(\n  playbackDirection: string,\n  currentIteration: number,\n  simpleIterationProgress: number,\n) {\n  // https://drafts.csswg.org/web-animations/#calculating-the-directed-progress\n  let currentDirection = playbackDirection;\n  if (playbackDirection !== 'normal' && playbackDirection !== 'reverse') {\n    let d = currentIteration;\n    if (playbackDirection === 'alternate-reverse') {\n      d += 1;\n    }\n    currentDirection = 'normal';\n    if (d !== Infinity && d % 2 !== 0) {\n      currentDirection = 'reverse';\n    }\n  }\n  if (currentDirection === 'normal') {\n    return simpleIterationProgress;\n  }\n  return 1 - simpleIterationProgress;\n}\n\nexport function calculateIterationProgress(\n  activeDuration: number,\n  localTime: number,\n  timing: AnimationEffectTiming,\n) {\n  const phase = calculatePhase(activeDuration, localTime, timing);\n  const activeTime = calculateActiveTime(\n    activeDuration,\n    timing.fill,\n    localTime,\n    phase,\n    timing.delay,\n  );\n  if (activeTime === null) return null;\n\n  const duration = timing.duration === 'auto' ? 0 : timing.duration;\n  const overallProgress = calculateOverallProgress(\n    duration,\n    phase,\n    timing.iterations,\n    activeTime,\n    timing.iterationStart,\n  );\n  const simpleIterationProgress = calculateSimpleIterationProgress(\n    overallProgress,\n    timing.iterationStart,\n    phase,\n    timing.iterations,\n    activeTime,\n    duration,\n  );\n  const currentIteration = calculateCurrentIteration(\n    phase,\n    timing.iterations,\n    simpleIterationProgress,\n    overallProgress,\n  );\n\n  const directedProgress = calculateDirectedProgress(\n    timing.direction,\n    currentIteration,\n    simpleIterationProgress,\n  );\n\n  timing.currentIteration = currentIteration;\n  timing.progress = directedProgress;\n\n  // https://drafts.csswg.org/web-animations/#calculating-the-transformed-progress\n  // https://drafts.csswg.org/web-animations/#calculating-the-iteration-progress\n  return timing.easingFunction(directedProgress);\n}\n\n/**\n * From: [https://easings.net]\n * Read More about easings on [MDN](https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/easing)\n */\nexport const EASINGS: Record<string, string> = {\n  in: 'ease-in',\n  out: 'ease-out',\n  'in-out': 'ease-in-out',\n\n  // Sine\n  'in-sine': 'cubic-bezier(0.47, 0, 0.745, 0.715)',\n  'out-sine': 'cubic-bezier(0.39, 0.575, 0.565, 1)',\n  'in-out-sine': 'cubic-bezier(0.445, 0.05, 0.55, 0.95)',\n\n  // Quad\n  'in-quad': 'cubic-bezier(0.55, 0.085, 0.68, 0.53)',\n  'out-quad': 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n  'in-out-quad': 'cubic-bezier(0.455, 0.03, 0.515, 0.955)',\n\n  // Cubic\n  'in-cubic': 'cubic-bezier(0.55, 0.055, 0.675, 0.19)',\n  'out-cubic': 'cubic-bezier(0.215, 0.61, 0.355, 1)',\n  'in-out-cubic': 'cubic-bezier(0.645, 0.045, 0.355, 1)',\n\n  // Quart\n  'in-quart': 'cubic-bezier(0.895, 0.03, 0.685, 0.22)',\n  'out-quart': 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n  'in-out-quart': 'cubic-bezier(0.77, 0, 0.175, 1)',\n\n  // Quint\n  'in-quint': 'cubic-bezier(0.755, 0.05, 0.855, 0.06)',\n  'out-quint': 'cubic-bezier(0.23, 1, 0.32, 1)',\n  'in-out-quint': 'cubic-bezier(0.86, 0, 0.07, 1)',\n\n  // Expo\n  'in-expo': 'cubic-bezier(0.95, 0.05, 0.795, 0.035)',\n  'out-expo': 'cubic-bezier(0.19, 1, 0.22, 1)',\n  'in-out-expo': 'cubic-bezier(1, 0, 0, 1)',\n\n  // Circ\n  'in-circ': 'cubic-bezier(0.6, 0.04, 0.98, 0.335)',\n  'out-circ': 'cubic-bezier(0.075, 0.82, 0.165, 1)',\n  'in-out-circ': 'cubic-bezier(0.785, 0.135, 0.15, 0.86)',\n\n  // Back\n  'in-back': 'cubic-bezier(0.6, -0.28, 0.735, 0.045)',\n  'out-back': 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n  'in-out-back': 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n};\nexport const EasingKeys = Object.keys(EASINGS);\n\n/**\n * Converts users input into a usable easing function string\n */\nexport const getEase = (ease: keyof typeof EASINGS = 'ease'): string => {\n  // Convert camelCase strings into dashed strings, then Remove the \"ease-\" keyword\n  const search = convertToDash(ease).replace(/^ease-/, '');\n  return EASINGS[search] || ease;\n};\n", "import type {\n  IAnimationEffectTiming,\n  IElement,\n  Interpolatable,\n  TypeEasingFunction,\n} from '@antv/g-lite';\nimport { propertyMetadataCache, runtime } from '@antv/g-lite';\nimport { isNumber } from '@antv/util';\nimport { parseEasingFunction } from './animation';\n\nexport function convertEffectInput(\n  keyframes: ComputedKeyframe[],\n  timing: IAnimationEffectTiming,\n  target: IElement | null,\n) {\n  const propertySpecificKeyframeGroups = makePropertySpecificKeyframeGroups(\n    keyframes,\n    timing,\n  );\n  const interpolations = makeInterpolations(\n    propertySpecificKeyframeGroups,\n    target,\n  );\n\n  return function (target: IElement, fraction: number) {\n    if (fraction !== null) {\n      interpolations\n        .filter((interpolation) => {\n          return (\n            fraction >= interpolation.applyFrom &&\n            fraction < interpolation.applyTo\n          );\n        })\n        .forEach((interpolation) => {\n          const offsetFraction = fraction - interpolation.startOffset;\n          const localDuration =\n            interpolation.endOffset - interpolation.startOffset;\n          const scaledLocalTime =\n            localDuration === 0 ? 0 : offsetFraction / localDuration;\n          // apply updated attribute\n          target.setAttribute(\n            interpolation.property,\n            interpolation.interpolation(scaledLocalTime),\n            false,\n            false, // disable memoize\n          );\n\n          // if (interpolation.property === 'visibility') {\n          //   console.log(\n          //     scaledLocalTime,\n          //     interpolation.interpolation(scaledLocalTime),\n          //   );\n          // }\n        });\n    } else {\n      for (const property in propertySpecificKeyframeGroups)\n        if (isNotReservedWord(property)) {\n          // clear attribute\n          target.setAttribute(property, null);\n        }\n    }\n  };\n}\n\ninterface PropertySpecificKeyframe {\n  offset: number | null;\n  computedOffset: number;\n  easing: string;\n  easingFunction: TypeEasingFunction;\n  value: any;\n}\n\nfunction isNotReservedWord(member: string) {\n  return (\n    member !== 'offset' &&\n    member !== 'easing' &&\n    member !== 'composite' &&\n    member !== 'computedOffset'\n  );\n}\n\nfunction makePropertySpecificKeyframeGroups(\n  keyframes: ComputedKeyframe[],\n  timing: IAnimationEffectTiming,\n) {\n  const propertySpecificKeyframeGroups: Record<\n    string,\n    PropertySpecificKeyframe[]\n  > = {};\n\n  for (let i = 0; i < keyframes.length; i++) {\n    for (const member in keyframes[i]) {\n      if (isNotReservedWord(member)) {\n        const propertySpecificKeyframe = {\n          offset: keyframes[i].offset,\n          computedOffset: keyframes[i].computedOffset,\n          easing: keyframes[i].easing,\n          easingFunction:\n            parseEasingFunction(keyframes[i].easing) || timing.easingFunction,\n          value: keyframes[i][member],\n        };\n        propertySpecificKeyframeGroups[member] =\n          propertySpecificKeyframeGroups[member] || [];\n        propertySpecificKeyframeGroups[member].push(propertySpecificKeyframe);\n      }\n    }\n  }\n  return propertySpecificKeyframeGroups;\n}\n\nfunction makeInterpolations(\n  propertySpecificKeyframeGroups: Record<string, PropertySpecificKeyframe[]>,\n  target: IElement | null,\n) {\n  const interpolations = [];\n  for (const groupName in propertySpecificKeyframeGroups) {\n    const keyframes = propertySpecificKeyframeGroups[groupName];\n    for (let i = 0; i < keyframes.length - 1; i++) {\n      let startIndex = i;\n      let endIndex = i + 1;\n      const startOffset = keyframes[startIndex].computedOffset;\n      const endOffset = keyframes[endIndex].computedOffset;\n      let applyFrom = startOffset;\n      let applyTo = endOffset;\n\n      if (i === 0) {\n        applyFrom = -Infinity;\n        if (endOffset === 0) {\n          endIndex = startIndex;\n        }\n      }\n      if (i === keyframes.length - 2) {\n        applyTo = Infinity;\n        if (startOffset === 1) {\n          startIndex = endIndex;\n        }\n      }\n\n      interpolations.push({\n        applyFrom,\n        applyTo,\n        startOffset: keyframes[startIndex].computedOffset,\n        endOffset: keyframes[endIndex].computedOffset,\n        easingFunction: keyframes[startIndex].easingFunction,\n        property: groupName,\n        interpolation: propertyInterpolation(\n          groupName,\n          keyframes[startIndex].value,\n          keyframes[endIndex].value,\n          target,\n        ),\n      });\n    }\n  }\n  interpolations.sort((leftInterpolation, rightInterpolation) => {\n    return leftInterpolation.startOffset - rightInterpolation.startOffset;\n  });\n  return interpolations;\n}\n\nconst InterpolationFactory = (\n  from: Interpolatable,\n  to: Interpolatable,\n  convertToString: Function,\n) => {\n  return (f: number) => {\n    const interpolated = interpolate(from, to, f);\n    return isNumber(interpolated)\n      ? interpolated\n      : convertToString(interpolated);\n  };\n};\n\nfunction propertyInterpolation(\n  property: string,\n  left: string | number,\n  right: string | number,\n  target: IElement | null,\n) {\n  const metadata = propertyMetadataCache[property];\n\n  if (metadata && metadata.syntax && metadata.int) {\n    const propertyHandler = runtime.styleValueRegistry.getPropertySyntax(\n      metadata.syntax,\n    );\n\n    if (propertyHandler) {\n      const parser = propertyHandler.parser;\n      const usedLeft = parser ? parser(left, target) : left;\n      const usedRight = parser ? parser(right, target) : right;\n\n      // merger [left, right, n2string()]\n      const interpolationArgs = propertyHandler.mixer(\n        usedLeft,\n        usedRight,\n        target,\n      );\n      if (interpolationArgs) {\n        const interp = InterpolationFactory(\n          // @ts-ignore\n          ...interpolationArgs,\n        );\n        return function (t: number) {\n          if (t === 0) return left;\n          if (t === 1) return right;\n          return interp(t);\n        };\n      }\n    }\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return InterpolationFactory(false, true, function (bool: boolean) {\n    return bool ? right : left;\n  });\n}\n\n/**\n * interpolate with number, boolean, number[], boolean[]\n */\nfunction interpolate(\n  from: Interpolatable,\n  to: Interpolatable,\n  f: number,\n): Interpolatable {\n  if (typeof from === 'number' && typeof to === 'number') {\n    return from * (1 - f) + to * f;\n  }\n  if (\n    (typeof from === 'boolean' && typeof to === 'boolean') ||\n    (typeof from === 'string' && typeof to === 'string') // skip string, eg. path ['M', 10, 10]\n  ) {\n    return f < 0.5 ? from : to;\n  }\n\n  if (Array.isArray(from) && Array.isArray(to)) {\n    // interpolate arrays/matrix\n    const fromLength = from.length;\n    const toLength = to.length;\n    const length = Math.max(fromLength, toLength);\n\n    const r: number[] = [];\n    for (let i = 0; i < length; i++) {\n      r.push(\n        interpolate(\n          from[i < fromLength ? i : fromLength - 1],\n          to[i < toLength ? i : toLength - 1],\n          f,\n        ) as number,\n      );\n    }\n    return r;\n  }\n  throw new Error(`Mismatched interpolation arguments ${from}:${to}`);\n}\n", "import { linear, parseEasingFunction } from '../utils/animation';\nimport type { KeyframeEffect } from './KeyframeEffect';\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming\n */\nexport class AnimationEffectTiming implements EffectTiming {\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/delay\n   */\n  delay = 0;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/direction\n   */\n  direction: PlaybackDirection = 'normal';\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/duration\n   */\n  duration: number | 'auto' = 'auto';\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/easing\n   */\n  private _easing = 'linear';\n  easingFunction = linear;\n  get easing() {\n    return this._easing;\n  }\n  set easing(value: string) {\n    this.easingFunction = parseEasingFunction(value);\n    this._easing = value;\n  }\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/endDelay\n   */\n  endDelay = 0;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/fill\n   */\n  fill: FillMode = 'auto';\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/iterationStart\n   */\n  iterationStart = 0;\n\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/iterations\n   */\n  iterations = 1;\n\n  /**\n   * @deprecated\n   */\n  playbackRate: number;\n\n  /**\n   * ref to effect\n   */\n  effect: KeyframeEffect;\n\n  composite: string;\n\n  /**\n   * ComputedEffectTiming\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffect/getComputedTiming\n   */\n  activeDuration: number;\n\n  endTime: number;\n\n  currentIteration: number | null = null;\n\n  progress: number | null = null;\n}\n", "import { isNil } from '@antv/util';\nimport type { AnimationEffectTiming } from './AnimationEffectTiming';\n\n/**\n * @example\n  {\n    translateY: [200, 300],\n    scale: [1, 10],\n  }\n\n * groups' length can be different, the following config should generate 3 frames:\n  @example\n  {\n    translateY: [200, 300, 400],\n    scale: [1, 10],\n  }\n */\nfunction convertToArrayForm(effectInput: PropertyIndexedKeyframes) {\n  const normalizedEffectInput: Keyframe[] = [];\n\n  for (const property in effectInput) {\n    // skip reserved props\n    if (property in ['easing', 'offset', 'composite']) {\n      continue;\n    }\n\n    // @ts-ignore\n    let values: string[] | (number | null)[] = effectInput[property];\n    if (!Array.isArray(values)) {\n      values = [values];\n    }\n\n    const numKeyframes = values.length;\n    for (let i = 0; i < numKeyframes; i++) {\n      if (!normalizedEffectInput[i]) {\n        const keyframe: Keyframe = {};\n        if ('offset' in effectInput) {\n          keyframe.offset = Number(effectInput.offset);\n        }\n\n        if ('easing' in effectInput) {\n          // @ts-ignore\n          keyframe.easing = effectInput.easing;\n        }\n\n        if ('composite' in effectInput) {\n          // @ts-ignore\n          keyframe.composite = effectInput.composite;\n        }\n        normalizedEffectInput[i] = keyframe;\n      }\n\n      if (values[i] !== undefined && values[i] !== null) {\n        normalizedEffectInput[i][property] = values[i];\n      }\n    }\n  }\n\n  normalizedEffectInput.sort(function (a, b) {\n    return (\n      ((a.computedOffset as number) || 0) - ((b.computedOffset as number) || 0)\n    );\n  });\n  return normalizedEffectInput;\n}\n\nexport function normalizeKeyframes(\n  effectInput: Keyframe[] | PropertyIndexedKeyframes | null,\n  timing?: AnimationEffectTiming,\n): ComputedKeyframe[] {\n  if (effectInput === null) {\n    return [];\n  }\n\n  if (!Array.isArray(effectInput)) {\n    effectInput = convertToArrayForm(effectInput);\n  }\n\n  let keyframes = effectInput.map((originalKeyframe) => {\n    const keyframe: Keyframe = {};\n\n    if (timing?.composite) {\n      // This will be auto if the composite operation specified on the effect is being used.\n      // @see https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/Keyframe_Formats\n      keyframe.composite = 'auto';\n    }\n\n    for (const member in originalKeyframe) {\n      let memberValue = originalKeyframe[member];\n      if (member === 'offset') {\n        if (memberValue !== null) {\n          memberValue = Number(memberValue);\n          if (!isFinite(memberValue))\n            throw new Error('Keyframe offsets must be numbers.');\n          if (memberValue < 0 || memberValue > 1)\n            throw new Error('Keyframe offsets must be between 0 and 1.');\n          keyframe.computedOffset = memberValue;\n        }\n      } else if (member === 'composite') {\n        // TODO: Support add & accumulate in KeyframeEffect.composite\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/KeyframeEffect/composite\n        if (\n          ['replace', 'add', 'accumulate', 'auto'].indexOf(\n            memberValue as string,\n          ) === -1\n        ) {\n          throw new Error(`${memberValue} compositing is not supported`);\n        }\n      } else if (member === 'easing') {\n        // TODO: Validate animation-timing-function\n        // @see https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timing-function\n        // memberValue = memberValue;\n        // } else {\n        //   memberValue = '' + memberValue;\n      }\n\n      // assign to keyframe, no need to parse shorthand value\n      keyframe[member] = memberValue;\n    }\n    if (keyframe.offset === undefined) {\n      keyframe.offset = null;\n    }\n    if (keyframe.easing === undefined) {\n      // override with timing.easing\n      keyframe.easing = timing?.easing || 'linear';\n    }\n    if (keyframe.composite === undefined) {\n      keyframe.composite = 'auto';\n    }\n    return keyframe;\n  });\n\n  let everyFrameHasOffset = true;\n  let previousOffset = -Infinity;\n  for (let i = 0; i < keyframes.length; i++) {\n    const { offset } = keyframes[i];\n    if (!isNil(offset)) {\n      if (offset < previousOffset) {\n        throw new TypeError(\n          'Keyframes are not loosely sorted by offset. Sort or specify offsets.',\n        );\n      }\n      previousOffset = offset;\n    } else {\n      everyFrameHasOffset = false;\n    }\n  }\n\n  keyframes = keyframes.filter((keyframe) => {\n    return Number(keyframe.offset) >= 0 && Number(keyframe.offset) <= 1;\n  });\n\n  function spaceKeyframes() {\n    const { length } = keyframes;\n    keyframes[length - 1].computedOffset = Number(\n      keyframes[length - 1].offset ?? 1,\n    );\n    if (length > 1) {\n      keyframes[0].computedOffset = Number(keyframes[0].offset ?? 0);\n    }\n\n    let previousIndex = 0;\n    let previousOffset = Number(keyframes[0].computedOffset);\n    for (let i = 1; i < length; i++) {\n      const offset = keyframes[i].computedOffset;\n      if (!isNil(offset) && !isNil(previousOffset)) {\n        for (let j = 1; j < i - previousIndex; j++)\n          keyframes[previousIndex + j].computedOffset =\n            previousOffset +\n            ((Number(offset) - previousOffset) * j) / (i - previousIndex);\n        previousIndex = i;\n        previousOffset = Number(offset);\n      }\n    }\n  }\n  if (!everyFrameHasOffset) spaceKeyframes();\n\n  return keyframes as ComputedKeyframe[];\n}\n", "import { IElement, IKeyframeEffect, runtime } from '@antv/g-lite';\nimport {\n  calculateActiveDuration,\n  calculateIterationProgress,\n  convertEffectInput,\n} from '../utils';\nimport type { Animation } from './Animation';\nimport { AnimationEffectTiming } from './AnimationEffectTiming';\nimport { normalizeKeyframes } from './KeyframeList';\n\nconst fills = 'backwards|forwards|both|none'.split('|');\nconst directions = 'reverse|alternate|alternate-reverse'.split('|');\nexport function makeTiming(\n  timingInput: KeyframeEffectOptions,\n  forGroup: boolean,\n) {\n  const timing = new AnimationEffectTiming();\n  if (forGroup) {\n    timing.fill = 'both';\n    timing.duration = 'auto';\n  }\n  if (typeof timingInput === 'number' && !isNaN(timingInput)) {\n    timing.duration = timingInput;\n  } else if (timingInput !== undefined) {\n    (Object.keys(timingInput) as (keyof EffectTiming)[]).forEach((property) => {\n      if (\n        timingInput[property] !== undefined &&\n        timingInput[property] !== null &&\n        timingInput[property] !== 'auto'\n      ) {\n        if (typeof timing[property] === 'number' || property === 'duration') {\n          if (\n            typeof timingInput[property] !== 'number' ||\n            isNaN(timingInput[property])\n          ) {\n            return;\n          }\n        }\n        if (\n          property === 'fill' &&\n          fills.indexOf(timingInput[property]) === -1\n        ) {\n          return;\n        }\n        if (\n          property === 'direction' &&\n          directions.indexOf(timingInput[property]) === -1\n        ) {\n          return;\n        }\n        // @ts-ignore\n        timing[property] = timingInput[property];\n      }\n    });\n  }\n  return timing;\n}\n\nexport function normalizeTimingInput(\n  timingInput: KeyframeEffectOptions | number | undefined,\n  forGroup: boolean,\n) {\n  timingInput = numericTimingToObject(timingInput ?? { duration: 'auto' });\n  return makeTiming(timingInput, forGroup);\n}\n\nexport function numericTimingToObject(\n  timingInput: KeyframeEffectOptions | number,\n) {\n  if (typeof timingInput === 'number') {\n    if (isNaN(timingInput)) {\n      timingInput = { duration: 'auto' };\n    } else {\n      timingInput = { duration: timingInput };\n    }\n  }\n  return timingInput;\n}\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyframeEffect\n * @example\n  const circleDownKeyframes = new KeyframeEffect(\n    circle, // element to animate\n    [\n      { transform: 'translateY(0)' }, // keyframe\n      { transform: 'translateY(100)' } // keyframe\n    ],\n    { duration: 3000, fill: 'forwards' } // keyframe options\n  );\n *\n */\nexport class KeyframeEffect implements IKeyframeEffect {\n  composite: CompositeOperation = 'replace';\n  iterationComposite: IterationCompositeOperation = 'replace';\n  // pseudoElement: string | null;\n  target: IElement | null;\n\n  animation: Animation | null;\n\n  timing: AnimationEffectTiming;\n  private computedTiming: ComputedEffectTiming;\n\n  normalizedKeyframes: ComputedKeyframe[];\n\n  private timeFraction: number | null;\n\n  private interpolations: (target: IElement, f: number) => void;\n\n  constructor(\n    target: IElement | null,\n    effectInput: Keyframe[] | PropertyIndexedKeyframes | null,\n    timingInput?: KeyframeEffectOptions | number,\n  ) {\n    this.target = target;\n    this.timing = normalizeTimingInput(timingInput, false);\n    this.timing.effect = this;\n    this.timing.activeDuration = calculateActiveDuration(this.timing);\n    this.timing.endTime = Math.max(\n      0,\n      this.timing.delay + this.timing.activeDuration + this.timing.endDelay,\n    );\n\n    this.normalizedKeyframes = normalizeKeyframes(effectInput, this.timing);\n    this.interpolations = convertEffectInput(\n      this.normalizedKeyframes,\n      this.timing,\n      this.target,\n    );\n\n    //  proxy  this.timing\n    const { Proxy } = runtime.globalThis;\n    this.computedTiming = Proxy\n      ? new Proxy<AnimationEffectTiming>(this.timing, {\n          get: (target, prop) => {\n            if (prop === 'duration') {\n              return target.duration === 'auto' ? 0 : target.duration;\n            }\n            if (prop === 'fill') {\n              return target.fill === 'auto' ? 'none' : target.fill;\n            }\n            if (prop === 'localTime') {\n              return (this.animation && this.animation.currentTime) || null;\n            }\n            if (prop === 'currentIteration') {\n              if (!this.animation || this.animation.playState !== 'running') {\n                return null;\n              }\n              return target.currentIteration || 0;\n            }\n            if (prop === 'progress') {\n              if (!this.animation || this.animation.playState !== 'running') {\n                return null;\n              }\n              return target.progress || 0;\n            }\n            return target[prop];\n          },\n          set: () => {\n            return true;\n          },\n        })\n      : this.timing;\n  }\n\n  applyInterpolations() {\n    this.interpolations(\n      this.target as unknown as IElement,\n      Number(this.timeFraction),\n    );\n  }\n\n  update(localTime: number | null): boolean {\n    if (localTime === null) {\n      return false;\n    }\n    this.timeFraction = calculateIterationProgress(\n      this.timing.activeDuration,\n      localTime,\n      this.timing,\n    );\n    return this.timeFraction !== null;\n  }\n\n  getKeyframes(): ComputedKeyframe[] {\n    return this.normalizedKeyframes;\n  }\n  setKeyframes(keyframes: Keyframe[] | PropertyIndexedKeyframes | null): void {\n    this.normalizedKeyframes = normalizeKeyframes(keyframes);\n  }\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffect/getComputedTiming\n   */\n  getComputedTiming(): ComputedEffectTiming {\n    return this.computedTiming;\n  }\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffect/getTiming\n   */\n  getTiming(): EffectTiming {\n    return this.timing;\n  }\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffect/updateTiming\n   */\n  updateTiming(timing?: OptionalEffectTiming): void {\n    Object.keys(timing || {}).forEach((name) => {\n      this.timing[name] = timing[name];\n    });\n  }\n}\n", "import type {\n  IDocument,\n  IAnimationTimeline,\n  IElement,\n  IAnimation,\n} from '@antv/g-lite';\nimport { Animation } from './Animation';\nimport { KeyframeEffect } from './KeyframeEffect';\n\nexport function compareAnimations(\n  leftAnimation: IAnimation,\n  rightAnimation: IAnimation,\n) {\n  return Number(leftAnimation.id) - Number(rightAnimation.id);\n}\n\n/**\n * @see https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/web-animations-js/index.d.ts\n */\nexport class AnimationTimeline implements IAnimationTimeline {\n  /**\n   * all active animations\n   */\n  animations: Animation[] = [];\n\n  private ticking = false;\n\n  private timelineTicking = false;\n\n  private hasRestartedThisFrame = false;\n\n  animationsWithPromises: Animation[] = [];\n\n  private inTick = false;\n\n  private pendingEffects: (KeyframeEffect | null)[] = [];\n\n  currentTime: number | null = null;\n\n  private rafId = 0;\n  private rafCallbacks: [number, (x: number) => void][] = [];\n\n  private frameId: number;\n\n  constructor(private document: IDocument) {}\n\n  getAnimations() {\n    this.discardAnimations();\n    return this.animations.slice();\n  }\n\n  isTicking() {\n    return this.inTick;\n  }\n\n  play(\n    target: IElement,\n    keyframes: Keyframe[] | PropertyIndexedKeyframes | null,\n    options?: number | KeyframeAnimationOptions,\n  ): Animation {\n    const effect = new KeyframeEffect(target, keyframes, options);\n    const animation = new Animation(effect, this);\n    this.animations.push(animation);\n    this.restartWebAnimationsNextTick();\n    animation.updatePromises();\n    animation.play();\n    animation.updatePromises();\n    return animation;\n  }\n\n  // RAF is supposed to be the last script to occur before frame rendering but not\n  // all browsers behave like this. This function is for synchonously updating an\n  // animation's effects whenever its state is mutated by script to work around\n  // incorrect script execution ordering by the browser.\n  applyDirtiedAnimation(animation: Animation) {\n    if (this.inTick) {\n      return;\n    }\n    // update active animations in displayobject\n    animation.markTarget();\n    const animations = animation.targetAnimations();\n    animations.sort(compareAnimations);\n\n    // clear inactive animations\n    const inactiveAnimations = this.tick(\n      Number(this.currentTime),\n      false,\n      animations.slice(),\n    )[1];\n    inactiveAnimations.forEach((animation) => {\n      const index = this.animations.indexOf(animation);\n      if (index !== -1) {\n        this.animations.splice(index, 1);\n      }\n    });\n    this.applyPendingEffects();\n  }\n\n  restart() {\n    if (!this.ticking) {\n      this.ticking = true;\n      this.requestAnimationFrame(() => {});\n      this.hasRestartedThisFrame = true;\n    }\n    return this.hasRestartedThisFrame;\n  }\n\n  destroy() {\n    this.document.defaultView.cancelAnimationFrame(this.frameId);\n  }\n\n  applyPendingEffects() {\n    this.pendingEffects.forEach((effect) => {\n      effect?.applyInterpolations();\n    });\n    this.pendingEffects = [];\n  }\n\n  private updateAnimationsPromises() {\n    this.animationsWithPromises = this.animationsWithPromises.filter(\n      (animation) => {\n        return animation.updatePromises();\n      },\n    );\n  }\n\n  private discardAnimations() {\n    this.updateAnimationsPromises();\n    this.animations = this.animations.filter((animation) => {\n      return (\n        animation.playState !== 'finished' && animation.playState !== 'idle'\n      );\n    });\n  }\n\n  private restartWebAnimationsNextTick() {\n    if (!this.timelineTicking) {\n      this.timelineTicking = true;\n      this.requestAnimationFrame(this.webAnimationsNextTick);\n    }\n  }\n\n  private webAnimationsNextTick = (t: number) => {\n    this.currentTime = t;\n    this.discardAnimations();\n    if (this.animations.length === 0) {\n      this.timelineTicking = false;\n    } else {\n      this.requestAnimationFrame(this.webAnimationsNextTick);\n    }\n  };\n\n  private processRafCallbacks = (t: number) => {\n    const processing = this.rafCallbacks;\n    this.rafCallbacks = [];\n    if (t < Number(this.currentTime)) t = Number(this.currentTime);\n    this.animations.sort(compareAnimations);\n    this.animations = this.tick(t, true, this.animations)[0];\n    processing.forEach((entry) => {\n      entry[1](t);\n    });\n    this.applyPendingEffects();\n  };\n\n  private rAF(f: (x: number) => void) {\n    const id = this.rafId++;\n    if (this.rafCallbacks.length === 0) {\n      this.frameId = this.document.defaultView.requestAnimationFrame(\n        this.processRafCallbacks,\n      );\n    }\n    this.rafCallbacks.push([id, f]);\n    return id;\n  }\n\n  private requestAnimationFrame(f: (ts: number) => void) {\n    return this.rAF((x: number) => {\n      this.updateAnimationsPromises();\n      f(x);\n      this.updateAnimationsPromises();\n    });\n  }\n\n  tick(t: number, isAnimationFrame: boolean, updatingAnimations: IAnimation[]) {\n    this.inTick = true;\n    this.hasRestartedThisFrame = false;\n\n    this.currentTime = t;\n    this.ticking = false;\n\n    const newPendingClears: (KeyframeEffect | null)[] = [];\n    const newPendingEffects: (KeyframeEffect | null)[] = [];\n    const activeAnimations: Animation[] = [];\n    const inactiveAnimations: Animation[] = [];\n\n    (updatingAnimations as unknown as Animation[]).forEach((animation) => {\n      animation.tick(t, isAnimationFrame);\n\n      if (!animation._inEffect) {\n        newPendingClears.push(animation.effect);\n        animation.unmarkTarget();\n      } else {\n        newPendingEffects.push(animation.effect);\n        animation.markTarget();\n      }\n\n      if (animation._needsTick) this.ticking = true;\n\n      const alive = animation._inEffect || animation._needsTick;\n      animation._inTimeline = alive;\n      if (alive) {\n        activeAnimations.push(animation);\n      } else {\n        inactiveAnimations.push(animation);\n      }\n    });\n\n    this.pendingEffects.push(...newPendingClears);\n    this.pendingEffects.push(...newPendingEffects);\n\n    if (this.ticking) this.requestAnimationFrame(() => {});\n\n    this.inTick = false;\n    return [activeAnimations, inactiveAnimations];\n  }\n}\n", "import { runtime } from '@antv/g-lite';\nimport { AnimationTimeline } from './dom/AnimationTimeline';\nimport { parseEasingFunction } from './utils';\n\nexport * from './dom';\nexport { EasingFunctions } from './utils';\n\nruntime.EasingFunction = parseEasingFunction;\nruntime.AnimationTimeline = AnimationTimeline;\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "export default function (max) {\n\tvar num, curr, prev;\n\tvar limit = max || 1;\n\n\tfunction keep(key, value) {\n\t\tif (++num > limit) {\n\t\t\tprev = curr;\n\t\t\treset(1);\n\t\t\t++num;\n\t\t}\n\t\tcurr[key] = value;\n\t}\n\n\tfunction reset(isPartial) {\n\t\tnum = 0;\n\t\tcurr = Object.create(null);\n\t\tisPartial || (prev=Object.create(null));\n\t}\n\n\treset();\n\n\treturn {\n\t\tclear: reset,\n\t\thas: function (key) {\n\t\t\treturn curr[key] !== void 0 || prev[key] !== void 0;\n\t\t},\n\t\tget: function (key) {\n\t\t\tvar val = curr[key];\n\t\t\tif (val !== void 0) return val;\n\t\t\tif ((val=prev[key]) !== void 0) {\n\t\t\t\tkeep(key, val);\n\t\t\t\treturn val;\n\t\t\t}\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (curr[key] !== void 0) {\n\t\t\t\tcurr[key] = value;\n\t\t\t} else {\n\t\t\t\tkeep(key, value);\n\t\t\t}\n\t\t}\n\t};\n}\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n", "function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n", "export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n", "export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n", "export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n", "export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n", "export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n", "export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n", "export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n", "import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n", "export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n", "export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n", "export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array, random) {\n  let m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n", "import {shuffle} from \"../array.js\";\nimport lcg from \"../lcg.js\";\n\nexport default function(circles) {\n  return packEncloseRandom(circles, lcg());\n}\n\nexport function packEncloseRandom(circles, random) {\n  var i = 0, n = (circles = shuffle(Array.from(circles), random)).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(Math.abs(A) > 1e-6 ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n", "import array from \"../array.js\";\nimport lcg from \"../lcg.js\";\nimport {packEncloseRandom} from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packSiblingsRandom(circles, random) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = packEncloseRandom(a, random);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packSiblingsRandom(circles, lcg());\n  return circles;\n}\n", "import {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\nimport lcg from \"../lcg.js\";\nimport {packSiblingsRandom} from \"./siblings.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    const random = lcg();\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildrenRandom(padding, 0.5, random))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildrenRandom(constantZero, 1, random))\n          .eachAfter(packChildrenRandom(padding, root.r / Math.min(dx, dy), random))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildrenRandom(padding, k, random) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packSiblingsRandom(children, random);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n", "export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n", "import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n", "import {optional} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {},\n    imputed = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId,\n      path;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        currentId = id,\n        currentParentId = parentId,\n        n,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    if (path != null) {\n      const I = nodes.map((d, i) => normalize(path(d, i, data)));\n      const P = I.map(parentof);\n      const S = new Set(I).add(\"\");\n      for (const i of P) {\n        if (!S.has(i)) {\n          S.add(i);\n          I.push(i);\n          P.push(parentof(i));\n          nodes.push(imputed);\n        }\n      }\n      currentId = (_, i) => I[i];\n      currentParentId = (_, i) => P[i];\n    }\n\n    for (i = 0, n = nodes.length; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = currentId(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = currentParentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n\n    // When imputing internal nodes, only introduce roots if needed.\n    // Then replace the imputed marker data with null.\n    if (path != null) {\n      while (root.data === imputed && root.children.length === 1) {\n        root = root.children[0], --n;\n      }\n      for (let i = nodes.length - 1; i >= 0; --i) {\n        node = nodes[i];\n        if (node.data !== imputed) break;\n        node.data = null;\n      }\n    }\n\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = optional(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = optional(x), stratify) : parentId;\n  };\n\n  stratify.path = function(x) {\n    return arguments.length ? (path = optional(x), stratify) : path;\n  };\n\n  return stratify;\n}\n\n// To normalize a path, we coerce to a string, strip the trailing slash if any\n// (as long as the trailing slash is not immediately preceded by another slash),\n// and add leading slash if missing.\nfunction normalize(path) {\n  path = `${path}`;\n  let i = path.length;\n  if (slash(path, i - 1) && !slash(path, i - 2)) path = path.slice(0, -1);\n  return path[0] === \"/\" ? path : `/${path}`;\n}\n\n// Walk backwards to find the first slash that is not the leading slash, e.g.:\n// \"/foo/bar\"  \"/foo\", \"/foo\"  \"/\", \"/\"  \"\". (The root is special-cased\n// because the id of the root must be a truthy value.)\nfunction parentof(path) {\n  let i = path.length;\n  if (i < 2) return \"\";\n  while (--i > 1) if (slash(path, i)) break;\n  return path.slice(0, i);\n}\n\n// Slashes can be escaped; to determine whether a slash is a path delimiter, we\n// count the number of preceding backslashes escaping the forward slash: an odd\n// number indicates an escaped forward slash.\nfunction slash(path, i) {\n  if (path[i] === \"/\") {\n    let k = 0;\n    while (i > 0 && path[--i] === \"\\\\\") ++k;\n    if ((k & 1) === 0) return true;\n  }\n  return false;\n}\n", "import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n", "import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n", "import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n", "export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n", "import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n", "import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n", null, null, null, null, null, "export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n", "export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n", "export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n", "export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n", "export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n", "export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n", "import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n", "export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n", "export default function() {\n  return this._root;\n}\n", "export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n", "import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n", "import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n", "export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n", "export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n", "import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n", "import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n", "var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n", "var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n", "// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n", "import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n", "import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n", "import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n", "import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n", "export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n", "export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n", "// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n", "// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n", "import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n", "export default function(x) {\n  return x;\n}\n", "import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "import type { ParsedCircleStyleProps } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedCircleStyleProps,\n) {\n  const { cx = 0, cy = 0, r } = parsedStyle;\n  context.arc(cx, cy, r, 0, Math.PI * 2, false);\n}\n", "import type { ParsedEllipseStyleProps } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedEllipseStyleProps,\n) {\n  const { cx = 0, cy = 0, rx, ry } = parsedStyle;\n\n  // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/ellipse\n  if (context.ellipse) {\n    context.ellipse(cx, cy, rx, ry, 0, 0, Math.PI * 2, false);\n  } else {\n    // \n    const r = rx > ry ? rx : ry;\n    const scaleX = rx > ry ? 1 : rx / ry;\n    const scaleY = rx > ry ? ry / rx : 1;\n    context.save();\n    context.scale(scaleX, scaleY);\n    context.arc(cx, cy, r, 0, Math.PI * 2);\n  }\n}\n", "import type { ParsedLineStyleProps } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedLineStyleProps,\n) {\n  const {\n    x1,\n    y1,\n    x2,\n    y2,\n    markerStart,\n    markerEnd,\n    markerStartOffset,\n    markerEndOffset,\n  } = parsedStyle;\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = x2 - x1;\n    y = y2 - y1;\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = x1 - x2;\n    y = y1 - y2;\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  context.moveTo(x1 + startOffsetX, y1 + startOffsetY);\n  context.lineTo(x2 + endOffsetX, y2 + endOffsetY);\n}\n", "import type { ParsedPathStyleProps, Path } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedPathStyleProps,\n) {\n  const { markerStart, markerEnd, markerStartOffset, markerEndOffset } =\n    parsedStyle;\n  const { absolutePath, segments } = parsedStyle.d;\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    const [p1, p2] = (markerStart.parentNode as Path).getStartTangent();\n    x = p1[0] - p2[0];\n    y = p1[1] - p2[1];\n\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    const [p1, p2] = (markerEnd.parentNode as Path).getEndTangent();\n    x = p1[0] - p2[0];\n    y = p1[1] - p2[1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  for (let i = 0; i < absolutePath.length; i++) {\n    const params = absolutePath[i];\n    const command = params[0];\n    const nextSegment = absolutePath[i + 1];\n    const useStartOffset =\n      i === 0 && (startOffsetX !== 0 || startOffsetY !== 0);\n    const useEndOffset =\n      (i === absolutePath.length - 1 ||\n        (nextSegment && (nextSegment[0] === 'M' || nextSegment[0] === 'Z'))) &&\n      endOffsetX !== 0 &&\n      endOffsetY !== 0;\n    const [startOffsetXTemp, startOffsetYTemp] = useStartOffset\n      ? [startOffsetX, startOffsetY]\n      : [0, 0];\n    const [endOffsetXTemp, endOffsetYTemp] = useEndOffset\n      ? [endOffsetX, endOffsetY]\n      : [0, 0];\n\n    switch (command) {\n      case 'M':\n        // Use start marker offset\n        context.moveTo(\n          params[1] + startOffsetXTemp,\n          params[2] + startOffsetYTemp,\n        );\n        break;\n      case 'L':\n        context.lineTo(params[1] + endOffsetXTemp, params[2] + endOffsetYTemp);\n        break;\n      case 'Q':\n        context.quadraticCurveTo(\n          params[1],\n          params[2],\n          params[3] + endOffsetXTemp,\n          params[4] + endOffsetYTemp,\n        );\n        break;\n      case 'C':\n        context.bezierCurveTo(\n          params[1],\n          params[2],\n          params[3],\n          params[4],\n          params[5] + endOffsetXTemp,\n          params[6] + endOffsetYTemp,\n        );\n        break;\n      case 'A': {\n        // FIXME startOffset / endOffset\n        const { arcParams } = segments[i];\n        const { cx, cy, rx, ry, startAngle, endAngle, xRotation, sweepFlag } =\n          arcParams;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/ellipse\n        if (context.ellipse) {\n          context.ellipse(\n            cx,\n            cy,\n            rx,\n            ry,\n            xRotation,\n            startAngle,\n            endAngle,\n            !!(1 - sweepFlag),\n          );\n        } else {\n          // @see https://stackoverflow.com/a/47494351\n          const r = rx > ry ? rx : ry;\n          const scaleX = rx > ry ? 1 : rx / ry;\n          const scaleY = rx > ry ? ry / rx : 1;\n          context.translate(cx, cy);\n          context.rotate(xRotation);\n          context.scale(scaleX, scaleY);\n          context.arc(0, 0, r, startAngle, endAngle, !!(1 - sweepFlag));\n          context.scale(1 / scaleX, 1 / scaleY);\n          context.rotate(-xRotation);\n          context.translate(-cx, -cy);\n        }\n\n        if (useEndOffset) {\n          context.lineTo(params[6] + endOffsetX, params[7] + endOffsetY);\n        }\n        break;\n      }\n      case 'Z':\n        context.closePath();\n        break;\n      default:\n        break;\n    }\n  }\n}\n", "import type { ParsedPolygonStyleProps } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedPolygonStyleProps,\n) {\n  const { markerStart, markerEnd, markerStartOffset, markerEndOffset } =\n    parsedStyle;\n  const { points } = parsedStyle.points;\n  const { length } = points;\n\n  const x1 = points[0][0];\n  const y1 = points[0][1];\n  const x2 = points[length - 1][0];\n  const y2 = points[length - 1][1];\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = points[1][0] - points[0][0];\n    y = points[1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = points[length - 1][0] - points[0][0];\n    y = points[length - 1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  context.moveTo(\n    x1 + (startOffsetX || endOffsetX),\n    y1 + (startOffsetY || endOffsetY),\n  );\n  for (let i = 1; i < length - 1; i++) {\n    const point = points[i];\n    context.lineTo(point[0], point[1]);\n  }\n  context.lineTo(x2, y2);\n}\n", "import type { ParsedPolylineStyleProps } from '@antv/g-lite';\nimport { isDisplayObject } from '@antv/g-lite';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedPolylineStyleProps,\n) {\n  const { markerStart, markerEnd, markerStartOffset, markerEndOffset } =\n    parsedStyle;\n  const { points } = parsedStyle.points;\n  const { length } = points;\n\n  const x1 = points[0][0];\n  const y1 = points[0][1];\n  const x2 = points[length - 1][0];\n  const y2 = points[length - 1][1];\n\n  let startOffsetX = 0;\n  let startOffsetY = 0;\n  let endOffsetX = 0;\n  let endOffsetY = 0;\n\n  let rad = 0;\n  let x: number;\n  let y: number;\n\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = points[1][0] - points[0][0];\n    y = points[1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = points[length - 2][0] - points[length - 1][0];\n    y = points[length - 2][1] - points[length - 1][1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n\n  context.moveTo(x1 + startOffsetX, y1 + startOffsetY);\n  for (let i = 1; i < length - 1; i++) {\n    const point = points[i];\n    context.lineTo(point[0], point[1]);\n  }\n  context.lineTo(x2 + endOffsetX, y2 + endOffsetY);\n}\n", "import type { ParsedRectStyleProps } from '@antv/g-lite';\nimport { clamp } from '@antv/util';\n\nexport function generatePath(\n  context: CanvasRenderingContext2D,\n  parsedStyle: ParsedRectStyleProps,\n) {\n  const { x = 0, y = 0, radius, width, height } = parsedStyle;\n\n  const w = width;\n  const h = height;\n  const hasRadius = radius && radius.some((r) => r !== 0);\n\n  if (!hasRadius) {\n    // Canvas support negative width/height of rect\n    context.rect(x, y, w, h);\n  } else {\n    const signX = width > 0 ? 1 : -1;\n    const signY = height > 0 ? 1 : -1;\n    const sweepFlag = signX + signY === 0;\n    const [tlr, trr, brr, blr] = radius.map((r) =>\n      clamp(r, 0, Math.min(Math.abs(w) / 2, Math.abs(h) / 2)),\n    );\n\n    context.moveTo(signX * tlr + x, y);\n    context.lineTo(w - signX * trr + x, y);\n    if (trr !== 0) {\n      context.arc(\n        w - signX * trr + x,\n        signY * trr + y,\n        trr,\n        (-signY * Math.PI) / 2,\n        signX > 0 ? 0 : Math.PI,\n        sweepFlag,\n      );\n    }\n    context.lineTo(w + x, h - signY * brr + y);\n    if (brr !== 0) {\n      context.arc(\n        w - signX * brr + x,\n        h - signY * brr + y,\n        brr,\n        signX > 0 ? 0 : Math.PI,\n        signY > 0 ? Math.PI / 2 : 1.5 * Math.PI,\n        sweepFlag,\n      );\n    }\n    context.lineTo(signX * blr + x, h + y);\n    if (blr !== 0) {\n      context.arc(\n        signX * blr + x,\n        h - signY * blr + y,\n        blr,\n        signY > 0 ? Math.PI / 2 : -Math.PI / 2,\n        signX > 0 ? Math.PI : 0,\n        sweepFlag,\n      );\n    }\n    context.lineTo(x, signY * tlr + y);\n    if (tlr !== 0) {\n      context.arc(\n        signX * tlr + x,\n        signY * tlr + y,\n        tlr,\n        signX > 0 ? Math.PI : 0,\n        signY > 0 ? Math.PI * 1.5 : Math.PI / 2,\n        sweepFlag,\n      );\n    }\n  }\n}\n", "import { AbstractRendererPlugin, Shape } from '@antv/g-lite';\nimport type { PathGenerator } from './interfaces';\nimport {\n  CirclePath,\n  EllipsePath,\n  LinePath,\n  PathPath,\n  PolygonPath,\n  PolylinePath,\n  RectPath,\n} from './paths';\n\nexport class Plugin extends AbstractRendererPlugin<{\n  pathGeneratorFactory: Record<Shape, PathGenerator<any>>;\n}> {\n  name = 'canvas-path-generator';\n  init(): void {\n    const pathGeneratorFactory: Record<Shape, PathGenerator<any>> = {\n      [Shape.CIRCLE]: CirclePath,\n      [Shape.ELLIPSE]: EllipsePath,\n      [Shape.RECT]: RectPath,\n      [Shape.LINE]: LinePath,\n      [Shape.POLYLINE]: PolylinePath,\n      [Shape.POLYGON]: PolygonPath,\n      [Shape.PATH]: PathPath,\n      [Shape.TEXT]: undefined,\n      [Shape.GROUP]: undefined,\n      [Shape.IMAGE]: undefined,\n      [Shape.HTML]: undefined,\n      [Shape.MESH]: undefined,\n      [Shape.FRAGMENT]: undefined,\n    };\n\n    // @ts-ignore\n    this.context.pathGeneratorFactory = pathGeneratorFactory;\n  }\n  destroy(): void {\n    // @ts-ignore\n    delete this.context.pathGeneratorFactory;\n  }\n}\n\nexport * from './interfaces';\n", "import type {\n  BaseStyleProps,\n  DisplayObject,\n  PickingResult,\n  RenderingPlugin,\n  Shape,\n  IDocument,\n  RenderingPluginContext,\n  GlobalRuntime,\n} from '@antv/g-lite';\nimport { findClosestClipPathTarget, Point } from '@antv/g-lite';\nimport type { PathGenerator } from '@antv/g-plugin-canvas-path-generator';\nimport { mat4, vec3 } from 'gl-matrix';\n\nexport type PointInPathPicker<T extends BaseStyleProps> = (\n  displayObject: DisplayObject<T>,\n  point: Point,\n  isClipPath: boolean,\n  isPointInPath: (displayObject: DisplayObject<T>, point: Point) => boolean,\n  context: RenderingPluginContext,\n  runtime: GlobalRuntime,\n) => boolean;\n\nconst tmpVec3a = vec3.create();\nconst tmpVec3b = vec3.create();\nconst tmpVec3c = vec3.create();\nconst tmpMat4 = mat4.create();\n\ninterface Extended {\n  pathGeneratorFactory: Record<Shape, PathGenerator<any>>;\n  pointInPathPickerFactory: Record<Shape, PointInPathPicker<any>>;\n}\n\n/**\n * pick shape(s) with Mouse/Touch event\n *\n * 1. find AABB with r-tree\n * 2. do math calculation with geometry in an accurate way\n */\nexport class CanvasPickerPlugin implements RenderingPlugin {\n  static tag = 'CanvasPicker';\n\n  private context: RenderingPluginContext & Extended;\n  private runtime: GlobalRuntime;\n\n  apply(context: RenderingPluginContext, runtime: GlobalRuntime) {\n    const { renderingService, renderingContext } = context;\n    this.context = context as RenderingPluginContext & Extended;\n    this.runtime = runtime;\n\n    const document = renderingContext.root?.ownerDocument;\n\n    renderingService.hooks.pick.tapPromise(\n      CanvasPickerPlugin.tag,\n      async (result: PickingResult) => {\n        return this.pick(document, result);\n      },\n    );\n\n    renderingService.hooks.pickSync.tap(\n      CanvasPickerPlugin.tag,\n      (result: PickingResult) => {\n        return this.pick(document, result);\n      },\n    );\n  }\n\n  private pick(document: IDocument, result: PickingResult) {\n    const {\n      topmost,\n      position: { x, y },\n    } = result;\n\n    // position in world space\n    const position = vec3.set(tmpVec3a, x, y, 0);\n\n    // query by AABB first with spatial index(r-tree)\n    const hitTestList = document.elementsFromBBox(\n      position[0],\n      position[1],\n      position[0],\n      position[1],\n    );\n\n    // test with clip path & origin shape\n    // @see https://github.com/antvis/g/issues/1064\n    const pickedDisplayObjects: DisplayObject[] = [];\n    for (const displayObject of hitTestList) {\n      const worldTransform = displayObject.getWorldTransform();\n      const isHitOriginShape = this.isHit(\n        displayObject,\n        position,\n        worldTransform,\n        false,\n      );\n      if (isHitOriginShape) {\n        // should look up in the ancestor node\n        const clipped = findClosestClipPathTarget(displayObject);\n        if (clipped) {\n          const { clipPath } = clipped.parsedStyle;\n          const isHitClipPath = this.isHit(\n            clipPath,\n            position,\n            clipPath.getWorldTransform(),\n            true,\n          );\n          if (isHitClipPath) {\n            if (topmost) {\n              result.picked = [displayObject];\n              return result;\n            }\n            pickedDisplayObjects.push(displayObject);\n          }\n        } else {\n          if (topmost) {\n            result.picked = [displayObject];\n            return result;\n          }\n          pickedDisplayObjects.push(displayObject);\n        }\n      }\n    }\n\n    result.picked = pickedDisplayObjects;\n    return result;\n  }\n\n  private isHit = (\n    displayObject: DisplayObject,\n    position: vec3,\n    worldTransform: mat4,\n    isClipPath: boolean,\n  ) => {\n    // use picker for current shape's type\n    const pick =\n      this.context.pointInPathPickerFactory[displayObject.nodeName as Shape];\n    if (pick) {\n      // invert with world matrix\n      const invertWorldMat = mat4.invert(tmpMat4, worldTransform);\n\n      // transform client position to local space, do picking in local space\n      const localPosition = vec3.transformMat4(\n        tmpVec3b,\n        vec3.set(tmpVec3c, position[0], position[1], 0),\n        invertWorldMat,\n      );\n\n      if (\n        pick(\n          displayObject,\n          new Point(localPosition[0], localPosition[1]),\n          isClipPath,\n          this.isPointInPath,\n          this.context,\n          this.runtime,\n        )\n      ) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  /**\n   * use native picking method\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/isPointInPath\n   */\n  private isPointInPath = (displayObject: DisplayObject, position: Point) => {\n    const context = this.runtime.offscreenCanvasCreator.getOrCreateContext(\n      this.context.config.offscreenCanvas,\n    ) as CanvasRenderingContext2D;\n\n    const generatePath =\n      this.context.pathGeneratorFactory[displayObject.nodeName];\n    if (generatePath) {\n      context.beginPath();\n      generatePath(context, displayObject.parsedStyle);\n      context.closePath();\n    }\n\n    return context.isPointInPath(position.x, position.y);\n  };\n}\n", "import type {\n  CircleStyleProps,\n  DisplayObject,\n  ParsedCircleStyleProps,\n  Point,\n} from '@antv/g-lite';\nimport { isFillOrStrokeAffected } from '@antv/g-lite';\nimport { distance } from '@antv/g-math';\n\nexport function isPointInPath(\n  displayObject: DisplayObject<CircleStyleProps>,\n  position: Point,\n  isClipPath: boolean,\n): boolean {\n  const {\n    cx = 0,\n    cy = 0,\n    r,\n    fill,\n    stroke,\n    lineWidth = 1,\n    increasedLineWidthForHitTesting = 0,\n    pointerEvents = 'auto',\n  } = displayObject.parsedStyle as ParsedCircleStyleProps;\n  const halfLineWidth = (lineWidth + increasedLineWidthForHitTesting) / 2;\n  const absDistance = distance(cx, cy, position.x, position.y);\n\n  const [hasFill, hasStroke] = isFillOrStrokeAffected(\n    pointerEvents,\n    fill,\n    stroke,\n  );\n\n  if ((hasFill && hasStroke) || isClipPath) {\n    return absDistance <= r + halfLineWidth;\n  }\n  if (hasFill) {\n    return absDistance <= r;\n  }\n  if (hasStroke) {\n    return absDistance >= r - halfLineWidth && absDistance <= r + halfLineWidth;\n  }\n  return false;\n}\n", "import type {\n  DisplayObject,\n  EllipseStyleProps,\n  ParsedEllipseStyleProps,\n  Point,\n} from '@antv/g-lite';\nimport { isFillOrStrokeAffected } from '@antv/g-lite';\n\nfunction ellipseDistance(\n  squareX: number,\n  squareY: number,\n  rx: number,\n  ry: number,\n) {\n  return squareX / (rx * rx) + squareY / (ry * ry);\n}\n\nexport function isPointInPath(\n  displayObject: DisplayObject<EllipseStyleProps>,\n  position: Point,\n  isClipPath: boolean,\n): boolean {\n  const {\n    cx = 0,\n    cy = 0,\n    rx,\n    ry,\n    fill,\n    stroke,\n    lineWidth = 1,\n    increasedLineWidthForHitTesting = 0,\n    pointerEvents = 'auto',\n  } = displayObject.parsedStyle as ParsedEllipseStyleProps;\n\n  const { x, y } = position;\n  const [hasFill, hasStroke] = isFillOrStrokeAffected(\n    pointerEvents,\n    fill,\n    stroke,\n  );\n\n  const halfLineWith = (lineWidth + increasedLineWidthForHitTesting) / 2;\n  const squareX = (x - cx) * (x - cx);\n  const squareY = (y - cy) * (y - cy);\n  //  x*x/rx*rx + y*y/ry*ry = 1;\n  if ((hasFill && hasStroke) || isClipPath) {\n    return (\n      ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <=\n      1\n    );\n  }\n  if (hasFill) {\n    return ellipseDistance(squareX, squareY, rx, ry) <= 1;\n  }\n  if (hasStroke) {\n    return (\n      ellipseDistance(squareX, squareY, rx - halfLineWith, ry - halfLineWith) >=\n        1 &&\n      ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <=\n        1\n    );\n  }\n  return false;\n}\n", "import { distance, linePointToLine } from '@antv/g-math';\n\nexport function inBox(\n  minX: number,\n  minY: number,\n  width: number,\n  height: number,\n  x: number,\n  y: number,\n) {\n  return x >= minX && x <= minX + width && y >= minY && y <= minY + height;\n}\n\nexport function inRect(\n  minX: number,\n  minY: number,\n  width: number,\n  height: number,\n  lineWidth: number,\n  x: number,\n  y: number,\n) {\n  const halfWidth = lineWidth / 2;\n  // \n  return (\n    inBox(minX - halfWidth, minY - halfWidth, width, lineWidth, x, y) || // \n    inBox(\n      minX + width - halfWidth,\n      minY - halfWidth,\n      lineWidth,\n      height,\n      x,\n      y,\n    ) || // \n    inBox(\n      minX + halfWidth,\n      minY + height - halfWidth,\n      width,\n      lineWidth,\n      x,\n      y,\n    ) || // \n    inBox(minX - halfWidth, minY + halfWidth, lineWidth, height, x, y)\n  ); // \n}\n\nexport function inArc(\n  cx: number,\n  cy: number,\n  r: number,\n  startAngle: number,\n  endAngle: number,\n  lineWidth: number,\n  x: number,\n  y: number,\n) {\n  const angle = (Math.atan2(y - cy, x - cx) + Math.PI * 2) % (Math.PI * 2); //  0 - 2 * Math.PI \n  // if (angle < startAngle || angle > endAngle) {\n  //   return false;\n  // }\n  const point = {\n    x: cx + r * Math.cos(angle),\n    y: cy + r * Math.sin(angle),\n  };\n\n  return distance(point.x, point.y, x, y) <= lineWidth / 2;\n}\n\nexport function inLine(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  lineWidth: number,\n  x: number,\n  y: number,\n) {\n  const minX = Math.min(x1, x2);\n  const maxX = Math.max(x1, x2);\n  const minY = Math.min(y1, y2);\n  const maxY = Math.max(y1, y2);\n  const halfWidth = lineWidth / 2;\n  // \n  //  lineWidth \n  if (\n    !(\n      x >= minX - halfWidth &&\n      x <= maxX + halfWidth &&\n      y >= minY - halfWidth &&\n      y <= maxY + halfWidth\n    )\n  ) {\n    return false;\n  }\n  // \n  return linePointToLine(x1, y1, x2, y2, x, y) <= lineWidth / 2;\n}\n\nexport function inPolyline(\n  points: any[],\n  lineWidth: number,\n  x: number,\n  y: number,\n  isClose: boolean,\n) {\n  const count = points.length;\n  if (count < 2) {\n    return false;\n  }\n  for (let i = 0; i < count - 1; i++) {\n    const x1 = points[i][0];\n    const y1 = points[i][1];\n    const x2 = points[i + 1][0];\n    const y2 = points[i + 1][1];\n\n    if (inLine(x1, y1, x2, y2, lineWidth, x, y)) {\n      return true;\n    }\n  }\n\n  // \n  if (isClose) {\n    const first = points[0];\n    const last = points[count - 1];\n    if (inLine(first[0], first[1], last[0], last[1], lineWidth, x, y)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// https://blog.csdn.net/WilliamSun0122/article/details/77994526\nconst tolerance = 1e-6;\n// doubleeps\nfunction dcmp(x: number) {\n  if (Math.abs(x) < tolerance) {\n    return 0;\n  }\n\n  return x < 0 ? -1 : 1;\n}\n\n// Qp1p2\nfunction onSegment(p1: any, p2: any, q: any) {\n  if (\n    (q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) &&\n    Math.min(p1[0], p2[0]) <= q[0] &&\n    q[0] <= Math.max(p1[0], p2[0]) &&\n    Math.min(p1[1], p2[1]) <= q[1] &&\n    q[1] <= Math.max(p1[1], p2[1])\n  ) {\n    return true;\n  }\n  return false;\n}\n\n// P-\nexport function inPolygon(points: any[], x: number, y: number) {\n  let isHit = false;\n  const n = points.length;\n  if (n <= 2) {\n    // svg  3 \n    return false;\n  }\n  for (let i = 0; i < n; i++) {\n    const p1 = points[i];\n    const p2 = points[(i + 1) % n];\n    if (onSegment(p1, p2, [x, y])) {\n      // \n      return true;\n    }\n    // min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n    //    \n    if (\n      dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 &&\n      dcmp(x - ((y - p1[1]) * (p1[0] - p2[0])) / (p1[1] - p2[1]) - p1[0]) < 0\n    ) {\n      isHit = !isHit;\n    }\n  }\n  return isHit;\n}\nexport function inPolygons(polygons: any[], x: number, y: number): boolean {\n  let isHit = false;\n  for (let i = 0; i < polygons.length; i++) {\n    const points = polygons[i];\n    isHit = inPolygon(points, x, y);\n    if (isHit) {\n      break;\n    }\n  }\n  return isHit;\n}\n", "import type {\n  DisplayObject,\n  LineStyleProps,\n  ParsedLineStyleProps,\n  Point,\n} from '@antv/g-lite';\nimport { isFillOrStrokeAffected } from '@antv/g-lite';\nimport { inLine } from './utils/math';\n\nexport function isPointInPath(\n  displayObject: DisplayObject<LineStyleProps>,\n  position: Point,\n  isClipPath: boolean,\n): boolean {\n  const {\n    x1,\n    y1,\n    x2,\n    y2,\n    lineWidth = 1,\n    increasedLineWidthForHitTesting = 0,\n    pointerEvents = 'auto',\n    fill,\n    stroke,\n  } = displayObject.parsedStyle as ParsedLineStyleProps;\n\n  const [, hasStroke] = isFillOrStrokeAffected(pointerEvents, fill, stroke);\n\n  if ((!hasStroke && !isClipPath) || !lineWidth) {\n    return false;\n  }\n\n  return inLine(\n    x1,\n    y1,\n    x2,\n    y2,\n    lineWidth + increasedLineWidthForHitTesting,\n    position.x,\n    position.y,\n  );\n}\n", "import type {\n  DisplayObject,\n  GlobalRuntime,\n  ParsedPathStyleProps,\n  Path,\n  PathSegment,\n  PathStyleProps,\n  Point,\n  RenderingPluginContext,\n} from '@antv/g-lite';\nimport {\n  getOrCalculatePathTotalLength,\n  isFillOrStrokeAffected,\n} from '@antv/g-lite';\nimport { cubicPointDistance, quadPointDistance } from '@antv/g-math';\nimport { arcToCubic } from '@antv/util';\nimport { inBox, inLine, inPolygons } from './utils/math';\n\n// TODO: replace it with method in @antv/util\nfunction isPointInStroke(\n  segments: PathSegment[],\n  lineWidth: number,\n  px: number,\n  py: number,\n  length: number,\n) {\n  let isHit = false;\n  const halfWidth = lineWidth / 2;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const { currentPoint, params, prePoint, box } = segment;\n    // \n    if (\n      box &&\n      !inBox(\n        box.x - halfWidth,\n        box.y - halfWidth,\n        box.width + lineWidth,\n        box.height + lineWidth,\n        px,\n        py,\n      )\n    ) {\n      continue;\n    }\n    switch (segment.command) {\n      // L  Z  M \n      case 'L':\n      case 'Z':\n        isHit = inLine(\n          prePoint[0],\n          prePoint[1],\n          currentPoint[0],\n          currentPoint[1],\n          lineWidth,\n          px,\n          py,\n        );\n        if (isHit) {\n          return true;\n        }\n        break;\n      case 'Q':\n        const qDistance = quadPointDistance(\n          prePoint[0],\n          prePoint[1],\n          params[1],\n          params[2],\n          params[3],\n          params[4],\n          px,\n          py,\n        );\n        isHit = qDistance <= lineWidth / 2;\n        if (isHit) {\n          return true;\n        }\n        break;\n      case 'C':\n        const cDistance = cubicPointDistance(\n          prePoint[0], // ,  C \n          prePoint[1],\n          params[1], // 'C' 12 34 56 \n          params[2],\n          params[3],\n          params[4],\n          params[5],\n          params[6],\n          px,\n          py,\n          length,\n        );\n        isHit = cDistance <= lineWidth / 2;\n        if (isHit) {\n          return true;\n        }\n        break;\n      case 'A':\n        // cache conversion result\n        if (!segment.cubicParams) {\n          segment.cubicParams = arcToCubic(\n            prePoint[0],\n            prePoint[1],\n            params[1],\n            params[2],\n            params[3],\n            params[4],\n            params[5],\n            params[6],\n            params[7],\n            undefined,\n          ) as [number, number, number, number, number, number];\n        }\n\n        const args = segment.cubicParams;\n\n        // fixArc\n        let prePointInCubic = prePoint;\n        for (let i = 0; i < args.length; i += 6) {\n          const cDistance = cubicPointDistance(\n            prePointInCubic[0], // ,  C \n            prePointInCubic[1],\n            args[i],\n            args[i + 1],\n            args[i + 2],\n            args[i + 3],\n            args[i + 4],\n            args[i + 5],\n            px,\n            py,\n            length,\n          );\n          prePointInCubic = [args[i + 4], args[i + 5]];\n          isHit = cDistance <= lineWidth / 2;\n\n          if (isHit) {\n            return true;\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  }\n  return isHit;\n}\n\nexport function isPointInPath(\n  displayObject: DisplayObject<PathStyleProps>,\n  position: Point,\n  isClipPath: boolean,\n  isPointInPath: (\n    displayObject: DisplayObject<PathStyleProps>,\n    position: Point,\n  ) => boolean,\n  renderingPluginContext: RenderingPluginContext,\n  runtime: GlobalRuntime,\n): boolean {\n  const {\n    lineWidth = 1,\n    increasedLineWidthForHitTesting = 0,\n    stroke,\n    fill,\n    d,\n    pointerEvents = 'auto',\n  } = displayObject.parsedStyle as ParsedPathStyleProps;\n\n  const { segments, hasArc, polylines, polygons } = d;\n  const [hasFill, hasStroke] = isFillOrStrokeAffected(\n    pointerEvents,\n    // Only a closed path can be filled.\n    polygons?.length && fill,\n    stroke,\n  );\n\n  const totalLength = getOrCalculatePathTotalLength(displayObject as Path);\n\n  let isHit = false;\n\n  if (hasFill || isClipPath) {\n    if (hasArc) {\n      //  canvas  api \n      isHit = isPointInPath(displayObject, position);\n    } else {\n      // \n      isHit =\n        inPolygons(polygons, position.x, position.y) ||\n        inPolygons(polylines, position.x, position.y);\n    }\n    return isHit;\n  }\n  if (hasStroke || isClipPath) {\n    isHit = isPointInStroke(\n      segments,\n      lineWidth + increasedLineWidthForHitTesting,\n      position.x,\n      position.y,\n      totalLength,\n    );\n  }\n\n  return isHit;\n}\n", "import type {\n  DisplayObject,\n  ParsedPolygonStyleProps,\n  Point,\n  PolylineStyleProps,\n} from '@antv/g-lite';\nimport { isFillOrStrokeAffected } from '@antv/g-lite';\nimport { inPolygon, inPolyline } from './utils/math';\n\nexport function isPointInPath(\n  displayObject: DisplayObject<PolylineStyleProps>,\n  position: Point,\n  isClipPath: boolean,\n): boolean {\n  const {\n    stroke,\n    fill,\n    lineWidth = 1,\n    increasedLineWidthForHitTesting = 0,\n    points,\n    pointerEvents = 'auto',\n  } = displayObject.parsedStyle as ParsedPolygonStyleProps;\n  const [hasFill, hasStroke] = isFillOrStrokeAffected(\n    pointerEvents,\n    fill,\n    stroke,\n  );\n\n  let isHit = false;\n  if (hasStroke || isClipPath) {\n    isHit = inPolyline(\n      points.points,\n      lineWidth + increasedLineWidthForHitTesting,\n      position.x,\n      position.y,\n      true,\n    );\n  }\n  if (!isHit && (hasFill || isClipPath)) {\n    isHit = inPolygon(points.points, position.x, position.y);\n  }\n  return isHit;\n}\n", "import type {\n  DisplayObject,\n  ParsedPolylineStyleProps,\n  Point,\n  PolylineStyleProps,\n} from '@antv/g-lite';\nimport { isFillOrStrokeAffected } from '@antv/g-lite';\nimport { inPolyline } from './utils/math';\n\nexport function isPointInPath(\n  displayObject: DisplayObject<PolylineStyleProps>,\n  position: Point,\n  isClipPath: boolean,\n): boolean {\n  const {\n    lineWidth = 1,\n    increasedLineWidthForHitTesting = 0,\n    points,\n    pointerEvents = 'auto',\n    fill,\n    stroke,\n  } = displayObject.parsedStyle as ParsedPolylineStyleProps;\n  const [, hasStroke] = isFillOrStrokeAffected(pointerEvents, fill, stroke);\n\n  if ((!hasStroke && !isClipPath) || !lineWidth) {\n    return false;\n  }\n\n  return inPolyline(\n    points.points,\n    lineWidth + increasedLineWidthForHitTesting,\n    position.x,\n    position.y,\n    false,\n  );\n}\n", "import type {\n  DisplayObject,\n  ParsedRectStyleProps,\n  Point,\n  RectStyleProps,\n} from '@antv/g-lite';\nimport { GlobalRuntime, isFillOrStrokeAffected } from '@antv/g-lite';\nimport { clamp } from '@antv/util';\nimport { inArc, inBox, inLine, inRect } from './utils/math';\n\nexport function isPointInPath(\n  displayObject: DisplayObject<RectStyleProps>,\n  position: Point,\n  isClipPath: boolean,\n  isPointInPath: (\n    displayObject: DisplayObject<RectStyleProps>,\n    position: Point,\n  ) => boolean,\n  runtime: GlobalRuntime,\n): boolean {\n  const {\n    radius,\n    fill,\n    stroke,\n    lineWidth = 1,\n    increasedLineWidthForHitTesting = 0,\n    x = 0,\n    y = 0,\n    width,\n    height,\n    pointerEvents = 'auto',\n  } = displayObject.parsedStyle as ParsedRectStyleProps;\n\n  const [hasFill, hasStroke] = isFillOrStrokeAffected(\n    pointerEvents,\n    fill,\n    stroke,\n  );\n\n  const hasRadius = radius && radius.some((r) => r !== 0);\n\n  const lineWidthForHitTesting = lineWidth + increasedLineWidthForHitTesting;\n\n  // \n  if (!hasRadius) {\n    const halfWidth = lineWidthForHitTesting / 2;\n    // \n    if ((hasFill && hasStroke) || isClipPath) {\n      return inBox(\n        x - halfWidth,\n        y - halfWidth,\n        width + halfWidth,\n        height + halfWidth,\n        position.x,\n        position.y,\n      );\n    }\n    // \n    if (hasFill) {\n      return inBox(x, y, width, height, position.x, position.y);\n    }\n    if (hasStroke) {\n      return inRect(\n        x,\n        y,\n        width,\n        height,\n        lineWidthForHitTesting,\n        position.x,\n        position.y,\n      );\n    }\n  } else {\n    let isHit = false;\n    if (hasStroke || isClipPath) {\n      isHit = inRectWithRadius(\n        x,\n        y,\n        width,\n        height,\n        radius.map((r) =>\n          clamp(r, 0, Math.min(Math.abs(width) / 2, Math.abs(height) / 2)),\n        ) as [number, number, number, number],\n        lineWidthForHitTesting,\n        position.x,\n        position.y,\n      );\n    }\n    // \n    // \n    if (!isHit && (hasFill || isClipPath)) {\n      isHit = isPointInPath(displayObject, position);\n    }\n    return isHit;\n  }\n\n  return false;\n}\n\nfunction inRectWithRadius(\n  minX: number,\n  minY: number,\n  width: number,\n  height: number,\n  radiusArray: [number, number, number, number],\n  lineWidth: number,\n  x: number,\n  y: number,\n) {\n  const [tlr, trr, brr, blr] = radiusArray;\n  return (\n    inLine(minX + tlr, minY, minX + width - trr, minY, lineWidth, x, y) ||\n    inLine(\n      minX + width,\n      minY + trr,\n      minX + width,\n      minY + height - brr,\n      lineWidth,\n      x,\n      y,\n    ) ||\n    inLine(\n      minX + width - brr,\n      minY + height,\n      minX + blr,\n      minY + height,\n      lineWidth,\n      x,\n      y,\n    ) ||\n    inLine(minX, minY + height - blr, minX, minY + tlr, lineWidth, x, y) ||\n    inArc(\n      minX + width - trr,\n      minY + trr,\n      trr,\n      1.5 * Math.PI,\n      2 * Math.PI,\n      lineWidth,\n      x,\n      y,\n    ) ||\n    inArc(\n      minX + width - brr,\n      minY + height - brr,\n      brr,\n      0,\n      0.5 * Math.PI,\n      lineWidth,\n      x,\n      y,\n    ) ||\n    inArc(\n      minX + blr,\n      minY + height - blr,\n      blr,\n      0.5 * Math.PI,\n      Math.PI,\n      lineWidth,\n      x,\n      y,\n    ) ||\n    inArc(minX + tlr, minY + tlr, tlr, Math.PI, 1.5 * Math.PI, lineWidth, x, y)\n  );\n}\n", "import {\n  DisplayObject,\n  ParsedImageStyleProps,\n  Point,\n  ImageStyleProps,\n  Shape,\n  RenderingPluginContext,\n  GlobalRuntime,\n} from '@antv/g-lite';\nimport { StyleRenderer } from '@antv/g-plugin-canvas-renderer';\n\nexport function isPointInPath(\n  displayObject: DisplayObject<ImageStyleProps>,\n  position: Point,\n  isClipPath: boolean,\n  isPointInPath: (\n    displayObject: DisplayObject<ImageStyleProps>,\n    position: Point,\n  ) => boolean,\n  renderingPluginContext: RenderingPluginContext,\n  runtime: GlobalRuntime,\n): boolean {\n  const {\n    pointerEvents = 'auto',\n    x = 0,\n    y = 0,\n    width,\n    height,\n  } = displayObject.parsedStyle as ParsedImageStyleProps;\n\n  if (pointerEvents === 'non-transparent-pixel') {\n    const { offscreenCanvas } = renderingPluginContext.config;\n    const canvas =\n      runtime.offscreenCanvasCreator.getOrCreateCanvas(offscreenCanvas);\n    const context = runtime.offscreenCanvasCreator.getOrCreateContext(\n      offscreenCanvas,\n      {\n        willReadFrequently: true,\n      },\n    ) as CanvasRenderingContext2D;\n    canvas.width = width;\n    canvas.height = height;\n\n    (\n      (renderingPluginContext as any).defaultStyleRendererFactory as Record<\n        Shape,\n        StyleRenderer\n      >\n    )[Shape.IMAGE].render(\n      context,\n      { ...displayObject.parsedStyle, x: 0, y: 0 },\n      displayObject,\n      undefined,\n      undefined,\n      undefined,\n    );\n\n    const imagedata = context.getImageData(\n      position.x - x,\n      position.y - y,\n      1,\n      1,\n    ).data;\n    return imagedata.every((component) => component !== 0);\n  }\n\n  return true;\n}\n", "import type { DisplayObject, Point, TextStyleProps } from '@antv/g-lite';\n\nexport function isPointInPath(\n  displayObject: DisplayObject<TextStyleProps>,\n  position: Point,\n  isClipPath: boolean,\n  isPointInPath: (\n    displayObject: DisplayObject<TextStyleProps>,\n    position: Point,\n  ) => boolean,\n): boolean {\n  const bounds = displayObject.getGeometryBounds();\n\n  // @see https://stackoverflow.com/questions/28706989/how-do-i-check-if-a-mouse-click-is-inside-a-rotated-text-on-the-html5-canvas-in\n  return (\n    position.x >= bounds.min[0] &&\n    position.y >= bounds.min[1] &&\n    position.x <= bounds.max[0] &&\n    position.y <= bounds.max[1]\n  );\n}\n", "import { AbstractRendererPlugin, Shape } from '@antv/g-lite';\nimport type { PointInPathPicker } from './CanvasPickerPlugin';\nimport { CanvasPickerPlugin } from './CanvasPickerPlugin';\nimport { isPointInPath as CirclePicker } from './Circle';\nimport { isPointInPath as EllipsePicker } from './Ellipse';\nimport { isPointInPath as LinePicker } from './Line';\nimport { isPointInPath as PathPicker } from './Path';\nimport { isPointInPath as PolygonPicker } from './Polygon';\nimport { isPointInPath as PolylinePicker } from './Polyline';\nimport { isPointInPath as RectPicker } from './Rect';\nimport { isPointInPath as ImagePicker } from './Image';\nimport { isPointInPath as TextPicker } from './Text';\n\nexport class Plugin extends AbstractRendererPlugin {\n  name = 'canvas-picker';\n  init(): void {\n    const pointInPathPickerFactory: Record<Shape, PointInPathPicker<any>> = {\n      [Shape.CIRCLE]: CirclePicker,\n      [Shape.ELLIPSE]: EllipsePicker,\n      [Shape.RECT]: RectPicker,\n      [Shape.LINE]: LinePicker,\n      [Shape.POLYLINE]: PolylinePicker,\n      [Shape.POLYGON]: PolygonPicker,\n      [Shape.PATH]: PathPicker,\n      [Shape.TEXT]: TextPicker,\n      [Shape.GROUP]: null,\n      [Shape.IMAGE]: ImagePicker,\n      [Shape.HTML]: null,\n      [Shape.MESH]: null,\n    };\n\n    // @ts-ignore\n    this.context.pointInPathPickerFactory = pointInPathPickerFactory;\n\n    this.addRenderingPlugin(new CanvasPickerPlugin());\n  }\n  destroy(): void {\n    // @ts-ignore\n    delete this.context.pointInPathPickerFactory;\n    this.removeAllRenderingPlugins();\n  }\n}\n", "function _classPrivateFieldBase(e, t) {\n  if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\");\n  return e;\n}\nexport { _classPrivateFieldBase as default };", "var id = 0;\nfunction _classPrivateFieldKey(e) {\n  return \"__private_\" + id++ + \"_\" + e;\n}\nexport { _classPrivateFieldKey as default };", "export class RefCountCache<CacheValue, CounterValue> {\n  private cacheStore = new Map<\n    string,\n    { value: CacheValue; counter: Set<CounterValue> }\n  >();\n\n  onRefAdded(ref: CounterValue) {}\n\n  has(key: string) {\n    return this.cacheStore.has(key);\n  }\n\n  put(key: string, item: CacheValue, ref: CounterValue) {\n    if (this.cacheStore.has(key)) {\n      return false;\n    }\n\n    this.cacheStore.set(key, {\n      value: item,\n      counter: new Set([ref]),\n    });\n    this.onRefAdded(ref);\n\n    return true;\n  }\n\n  get(key: string, ref: CounterValue) {\n    const cacheItem = this.cacheStore.get(key);\n    if (!cacheItem) {\n      return null;\n    }\n\n    if (!cacheItem.counter.has(ref)) {\n      cacheItem.counter.add(ref);\n      this.onRefAdded(ref);\n    }\n\n    return cacheItem.value;\n  }\n\n  update(key: string, value: CacheValue, ref: CounterValue) {\n    const cacheItem = this.cacheStore.get(key);\n    if (!cacheItem) {\n      return false;\n    }\n\n    cacheItem.value = { ...cacheItem.value, ...value };\n    if (!cacheItem.counter.has(ref)) {\n      cacheItem.counter.add(ref);\n      this.onRefAdded(ref);\n    }\n\n    return true;\n  }\n\n  release(key: string, ref: CounterValue) {\n    const cacheItem = this.cacheStore.get(key);\n    if (!cacheItem) {\n      return false;\n    }\n\n    cacheItem.counter.delete(ref);\n\n    if (cacheItem.counter.size <= 0) {\n      this.cacheStore.delete(key);\n    }\n\n    return true;\n  }\n\n  releaseRef(ref: CounterValue) {\n    Array.from(this.cacheStore.keys()).forEach((key) => {\n      this.release(key, ref);\n    });\n  }\n\n  getSize() {\n    return this.cacheStore.size;\n  }\n\n  clear() {\n    this.cacheStore.clear();\n  }\n}\n", "const tasks: (() => void)[] = [];\nlet nextFrameTasks: (() => void)[] = [];\n\ninterface API {\n  requestAnimationFrame: typeof requestAnimationFrame;\n  cancelAnimationFrame: typeof cancelAnimationFrame;\n  createCanvas: () => HTMLCanvasElement | OffscreenCanvas;\n}\n\nexport interface SliceResult {\n  tileSize: [number, number];\n  /** [rows, cols] */\n  gridSize: [number, number];\n  /**\n   * @example\n   * ```\n   * [\n   *  // tileY=0\n   *  [tileX=0, tileX=1, ...],\n   *  // tileY=1\n   *  [tileX=0, tileX=1, ...],\n   * ]\n   * ```\n   */\n  tiles: (null | {\n    x: number;\n    y: number;\n    tileX: number;\n    tileY: number;\n    data: HTMLCanvasElement | OffscreenCanvas;\n  })[][];\n}\n\nexport class ImageSlicer {\n  static api: API;\n  static TASK_NUM_PER_FRAME = 10;\n  static rafId: ReturnType<typeof requestAnimationFrame>;\n\n  static stop(api = ImageSlicer.api) {\n    if (ImageSlicer.rafId) {\n      api.cancelAnimationFrame(ImageSlicer.rafId);\n      ImageSlicer.rafId = null;\n    }\n  }\n\n  static executeTask(api = ImageSlicer.api) {\n    if (tasks.length <= 0 && nextFrameTasks.length <= 0) {\n      return;\n    }\n\n    nextFrameTasks.forEach((task) => task());\n    nextFrameTasks = tasks.splice(0, ImageSlicer.TASK_NUM_PER_FRAME);\n\n    ImageSlicer.rafId = api.requestAnimationFrame(() => {\n      ImageSlicer.executeTask(api);\n    });\n  }\n\n  static sliceImage(\n    image: HTMLImageElement,\n    sliceWidth: number,\n    sliceHeight: number,\n    rerender: () => void,\n    overlap = 0,\n    api = ImageSlicer.api,\n  ) {\n    const imageWidth = image.naturalWidth || image.width;\n    const imageHeight = image.naturalHeight || image.height;\n\n    // ()\n    const strideW = sliceWidth - overlap;\n    const strideH = sliceHeight - overlap;\n\n    // \n    const gridCols = Math.ceil(imageWidth / strideW);\n    const gridRows = Math.ceil(imageHeight / strideH);\n\n    const result: SliceResult = {\n      tileSize: [sliceWidth, sliceHeight],\n      gridSize: [gridRows, gridCols],\n      tiles: Array(gridRows)\n        .fill(null)\n        .map(() => Array(gridCols).fill(null) as SliceResult['tiles'][number]),\n    };\n\n    // \n    for (let row = 0; row < gridRows; row++) {\n      for (let col = 0; col < gridCols; col++) {\n        tasks.push(() => {\n          // \n          const startX = col * strideW;\n          const startY = row * strideH;\n\n          // /\n          const [tempSliceWidth, tempSliceHeight] = [\n            Math.min(sliceWidth, imageWidth - startX),\n            Math.min(sliceHeight, imageHeight - startY),\n          ];\n\n          // canvas\n          const sliceCanvas = api.createCanvas();\n          sliceCanvas.width = sliceWidth;\n          sliceCanvas.height = sliceHeight;\n          const sliceCtx = sliceCanvas.getContext('2d');\n\n          // canvas\n          sliceCtx.drawImage(\n            image,\n            startX,\n            startY,\n            tempSliceWidth,\n            tempSliceHeight,\n            0,\n            0,\n            tempSliceWidth,\n            tempSliceHeight,\n          );\n\n          // \n          result.tiles[row][col] = {\n            x: startX,\n            y: startY,\n            tileX: col,\n            tileY: row,\n            data: sliceCanvas,\n          };\n\n          rerender();\n        });\n      }\n    }\n\n    ImageSlicer.stop();\n    ImageSlicer.executeTask();\n\n    return result;\n  }\n}\n", "import {\n  DisplayObject,\n  GradientType,\n  LinearGradient,\n  Pattern,\n  RadialGradient,\n  Rect,\n  Tuple3Number,\n  UnitType,\n  computeLinearGradient,\n  computeRadialGradient,\n  parseTransform,\n  parsedTransformToMat4,\n  Image,\n  OffscreenCanvasCreator,\n  ElementEvent,\n  type CanvasContext,\n  type GlobalRuntime,\n} from '@antv/g-lite';\nimport { isString } from '@antv/util';\nimport { mat4 } from 'gl-matrix';\nimport { RefCountCache } from './RefCountCache';\nimport { type SliceResult, ImageSlicer } from './ImageSlicer';\n\nexport interface ImageCache extends Partial<SliceResult> {\n  img: HTMLImageElement;\n  /** [width, height] */\n  size: [number, number];\n  downSampled?: ImageBitmap | HTMLImageElement;\n  downSamplingRate?: number;\n}\n\nconst IMAGE_CACHE = new RefCountCache<ImageCache, DisplayObject>();\nIMAGE_CACHE.onRefAdded = function onRefAdded(\n  this: RefCountCache<ImageCache, DisplayObject>,\n  ref,\n) {\n  ref.addEventListener(\n    ElementEvent.DESTROY,\n    () => {\n      this.releaseRef(ref);\n    },\n    { once: true },\n  );\n};\n\nexport type GradientParams = (LinearGradient & RadialGradient) & {\n  width: number;\n  height: number;\n  /**\n   * Top-left corner\n   */\n  min: [number, number];\n  type: GradientType;\n};\n\nexport class ImagePool {\n  static isSupportTile = !!OffscreenCanvasCreator.createCanvas();\n  private gradientCache: Record<string, CanvasGradient> = {};\n  private patternCache: Record<string, CanvasPattern> = {};\n\n  constructor(\n    public context: CanvasContext,\n    private runtime: GlobalRuntime,\n  ) {}\n\n  getImageSync(\n    src: Image['attributes']['src'],\n    ref: DisplayObject,\n    callback?: (cache: ImageCache) => void,\n  ): ImageCache | null {\n    const imageSource = isString(src) ? src : src.src;\n\n    if (IMAGE_CACHE.has(imageSource)) {\n      const imageCache = IMAGE_CACHE.get(imageSource, ref);\n\n      if (imageCache.img.complete) {\n        callback?.(imageCache);\n\n        return imageCache;\n      }\n    }\n\n    this.getOrCreateImage(src, ref)\n      .then((cache) => {\n        callback?.(cache);\n      })\n      .catch((reason) => {\n        console.error(reason);\n      });\n\n    return null;\n  }\n\n  getOrCreateImage(\n    src: Image['attributes']['src'],\n    ref: DisplayObject,\n  ): Promise<ImageCache> {\n    const imageSource = isString(src) ? src : src.src;\n\n    if (!isString(src) && !IMAGE_CACHE.has(imageSource)) {\n      const imageCache: ImageCache = {\n        img: src,\n        size: [src.naturalWidth || src.width, src.naturalHeight || src.height],\n        tileSize: calculateImageTileSize(src),\n      };\n\n      IMAGE_CACHE.put(imageSource, imageCache, ref);\n    }\n\n    if (IMAGE_CACHE.has(imageSource)) {\n      const imageCache = IMAGE_CACHE.get(imageSource, ref);\n\n      if (imageCache.img.complete) {\n        return Promise.resolve(imageCache);\n      }\n\n      return new Promise((resolve, reject) => {\n        imageCache.img.addEventListener('load', () => {\n          imageCache.size = [\n            imageCache.img.naturalWidth || imageCache.img.width,\n            imageCache.img.naturalHeight || imageCache.img.height,\n          ];\n          imageCache.tileSize = calculateImageTileSize(imageCache.img);\n          resolve(imageCache);\n        });\n\n        imageCache.img.addEventListener('error', (ev) => {\n          reject(ev);\n        });\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      // @see https://github.com/antvis/g/issues/938\n      const image = this.context.config.createImage();\n\n      if (image) {\n        const imageCache: ImageCache = {\n          img: image,\n          size: [0, 0],\n          tileSize: calculateImageTileSize(image),\n        };\n\n        IMAGE_CACHE.put(imageSource, imageCache, ref);\n\n        image.onload = () => {\n          imageCache.size = [\n            image.naturalWidth || image.width,\n            image.naturalHeight || image.height,\n          ];\n          imageCache.tileSize = calculateImageTileSize(imageCache.img);\n          resolve(imageCache);\n        };\n        image.onerror = (ev) => {\n          reject(ev);\n        };\n        image.crossOrigin = 'Anonymous';\n        image.src = imageSource;\n      }\n    });\n  }\n\n  async createDownSampledImage(\n    src: Image['attributes']['src'],\n    ref: DisplayObject,\n  ): Promise<ImageCache> {\n    const imageCache = await this.getOrCreateImage(src, ref);\n    if (typeof imageCache.downSamplingRate !== 'undefined') {\n      return imageCache;\n    }\n\n    const { enableLargeImageOptimization } = this.context.config;\n    const { maxDownSampledImageSize = 2048, downSamplingRateThreshold = 0.5 } =\n      typeof enableLargeImageOptimization === 'boolean'\n        ? {}\n        : enableLargeImageOptimization;\n    const createImageBitmapFunc = this.runtime.globalThis\n      .createImageBitmap as typeof createImageBitmap;\n    const [originWidth, originHeight] = imageCache.size;\n    let resizedImage: ImageCache['downSampled'] = imageCache.img;\n    let downSamplingRate = Math.min(\n      (maxDownSampledImageSize + maxDownSampledImageSize) /\n        (originWidth + originHeight),\n      Math.max(0.01, Math.min(downSamplingRateThreshold, 0.5)),\n    );\n\n    let updateCache: ImageCache = {\n      ...imageCache,\n      downSamplingRate,\n    };\n\n    IMAGE_CACHE.update(imageCache.img.src, updateCache, ref);\n\n    if (createImageBitmapFunc) {\n      try {\n        resizedImage = await createImageBitmapFunc(imageCache.img, {\n          resizeWidth: originWidth * downSamplingRate,\n          resizeHeight: originHeight * downSamplingRate,\n        });\n      } catch {\n        downSamplingRate = 1;\n      }\n    } else {\n      downSamplingRate = 1;\n    }\n\n    updateCache = {\n      ...this.getImageSync(src, ref),\n      downSampled: resizedImage,\n      downSamplingRate,\n    };\n\n    IMAGE_CACHE.update(imageCache.img.src, updateCache, ref);\n\n    return updateCache;\n  }\n\n  async createImageTiles(\n    src: Image['attributes']['src'],\n    tiles: [number, number][],\n    rerender: () => void,\n    ref: DisplayObject,\n  ): Promise<ImageCache> {\n    const imageCache = await this.getOrCreateImage(src, ref);\n    const { requestAnimationFrame, cancelAnimationFrame } =\n      ref.ownerDocument.defaultView;\n\n    ImageSlicer.api = {\n      requestAnimationFrame,\n      cancelAnimationFrame,\n      createCanvas: () => OffscreenCanvasCreator.createCanvas(),\n    };\n\n    const updateCache: ImageCache = {\n      ...imageCache,\n      ...ImageSlicer.sliceImage(\n        imageCache.img,\n        imageCache.tileSize[0],\n        imageCache.tileSize[0],\n        rerender,\n      ),\n    };\n\n    IMAGE_CACHE.update(imageCache.img.src, updateCache, ref);\n\n    return updateCache;\n  }\n\n  releaseImage(src: Image['attributes']['src'], ref: DisplayObject) {\n    IMAGE_CACHE.release(isString(src) ? src : src.src, ref);\n  }\n\n  releaseImageRef(ref: DisplayObject) {\n    IMAGE_CACHE.releaseRef(ref);\n  }\n\n  getOrCreatePatternSync(\n    object: DisplayObject,\n    pattern: Pattern,\n    context: CanvasRenderingContext2D,\n    $offscreenCanvas: HTMLCanvasElement,\n    dpr: number,\n    min: Tuple3Number,\n    callback: () => void,\n  ) {\n    const patternKey = this.generatePatternKey(pattern);\n    if (patternKey && this.patternCache[patternKey]) {\n      return this.patternCache[patternKey];\n    }\n\n    const { image, repetition, transform } = pattern;\n    let src: CanvasImageSource;\n    let needScaleWithDPR = false;\n    // Image URL\n    if (isString(image)) {\n      const imageCache = this.getImageSync(image, object, callback);\n      src = imageCache?.img;\n    } else if ($offscreenCanvas) {\n      src = $offscreenCanvas;\n      needScaleWithDPR = true;\n    } else {\n      src = image as CanvasImageSource;\n    }\n\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/createPattern\n    const canvasPattern = src && context.createPattern(src, repetition);\n\n    if (canvasPattern) {\n      let mat: mat4;\n      // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasPattern/setTransform\n      if (transform) {\n        mat = parsedTransformToMat4(\n          parseTransform(transform),\n          new DisplayObject({}),\n        );\n      } else {\n        mat = mat4.identity(mat4.create());\n      }\n\n      if (needScaleWithDPR) {\n        mat4.scale(mat, mat, [1 / dpr, 1 / dpr, 1]);\n      }\n\n      canvasPattern.setTransform({\n        a: mat[0],\n        b: mat[1],\n        c: mat[4],\n        d: mat[5],\n        e: mat[12] + min[0],\n        f: mat[13] + min[1],\n      });\n    }\n\n    if (patternKey && canvasPattern) {\n      this.patternCache[patternKey] = canvasPattern;\n    }\n\n    return canvasPattern;\n  }\n\n  getOrCreateGradient(\n    params: GradientParams,\n    context: CanvasRenderingContext2D,\n  ) {\n    const key = this.generateGradientKey(params);\n    const { type, steps, min, width, height, angle, cx, cy, size } = params;\n\n    if (this.gradientCache[key]) {\n      return this.gradientCache[key];\n    }\n\n    let gradient: CanvasGradient | null = null;\n    if (type === GradientType.LinearGradient) {\n      const { x1, y1, x2, y2 } = computeLinearGradient(\n        min,\n        width,\n        height,\n        angle,\n      );\n      // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/createLinearGradient\n      gradient = context.createLinearGradient(x1, y1, x2, y2);\n    } else if (type === GradientType.RadialGradient) {\n      const { x, y, r } = computeRadialGradient(\n        min,\n        width,\n        height,\n        cx,\n        cy,\n        size,\n      );\n      // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/createRadialGradient\n      gradient = context.createRadialGradient(x, y, 0, x, y, r);\n    }\n\n    if (gradient) {\n      steps.forEach(({ offset, color }) => {\n        if (offset.unit === UnitType.kPercentage) {\n          gradient?.addColorStop(offset.value / 100, color.toString());\n        }\n      });\n\n      this.gradientCache[key] = gradient;\n    }\n\n    return this.gradientCache[key];\n  }\n\n  private generateGradientKey(params: GradientParams): string {\n    const { type, min, width, height, steps, angle, cx, cy, size } = params;\n    return `gradient-${type}-${angle?.toString() || 0}-${cx?.toString() || 0}-${\n      cy?.toString() || 0\n    }-${size?.toString() || 0}-${min[0]}-${min[1]}-${width}-${height}-${steps\n      .map(({ offset, color }) => `${offset}${color}`)\n      .join('-')}`;\n  }\n\n  private generatePatternKey(pattern: Pattern) {\n    const { image, repetition } = pattern;\n    // only generate cache for Image\n    if (isString(image)) {\n      return `pattern-${image}-${repetition}`;\n    }\n    if ((image as Rect).nodeName === 'rect') {\n      return `pattern-${(image as Rect).entity}-${repetition}`;\n    }\n  }\n}\n\nfunction calculateImageTileSize(img: HTMLImageElement): [number, number] {\n  if (!img.complete) {\n    return [0, 0];\n  }\n\n  const [width, height] = [\n    img.naturalWidth || img.width,\n    img.naturalHeight || img.height,\n  ];\n\n  let tileSize = 256;\n\n  [256, 512].forEach((size) => {\n    const rows = Math.ceil(height / size);\n    const cols = Math.ceil(width / size);\n\n    if (rows * cols < 1e3) {\n      tileSize = size;\n    }\n  });\n\n  return [tileSize, tileSize];\n}\n", "import type {\n  FederatedEvent,\n  Image,\n  MutationEvent,\n  RenderingPlugin,\n  RenderingPluginContext,\n  DisplayObject,\n} from '@antv/g-lite';\nimport { ElementEvent, Shape } from '@antv/g-lite';\nimport { isString } from '@antv/util';\nimport { ImagePool } from './ImagePool';\n\nexport class LoadImagePlugin implements RenderingPlugin {\n  static tag = 'LoadImage';\n\n  apply(context: RenderingPluginContext & { imagePool: ImagePool }) {\n    const { renderingService, renderingContext, imagePool } = context;\n    const canvas = renderingContext.root.ownerDocument.defaultView;\n\n    const calculateWithAspectRatio = (\n      object: Image,\n      imageWidth: number,\n      imageHeight: number,\n    ) => {\n      const { width, height } = object.parsedStyle;\n      if (width && !height) {\n        object.setAttribute('height', (imageHeight / imageWidth) * width);\n      } else if (!width && height) {\n        object.setAttribute('width', (imageWidth / imageHeight) * height);\n      }\n    };\n\n    const handleMounted = (e: FederatedEvent) => {\n      const object = e.target as Image;\n      const { nodeName, attributes } = object;\n      if (nodeName === Shape.IMAGE) {\n        const { src, keepAspectRatio } = attributes;\n\n        imagePool.getImageSync(\n          src,\n          object as DisplayObject,\n          ({ img: { width, height } }) => {\n            if (keepAspectRatio) {\n              calculateWithAspectRatio(object, width, height);\n            }\n\n            // set dirty rectangle flag\n            object.renderable.dirty = true;\n            renderingService.dirtify();\n          },\n        );\n      }\n    };\n\n    const handleAttributeChanged = (e: MutationEvent) => {\n      const object = e.target as Image;\n      const { attrName, prevValue, newValue } = e;\n\n      if (object.nodeName !== Shape.IMAGE || attrName !== 'src') {\n        return;\n      }\n\n      if (prevValue !== newValue) {\n        imagePool.releaseImage(\n          prevValue as Image['attributes']['src'],\n          object as DisplayObject,\n        );\n      }\n\n      if (isString(newValue)) {\n        imagePool\n          .getOrCreateImage(newValue, object as DisplayObject)\n          .then(({ img: { width, height } }) => {\n            if (object.attributes.keepAspectRatio) {\n              calculateWithAspectRatio(object, width, height);\n            }\n\n            // set dirty rectangle flag\n            object.renderable.dirty = true;\n            renderingService.dirtify();\n          })\n          .catch(() => {\n            //\n          });\n      }\n    };\n\n    renderingService.hooks.init.tap(LoadImagePlugin.tag, () => {\n      canvas.addEventListener(ElementEvent.MOUNTED, handleMounted);\n      canvas.addEventListener(\n        ElementEvent.ATTR_MODIFIED,\n        handleAttributeChanged,\n      );\n    });\n\n    renderingService.hooks.destroy.tap(LoadImagePlugin.tag, () => {\n      canvas.removeEventListener(ElementEvent.MOUNTED, handleMounted);\n      canvas.removeEventListener(\n        ElementEvent.ATTR_MODIFIED,\n        handleAttributeChanged,\n      );\n    });\n  }\n}\n", "import { AbstractRendererPlugin, type GlobalRuntime } from '@antv/g-lite';\nimport { ImagePool, type ImageCache } from './ImagePool';\nimport { LoadImagePlugin } from './LoadImagePlugin';\n\nexport { ImagePool, type ImageCache };\n\nexport class Plugin extends AbstractRendererPlugin {\n  name = 'image-loader';\n  init(runtime: GlobalRuntime): void {\n    // @ts-ignore\n    this.context.imagePool = new ImagePool(this.context, runtime);\n    this.addRenderingPlugin(new LoadImagePlugin());\n  }\n  destroy(): void {\n    this.removeAllRenderingPlugins();\n  }\n}\n", "import type {\n  DisplayObject,\n  FederatedEvent,\n  RBushNodeAABB,\n  RenderingPlugin,\n  RBush,\n  RenderingPluginContext,\n  ContextService,\n  CanvasContext,\n  GlobalRuntime,\n  CSSRGB,\n  ParsedBaseStyleProps,\n} from '@antv/g-lite';\nimport {\n  AABB,\n  CanvasEvent,\n  CustomEvent,\n  ElementEvent,\n  Shape,\n  Node,\n} from '@antv/g-lite';\nimport { mat4, vec3 } from 'gl-matrix';\nimport { isNil } from '@antv/util';\nimport type { CanvasRendererPluginOptions } from './interfaces';\nimport type { Plugin } from '.';\n\ninterface Rect {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nexport interface RenderState {\n  restoreStack: DisplayObject[];\n  prevObject: DisplayObject;\n  currentContext: Map<keyof CanvasRenderingContext2D | 'lineDash', unknown>;\n}\n\n/**\n * support 2 modes in rendering:\n * * immediate\n * * delayed: render at the end of frame with dirty-rectangle\n */\nexport class CanvasRendererPlugin implements RenderingPlugin {\n  static tag = 'CanvasRenderer';\n\n  private context: Plugin['context'];\n\n  private pathGeneratorFactory: Plugin['context']['pathGeneratorFactory'];\n\n  /**\n   * RBush used in dirty rectangle rendering\n   */\n  private rBush: RBush<RBushNodeAABB>;\n\n  constructor(\n    private canvasRendererPluginOptions: CanvasRendererPluginOptions, // private styleRendererFactory: Record<Shape, StyleRenderer>,\n  ) {}\n\n  private removedRBushNodeAABBs: RBushNodeAABB[] = [];\n\n  private renderQueue: DisplayObject[] = [];\n\n  #renderState: RenderState = {\n    restoreStack: [],\n    prevObject: null,\n    currentContext: new Map(),\n  };\n\n  private clearFullScreenLastFrame = false;\n  private clearFullScreen = false;\n\n  /**\n   * view projection matrix\n   */\n  private vpMatrix = mat4.create();\n  private dprMatrix = mat4.create();\n  private tmpMat4 = mat4.create();\n  private vec3a = vec3.create();\n  private vec3b = vec3.create();\n  private vec3c = vec3.create();\n  private vec3d = vec3.create();\n\n  apply(context: RenderingPluginContext, runtime: GlobalRuntime) {\n    this.context = context as unknown as Plugin['context'];\n\n    const {\n      config,\n      camera,\n      renderingService,\n      renderingContext,\n      rBushRoot,\n      // @ts-ignore\n      pathGeneratorFactory,\n    } = this.context;\n    let enableRenderingOptimization =\n      config.renderer.getConfig().enableRenderingOptimization;\n\n    config.renderer.getConfig().enableDirtyCheck = false;\n    config.renderer.getConfig().enableDirtyRectangleRendering = false;\n\n    this.rBush = rBushRoot;\n    this.pathGeneratorFactory = pathGeneratorFactory;\n\n    const contextService =\n      context.contextService as ContextService<CanvasRenderingContext2D>;\n\n    const canvas = renderingContext.root.ownerDocument.defaultView;\n\n    const handleUnmounted = (e: FederatedEvent) => {\n      const object = e.target as DisplayObject;\n\n      // remove r-bush node\n      // @ts-ignore\n      const { rBushNode } = object;\n\n      if (rBushNode.aabb) {\n        // save removed aabbs for dirty-rectangle rendering later\n        this.removedRBushNodeAABBs.push(rBushNode.aabb);\n      }\n    };\n\n    const handleCulled = (e: FederatedEvent) => {\n      const object = e.target as DisplayObject;\n      // @ts-ignore\n      const { rBushNode } = object;\n\n      if (rBushNode.aabb) {\n        // save removed aabbs for dirty-rectangle rendering later\n        this.removedRBushNodeAABBs.push(rBushNode.aabb);\n      }\n    };\n\n    renderingService.hooks.init.tap(CanvasRendererPlugin.tag, () => {\n      canvas.addEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n      canvas.addEventListener(ElementEvent.CULLED, handleCulled);\n\n      // clear fullscreen\n      const dpr = contextService.getDPR();\n      const { width, height } = config;\n      const context = contextService.getContext();\n      this.clearRect(\n        context,\n        0,\n        0,\n        width * dpr,\n        height * dpr,\n        config.background,\n      );\n    });\n\n    renderingService.hooks.destroy.tap(CanvasRendererPlugin.tag, () => {\n      canvas.removeEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n      canvas.removeEventListener(ElementEvent.CULLED, handleCulled);\n      this.renderQueue = [];\n      this.removedRBushNodeAABBs = [];\n      this.#renderState = {\n        restoreStack: [],\n        prevObject: null,\n        currentContext: null,\n      };\n    });\n\n    renderingService.hooks.beginFrame.tap(CanvasRendererPlugin.tag, () => {\n      const context = contextService.getContext();\n      const dpr = contextService.getDPR();\n      const { width, height } = config;\n      const { dirtyObjectNumThreshold, dirtyObjectRatioThreshold } =\n        this.canvasRendererPluginOptions;\n\n      // some heuristic conditions such as 80% object changed\n      const { total, rendered } = renderingService.getStats();\n      const ratio = rendered / total;\n\n      this.clearFullScreen =\n        this.clearFullScreenLastFrame ||\n        // @ts-ignore\n        !canvas.context.renderingPlugins[1]?.isFirstTimeRenderingFinished ||\n        renderingService.disableDirtyRectangleRendering() ||\n        (rendered > dirtyObjectNumThreshold &&\n          ratio > dirtyObjectRatioThreshold);\n\n      if (context) {\n        if (typeof context.resetTransform === 'function') {\n          context.resetTransform();\n        } else {\n          context.setTransform(1, 0, 0, 1, 0, 0);\n        }\n\n        if (this.clearFullScreen) {\n          this.clearRect(\n            context,\n            0,\n            0,\n            width * dpr,\n            height * dpr,\n            config.background,\n          );\n        }\n      }\n    });\n\n    /**\n     * render objects by z-index\n     *\n     * - The level of the child node will be affected by the level of the parent node\n     */\n    const renderByZIndex = (\n      object: DisplayObject,\n      context: CanvasRenderingContext2D,\n    ) => {\n      const stack = [object];\n\n      while (stack.length > 0) {\n        const currentObject = stack.pop();\n\n        if (currentObject.isVisible() && !currentObject.isCulled()) {\n          if (enableRenderingOptimization) {\n            this.renderDisplayObjectOptimized(\n              currentObject,\n              context,\n              this.context,\n              this.#renderState,\n              runtime,\n            );\n          } else {\n            this.renderDisplayObject(\n              currentObject,\n              context,\n              this.context,\n              this.#renderState,\n              runtime,\n            );\n          }\n        }\n\n        const objects =\n          currentObject.sortable?.sorted?.length > 0\n            ? currentObject.sortable.sorted\n            : currentObject.childNodes;\n        // should account for z-index\n        for (let i = objects.length - 1; i >= 0; i--) {\n          stack.push(objects[i] as unknown as DisplayObject);\n        }\n      }\n    };\n\n    // render at the end of frame\n    renderingService.hooks.endFrame.tap(CanvasRendererPlugin.tag, () => {\n      // Skip rendering.\n      if (renderingContext.root.childNodes.length === 0) {\n        this.clearFullScreenLastFrame = true;\n        return;\n      }\n\n      enableRenderingOptimization =\n        config.renderer.getConfig().enableRenderingOptimization;\n\n      // init\n      this.#renderState = {\n        restoreStack: [],\n        prevObject: null,\n        currentContext: this.#renderState.currentContext,\n      };\n      this.#renderState.currentContext.clear();\n      this.clearFullScreenLastFrame = false;\n\n      const context = contextService.getContext();\n      // clear & clip dirty rectangle\n      const dpr = contextService.getDPR();\n      mat4.fromScaling(this.dprMatrix, [dpr, dpr, 1]);\n      mat4.multiply(this.vpMatrix, this.dprMatrix, camera.getOrthoMatrix());\n\n      if (this.clearFullScreen) {\n        // console.time('renderByZIndex');\n        if (enableRenderingOptimization) {\n          context.save();\n          renderByZIndex(renderingContext.root, context);\n          context.restore();\n        } else {\n          renderByZIndex(renderingContext.root, context);\n        }\n        // console.timeEnd('renderByZIndex');\n\n        this.removedRBushNodeAABBs = [];\n      } else {\n        // console.log('canvas renderer next...', this.renderQueue);\n        // merge removed AABB\n        const dirtyRenderBounds = this.safeMergeAABB(\n          this.mergeDirtyAABBs(this.renderQueue),\n          ...this.removedRBushNodeAABBs.map(({ minX, minY, maxX, maxY }) => {\n            const aabb = new AABB();\n            aabb.setMinMax(\n              // vec3.fromValues(minX, minY, 0),\n              // vec3.fromValues(maxX, maxY, 0),\n              [minX, minY, 0],\n              [maxX, maxY, 0],\n            );\n            return aabb;\n          }),\n        );\n        this.removedRBushNodeAABBs = [];\n\n        if (AABB.isEmpty(dirtyRenderBounds)) {\n          this.renderQueue = [];\n          return;\n        }\n\n        const dirtyRect = this.convertAABB2Rect(dirtyRenderBounds);\n        const { x, y, width, height } = dirtyRect;\n\n        const tl = vec3.transformMat4(this.vec3a, [x, y, 0], this.vpMatrix);\n        const tr = vec3.transformMat4(\n          this.vec3b,\n          [x + width, y, 0],\n          this.vpMatrix,\n        );\n        const bl = vec3.transformMat4(\n          this.vec3c,\n          [x, y + height, 0],\n          this.vpMatrix,\n        );\n        const br = vec3.transformMat4(\n          this.vec3d,\n          [x + width, y + height, 0],\n          this.vpMatrix,\n        );\n\n        const minx = Math.min(tl[0], tr[0], br[0], bl[0]);\n        const miny = Math.min(tl[1], tr[1], br[1], bl[1]);\n        const maxx = Math.max(tl[0], tr[0], br[0], bl[0]);\n        const maxy = Math.max(tl[1], tr[1], br[1], bl[1]);\n\n        const ix = Math.floor(minx);\n        const iy = Math.floor(miny);\n        const iwidth = Math.ceil(maxx - minx);\n        const iheight = Math.ceil(maxy - miny);\n\n        context.save();\n        this.clearRect(context, ix, iy, iwidth, iheight, config.background);\n        context.beginPath();\n        context.rect(ix, iy, iwidth, iheight);\n        context.clip();\n\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Transformations\n        context.setTransform(\n          this.vpMatrix[0],\n          this.vpMatrix[1],\n          this.vpMatrix[4],\n          this.vpMatrix[5],\n          this.vpMatrix[12],\n          this.vpMatrix[13],\n        );\n\n        // draw dirty rectangle\n        const { enableDirtyRectangleRenderingDebug } =\n          config.renderer.getConfig();\n        if (enableDirtyRectangleRenderingDebug) {\n          canvas.dispatchEvent(\n            new CustomEvent(CanvasEvent.DIRTY_RECTANGLE, {\n              dirtyRect: {\n                x: ix,\n                y: iy,\n                width: iwidth,\n                height: iheight,\n              },\n            }),\n          );\n        }\n\n        // search objects intersect with dirty rectangle\n        const dirtyObjects = this.searchDirtyObjects(dirtyRenderBounds);\n\n        // do rendering\n        dirtyObjects\n          // sort by z-index\n          .sort((a, b) => a.sortable.renderOrder - b.sortable.renderOrder)\n          .forEach((object) => {\n            // culled object should not be rendered\n            if (object && object.isVisible() && !object.isCulled()) {\n              this.renderDisplayObject(\n                object,\n                context,\n                this.context,\n                this.#renderState,\n                runtime,\n              );\n            }\n          });\n\n        context.restore();\n\n        // save dirty AABBs in last frame\n        this.renderQueue.forEach((object) => {\n          this.saveDirtyAABB(object);\n        });\n\n        // clear queue\n        this.renderQueue = [];\n      }\n\n      // pop restore stack, eg. root -> parent -> child\n      this.#renderState.restoreStack.forEach(() => {\n        context.restore();\n      });\n      // clear restore stack\n      this.#renderState.restoreStack = [];\n    });\n\n    renderingService.hooks.render.tap(\n      CanvasRendererPlugin.tag,\n      (object: DisplayObject) => {\n        if (!this.clearFullScreen) {\n          // render at the end of frame\n          this.renderQueue.push(object);\n        }\n      },\n    );\n  }\n\n  private clearRect(\n    context: CanvasRenderingContext2D,\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    background: string,\n  ) {\n    // clearRect is faster than fillRect @see https://stackoverflow.com/a/30830253\n    context.clearRect(x, y, width, height);\n    if (background) {\n      context.fillStyle = background;\n      context.fillRect(x, y, width, height);\n    }\n  }\n\n  renderDisplayObjectOptimized(\n    object: DisplayObject,\n    context: CanvasRenderingContext2D,\n    canvasContext: CanvasContext,\n    renderState: RenderState,\n    runtime: GlobalRuntime,\n  ) {\n    const nodeName = object.nodeName as Shape;\n    let updateTransform = false;\n    let clipDraw = false;\n\n    // @ts-ignore\n    const styleRenderer = this.context.styleRendererFactory[nodeName];\n    const generatePath = this.pathGeneratorFactory[nodeName];\n\n    // clip path\n    const { clipPath } = object.parsedStyle;\n    if (clipPath) {\n      updateTransform =\n        !renderState.prevObject ||\n        !mat4.exactEquals(\n          clipPath.getWorldTransform(),\n          renderState.prevObject.getWorldTransform(),\n        );\n\n      if (updateTransform) {\n        this.applyWorldTransform(context, clipPath);\n        renderState.prevObject = null;\n      }\n\n      // generate path in local space\n      const generatePath =\n        this.pathGeneratorFactory[clipPath.nodeName as Shape];\n      if (generatePath) {\n        context.save();\n        clipDraw = true;\n\n        context.beginPath();\n        generatePath(context, clipPath.parsedStyle);\n        context.closePath();\n        context.clip();\n      }\n    }\n\n    // fill & stroke\n\n    if (styleRenderer) {\n      updateTransform =\n        !renderState.prevObject ||\n        !mat4.exactEquals(\n          object.getWorldTransform(),\n          renderState.prevObject.getWorldTransform(),\n        );\n\n      if (updateTransform) {\n        this.applyWorldTransform(context, object);\n      }\n\n      let forceUpdateStyle = !renderState.prevObject;\n      if (!forceUpdateStyle) {\n        const prevNodeName = renderState.prevObject.nodeName as Shape;\n\n        if (nodeName === Shape.TEXT) {\n          forceUpdateStyle = prevNodeName !== Shape.TEXT;\n        } else if (nodeName === Shape.IMAGE) {\n          forceUpdateStyle = prevNodeName !== Shape.IMAGE;\n        } else {\n          forceUpdateStyle =\n            prevNodeName === Shape.TEXT || prevNodeName === Shape.IMAGE;\n        }\n      }\n\n      styleRenderer.applyStyleToContext(\n        context,\n        object,\n        forceUpdateStyle,\n        renderState,\n      );\n\n      renderState.prevObject = object;\n    }\n\n    if (generatePath) {\n      context.beginPath();\n      generatePath(context, object.parsedStyle);\n      if (\n        nodeName !== Shape.LINE &&\n        nodeName !== Shape.PATH &&\n        nodeName !== Shape.POLYLINE\n      ) {\n        context.closePath();\n      }\n    }\n\n    // fill & stroke\n    if (styleRenderer) {\n      styleRenderer.drawToContext(\n        context,\n        object,\n        this.#renderState,\n        this,\n        runtime,\n      );\n    }\n\n    if (clipDraw) {\n      context.restore();\n    }\n\n    // finish rendering, clear dirty flag\n    object.renderable.dirty = false;\n  }\n\n  renderDisplayObject(\n    object: DisplayObject,\n    context: CanvasRenderingContext2D,\n    canvasContext: CanvasContext,\n    renderState: RenderState,\n    runtime: GlobalRuntime,\n  ) {\n    const nodeName = object.nodeName as Shape;\n\n    // restore to its ancestor\n\n    const parent =\n      renderState.restoreStack[renderState.restoreStack.length - 1];\n    if (\n      parent &&\n      !(\n        object.compareDocumentPosition(parent) & Node.DOCUMENT_POSITION_CONTAINS\n      )\n    ) {\n      context.restore();\n      renderState.restoreStack.pop();\n    }\n\n    // @ts-ignore\n    const styleRenderer = this.context.styleRendererFactory[nodeName];\n    const generatePath = this.pathGeneratorFactory[nodeName];\n\n    // clip path\n    const { clipPath } = object.parsedStyle;\n    if (clipPath) {\n      this.applyWorldTransform(context, clipPath);\n\n      // generate path in local space\n      const generatePath =\n        this.pathGeneratorFactory[clipPath.nodeName as Shape];\n      if (generatePath) {\n        context.save();\n\n        // save clip\n        renderState.restoreStack.push(object);\n\n        context.beginPath();\n        generatePath(context, clipPath.parsedStyle);\n        context.closePath();\n        context.clip();\n      }\n    }\n\n    // fill & stroke\n\n    if (styleRenderer) {\n      this.applyWorldTransform(context, object);\n\n      context.save();\n\n      // apply attributes to context\n      this.applyAttributesToContext(context, object);\n    }\n\n    if (generatePath) {\n      context.beginPath();\n      generatePath(context, object.parsedStyle);\n      if (\n        nodeName !== Shape.LINE &&\n        nodeName !== Shape.PATH &&\n        nodeName !== Shape.POLYLINE\n      ) {\n        context.closePath();\n      }\n    }\n\n    // fill & stroke\n    if (styleRenderer) {\n      styleRenderer.render(\n        context,\n        object.parsedStyle,\n        object,\n        canvasContext,\n        this,\n        runtime,\n      );\n\n      // restore applied attributes, eg. shadowBlur shadowColor...\n      context.restore();\n    }\n\n    // finish rendering, clear dirty flag\n    object.renderable.dirty = false;\n  }\n\n  applyAttributesToContext(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n  ) {\n    const { stroke, fill, opacity, lineDash, lineDashOffset } =\n      object.parsedStyle as ParsedBaseStyleProps;\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/setLineDash\n    if (lineDash) {\n      context.setLineDash(lineDash);\n    }\n\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineDashOffset\n    if (!isNil(lineDashOffset)) {\n      context.lineDashOffset = lineDashOffset;\n    }\n\n    if (!isNil(opacity)) {\n      context.globalAlpha *= opacity;\n    }\n\n    if (\n      !isNil(stroke) &&\n      !Array.isArray(stroke) &&\n      !(stroke as CSSRGB).isNone\n    ) {\n      context.strokeStyle = object.attributes.stroke as string;\n    }\n\n    if (!isNil(fill) && !Array.isArray(fill) && !(fill as CSSRGB).isNone) {\n      context.fillStyle = object.attributes.fill as string;\n    }\n  }\n\n  private convertAABB2Rect(aabb: AABB): Rect {\n    const min = aabb.getMin();\n    const max = aabb.getMax();\n    // expand the rectangle a bit to avoid artifacts\n    // @see https://www.yuque.com/antv/ou292n/bi8nix#ExvCu\n    const minX = Math.floor(min[0]);\n    const minY = Math.floor(min[1]);\n    const maxX = Math.ceil(max[0]);\n    const maxY = Math.ceil(max[1]);\n    const width = maxX - minX;\n    const height = maxY - minY;\n\n    return { x: minX, y: minY, width, height };\n  }\n\n  /**\n   * TODO: merge dirty rectangles with some strategies.\n   * For now, we just simply merge all the rectangles into one.\n   * @see https://idom.me/articles/841.html\n   */\n  private mergeDirtyAABBs(dirtyObjects: DisplayObject[]): AABB {\n    // merge into a big AABB\n    // TODO: skip descendant if ancestor is caculated, but compareNodePosition is really slow\n    const aabb = new AABB();\n    dirtyObjects.forEach((object) => {\n      const renderBounds = object.getRenderBounds();\n      aabb.add(renderBounds);\n\n      const { dirtyRenderBounds } = object.renderable;\n      if (dirtyRenderBounds) {\n        aabb.add(dirtyRenderBounds);\n      }\n    });\n\n    return aabb;\n  }\n\n  private searchDirtyObjects(dirtyRectangle: AABB): DisplayObject[] {\n    // search in r-tree, get all affected nodes\n    const [minX, minY] = dirtyRectangle.getMin();\n    const [maxX, maxY] = dirtyRectangle.getMax();\n    const rBushNodes = this.rBush.search({\n      minX,\n      minY,\n      maxX,\n      maxY,\n    });\n\n    return rBushNodes.map(({ displayObject }) => displayObject);\n  }\n\n  private saveDirtyAABB(object: DisplayObject) {\n    const { renderable } = object;\n    if (!renderable.dirtyRenderBounds) {\n      renderable.dirtyRenderBounds = new AABB();\n    }\n    const renderBounds = object.getRenderBounds();\n    if (renderBounds) {\n      // save last dirty aabb\n      renderable.dirtyRenderBounds.update(\n        renderBounds.center,\n        renderBounds.halfExtents,\n      );\n    }\n  }\n\n  private applyWorldTransform(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    matrix?: mat4,\n  ) {\n    // apply clip shape's RTS\n    if (matrix) {\n      mat4.copy(this.tmpMat4, object.getLocalTransform());\n      mat4.multiply(this.tmpMat4, matrix, this.tmpMat4);\n      mat4.multiply(this.tmpMat4, this.vpMatrix, this.tmpMat4);\n    } else {\n      // apply RTS transformation in world space\n      mat4.copy(this.tmpMat4, object.getWorldTransform());\n      mat4.multiply(this.tmpMat4, this.vpMatrix, this.tmpMat4);\n    }\n\n    // @see https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Transformations\n    context.setTransform(\n      this.tmpMat4[0],\n      this.tmpMat4[1],\n      this.tmpMat4[4],\n      this.tmpMat4[5],\n      this.tmpMat4[12],\n      this.tmpMat4[13],\n    );\n  }\n\n  private safeMergeAABB(...aabbs: AABB[]): AABB {\n    const merged = new AABB();\n    aabbs.forEach((aabb) => {\n      merged.add(aabb);\n    });\n    return merged;\n  }\n}\n", "import {\n  CanvasContext,\n  CSSGradientValue,\n  DisplayObject,\n  GlobalRuntime,\n  LinearGradient,\n  Pattern,\n  RadialGradient,\n  Rect,\n  GradientType,\n} from '@antv/g-lite';\nimport type { ImagePool } from '@antv/g-plugin-image-loader';\nimport {\n  CanvasRendererPlugin,\n  type RenderState,\n} from '../../CanvasRendererPlugin';\n\nexport function getPattern(\n  pattern: Pattern,\n  object: DisplayObject,\n  context: CanvasRenderingContext2D,\n  canvasContext: CanvasContext,\n  plugin: CanvasRendererPlugin,\n  runtime: GlobalRuntime,\n  imagePool: ImagePool,\n): CanvasPattern {\n  let $offscreenCanvas: HTMLCanvasElement;\n  let dpr: number;\n  if ((pattern.image as Rect).nodeName === 'rect') {\n    const { width, height } = (pattern.image as Rect).parsedStyle;\n    dpr = canvasContext.contextService.getDPR();\n    const { offscreenCanvas } = canvasContext.config;\n    $offscreenCanvas = runtime.offscreenCanvasCreator.getOrCreateCanvas(\n      offscreenCanvas,\n    ) as HTMLCanvasElement;\n\n    $offscreenCanvas.width = width * dpr;\n    $offscreenCanvas.height = height * dpr;\n\n    const offscreenCanvasContext =\n      runtime.offscreenCanvasCreator.getOrCreateContext(\n        offscreenCanvas,\n      ) as CanvasRenderingContext2D;\n\n    const renderState: RenderState = {\n      restoreStack: [],\n      prevObject: null,\n      currentContext: new Map(),\n    };\n\n    // offscreenCanvasContext.scale(1 / dpr, 1 / dpr);\n\n    (pattern.image as Rect).forEach((object: DisplayObject) => {\n      plugin.renderDisplayObject(\n        object,\n        offscreenCanvasContext,\n        canvasContext,\n        renderState,\n        runtime,\n      );\n    });\n\n    renderState.restoreStack.forEach(() => {\n      offscreenCanvasContext.restore();\n    });\n  }\n\n  const canvasPattern = imagePool.getOrCreatePatternSync(\n    object,\n    pattern,\n    context,\n    $offscreenCanvas,\n    dpr,\n    object.getGeometryBounds().min,\n    () => {\n      // set dirty rectangle flag\n      object.renderable.dirty = true;\n      canvasContext.renderingService.dirtify();\n    },\n  );\n\n  return canvasPattern;\n}\n\nexport function getColor(\n  parsedColor: CSSGradientValue,\n  object: DisplayObject,\n  context: CanvasRenderingContext2D,\n  imagePool: ImagePool,\n) {\n  let color: CanvasGradient | string;\n\n  if (\n    parsedColor.type === GradientType.LinearGradient ||\n    parsedColor.type === GradientType.RadialGradient\n  ) {\n    const bounds = object.getGeometryBounds();\n    const width = (bounds && bounds.halfExtents[0] * 2) || 1;\n    const height = (bounds && bounds.halfExtents[1] * 2) || 1;\n    const min = (bounds && bounds.min) || [0, 0];\n    color = imagePool.getOrCreateGradient(\n      {\n        type: parsedColor.type,\n        ...(parsedColor.value as LinearGradient & RadialGradient),\n        min: min as [number, number],\n        width,\n        height,\n      },\n      context,\n    );\n  }\n\n  return color;\n}\n", "import {\n  CanvasContext,\n  CSSRGB,\n  DisplayObject,\n  GlobalRuntime,\n  ParsedBaseStyleProps,\n  isPattern,\n  Shape,\n} from '@antv/g-lite';\nimport type { ImagePool } from '@antv/g-plugin-image-loader';\nimport { isNil } from '@antv/util';\nimport {\n  CanvasRendererPlugin,\n  type RenderState,\n} from '../../CanvasRendererPlugin';\nimport type { StyleRenderer } from './interfaces';\nimport { getColor, getPattern } from './helper';\n\nconst SHADOW_NUMBER_STYLE = [\n  'shadowBlur',\n  'shadowOffsetX',\n  'shadowOffsetY',\n] as const;\nconst STROKE_STYLE = ['lineCap', 'lineJoin', 'miterLimit'] as const;\nexport const DEFAULT_STYLE = {\n  // common\n  globalAlpha: 1,\n  shadowBlur: 0,\n  shadowOffsetX: 0,\n  shadowOffsetY: 0,\n  shadowColor: '#000',\n  filter: 'none' as const,\n  globalCompositeOperation: 'source-over' as const,\n\n  // stroke/fill\n  strokeStyle: '#000',\n  strokeOpacity: 1,\n  lineWidth: 1,\n  lineDash: [],\n  lineDashOffset: 0,\n  lineCap: 'butt' as const,\n  lineJoin: 'miter' as const,\n  miterLimit: 10,\n  fillStyle: '#000',\n  fillOpacity: 1,\n\n  // image\n};\n\nconst defaultParsedStyle = {} as ParsedBaseStyleProps;\n\n/**\n * Updating the canvas context is an expensive operation. The state of the context is cached and the actual update operation is performed only when the cache is not hit.\n *\n * In any case, the previous value is returned, which is convenient for temporarily updating the context and restoring it later.\n */\nfunction updateContextIfNotHitCache<\n  K extends keyof CanvasRenderingContext2D | 'lineDash',\n  V = unknown,\n>(context: CanvasRenderingContext2D, key: K, value: V, cache: Map<K, unknown>) {\n  const prevValue = (\n    cache.has(key)\n      ? cache.get(key)\n      : DEFAULT_STYLE[key as keyof typeof DEFAULT_STYLE]\n  ) as V;\n\n  if (prevValue !== value) {\n    // console.log('not hit cache', key, value, prevValue, cache);\n    if (key === 'lineDash') {\n      context.setLineDash(value as number[]);\n    } else {\n      // @ts-ignore\n      context[key] = value;\n    }\n    cache.set(key, value);\n  }\n\n  return prevValue;\n}\n\nexport class OptimizedDefaultRenderer implements StyleRenderer {\n  constructor(public imagePool: ImagePool) {}\n\n  applyAttributesToContext(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n  ) {}\n\n  render(\n    context: CanvasRenderingContext2D,\n    parsedStyle: ParsedBaseStyleProps,\n    object: DisplayObject,\n    canvasContext: CanvasContext,\n    plugin: CanvasRendererPlugin,\n    runtime: GlobalRuntime,\n  ) {}\n\n  // #region common style\n  private applyCommonStyleToContext(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    forceUpdate: boolean,\n    renderState: RenderState,\n  ) {\n    // const dpr = object.ownerDocument.defaultView.getContextService().getDPR();\n    const prevStyle = forceUpdate\n      ? defaultParsedStyle\n      : renderState.prevObject.parsedStyle;\n    const style = object.parsedStyle;\n\n    if (forceUpdate || style.opacity !== prevStyle.opacity) {\n      updateContextIfNotHitCache(\n        context,\n        'globalAlpha',\n        !isNil(style.opacity) ? style.opacity : DEFAULT_STYLE.globalAlpha,\n        renderState.currentContext,\n      );\n    }\n\n    // TODO blend prop\n    // @ts-ignore\n    if (forceUpdate || style.blend !== prevStyle.blend) {\n      updateContextIfNotHitCache(\n        context,\n        'globalCompositeOperation',\n        // @ts-ignore\n        !isNil(style.blend)\n          ? // @ts-ignore\n            style.blend\n          : DEFAULT_STYLE.globalCompositeOperation,\n        renderState.currentContext,\n      );\n    }\n  }\n  // #endregion common style\n\n  // #region stroke/fill style\n  private applyStrokeFillStyleToContext(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    forceUpdate: boolean,\n    renderState: RenderState,\n  ) {\n    const prevStyle = forceUpdate\n      ? defaultParsedStyle\n      : renderState.prevObject.parsedStyle;\n    const style = object.parsedStyle;\n    const { lineWidth = DEFAULT_STYLE.lineWidth } = style;\n    const hasFill = style.fill && !(style.fill as CSSRGB).isNone;\n    const hasStroke =\n      style.stroke && !(style.stroke as CSSRGB).isNone && lineWidth > 0;\n\n    if (hasStroke) {\n      if (\n        forceUpdate ||\n        object.attributes.stroke !== renderState.prevObject.attributes.stroke\n      ) {\n        const value =\n          !isNil(style.stroke) &&\n          !Array.isArray(style.stroke) &&\n          !(style.stroke as CSSRGB).isNone\n            ? object.attributes.stroke\n            : DEFAULT_STYLE.strokeStyle;\n\n        updateContextIfNotHitCache(\n          context,\n          'strokeStyle',\n          value,\n          renderState.currentContext,\n        );\n      }\n\n      if (forceUpdate || style.lineWidth !== prevStyle.lineWidth) {\n        updateContextIfNotHitCache(\n          context,\n          'lineWidth',\n          !isNil(style.lineWidth) ? style.lineWidth : DEFAULT_STYLE.lineWidth,\n          renderState.currentContext,\n        );\n      }\n\n      if (forceUpdate || style.lineDash !== prevStyle.lineDash) {\n        updateContextIfNotHitCache(\n          context,\n          'lineDash',\n          style.lineDash || DEFAULT_STYLE.lineDash,\n          renderState.currentContext,\n        );\n      }\n\n      if (forceUpdate || style.lineDashOffset !== prevStyle.lineDashOffset) {\n        updateContextIfNotHitCache(\n          context,\n          'lineDashOffset',\n          !isNil(style.lineDashOffset)\n            ? style.lineDashOffset\n            : DEFAULT_STYLE.lineDashOffset,\n          renderState.currentContext,\n        );\n      }\n\n      for (let i = 0; i < STROKE_STYLE.length; i++) {\n        const styleName = STROKE_STYLE[i];\n        if (forceUpdate || style[styleName] !== prevStyle[styleName]) {\n          updateContextIfNotHitCache(\n            context,\n            styleName,\n            !isNil(style[styleName])\n              ? style[styleName]\n              : DEFAULT_STYLE[styleName],\n            renderState.currentContext,\n          );\n        }\n      }\n    }\n\n    if (\n      hasFill &&\n      (forceUpdate ||\n        object.attributes.fill !== renderState.prevObject.attributes.fill)\n    ) {\n      const value =\n        !isNil(style.fill) &&\n        !Array.isArray(style.fill) &&\n        !(style.fill as CSSRGB).isNone\n          ? object.attributes.fill\n          : DEFAULT_STYLE.fillStyle;\n\n      updateContextIfNotHitCache(\n        context,\n        'fillStyle',\n        value,\n        renderState.currentContext,\n      );\n    }\n  }\n  // #endregion stroke/fill style\n\n  applyStyleToContext(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    forceUpdate: boolean,\n    renderState: RenderState,\n  ) {\n    const nodeName = object.nodeName as Shape;\n\n    this.applyCommonStyleToContext(context, object, forceUpdate, renderState);\n\n    if (nodeName === Shape.IMAGE) {\n      //\n    } else {\n      this.applyStrokeFillStyleToContext(\n        context,\n        object,\n        forceUpdate,\n        renderState,\n      );\n    }\n  }\n\n  applyShadowAndFilterStyleToContext(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    hasShadow: boolean,\n    renderState: RenderState,\n  ) {\n    const style = object.parsedStyle;\n\n    if (hasShadow) {\n      updateContextIfNotHitCache(\n        context,\n        'shadowColor',\n        style.shadowColor.toString(),\n        renderState.currentContext,\n      );\n      for (let i = 0; i < SHADOW_NUMBER_STYLE.length; i++) {\n        const styleName = SHADOW_NUMBER_STYLE[i];\n        updateContextIfNotHitCache(\n          context,\n          styleName,\n          style[styleName] || DEFAULT_STYLE[styleName],\n          renderState.currentContext,\n        );\n      }\n    }\n\n    if (style.filter && style.filter.length) {\n      updateContextIfNotHitCache(\n        context,\n        'filter',\n        // use raw filter string\n        object.attributes.filter,\n        renderState.currentContext,\n      );\n    }\n  }\n\n  clearShadowAndFilterStyleForContext(\n    context: CanvasRenderingContext2D,\n    hasShadow: boolean,\n    hasFilter: boolean,\n    renderState: RenderState,\n    onlyClearShadowFilter = false,\n  ) {\n    if (hasShadow) {\n      updateContextIfNotHitCache(\n        context,\n        'shadowColor',\n        DEFAULT_STYLE.shadowColor,\n        renderState.currentContext,\n      );\n      for (let i = 0; i < SHADOW_NUMBER_STYLE.length; i++) {\n        const styleName = SHADOW_NUMBER_STYLE[i];\n        updateContextIfNotHitCache(\n          context,\n          styleName,\n          DEFAULT_STYLE[styleName],\n          renderState.currentContext,\n        );\n      }\n    }\n\n    if (hasFilter) {\n      if (hasShadow && onlyClearShadowFilter) {\n        // save drop-shadow filter\n        const oldFilter = context.filter;\n        if (!isNil(oldFilter) && oldFilter.indexOf('drop-shadow') > -1) {\n          updateContextIfNotHitCache(\n            context,\n            'filter',\n            oldFilter.replace(/drop-shadow\\([^)]*\\)/, '').trim() ||\n              DEFAULT_STYLE.filter,\n            renderState.currentContext,\n          );\n        }\n      } else {\n        updateContextIfNotHitCache(\n          context,\n          'filter',\n          DEFAULT_STYLE.filter,\n          renderState.currentContext,\n        );\n      }\n    }\n  }\n\n  fillToContext(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    renderState: RenderState,\n    plugin: CanvasRendererPlugin,\n    runtime: GlobalRuntime,\n  ) {\n    const { fill, fillRule } = object.parsedStyle;\n    let resetStyle = null as unknown;\n\n    if (Array.isArray(fill) && fill.length > 0) {\n      fill.forEach((gradient) => {\n        const prevStyle = updateContextIfNotHitCache(\n          context,\n          'fillStyle',\n          getColor(gradient, object, context, this.imagePool),\n          renderState.currentContext,\n        );\n        resetStyle = resetStyle ?? prevStyle;\n\n        if (fillRule) {\n          context.fill(fillRule);\n        } else {\n          context.fill();\n        }\n      });\n    } else {\n      if (isPattern(fill)) {\n        const pattern = getPattern(\n          fill,\n          object,\n          context,\n          object.ownerDocument.defaultView.context,\n          plugin,\n          runtime,\n          this.imagePool,\n        );\n        if (pattern) {\n          context.fillStyle = pattern;\n          resetStyle = true;\n        }\n      }\n\n      if (fillRule) {\n        context.fill(fillRule);\n      } else {\n        context.fill();\n      }\n    }\n\n    if (resetStyle !== null) {\n      updateContextIfNotHitCache(\n        context,\n        'fillStyle',\n        resetStyle,\n        renderState.currentContext,\n      );\n    }\n  }\n\n  strokeToContext(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    renderState: RenderState,\n    plugin: CanvasRendererPlugin,\n    runtime: GlobalRuntime,\n  ) {\n    const { stroke } = object.parsedStyle;\n    let resetStyle = null as unknown;\n\n    if (Array.isArray(stroke) && stroke.length > 0) {\n      stroke.forEach((gradient) => {\n        const prevStyle = updateContextIfNotHitCache(\n          context,\n          'strokeStyle',\n          getColor(gradient, object, context, this.imagePool),\n          renderState.currentContext,\n        );\n        resetStyle = resetStyle ?? prevStyle;\n\n        context.stroke();\n      });\n    } else {\n      if (isPattern(stroke)) {\n        const pattern = getPattern(\n          stroke,\n          object,\n          context,\n          object.ownerDocument.defaultView.context,\n          plugin,\n          runtime,\n          this.imagePool,\n        );\n        if (pattern) {\n          const prevStyle = updateContextIfNotHitCache(\n            context,\n            'strokeStyle',\n            pattern,\n            renderState.currentContext,\n          );\n          resetStyle = resetStyle ?? prevStyle;\n        }\n      }\n\n      context.stroke();\n    }\n\n    if (resetStyle !== null) {\n      updateContextIfNotHitCache(\n        context,\n        'strokeStyle',\n        resetStyle,\n        renderState.currentContext,\n      );\n    }\n  }\n\n  drawToContext(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    renderState: RenderState,\n    plugin: CanvasRendererPlugin,\n    runtime: GlobalRuntime,\n  ) {\n    const nodeName = object.nodeName as Shape;\n    const style = object.parsedStyle;\n    const {\n      opacity = DEFAULT_STYLE.globalAlpha,\n      fillOpacity = DEFAULT_STYLE.fillOpacity,\n      strokeOpacity = DEFAULT_STYLE.strokeOpacity,\n      lineWidth = DEFAULT_STYLE.lineWidth,\n    } = style;\n\n    const hasFill = style.fill && !(style.fill as CSSRGB).isNone;\n    const hasStroke =\n      style.stroke && !(style.stroke as CSSRGB).isNone && lineWidth > 0;\n\n    if (!hasFill && !hasStroke) {\n      return;\n    }\n\n    const hasShadow = !isNil(style.shadowColor) && style.shadowBlur > 0;\n    const isInnerShadow = style.shadowType === 'inner';\n    const isFillTransparent = (style.fill as CSSRGB)?.alpha === 0;\n    const hasFilter = !!(style.filter && style.filter.length);\n    // Shadows can only be applied to fill() or stroke(), the default is fill()\n    const shouldDrawShadowWithStroke =\n      hasShadow &&\n      hasStroke &&\n      (nodeName === Shape.PATH ||\n        nodeName === Shape.LINE ||\n        nodeName === Shape.POLYLINE ||\n        isFillTransparent ||\n        isInnerShadow);\n\n    // TODO https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/paint-order\n\n    let originGlobalAlpha: number | null = null;\n\n    if (hasFill) {\n      if (!shouldDrawShadowWithStroke) {\n        this.applyShadowAndFilterStyleToContext(\n          context,\n          object,\n          hasShadow,\n          renderState,\n        );\n      }\n\n      const updateOpacity = opacity * fillOpacity;\n\n      originGlobalAlpha = updateContextIfNotHitCache(\n        context,\n        'globalAlpha',\n        updateOpacity,\n        renderState.currentContext,\n      );\n\n      this.fillToContext(context, object, renderState, plugin, runtime);\n\n      if (!shouldDrawShadowWithStroke) {\n        this.clearShadowAndFilterStyleForContext(\n          context,\n          hasShadow,\n          hasFilter,\n          renderState,\n        );\n      }\n    }\n    if (hasStroke) {\n      let clearShadowAndFilter = false;\n      const updateOpacity = opacity * strokeOpacity;\n      const prevOpacity = updateContextIfNotHitCache(\n        context,\n        'globalAlpha',\n        updateOpacity,\n        renderState.currentContext,\n      );\n      originGlobalAlpha = hasFill ? originGlobalAlpha : prevOpacity;\n\n      if (shouldDrawShadowWithStroke) {\n        this.applyShadowAndFilterStyleToContext(\n          context,\n          object,\n          hasShadow,\n          renderState,\n        );\n        clearShadowAndFilter = true;\n\n        if (isInnerShadow) {\n          const originBlend = context.globalCompositeOperation;\n          context.globalCompositeOperation = 'source-atop';\n\n          this.strokeToContext(context, object, renderState, plugin, runtime);\n\n          context.globalCompositeOperation = originBlend;\n          this.clearShadowAndFilterStyleForContext(\n            context,\n            hasShadow,\n            hasFilter,\n            renderState,\n            true,\n          );\n        }\n      }\n\n      this.strokeToContext(context, object, renderState, plugin, runtime);\n\n      if (clearShadowAndFilter) {\n        this.clearShadowAndFilterStyleForContext(\n          context,\n          hasShadow,\n          hasFilter,\n          renderState,\n        );\n      }\n    }\n\n    // clear\n    if (originGlobalAlpha !== null) {\n      updateContextIfNotHitCache(\n        context,\n        'globalAlpha',\n        originGlobalAlpha,\n        renderState.currentContext,\n      );\n    }\n  }\n}\n", "import {\n  CanvasContext,\n  CSSGradientValue,\n  CSSRGB,\n  DisplayObject,\n  GlobalRuntime,\n  ParsedBaseStyleProps,\n  Pattern,\n  isPattern,\n  Shape,\n} from '@antv/g-lite';\nimport type { ImagePool } from '@antv/g-plugin-image-loader';\nimport { isNil } from '@antv/util';\nimport { CanvasRendererPlugin } from '../../CanvasRendererPlugin';\nimport { OptimizedDefaultRenderer, DEFAULT_STYLE } from './OptimizedDefault';\nimport { getColor, getPattern } from './helper';\n\nexport class DefaultRenderer extends OptimizedDefaultRenderer {\n  render(\n    context: CanvasRenderingContext2D,\n    parsedStyle: ParsedBaseStyleProps,\n    object: DisplayObject,\n    canvasContext: CanvasContext,\n    plugin: CanvasRendererPlugin,\n    runtime: GlobalRuntime,\n  ) {\n    const {\n      fill,\n      fillRule,\n      opacity = 1,\n      fillOpacity = 1,\n      stroke,\n      strokeOpacity = 1,\n      lineWidth = 1,\n      lineCap,\n      lineJoin,\n      shadowType,\n      shadowColor,\n      shadowBlur,\n      filter,\n      miterLimit,\n    } = parsedStyle;\n    const hasFill = fill && !(fill as CSSRGB).isNone;\n    const hasStroke = stroke && !(stroke as CSSRGB).isNone && lineWidth > 0;\n\n    const isFillTransparent = (fill as CSSRGB)?.alpha === 0;\n    const hasFilter = !!(filter && filter.length);\n    const hasShadow = !isNil(shadowColor) && shadowBlur > 0;\n    const nodeName = object.nodeName as Shape;\n    const isInnerShadow = shadowType === 'inner';\n    const shouldDrawShadowWithStroke =\n      hasStroke &&\n      hasShadow &&\n      (nodeName === Shape.PATH ||\n        nodeName === Shape.LINE ||\n        nodeName === Shape.POLYLINE ||\n        isFillTransparent ||\n        isInnerShadow);\n\n    if (hasFill) {\n      context.globalAlpha = opacity * fillOpacity;\n\n      if (!shouldDrawShadowWithStroke) {\n        setShadowAndFilter(object, context, hasShadow);\n      }\n\n      applyFill(\n        context,\n        object,\n        fill,\n        fillRule,\n        canvasContext,\n        plugin,\n        runtime,\n        this.imagePool,\n      );\n\n      if (!shouldDrawShadowWithStroke) {\n        this.clearShadowAndFilter(context, hasFilter, hasShadow);\n      }\n    }\n\n    if (hasStroke) {\n      context.globalAlpha = opacity * strokeOpacity;\n      context.lineWidth = lineWidth;\n      if (!isNil(miterLimit)) {\n        context.miterLimit = miterLimit;\n      }\n\n      if (!isNil(lineCap)) {\n        context.lineCap = lineCap;\n      }\n\n      if (!isNil(lineJoin)) {\n        context.lineJoin = lineJoin;\n      }\n\n      if (shouldDrawShadowWithStroke) {\n        if (isInnerShadow) {\n          context.globalCompositeOperation = 'source-atop';\n        }\n        setShadowAndFilter(object, context, true);\n\n        if (isInnerShadow) {\n          applyStroke(\n            context,\n            object,\n            stroke,\n            canvasContext,\n            plugin,\n            runtime,\n            this.imagePool,\n          );\n          context.globalCompositeOperation =\n            DEFAULT_STYLE.globalCompositeOperation;\n          this.clearShadowAndFilter(context, hasFilter, true);\n        }\n      }\n\n      applyStroke(\n        context,\n        object,\n        stroke,\n        canvasContext,\n        plugin,\n        runtime,\n        this.imagePool,\n      );\n    }\n  }\n\n  private clearShadowAndFilter(\n    context: CanvasRenderingContext2D,\n    hasFilter: boolean,\n    hasShadow: boolean,\n  ) {\n    if (hasShadow) {\n      context.shadowColor = 'transparent';\n      context.shadowBlur = 0;\n    }\n\n    if (hasFilter) {\n      // save drop-shadow filter\n      const oldFilter = context.filter;\n      if (!isNil(oldFilter) && oldFilter.indexOf('drop-shadow') > -1) {\n        context.filter =\n          oldFilter.replace(/drop-shadow\\([^)]*\\)/, '').trim() || 'none';\n      }\n    }\n  }\n}\n\n/**\n * apply before fill and stroke but only once\n */\nexport function setShadowAndFilter(\n  object: DisplayObject,\n  context: CanvasRenderingContext2D,\n  hasShadow: boolean,\n) {\n  const { filter, shadowColor, shadowBlur, shadowOffsetX, shadowOffsetY } =\n    object.parsedStyle;\n\n  if (filter && filter.length) {\n    // use raw filter string\n    context.filter = object.style.filter;\n  }\n\n  if (hasShadow) {\n    context.shadowColor = shadowColor.toString();\n    context.shadowBlur = shadowBlur || 0;\n    context.shadowOffsetX = shadowOffsetX || 0;\n    context.shadowOffsetY = shadowOffsetY || 0;\n  }\n}\n\nexport function applyFill(\n  context: CanvasRenderingContext2D,\n  object: DisplayObject,\n  fill: CSSRGB | CSSGradientValue[] | Pattern,\n  fillRule: 'nonzero' | 'evenodd',\n  canvasContext: CanvasContext,\n  plugin: CanvasRendererPlugin,\n  runtime: GlobalRuntime,\n  imagePool: ImagePool,\n  skipFill = false,\n) {\n  if (Array.isArray(fill)) {\n    fill.forEach((gradient) => {\n      context.fillStyle = getColor(gradient, object, context, imagePool);\n      if (!skipFill) {\n        fillRule ? context.fill(fillRule) : context.fill();\n      }\n    });\n  } else {\n    if (isPattern(fill)) {\n      context.fillStyle = getPattern(\n        fill,\n        object,\n        context,\n        canvasContext,\n        plugin,\n        runtime,\n        imagePool,\n      );\n    }\n    if (!skipFill) {\n      fillRule ? context.fill(fillRule) : context.fill();\n    }\n  }\n}\n\nexport function applyStroke(\n  context: CanvasRenderingContext2D,\n  object: DisplayObject,\n  stroke: CSSRGB | CSSGradientValue[] | Pattern,\n  canvasContext: CanvasContext,\n  plugin: CanvasRendererPlugin,\n  runtime: GlobalRuntime,\n  imagePool: ImagePool,\n  skipStroke = false,\n) {\n  if (Array.isArray(stroke)) {\n    stroke.forEach((gradient) => {\n      context.strokeStyle = getColor(gradient, object, context, imagePool);\n      if (!skipStroke) {\n        context.stroke();\n      }\n    });\n  } else {\n    if (isPattern(stroke)) {\n      context.strokeStyle = getPattern(\n        stroke,\n        object,\n        context,\n        canvasContext,\n        plugin,\n        runtime,\n        imagePool,\n      );\n    }\n    if (!skipStroke) {\n      context.stroke();\n    }\n  }\n}\n", "import { vec3, mat4 } from 'gl-matrix';\n\n/**\n *  [x, y]\n */\nexport function isSamePoint(\n  point1: [number, number],\n  point2: [number, number],\n) {\n  return point1[0] === point2[0] && point1[1] === point2[1];\n}\n\nexport function calculateOverlapRect<\n  Rect extends [number, number, number, number],\n>(rect1: Rect, rect2: Rect): null | Rect {\n  const [x1, y1, w1, h1] = rect1;\n  const [x2, y2, w2, h2] = rect2;\n\n  // \n  const overlapLeft = Math.max(x1, x2);\n  const overlapTop = Math.max(y1, y2);\n  const overlapRight = Math.min(x1 + w1, x2 + w2);\n  const overlapBottom = Math.min(y1 + h1, y2 + h2);\n\n  if (overlapRight <= overlapLeft || overlapBottom <= overlapTop) {\n    return null;\n  }\n\n  return [\n    overlapLeft,\n    overlapTop,\n    overlapRight - overlapLeft,\n    overlapBottom - overlapTop,\n  ] as Rect;\n}\n\nexport function transformRect<Rect extends [number, number, number, number]>(\n  rect: Rect,\n  matrix: mat4,\n): Rect {\n  const tl = vec3.transformMat4(vec3.create(), [rect[0], rect[1], 0], matrix);\n  const tr = vec3.transformMat4(\n    vec3.create(),\n    [rect[0] + rect[2], rect[1], 0],\n    matrix,\n  );\n  const bl = vec3.transformMat4(\n    vec3.create(),\n    [rect[0], rect[1] + rect[3], 0],\n    matrix,\n  );\n  const br = vec3.transformMat4(\n    vec3.create(),\n    [rect[0] + rect[2], rect[1] + rect[3], 0],\n    matrix,\n  );\n\n  return [\n    Math.min(tl[0], tr[0], bl[0], br[0]),\n    Math.min(tl[1], tr[1], bl[1], br[1]),\n    Math.max(tl[0], tr[0], bl[0], br[0]) - Math.min(tl[0], tr[0], bl[0], br[0]),\n    Math.max(tl[1], tr[1], bl[1], br[1]) - Math.min(tl[1], tr[1], bl[1], br[1]),\n  ] as Rect;\n}\n", "import type {\n  DisplayObject,\n  ParsedImageStyleProps,\n  GlobalRuntime,\n} from '@antv/g-lite';\nimport { ImagePool, type ImageCache } from '@antv/g-plugin-image-loader';\nimport { isNil } from '@antv/util';\nimport { mat4 } from 'gl-matrix';\nimport { transformRect, calculateOverlapRect } from '../../utils/math';\nimport { DefaultRenderer, setShadowAndFilter } from './Default';\nimport {\n  CanvasRendererPlugin,\n  type RenderState,\n} from '../../CanvasRendererPlugin';\n\nexport class ImageRenderer extends DefaultRenderer {\n  static renderFull(\n    context: CanvasRenderingContext2D,\n    parsedStyle: ParsedImageStyleProps,\n    object: DisplayObject,\n    data: {\n      image: HTMLImageElement;\n      drawRect: [number, number, number, number];\n    },\n  ) {\n    context.drawImage(\n      data.image,\n      Math.floor(data.drawRect[0]),\n      Math.floor(data.drawRect[1]),\n      Math.ceil(data.drawRect[2]),\n      Math.ceil(data.drawRect[3]),\n    );\n  }\n\n  private renderDownSampled(\n    context: CanvasRenderingContext2D,\n    parsedStyle: ParsedImageStyleProps,\n    object: DisplayObject,\n    data: {\n      src: string | HTMLImageElement;\n      imageCache: ImageCache;\n      drawRect: [number, number, number, number];\n    },\n  ) {\n    const { src, imageCache } = data;\n\n    if (!imageCache.downSampled) {\n      this.imagePool\n        .createDownSampledImage(src, object)\n        .then(() => {\n          // be removed from dom tree\n          if (!object.ownerDocument) {\n            return;\n          }\n\n          // rerender\n          // object.dirty();\n          object.renderable.dirty = true;\n          object.ownerDocument.defaultView.context.renderingService.dirtify();\n        })\n        .catch((reason) => {\n          console.error(reason);\n        });\n\n      return;\n    }\n\n    context.drawImage(\n      imageCache.downSampled,\n      Math.floor(data.drawRect[0]),\n      Math.floor(data.drawRect[1]),\n      Math.ceil(data.drawRect[2]),\n      Math.ceil(data.drawRect[3]),\n    );\n  }\n\n  renderTile(\n    context: CanvasRenderingContext2D,\n    parsedStyle: ParsedImageStyleProps,\n    object: DisplayObject,\n    data: {\n      src: string | HTMLImageElement;\n      imageCache: ImageCache;\n      imageRect: [number, number, number, number];\n      drawRect: [number, number, number, number];\n    },\n  ) {\n    const { src, imageCache, imageRect, drawRect } = data;\n    const { size: originalSize } = imageCache;\n    const { a, b, c, d, e, f } = context.getTransform();\n\n    context.resetTransform();\n\n    if (!imageCache?.gridSize) {\n      this.imagePool\n        .createImageTiles(\n          src,\n          [],\n          () => {\n            // be removed from dom tree\n            if (!object.ownerDocument) {\n              return;\n            }\n\n            // rerender\n            // object.dirty();\n            object.renderable.dirty = true;\n            object.ownerDocument.defaultView.context.renderingService.dirtify();\n          },\n          object,\n        )\n        .catch((reason) => {\n          console.error(reason);\n        });\n\n      return;\n    }\n\n    const scaleToOrigin = [\n      originalSize[0] / imageRect[2],\n      originalSize[1] / imageRect[3],\n    ];\n    const scaledTileSize = [\n      imageCache.tileSize[0] / scaleToOrigin[0],\n      imageCache.tileSize[1] / scaleToOrigin[1],\n    ];\n    const [startTileX, endTileX] = [\n      Math.floor((drawRect[0] - imageRect[0]) / scaledTileSize[0]),\n      Math.ceil((drawRect[0] + drawRect[2] - imageRect[0]) / scaledTileSize[0]),\n    ];\n    const [startTileY, endTileY] = [\n      Math.floor((drawRect[1] - imageRect[1]) / scaledTileSize[1]),\n      Math.ceil((drawRect[1] + drawRect[3] - imageRect[1]) / scaledTileSize[1]),\n    ];\n\n    for (let tileY = startTileY; tileY <= endTileY; tileY++) {\n      for (let tileX = startTileX; tileX <= endTileX; tileX++) {\n        const item = imageCache.tiles[tileY][tileX];\n\n        if (item) {\n          const tileRect = [\n            Math.floor(imageRect[0] + item.tileX * scaledTileSize[0]),\n            Math.floor(imageRect[1] + item.tileY * scaledTileSize[1]),\n            Math.ceil(scaledTileSize[0]),\n            Math.ceil(scaledTileSize[1]),\n          ];\n\n          context.drawImage(\n            item.data,\n            tileRect[0],\n            tileRect[1],\n            tileRect[2],\n            tileRect[3],\n          );\n        }\n      }\n    }\n\n    context.setTransform(a, b, c, d, e, f);\n  }\n\n  render(\n    context: CanvasRenderingContext2D,\n    parsedStyle: ParsedImageStyleProps,\n    object: DisplayObject,\n  ) {\n    const {\n      x = 0,\n      y = 0,\n      width,\n      height,\n      src,\n      shadowColor,\n      shadowBlur,\n    } = parsedStyle;\n\n    const imageCache = this.imagePool.getImageSync(src, object);\n    const image = imageCache?.img;\n    let iw = width;\n    let ih = height;\n\n    if (!image) {\n      return;\n    }\n\n    iw ||= image.width;\n    ih ||= image.height;\n\n    const hasShadow = !isNil(shadowColor) && shadowBlur > 0;\n    setShadowAndFilter(object, context, hasShadow);\n\n    // node-canvas will throw the following err:\n    // Error: Image given has not completed loading\n    try {\n      const { width: viewWidth, height: viewHeight } =\n        object.ownerDocument.defaultView.getContextService().getDomElement();\n\n      const currentTransform = context.getTransform();\n      const { a, b, c, d, e, f } = currentTransform;\n      //  mat4 \n      // prettier-ignore\n      const transformMatrix = mat4.fromValues(\n          a, c, 0, 0,\n          b, d, 0, 0,\n          0, 0, 1, 0,\n          e, f, 0, 1,\n        );\n      const imageRect = transformRect([x, y, iw, ih], transformMatrix);\n      const drawRect = calculateOverlapRect(\n        [0, 0, viewWidth, viewHeight],\n        imageRect,\n      );\n\n      if (!drawRect) {\n        return;\n      }\n\n      if (\n        !object.ownerDocument.defaultView.getConfig()\n          .enableLargeImageOptimization\n      ) {\n        ImageRenderer.renderFull(context, parsedStyle, object, {\n          image,\n          drawRect: [x, y, iw, ih],\n        });\n\n        return;\n      }\n\n      const sizeOfOrigin = imageRect[2] / imageCache.size[0];\n\n      if (sizeOfOrigin < (imageCache.downSamplingRate || 0.5)) {\n        this.renderDownSampled(context, parsedStyle, object, {\n          src,\n          imageCache,\n          drawRect: [x, y, iw, ih],\n        });\n\n        return;\n      }\n\n      if (!ImagePool.isSupportTile) {\n        ImageRenderer.renderFull(context, parsedStyle, object, {\n          image,\n          drawRect: [x, y, iw, ih],\n        });\n\n        return;\n      }\n\n      this.renderTile(context, parsedStyle, object, {\n        src,\n        imageCache,\n        imageRect,\n        drawRect,\n      });\n    } catch {\n      // expected error\n    }\n  }\n\n  // ---\n\n  drawToContext(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    renderState: RenderState,\n    plugin: CanvasRendererPlugin,\n    runtime: GlobalRuntime,\n  ) {\n    this.render(context, object.parsedStyle as ParsedImageStyleProps, object);\n  }\n}\n", "import {\n  type CSSRGB,\n  type CanvasContext,\n  type DisplayObject,\n  type GlobalRuntime,\n  type ParsedTextStyleProps,\n  type Rectangle,\n  CSSGradientValue,\n  Pattern,\n} from '@antv/g-lite';\nimport { isNil } from '@antv/util';\nimport {\n  DefaultRenderer,\n  applyFill,\n  applyStroke,\n  setShadowAndFilter,\n} from './Default';\nimport {\n  CanvasRendererPlugin,\n  type RenderState,\n} from '../../CanvasRendererPlugin';\n\nexport class TextRenderer extends DefaultRenderer {\n  render(\n    context: CanvasRenderingContext2D,\n    parsedStyle: ParsedTextStyleProps,\n    object: DisplayObject,\n    canvasContext: CanvasContext,\n    plugin: CanvasRendererPlugin,\n    runtime: GlobalRuntime,\n  ) {\n    // Trigger text geometry calculation.\n    object.getBounds();\n    const {\n      lineWidth = 1,\n      textAlign = 'start',\n      textBaseline = 'alphabetic',\n      lineJoin = 'miter',\n      miterLimit = 10,\n      letterSpacing = 0,\n      stroke,\n      fill,\n      fillRule,\n      fillOpacity = 1,\n      strokeOpacity = 1,\n      opacity = 1,\n      metrics,\n      x = 0,\n      y = 0,\n      dx,\n      dy,\n      shadowColor,\n      shadowBlur,\n    } = parsedStyle;\n\n    const { font, lines, height, lineHeight, lineMetrics } = metrics;\n\n    context.font = font;\n    context.lineWidth = lineWidth;\n    context.textAlign = textAlign === 'middle' ? 'center' : textAlign;\n\n    let formattedTextBaseline = textBaseline;\n    if (formattedTextBaseline === 'alphabetic') {\n      formattedTextBaseline = 'bottom';\n    }\n\n    context.lineJoin = lineJoin;\n    if (!isNil(miterLimit)) {\n      context.miterLimit = miterLimit;\n    }\n\n    let linePositionY = y;\n    // handle vertical text baseline\n    if (textBaseline === 'middle') {\n      linePositionY += -height / 2 - lineHeight / 2;\n    } else if (\n      textBaseline === 'bottom' ||\n      textBaseline === 'alphabetic' ||\n      textBaseline === 'ideographic'\n    ) {\n      linePositionY += -height;\n    } else if (textBaseline === 'top' || textBaseline === 'hanging') {\n      linePositionY += -lineHeight;\n    }\n\n    // account for dx & dy\n    const offsetX = x + (dx || 0);\n    linePositionY += dy || 0;\n\n    if (lines.length === 1) {\n      if (formattedTextBaseline === 'bottom') {\n        formattedTextBaseline = 'middle';\n        linePositionY -= 0.5 * height;\n      } else if (formattedTextBaseline === 'top') {\n        formattedTextBaseline = 'middle';\n        linePositionY += 0.5 * height;\n      }\n    }\n    context.textBaseline = formattedTextBaseline;\n\n    const hasShadow = !isNil(shadowColor) && shadowBlur > 0;\n    setShadowAndFilter(object, context, hasShadow);\n\n    // draw lines line by line\n    for (let i = 0; i < lines.length; i++) {\n      const linePositionX = lineWidth / 2 + offsetX;\n      linePositionY += lineHeight;\n\n      // no need to re-position X, cause we already set text align\n      // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/textAlign\n      if (!isNil(stroke) && !(stroke as CSSRGB).isNone && lineWidth) {\n        this.drawLetterSpacing(\n          context,\n          object,\n          lines[i],\n          lineMetrics[i],\n          textAlign,\n          linePositionX,\n          linePositionY,\n          letterSpacing,\n          fill,\n          fillRule,\n          fillOpacity,\n          stroke,\n          strokeOpacity,\n          opacity,\n          true,\n          canvasContext,\n          plugin,\n          runtime,\n        );\n      }\n      if (!isNil(fill)) {\n        this.drawLetterSpacing(\n          context,\n          object,\n          lines[i],\n          lineMetrics[i],\n          textAlign,\n          linePositionX,\n          linePositionY,\n          letterSpacing,\n          fill,\n          fillRule,\n          fillOpacity,\n          stroke,\n          strokeOpacity,\n          opacity,\n          false,\n          canvasContext,\n          plugin,\n          runtime,\n        );\n      }\n    }\n  }\n\n  private drawLetterSpacing(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    text: string,\n    lineMetrics: Rectangle,\n    textAlign: CanvasTextAlign | 'middle',\n    x: number,\n    y: number,\n    letterSpacing: number,\n    fill: CSSRGB | CSSGradientValue[] | Pattern,\n    fillRule: 'nonzero' | 'evenodd',\n    fillOpacity: number | undefined,\n    stroke: CSSRGB | CSSGradientValue[] | Pattern,\n    strokeOpacity: number | undefined,\n    opacity: number | undefined,\n    isStroke: boolean,\n    canvasContext: CanvasContext,\n    plugin: CanvasRendererPlugin,\n    runtime: GlobalRuntime,\n  ): void {\n    // letterSpacing of 0 means normal, render all texts directly\n    if (letterSpacing === 0) {\n      if (isStroke) {\n        this.strokeText(\n          context,\n          object,\n          text,\n          x,\n          y,\n          stroke,\n          strokeOpacity,\n          canvasContext,\n          plugin,\n          runtime,\n        );\n      } else {\n        this.fillText(\n          context,\n          object,\n          text,\n          x,\n          y,\n          fill,\n          fillRule,\n          fillOpacity,\n          opacity,\n          canvasContext,\n          plugin,\n          runtime,\n        );\n      }\n      return;\n    }\n\n    // draw text using left align\n    const currentTextAlign = context.textAlign;\n    context.textAlign = 'left';\n\n    let currentPosition = x;\n    if (textAlign === 'center' || textAlign === 'middle') {\n      currentPosition = x - lineMetrics.width / 2;\n    } else if (textAlign === 'right' || textAlign === 'end') {\n      currentPosition = x - lineMetrics.width;\n    }\n\n    const stringArray = Array.from(text);\n    let previousWidth = context.measureText(text).width;\n    let currentWidth = 0;\n    for (let i = 0; i < stringArray.length; ++i) {\n      const currentChar = stringArray[i];\n      if (isStroke) {\n        this.strokeText(\n          context,\n          object,\n          currentChar,\n          currentPosition,\n          y,\n          stroke,\n          strokeOpacity,\n          canvasContext,\n          plugin,\n          runtime,\n        );\n      } else {\n        this.fillText(\n          context,\n          object,\n          currentChar,\n          currentPosition,\n          y,\n          fill,\n          fillRule,\n          fillOpacity,\n          opacity,\n          canvasContext,\n          plugin,\n          runtime,\n        );\n      }\n      currentWidth = context.measureText(text.substring(i + 1)).width;\n      currentPosition += previousWidth - currentWidth + letterSpacing;\n      previousWidth = currentWidth;\n    }\n\n    context.textAlign = currentTextAlign;\n  }\n\n  private fillText(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    text: string,\n    x: number,\n    y: number,\n    fill: CSSRGB | CSSGradientValue[] | Pattern,\n    fillRule: 'nonzero' | 'evenodd',\n    fillOpacity: number | undefined,\n    opacity: number | undefined,\n    canvasContext: CanvasContext,\n    plugin: CanvasRendererPlugin,\n    runtime: GlobalRuntime,\n  ) {\n    applyFill(\n      context,\n      object,\n      fill,\n      fillRule,\n      canvasContext,\n      plugin,\n      runtime,\n      this.imagePool,\n      true,\n    );\n\n    let currentGlobalAlpha: number;\n    const applyOpacity = !isNil(fillOpacity) && fillOpacity !== 1;\n    if (applyOpacity) {\n      currentGlobalAlpha = context.globalAlpha;\n      context.globalAlpha = fillOpacity * opacity;\n    }\n    context.fillText(text, x, y);\n    if (applyOpacity) {\n      context.globalAlpha = currentGlobalAlpha;\n    }\n  }\n\n  private strokeText(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    text: string,\n    x: number,\n    y: number,\n    stroke: CSSRGB | CSSGradientValue[] | Pattern,\n    strokeOpacity: number | undefined,\n    canvasContext: CanvasContext,\n    plugin: CanvasRendererPlugin,\n    runtime: GlobalRuntime,\n  ) {\n    applyStroke(\n      context,\n      object,\n      stroke,\n      canvasContext,\n      plugin,\n      runtime,\n      this.imagePool,\n      true,\n    );\n\n    let currentGlobalAlpha: number;\n    const applyOpacity = !isNil(strokeOpacity) && strokeOpacity !== 1;\n    if (applyOpacity) {\n      currentGlobalAlpha = context.globalAlpha;\n      context.globalAlpha = strokeOpacity!;\n    }\n    context.strokeText(text, x, y);\n    if (applyOpacity) {\n      context.globalAlpha = currentGlobalAlpha;\n    }\n  }\n\n  // ---\n\n  drawToContext(\n    context: CanvasRenderingContext2D,\n    object: DisplayObject,\n    renderState: RenderState,\n    plugin: CanvasRendererPlugin,\n    runtime: GlobalRuntime,\n  ) {\n    this.render(\n      context,\n      object.parsedStyle as ParsedTextStyleProps,\n      object,\n      object.ownerDocument.defaultView.context,\n      plugin,\n      runtime,\n    );\n  }\n}\n", "import { AbstractRendererPlugin, Shape } from '@antv/g-lite';\nimport type { PathGenerator } from '@antv/g-plugin-canvas-path-generator';\nimport { CanvasRendererPlugin } from './CanvasRendererPlugin';\nimport {\n  type StyleRenderer,\n  DefaultRenderer,\n  TextRenderer,\n  ImageRenderer,\n} from './shapes/styles';\nimport type { CanvasRendererPluginOptions } from './interfaces';\n\nexport * from './shapes/styles';\n\nexport class Plugin extends AbstractRendererPlugin<{\n  defaultStyleRendererFactory: Record<Shape, StyleRenderer>;\n  styleRendererFactory: Record<Shape, StyleRenderer>;\n  pathGeneratorFactory: Record<Shape, PathGenerator<any>>;\n}> {\n  name = 'canvas-renderer';\n\n  constructor(private options: Partial<CanvasRendererPluginOptions> = {}) {\n    super();\n  }\n\n  init(): void {\n    const canvasRendererPluginOptions: CanvasRendererPluginOptions = {\n      dirtyObjectNumThreshold: 500,\n      dirtyObjectRatioThreshold: 0.8,\n      ...this.options,\n    };\n\n    // @ts-ignore\n    const { imagePool } = this.context;\n\n    const defaultRenderer = new DefaultRenderer(imagePool);\n\n    const defaultStyleRendererFactory: Record<Shape, StyleRenderer> = {\n      [Shape.CIRCLE]: defaultRenderer,\n      [Shape.ELLIPSE]: defaultRenderer,\n      [Shape.RECT]: defaultRenderer,\n      [Shape.IMAGE]: new ImageRenderer(imagePool),\n      [Shape.TEXT]: new TextRenderer(imagePool),\n      [Shape.LINE]: defaultRenderer,\n      [Shape.POLYLINE]: defaultRenderer,\n      [Shape.POLYGON]: defaultRenderer,\n      [Shape.PATH]: defaultRenderer,\n      [Shape.GROUP]: undefined,\n      [Shape.HTML]: undefined,\n      [Shape.MESH]: undefined,\n      [Shape.FRAGMENT]: undefined,\n    };\n\n    this.context.defaultStyleRendererFactory = defaultStyleRendererFactory;\n    this.context.styleRendererFactory = defaultStyleRendererFactory;\n\n    this.addRenderingPlugin(\n      new CanvasRendererPlugin(canvasRendererPluginOptions),\n    );\n  }\n  destroy(): void {\n    this.removeAllRenderingPlugins();\n\n    delete this.context.defaultStyleRendererFactory;\n    delete this.context.styleRendererFactory;\n  }\n}\n", "import type {\n  GlobalRuntime,\n  InteractivePointerEvent,\n  RenderingPlugin,\n  RenderingPluginContext,\n} from '@antv/g-lite';\n\n// const MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\n/**\n * listen to mouse/touch/pointer events on DOM wrapper, trigger pointer events\n */\nexport class DOMInteractionPlugin implements RenderingPlugin {\n  static tag = 'DOMInteraction';\n\n  private context: RenderingPluginContext;\n\n  apply(context: RenderingPluginContext, runtime: GlobalRuntime) {\n    const { renderingService, renderingContext, config } = context;\n    this.context = context;\n\n    const canvas = renderingContext.root.ownerDocument.defaultView;\n    // const SUPPORT_ONLY_TOUCH = canvas.supportsTouchEvents && MOBILE_REGEX.test(navigator.userAgent);\n\n    const onPointerMove = (ev: InteractivePointerEvent) => {\n      renderingService.hooks.pointerMove.call(ev);\n    };\n\n    const onPointerUp = (ev: InteractivePointerEvent) => {\n      renderingService.hooks.pointerUp.call(ev);\n    };\n\n    const onPointerDown = (ev: InteractivePointerEvent) => {\n      renderingService.hooks.pointerDown.call(ev);\n    };\n\n    const onPointerOver = (ev: InteractivePointerEvent) => {\n      renderingService.hooks.pointerOver.call(ev);\n    };\n\n    const onPointerOut = (ev: InteractivePointerEvent) => {\n      renderingService.hooks.pointerOut.call(ev);\n    };\n\n    const onPointerCancel = (ev: InteractivePointerEvent) => {\n      renderingService.hooks.pointerCancel.call(ev);\n    };\n\n    const onPointerWheel = (ev: InteractivePointerEvent) => {\n      renderingService.hooks.pointerWheel.call(ev);\n    };\n\n    const onClick = (ev: InteractivePointerEvent) => {\n      renderingService.hooks.click.call(ev);\n    };\n\n    const addPointerEventListener = ($el: HTMLElement) => {\n      runtime.globalThis.document.addEventListener(\n        'pointermove',\n        onPointerMove,\n        true,\n      );\n      $el.addEventListener('pointerdown', onPointerDown, true);\n      $el.addEventListener('pointerleave', onPointerOut, true);\n      $el.addEventListener('pointerover', onPointerOver, true);\n      runtime.globalThis.addEventListener('pointerup', onPointerUp, true);\n      runtime.globalThis.addEventListener(\n        'pointercancel',\n        onPointerCancel,\n        true,\n      );\n    };\n\n    const addTouchEventListener = ($el: HTMLElement) => {\n      $el.addEventListener('touchstart', onPointerDown, true);\n      $el.addEventListener('touchend', onPointerUp, true);\n      $el.addEventListener('touchmove', onPointerMove, true);\n      $el.addEventListener('touchcancel', onPointerCancel, true);\n    };\n\n    const addMouseEventListener = ($el: HTMLElement) => {\n      runtime.globalThis.document.addEventListener(\n        'mousemove',\n        onPointerMove,\n        true,\n      );\n      $el.addEventListener('mousedown', onPointerDown, true);\n      $el.addEventListener('mouseout', onPointerOut, true);\n      $el.addEventListener('mouseover', onPointerOver, true);\n      runtime.globalThis.addEventListener('mouseup', onPointerUp, true);\n    };\n\n    const removePointerEventListener = ($el: HTMLElement) => {\n      runtime.globalThis.document.removeEventListener(\n        'pointermove',\n        onPointerMove,\n        true,\n      );\n      $el.removeEventListener('pointerdown', onPointerDown, true);\n      $el.removeEventListener('pointerleave', onPointerOut, true);\n      $el.removeEventListener('pointerover', onPointerOver, true);\n      runtime.globalThis.removeEventListener('pointerup', onPointerUp, true);\n      runtime.globalThis.removeEventListener(\n        'pointercancel',\n        onPointerCancel,\n        true,\n      );\n    };\n\n    const removeTouchEventListener = ($el: HTMLElement) => {\n      $el.removeEventListener('touchstart', onPointerDown, true);\n      $el.removeEventListener('touchend', onPointerUp, true);\n      $el.removeEventListener('touchmove', onPointerMove, true);\n      $el.removeEventListener('touchcancel', onPointerCancel, true);\n    };\n\n    const removeMouseEventListener = ($el: HTMLElement) => {\n      runtime.globalThis.document.removeEventListener(\n        'mousemove',\n        onPointerMove,\n        true,\n      );\n      $el.removeEventListener('mousedown', onPointerDown, true);\n      $el.removeEventListener('mouseout', onPointerOut, true);\n      $el.removeEventListener('mouseover', onPointerOver, true);\n      runtime.globalThis.removeEventListener('mouseup', onPointerUp, true);\n    };\n\n    renderingService.hooks.init.tap(DOMInteractionPlugin.tag, () => {\n      const $el =\n        this.context.contextService.getDomElement() as unknown as HTMLElement;\n\n      // @ts-ignore\n      if (runtime.globalThis.navigator.msPointerEnabled) {\n        // @ts-ignore\n        $el.style.msContentZooming = 'none';\n        // @ts-ignore\n        $el.style.msTouchAction = 'none';\n      } else if (canvas.supportsPointerEvents) {\n        $el.style.touchAction = 'none';\n      }\n\n      if (canvas.supportsPointerEvents) {\n        addPointerEventListener($el);\n      } else {\n        addMouseEventListener($el);\n      }\n\n      if (canvas.supportsTouchEvents) {\n        addTouchEventListener($el);\n      }\n\n      if (config.useNativeClickEvent) {\n        $el.addEventListener('click', onClick, true);\n      }\n\n      // use passive event listeners\n      // @see https://zhuanlan.zhihu.com/p/24555031\n      $el.addEventListener('wheel', onPointerWheel, {\n        passive: true,\n        capture: true,\n      });\n    });\n\n    renderingService.hooks.destroy.tap(DOMInteractionPlugin.tag, () => {\n      const $el =\n        this.context.contextService.getDomElement() as unknown as HTMLElement;\n\n      // @ts-ignore\n      if (runtime.globalThis.navigator.msPointerEnabled) {\n        // @ts-ignore\n        $el.style.msContentZooming = '';\n        // @ts-ignore\n        $el.style.msTouchAction = '';\n      } else if (canvas.supportsPointerEvents) {\n        $el.style.touchAction = '';\n      }\n\n      if (canvas.supportsPointerEvents) {\n        removePointerEventListener($el);\n      } else {\n        removeMouseEventListener($el);\n      }\n\n      if (canvas.supportsTouchEvents) {\n        removeTouchEventListener($el);\n      }\n\n      if (config.useNativeClickEvent) {\n        $el.removeEventListener('click', onClick, true);\n      }\n\n      $el.removeEventListener('wheel', onPointerWheel, true);\n    });\n  }\n}\n", "import { AbstractRendererPlugin } from '@antv/g-lite';\nimport { DOMInteractionPlugin } from './DOMInteractionPlugin';\n\nexport class Plugin extends AbstractRendererPlugin {\n  name = 'dom-interaction';\n\n  init(): void {\n    this.addRenderingPlugin(new DOMInteractionPlugin());\n  }\n  destroy(): void {\n    this.removeAllRenderingPlugins();\n  }\n}\n", "import {\n  DisplayObject,\n  FederatedEvent,\n  GlobalRuntime,\n  HTML,\n  ICamera,\n  MutationEvent,\n  RenderingPlugin,\n  RenderingPluginContext,\n  CanvasEvent,\n  RenderReason,\n  isCSSRGB,\n  ElementEvent,\n  isPattern,\n  Shape,\n} from '@antv/g-lite';\nimport { isNil, isNumber, isString } from '@antv/util';\nimport type { mat4, vec3 } from 'gl-matrix';\n\nconst CANVAS_CAMERA_ID = 'g-canvas-camera';\n\nexport class HTMLRenderingPlugin implements RenderingPlugin {\n  static tag = 'HTMLRendering';\n\n  private context: RenderingPluginContext;\n\n  /**\n   * wrapper for camera\n   */\n  private $camera: HTMLDivElement;\n\n  private displayObjectHTMLElementMap = new WeakMap<\n    DisplayObject,\n    HTMLElement\n  >();\n\n  /**\n   * ! The reason for adding `offset` is that the `transform-origin` coordinate system of DOM is the local coordinate system of the element, while the `transform-origin` coordinate system of canvas drawing is the local coordinate system of the element's parent element. At the same time, the `transform` attribute value of the DOM element does not include `transform-origin`.\n   */\n  private joinTransformMatrix(matrix: mat4, offset: vec3 = [0, 0, 0]) {\n    return `matrix(${[\n      matrix[0],\n      matrix[1],\n      matrix[4],\n      matrix[5],\n      matrix[12] + offset[0],\n      matrix[13] + offset[1],\n    ].join(',')})`;\n  }\n\n  apply(context: RenderingPluginContext, runtime: GlobalRuntime) {\n    const { camera, renderingContext, renderingService } = context;\n    this.context = context;\n    const canvas = renderingContext.root.ownerDocument.defaultView;\n    const { nativeHTMLMap } = canvas.context.eventService;\n\n    const setTransform = (object: HTML, $el: HTMLElement) => {\n      $el.style.transform = this.joinTransformMatrix(\n        object.getWorldTransform(),\n        object.getOrigin(),\n      );\n    };\n\n    const handleMounted = (e: FederatedEvent) => {\n      const object = e.target as HTML;\n      if (object.nodeName === Shape.HTML) {\n        if (!this.$camera) {\n          this.$camera = this.createCamera(camera);\n        }\n\n        // create DOM element\n        const $el = this.getOrCreateEl(object);\n        this.$camera.appendChild($el);\n\n        Object.keys(object.attributes).forEach((name) => {\n          this.updateAttribute(name, object);\n        });\n\n        setTransform(object, $el);\n\n        nativeHTMLMap.set($el, object);\n      }\n    };\n\n    const handleUnmounted = (e: FederatedEvent) => {\n      const object = e.target as HTML;\n      if (object.nodeName === Shape.HTML && this.$camera) {\n        const $el = this.getOrCreateEl(object);\n        if ($el) {\n          $el.remove();\n          nativeHTMLMap.delete($el);\n        }\n      }\n    };\n\n    const handleAttributeChanged = (e: MutationEvent) => {\n      const object = e.target as HTML;\n      if (object.nodeName === Shape.HTML) {\n        const { attrName } = e;\n        this.updateAttribute(attrName, object);\n      }\n    };\n\n    const handleBoundsChanged = (e: MutationEvent) => {\n      const object = e.target as HTML;\n      const nodes =\n        object.nodeName === Shape.FRAGMENT ? object.childNodes : [object];\n\n      nodes.forEach((node: HTML) => {\n        if (node.nodeName === Shape.HTML) {\n          const $el = this.getOrCreateEl(node);\n          setTransform(node, $el);\n        }\n      });\n    };\n\n    const handleCanvasResize = () => {\n      if (this.$camera) {\n        const { width, height } = this.context.config;\n        this.$camera.parentElement.style.width = `${width || 0}px`;\n        this.$camera.parentElement.style.height = `${height || 0}px`;\n      }\n    };\n\n    renderingService.hooks.init.tap(HTMLRenderingPlugin.tag, () => {\n      canvas.addEventListener(CanvasEvent.RESIZE, handleCanvasResize);\n      canvas.addEventListener(ElementEvent.MOUNTED, handleMounted);\n      canvas.addEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n      canvas.addEventListener(\n        ElementEvent.ATTR_MODIFIED,\n        handleAttributeChanged,\n      );\n      canvas.addEventListener(ElementEvent.BOUNDS_CHANGED, handleBoundsChanged);\n    });\n\n    renderingService.hooks.endFrame.tap(HTMLRenderingPlugin.tag, () => {\n      if (\n        this.$camera &&\n        renderingContext.renderReasons.has(RenderReason.CAMERA_CHANGED)\n      ) {\n        this.$camera.style.transform = this.joinTransformMatrix(\n          camera.getOrthoMatrix(),\n        );\n      }\n    });\n\n    renderingService.hooks.destroy.tap(HTMLRenderingPlugin.tag, () => {\n      // remove camera\n      if (this.$camera) {\n        this.$camera.remove();\n      }\n\n      canvas.removeEventListener(CanvasEvent.RESIZE, handleCanvasResize);\n      canvas.removeEventListener(ElementEvent.MOUNTED, handleMounted);\n      canvas.removeEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n      canvas.removeEventListener(\n        ElementEvent.ATTR_MODIFIED,\n        handleAttributeChanged,\n      );\n      canvas.removeEventListener(\n        ElementEvent.BOUNDS_CHANGED,\n        handleBoundsChanged,\n      );\n    });\n  }\n\n  private createCamera(camera: ICamera) {\n    const { document: doc, width, height } = this.context.config;\n    const $canvas =\n      this.context.contextService.getDomElement() as unknown as HTMLElement;\n    const $container = $canvas.parentNode;\n    if ($container) {\n      const cameraId = CANVAS_CAMERA_ID;\n      let $existedCamera = $container.querySelector<HTMLDivElement>(\n        `#${cameraId}`,\n      );\n      if (!$existedCamera) {\n        // fix @see https://github.com/antvis/G/issues/1702\n        const $cameraContainer = (doc || document).createElement('div');\n        // HTML elements should not overflow with canvas @see https://github.com/antvis/G/issues/1163\n        $cameraContainer.style.overflow = 'hidden';\n        $cameraContainer.style.pointerEvents = 'none';\n        $cameraContainer.style.position = 'absolute';\n        $cameraContainer.style.left = `0px`;\n        $cameraContainer.style.top = `0px`;\n        $cameraContainer.style.width = `${width || 0}px`;\n        $cameraContainer.style.height = `${height || 0}px`;\n\n        const $camera = (doc || document).createElement('div');\n        $existedCamera = $camera;\n        $camera.id = cameraId;\n        // use absolute position\n        $camera.style.position = 'absolute';\n        // account for DOM element's offset @see https://github.com/antvis/G/issues/1150\n        $camera.style.left = `${$canvas.offsetLeft || 0}px`;\n        $camera.style.top = `${$canvas.offsetTop || 0}px`;\n        $camera.style.transformOrigin = 'left top';\n        $camera.style.transform = this.joinTransformMatrix(\n          camera.getOrthoMatrix(),\n        );\n        $camera.style.pointerEvents = 'none';\n        $camera.style.width = `100%`;\n        $camera.style.height = `100%`;\n\n        $cameraContainer.appendChild($camera);\n        $container.appendChild($cameraContainer);\n      }\n\n      return $existedCamera;\n    }\n    return null;\n  }\n\n  private getOrCreateEl(object: DisplayObject) {\n    const { document: doc } = this.context.config;\n    let $existedElement: HTMLElement | null =\n      this.displayObjectHTMLElementMap.get(object);\n\n    if (!$existedElement) {\n      $existedElement = (doc || document).createElement('div');\n      object.parsedStyle.$el = $existedElement;\n      this.displayObjectHTMLElementMap.set(object, $existedElement);\n      if (object.id) {\n        $existedElement.id = object.id;\n      }\n      if (object.name) {\n        $existedElement.setAttribute('name', object.name);\n      }\n      if (object.className) {\n        $existedElement.className = object.className;\n      }\n\n      // use absolute position\n      $existedElement.style.position = 'absolute';\n      // @see https://github.com/antvis/G/issues/1150\n      $existedElement.style['will-change'] = 'transform';\n      $existedElement.style.transform = this.joinTransformMatrix(\n        object.getWorldTransform(),\n        object.getOrigin(),\n      );\n    }\n\n    return $existedElement;\n  }\n\n  private updateAttribute(name: string, object: HTML) {\n    const $el = this.getOrCreateEl(object);\n    switch (name) {\n      case 'innerHTML':\n        const { innerHTML } = object.parsedStyle;\n        if (isString(innerHTML)) {\n          $el.innerHTML = innerHTML;\n        } else {\n          $el.innerHTML = '';\n          $el.appendChild(innerHTML);\n        }\n        break;\n      case 'x':\n        $el.style.left = `${object.parsedStyle.x}px`;\n        break;\n      case 'y':\n        $el.style.top = `${object.parsedStyle.y}px`;\n        break;\n      case 'transformOrigin':\n        const { transformOrigin } = object.parsedStyle;\n        $el.style['transform-origin'] = `${transformOrigin[0].buildCSSText(\n          null,\n          null,\n          '',\n        )} ${transformOrigin[1].buildCSSText(null, null, '')}`;\n        break;\n      case 'width':\n        const { width } = object.parsedStyle;\n        $el.style.width = isNumber(width)\n          ? `${width}px`\n          : (width as string).toString();\n        break;\n      case 'height':\n        const { height } = object.parsedStyle;\n        $el.style.height = isNumber(height)\n          ? `${height}px`\n          : (height as string).toString();\n        break;\n      case 'zIndex':\n        const { zIndex } = object.parsedStyle;\n        $el.style['z-index'] = `${zIndex}`;\n        break;\n      case 'visibility':\n        const { visibility } = object.parsedStyle;\n        $el.style.visibility = visibility;\n        break;\n      case 'pointerEvents':\n        const { pointerEvents = 'auto' } = object.parsedStyle;\n        $el.style.pointerEvents = pointerEvents;\n        break;\n      case 'opacity':\n        const { opacity } = object.parsedStyle;\n        $el.style.opacity = `${opacity}`;\n        break;\n      case 'fill':\n        const { fill } = object.parsedStyle;\n        let color = '';\n        if (isCSSRGB(fill)) {\n          if (fill.isNone) {\n            color = 'transparent';\n          } else {\n            color = object.getAttribute('fill') as string;\n          }\n        } else if (Array.isArray(fill)) {\n          color = object.getAttribute('fill') as string;\n        } else if (isPattern(fill)) {\n          // TODO: pattern, use background?\n        }\n        $el.style.background = color;\n        break;\n      case 'stroke':\n        const { stroke } = object.parsedStyle;\n        let borderColor = '';\n        if (isCSSRGB(stroke)) {\n          if (stroke.isNone) {\n            borderColor = 'transparent';\n          } else {\n            borderColor = object.getAttribute('stroke') as string;\n          }\n        } else if (Array.isArray(stroke)) {\n          borderColor = object.getAttribute('stroke') as string;\n        } else if (isPattern(stroke)) {\n          // TODO: pattern, use background?\n        }\n\n        $el.style['border-color'] = borderColor;\n        $el.style['border-style'] = 'solid';\n        break;\n      case 'lineWidth':\n        const { lineWidth } = object.parsedStyle;\n        $el.style['border-width'] = `${lineWidth || 0}px`;\n        break;\n      case 'lineDash':\n        $el.style['border-style'] = 'dashed';\n        break;\n      case 'filter':\n        const { filter } = object.style;\n        $el.style.filter = filter;\n        break;\n      default:\n        if (!isNil(object.style[name]) && object.style[name] !== '') {\n          $el.style[name] = object.style[name];\n        }\n    }\n  }\n}\n", "import { AbstractRendererPlugin } from '@antv/g-lite';\nimport { HTMLRenderingPlugin } from './HTMLRenderingPlugin';\n\nexport class Plugin extends AbstractRendererPlugin {\n  name = 'html-renderer';\n  init(): void {\n    this.addRenderingPlugin(new HTMLRenderingPlugin());\n  }\n  destroy(): void {\n    this.removeAllRenderingPlugins();\n  }\n}\n", "import type {\n  RenderingContext,\n  CanvasContext,\n  CanvasLike,\n  DataURLOptions,\n  GlobalRuntime,\n  CanvasConfig,\n  ContextService,\n} from '@antv/g-lite';\nimport { RenderReason, setDOMSize } from '@antv/g-lite';\nimport { isString } from '@antv/util';\n\nexport class Canvas2DContextService\n  implements ContextService<CanvasRenderingContext2D>\n{\n  private $container: HTMLElement | null;\n  private $canvas: CanvasLike | null;\n  private dpr: number;\n  private context:\n    | CanvasRenderingContext2D\n    | OffscreenCanvasRenderingContext2D\n    | null;\n  private canvasConfig: Partial<CanvasConfig>;\n  private renderingContext: RenderingContext;\n\n  constructor(context: GlobalRuntime & CanvasContext) {\n    this.renderingContext = context.renderingContext;\n    this.canvasConfig = context.config;\n  }\n\n  init() {\n    const { container, canvas } = this.canvasConfig;\n\n    if (canvas) {\n      this.$canvas = canvas;\n\n      if (\n        container &&\n        (canvas as HTMLCanvasElement).parentElement !== container\n      ) {\n        (container as HTMLElement).appendChild(canvas as HTMLCanvasElement);\n      }\n\n      this.$container = (canvas as HTMLCanvasElement).parentElement;\n      this.canvasConfig.container = this.$container;\n    } else if (container) {\n      // create container\n      this.$container = isString(container)\n        ? document.getElementById(container)\n        : container;\n      if (this.$container) {\n        // create canvas\n        const $canvas = document.createElement('canvas');\n\n        this.$container.appendChild($canvas);\n        if (!this.$container.style.position) {\n          this.$container.style.position = 'relative';\n        }\n        this.$canvas = $canvas;\n      }\n    }\n\n    this.context = this.$canvas.getContext('2d');\n    this.resize(this.canvasConfig.width, this.canvasConfig.height);\n  }\n\n  getContext() {\n    return this.context as CanvasRenderingContext2D;\n  }\n\n  getDomElement() {\n    return this.$canvas;\n  }\n\n  getDPR() {\n    return this.dpr;\n  }\n\n  getBoundingClientRect() {\n    if ((this.$canvas as HTMLCanvasElement).getBoundingClientRect) {\n      return (this.$canvas as HTMLCanvasElement).getBoundingClientRect();\n    }\n  }\n\n  destroy() {\n    // @ts-ignore\n    if (this.$container && this.$canvas && this.$canvas.parentNode) {\n      // destroy context\n      // @ts-ignore\n      this.$container.removeChild(this.$canvas);\n    }\n  }\n\n  resize(width: number, height: number) {\n    const { devicePixelRatio: dpr } = this.canvasConfig;\n    this.dpr = dpr;\n\n    if (this.$canvas) {\n      // set canvas width & height\n      this.$canvas.width = this.dpr * width;\n      this.$canvas.height = this.dpr * height;\n\n      // set CSS style width & height\n      setDOMSize(this.$canvas, width, height);\n\n      // const dpr = this.getDPR();\n      // scale all drawing operations by the dpr\n      // @see https://www.html5rocks.com/en/tutorials/canvas/hidpi/\n      // this.context.scale(dpr, dpr);\n    }\n\n    this.renderingContext.renderReasons.add(RenderReason.CAMERA_CHANGED);\n  }\n\n  applyCursorStyle(cursor: string) {\n    if (this.$container && this.$container.style) {\n      this.$container.style.cursor = cursor;\n    }\n  }\n\n  async toDataURL(options: Partial<DataURLOptions> = {}) {\n    const { type, encoderOptions } = options;\n    return (this.context.canvas as HTMLCanvasElement).toDataURL(\n      type,\n      encoderOptions,\n    );\n  }\n}\n", "import { AbstractRendererPlugin } from '@antv/g-lite';\nimport { Canvas2DContextService } from './Canvas2DContextService';\n\nexport class ContextRegisterPlugin extends AbstractRendererPlugin {\n  name = 'canvas-context-register';\n  init(): void {\n    this.context.ContextService = Canvas2DContextService;\n  }\n  destroy(): void {\n    delete this.context.ContextService;\n  }\n}\n", "import type { RendererConfig } from '@antv/g-lite';\nimport { AbstractRenderer } from '@antv/g-lite';\nimport * as CanvasPathGenerator from '@antv/g-plugin-canvas-path-generator';\nimport * as CanvasPicker from '@antv/g-plugin-canvas-picker';\nimport * as CanvasRenderer from '@antv/g-plugin-canvas-renderer';\nimport * as DomInteraction from '@antv/g-plugin-dom-interaction';\nimport * as HTMLRenderer from '@antv/g-plugin-html-renderer';\nimport * as ImageLoader from '@antv/g-plugin-image-loader';\nimport { ContextRegisterPlugin } from './ContextRegisterPlugin';\n\nexport {\n  CanvasPathGenerator,\n  CanvasPicker,\n  CanvasRenderer,\n  DomInteraction,\n  HTMLRenderer,\n  ImageLoader,\n};\n\nexport class Renderer extends AbstractRenderer {\n  constructor(config?: Partial<RendererConfig>) {\n    super(config);\n\n    // register Canvas2DContext\n    this.registerPlugin(new ContextRegisterPlugin());\n    this.registerPlugin(new ImageLoader.Plugin());\n    this.registerPlugin(new CanvasPathGenerator.Plugin());\n    // enable rendering with Canvas2D API\n    this.registerPlugin(new CanvasRenderer.Plugin());\n    this.registerPlugin(new DomInteraction.Plugin());\n    // enable picking with Canvas2D API\n    this.registerPlugin(new CanvasPicker.Plugin());\n\n    // render HTML component\n    this.registerPlugin(new HTMLRenderer.Plugin());\n  }\n}\n", "import type {\n  DisplayObject,\n  FederatedPointerEvent,\n  IDocument,\n  RenderingPlugin,\n  RenderingPluginContext,\n} from '@antv/g-lite';\nimport { distanceSquareRoot } from '@antv/util';\nimport type { DragndropPluginOptions } from './interfaces';\n\nexport class DragndropPlugin implements RenderingPlugin {\n  static tag = 'Dragndrop';\n\n  constructor(public dragndropPluginOptions: DragndropPluginOptions) {}\n\n  apply(context: RenderingPluginContext) {\n    const { renderingService, renderingContext } = context;\n    const document = renderingContext.root.ownerDocument;\n\n    // TODO: should we add an option like `draggable` to Canvas\n    const canvas = document.defaultView;\n\n    const handlePointerdown = (event: FederatedPointerEvent) => {\n      const target = event.target as DisplayObject;\n      const isDocument = (target as unknown as IDocument) === document;\n\n      const draggableEventTarget =\n        isDocument && this.dragndropPluginOptions.isDocumentDraggable\n          ? document\n          : target.closest && target.closest('[draggable=true]');\n\n      // `draggable` may be set on ancestor nodes:\n      // @see https://github.com/antvis/G/issues/1088\n      if (draggableEventTarget) {\n        // delay triggering dragstart event\n        let dragstartTriggered = false;\n        const dragstartTimeStamp = event.timeStamp;\n        const dragstartClientCoordinates: [number, number] = [\n          event.clientX,\n          event.clientY,\n        ];\n\n        let currentDroppable = null;\n        let lastDragClientCoordinates = [event.clientX, event.clientY];\n        // @ts-ignore\n        // eslint-disable-next-line no-inner-declarations\n        const handlePointermove = async (event: FederatedPointerEvent) => {\n          if (!dragstartTriggered) {\n            const timeElapsed = event.timeStamp - dragstartTimeStamp;\n            const distanceMoved = distanceSquareRoot(\n              [event.clientX, event.clientY],\n              dragstartClientCoordinates,\n            );\n            // check thresholds\n            if (\n              timeElapsed <=\n                this.dragndropPluginOptions.dragstartTimeThreshold ||\n              distanceMoved <=\n                this.dragndropPluginOptions.dragstartDistanceThreshold\n            ) {\n              return;\n            }\n\n            // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragstart_event\n            event.type = 'dragstart';\n\n            draggableEventTarget.dispatchEvent(event);\n            dragstartTriggered = true;\n          }\n\n          // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/drag_event\n          event.type = 'drag';\n          // @ts-ignore\n          event.dx = event.clientX - lastDragClientCoordinates[0];\n          // @ts-ignore\n          event.dy = event.clientY - lastDragClientCoordinates[1];\n          draggableEventTarget.dispatchEvent(event);\n          lastDragClientCoordinates = [event.clientX, event.clientY];\n\n          if (!isDocument) {\n            const point =\n              this.dragndropPluginOptions.overlap === 'pointer'\n                ? [event.canvasX, event.canvasY]\n                : target.getBounds().center;\n            const elementsBelow = await document.elementsFromPoint(\n              point[0],\n              point[1],\n            );\n\n            // prevent from picking the dragging element\n            const elementBelow =\n              elementsBelow[elementsBelow.indexOf(target) + 1];\n\n            const droppableBelow =\n              elementBelow?.closest('[droppable=true]') ||\n              (this.dragndropPluginOptions.isDocumentDroppable\n                ? document\n                : null);\n            if (currentDroppable !== droppableBelow) {\n              if (currentDroppable) {\n                // null when we were not over a droppable before this event\n                // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragleave_event\n                event.type = 'dragleave';\n                event.target = currentDroppable;\n                currentDroppable.dispatchEvent(event);\n              }\n\n              if (droppableBelow) {\n                // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragleave_event\n                event.type = 'dragenter';\n                event.target = droppableBelow;\n                droppableBelow.dispatchEvent(event);\n              }\n\n              currentDroppable = droppableBelow;\n              if (currentDroppable) {\n                // null if we're not coming over a droppable now\n                // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragover_event\n                event.type = 'dragover';\n                event.target = currentDroppable;\n                currentDroppable.dispatchEvent(event);\n              }\n            }\n          }\n        };\n\n        canvas.addEventListener('pointermove', handlePointermove);\n\n        const stopDragging = function (\n          originalPointerUpEvent: FederatedPointerEvent,\n        ) {\n          if (dragstartTriggered) {\n            // prevent click event being triggerd\n            // @see https://github.com/antvis/G/issues/1091\n            originalPointerUpEvent.detail = {\n              preventClick: true,\n            };\n\n            // clone event first\n            const event = originalPointerUpEvent.clone();\n\n            // drop should fire before dragend\n            // @see https://javascript.tutorialink.com/is-there-a-defined-ordering-between-dragend-and-drop-events/\n\n            if (currentDroppable) {\n              // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/drop_event\n              event.type = 'drop';\n              event.target = currentDroppable;\n              currentDroppable.dispatchEvent(event);\n            }\n\n            // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragend_event\n            event.type = 'dragend';\n            draggableEventTarget.dispatchEvent(event);\n\n            dragstartTriggered = false;\n          }\n\n          canvas.removeEventListener('pointermove', handlePointermove);\n        };\n\n        target.addEventListener('pointerup', stopDragging, { once: true });\n        target.addEventListener('pointerupoutside', stopDragging, {\n          once: true,\n        });\n      }\n    };\n\n    renderingService.hooks.init.tap(DragndropPlugin.tag, () => {\n      canvas.addEventListener('pointerdown', handlePointerdown);\n    });\n\n    renderingService.hooks.destroy.tap(DragndropPlugin.tag, () => {\n      canvas.removeEventListener('pointerdown', handlePointerdown);\n    });\n  }\n}\n", "import { AbstractRendererPlugin } from '@antv/g-lite';\nimport { DragndropPlugin } from './DragndropPlugin';\nimport type { DragndropPluginOptions } from './interfaces';\n\nexport class Plugin extends AbstractRendererPlugin {\n  name = 'dragndrop';\n\n  constructor(private options: Partial<DragndropPluginOptions> = {}) {\n    super();\n  }\n\n  init(): void {\n    this.addRenderingPlugin(\n      new DragndropPlugin({\n        overlap: 'pointer',\n        isDocumentDraggable: false,\n        isDocumentDroppable: false,\n        dragstartDistanceThreshold: 0,\n        dragstartTimeThreshold: 0,\n        ...this.options,\n      }),\n    );\n  }\n  destroy(): void {\n    this.removeAllRenderingPlugins();\n  }\n  setOptions(options: Partial<DragndropPluginOptions>): void {\n    Object.assign(\n      (this.plugins[0] as DragndropPlugin).dragndropPluginOptions,\n      options,\n    );\n  }\n}\n", "interface EventType {\n  readonly callback: Function;\n  readonly once: boolean;\n}\n\ntype EventsType = Record<string, EventType[]>;\n\nconst WILDCARD = '*';\n\n/* event-emitter */\nexport default class EventEmitter {\n  private _events: EventsType = {};\n\n  /**\n   * \n   * @param evt\n   * @param callback\n   * @param once\n   */\n  on(evt: string, callback: Function, once?: boolean) {\n    if (!this._events[evt]) {\n      this._events[evt] = [];\n    }\n    this._events[evt].push({\n      callback,\n      once: !!once,\n    });\n    return this;\n  }\n\n  /**\n   * \n   * @param evt\n   * @param callback\n   */\n  once(evt: string, callback: Function) {\n    return this.on(evt, callback, true);\n  }\n\n  /**\n   * \n   * @param evt\n   * @param args\n   */\n  emit(evt: string, ...args: any[]) {\n    const events = this._events[evt] || [];\n    const wildcardEvents = this._events[WILDCARD] || [];\n\n    //  emit \n    const doEmit = (es: EventType[]) => {\n      let length = es.length;\n      for (let i = 0; i < length; i++) {\n        if (!es[i]) {\n          continue;\n        }\n        const { callback, once } = es[i];\n\n        if (once) {\n          es.splice(i, 1);\n\n          if (es.length === 0) {\n            delete this._events[evt];\n          }\n\n          length--;\n          i--;\n        }\n\n        callback.apply(this, args);\n      }\n    };\n\n    doEmit(events);\n    doEmit(wildcardEvents);\n  }\n\n  /**\n   * channel\n   * @param evt\n   * @param callback\n   */\n  off(evt?: string, callback?: Function) {\n    if (!evt) {\n      // evt \n      this._events = {};\n    } else {\n      if (!callback) {\n        // evt callback \n        delete this._events[evt];\n      } else {\n        // evt callback \n        const events = this._events[evt] || [];\n\n        let length = events.length;\n        for (let i = 0; i < length; i++) {\n          if (events[i].callback === callback) {\n            events.splice(i, 1);\n            length--;\n            i--;\n          }\n        }\n\n        if (events.length === 0) {\n          delete this._events[evt];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  /*  */\n  getEvents() {\n    return this._events;\n  }\n}\n", null, "const e={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};function t(t,n){e[t]=n}class n extends Error{constructor(e,t,n){super(e),this.position=t,this.token=n,this.name=\"ExpressionError\"}}var r;!function(e){e[e.STRING=0]=\"STRING\",e[e.NUMBER=1]=\"NUMBER\",e[e.BOOLEAN=2]=\"BOOLEAN\",e[e.NULL=3]=\"NULL\",e[e.IDENTIFIER=4]=\"IDENTIFIER\",e[e.OPERATOR=5]=\"OPERATOR\",e[e.FUNCTION=6]=\"FUNCTION\",e[e.DOT=7]=\"DOT\",e[e.BRACKET_LEFT=8]=\"BRACKET_LEFT\",e[e.BRACKET_RIGHT=9]=\"BRACKET_RIGHT\",e[e.PAREN_LEFT=10]=\"PAREN_LEFT\",e[e.PAREN_RIGHT=11]=\"PAREN_RIGHT\",e[e.COMMA=12]=\"COMMA\",e[e.QUESTION=13]=\"QUESTION\",e[e.COLON=14]=\"COLON\",e[e.DOLLAR=15]=\"DOLLAR\"}(r||(r={}));const o=new Set([32,9,10,13]),a=new Set([43,45,42,47,37,33,38,124,61,60,62]),s=new Map([[\"true\",r.BOOLEAN],[\"false\",r.BOOLEAN],[\"null\",r.NULL]]),i=new Map([[\"===\",!0],[\"!==\",!0],[\"<=\",!0],[\">=\",!0],[\"&&\",!0],[\"||\",!0],[\"+\",!0],[\"-\",!0],[\"*\",!0],[\"/\",!0],[\"%\",!0],[\"!\",!0],[\"<\",!0],[\">\",!0]]),u=new Map([[46,r.DOT],[91,r.BRACKET_LEFT],[93,r.BRACKET_RIGHT],[40,r.PAREN_LEFT],[41,r.PAREN_RIGHT],[44,r.COMMA],[63,r.QUESTION],[58,r.COLON],[36,r.DOLLAR]]),c=new Map;for(const[e,t]of u.entries())c.set(e,{type:t,value:String.fromCharCode(e)});function p(e){return e>=48&&e<=57}function l(e){return e>=97&&e<=122||e>=65&&e<=90||95===e}function f(e){return l(e)||p(e)}function E(e){return a.has(e)}var h;!function(e){e[e.Program=0]=\"Program\",e[e.Literal=1]=\"Literal\",e[e.Identifier=2]=\"Identifier\",e[e.MemberExpression=3]=\"MemberExpression\",e[e.CallExpression=4]=\"CallExpression\",e[e.BinaryExpression=5]=\"BinaryExpression\",e[e.UnaryExpression=6]=\"UnaryExpression\",e[e.ConditionalExpression=7]=\"ConditionalExpression\"}(h||(h={}));const d=new Map([[\"||\",2],[\"&&\",3],[\"===\",4],[\"!==\",4],[\">\",5],[\">=\",5],[\"<\",5],[\"<=\",5],[\"+\",6],[\"-\",6],[\"*\",7],[\"/\",7],[\"%\",7],[\"!\",8]]),R={type:h.Literal,value:null},T={type:h.Literal,value:!0},w={type:h.Literal,value:!1},y=e=>{let t=0;const o=e.length,a=()=>t>=o?null:e[t],s=()=>e[t++],i=e=>{const t=a();return null!==t&&t.type===e},u=e=>e.type===r.OPERATOR?d.get(e.value)||-1:e.type===r.DOT||e.type===r.BRACKET_LEFT?9:e.type===r.QUESTION?1:-1,c=e=>{let o,u;if(s().type===r.DOT){if(!i(r.IDENTIFIER)){const e=a();throw new n(\"Expected property name\",t,e?e.value:\"<end of input>\")}const e=s();o={type:h.Identifier,name:e.value},u=!1}else{if(o=l(0),!i(r.BRACKET_RIGHT)){const e=a();throw new n(\"Expected closing bracket\",t,e?e.value:\"<end of input>\")}s(),u=!0}return{type:h.MemberExpression,object:e,property:o,computed:u}},p=()=>{const e=a();if(!e)throw new n(\"Unexpected end of input\",t,\"<end of input>\");if(e.type===r.OPERATOR&&(\"!\"===e.value||\"-\"===e.value)){s();const t=p();return{type:h.UnaryExpression,operator:e.value,argument:t,prefix:!0}}switch(e.type){case r.NUMBER:return s(),{type:h.Literal,value:Number(e.value)};case r.STRING:return s(),{type:h.Literal,value:e.value};case r.BOOLEAN:return s(),\"true\"===e.value?T:w;case r.NULL:return s(),R;case r.IDENTIFIER:return s(),{type:h.Identifier,name:e.value};case r.FUNCTION:return(()=>{const e=s(),o=[];if(!i(r.PAREN_LEFT)){const e=a();throw new n(\"Expected opening parenthesis after function name\",t,e?e.value:\"<end of input>\")}for(s();;){if(i(r.PAREN_RIGHT)){s();break}if(!a()){const e=a();throw new n(\"Expected closing parenthesis\",t,e?e.value:\"<end of input>\")}if(o.length>0){if(!i(r.COMMA)){const e=a();throw new n(\"Expected comma between function arguments\",t,e?e.value:\"<end of input>\")}s()}const e=l(0);o.push(e)}return{type:h.CallExpression,callee:{type:h.Identifier,name:e.value},arguments:o}})();case r.PAREN_LEFT:{s();const e=l(0);if(!i(r.PAREN_RIGHT)){const e=a();throw new n(\"Expected closing parenthesis\",t,e?e.value:\"<end of input>\")}return s(),e}default:throw new n(`Unexpected token: ${e.type}`,t,e.value)}},l=(f=0)=>{let E=p();for(;t<o;){const o=e[t],p=u(o);if(p<=f)break;if(o.type!==r.QUESTION)if(o.type!==r.OPERATOR){if(o.type!==r.DOT&&o.type!==r.BRACKET_LEFT)break;E=c(E)}else{s();const e=l(p);E={type:h.BinaryExpression,operator:o.value,left:E,right:e}}else{s();const e=l(0);if(!i(r.COLON)){const e=a();throw new n(\"Expected : in conditional expression\",t,e?e.value:\"<end of input>\")}s();const o=l(0);E={type:h.ConditionalExpression,test:E,consequent:e,alternate:o}}}return E},f=l();return{type:h.Program,body:f}},O=(e,t,r)=>{let o=t;r&&(o={...t,context:{...t.context,...r}});const a=e=>{switch(e.type){case h.Literal:return(e=>e.value)(e);case h.Identifier:return(e=>{if(!(e.name in o.context))throw new n(`Undefined variable: ${e.name}`);return o.context[e.name]})(e);case h.MemberExpression:return(e=>{const t=a(e.object);if(null==t)throw new n(\"Cannot access property of null or undefined\");return t[e.computed?a(e.property):e.property.name]})(e);case h.CallExpression:return(e=>{const t=o.functions[e.callee.name];if(!t)throw new n(`Undefined function: ${e.callee.name}`);return t(...e.arguments.map((e=>a(e))))})(e);case h.BinaryExpression:return(e=>{if(\"&&\"===e.operator){const t=a(e.left);return t?a(e.right):t}if(\"||\"===e.operator){return a(e.left)||a(e.right)}const t=a(e.left),r=a(e.right);switch(e.operator){case\"+\":return t+r;case\"-\":return t-r;case\"*\":return t*r;case\"/\":return t/r;case\"%\":return t%r;case\"===\":return t===r;case\"!==\":return t!==r;case\">\":return t>r;case\">=\":return t>=r;case\"<\":return t<r;case\"<=\":return t<=r;default:throw new n(`Unknown operator: ${e.operator}`)}})(e);case h.UnaryExpression:return(e=>{const t=a(e.argument);if(e.prefix)switch(e.operator){case\"!\":return!t;case\"-\":if(\"number\"!=typeof t)throw new n(`Cannot apply unary - to non-number: ${t}`);return-t;default:throw new n(`Unknown operator: ${e.operator}`)}throw new n(`Postfix operators are not supported: ${e.operator}`)})(e);case h.ConditionalExpression:return(e=>{const t=a(e.test);return a(t?e.consequent:e.alternate)})(e);default:throw new n(`Evaluation error: Unsupported node type: ${e.type}`)}};return a(e.body)};function A(t){const a=(e=>{const t=e,a=t.length,u=new Array(Math.ceil(a/3));let h=0,d=0;function R(e){const o=d+1;d++;let s=\"\",i=!1;for(;d<a;){const n=t.charCodeAt(d);if(n===e)return i||(s=t.substring(o,d)),d++,{type:r.STRING,value:s};92===n?(i||(s=t.substring(o,d),i=!0),d++,s+=t[d]):i&&(s+=t[d]),d++}throw new n(`Unterminated string starting with ${String.fromCharCode(e)}`,d,t.substring(Math.max(0,d-10),d))}function T(){const e=d;for(45===t.charCodeAt(d)&&d++;d<a&&p(t.charCodeAt(d));)d++;if(d<a&&46===t.charCodeAt(d))for(d++;d<a&&p(t.charCodeAt(d));)d++;const n=t.slice(e,d);return{type:r.NUMBER,value:n}}function w(){d++;const e=d;if(d<a&&l(t.charCodeAt(d)))for(d++;d<a&&f(t.charCodeAt(d));)d++;const n=t.slice(e,d);return{type:r.FUNCTION,value:n}}function y(){const e=d++;for(;d<a&&f(t.charCodeAt(d));)d++;const n=t.slice(e,d),o=s.get(n);return o?{type:o,value:n}:{type:r.IDENTIFIER,value:n}}function O(){if(d+2<a){const e=t.substring(d,d+3);if(i.has(e))return d+=3,{type:r.OPERATOR,value:e}}if(d+1<a){const e=t.substring(d,d+2);if(i.has(e))return d+=2,{type:r.OPERATOR,value:e}}const e=t[d];if(i.has(e))return d++,{type:r.OPERATOR,value:e};throw new n(`Unknown operator at position ${d}: ${t.substring(d,d+1)}`,d,t.substring(Math.max(0,d-10),d))}for(;d<a;){const e=t.charCodeAt(d);if(A=e,o.has(A)){d++;continue}const r=c.get(e);if(r)u[h++]=r,d++;else if(34!==e&&39!==e)if(p(e)||45===e&&d+1<a&&p(t.charCodeAt(d+1)))u[h++]=T();else if(64!==e)if(l(e))u[h++]=y();else{if(!E(e))throw new n(`Unexpected character: ${t[d]}`,d,t.substring(Math.max(0,d-10),d));u[h++]=O()}else u[h++]=w();else u[h++]=R(e)}var A;return h===u.length?u:u.slice(0,h)})(t),u=y(a),h=((e={},t={})=>({context:e,functions:t}))({},e);return(e={})=>O(u,h,e)}function N(e,t={}){return A(e)(t)}export{n as ExpressionError,A as compile,N as evaluate,t as register};\n", null, null, "const toString = {}.toString;\n\nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nexport default isType;\n", "/**\n * \n * @param  {*} fn \n * @return {Boolean}  \n */\nimport isType from './is-type';\n\nexport default (value: any): value is Function => {\n  return isType(value, 'Function');\n};\n", "import isType from './is-type';\n\nexport default (value: any): value is Array<any> => {\n  return Array.isArray ?\n    Array.isArray(value) :\n    isType(value, 'Array');\n}\n", "export default <T = object>(value: any): value is T => {\n    /**\n     * isObject({}) => true\n     * isObject([1, 2, 3]) => true\n     * isObject(Function) => true\n     * isObject(null) => false\n     */\n  const type = typeof value;\n  return value !== null && type === 'object' || type === 'function';\n};\n", "import isArray from './is-array';\nimport isObject from './is-object';\n\nfunction each (elements: any[] | object, func: (v: any, k: any) => any): void {\n  if (!elements) {\n    return;\n  }\n  let rst;\n  if (isArray(elements)) {\n    for (let i = 0, len = elements.length; i < len; i++) {\n      rst = func(elements[i], i);\n      if (rst === false) {\n        break;\n      }\n    }\n  } else if (isObject(elements)) {\n    for (const k in elements) {\n      if (elements.hasOwnProperty(k)) {\n        rst = func(elements[k], k);\n        if (rst === false) {\n          break;\n        }\n      }\n    }\n  }\n}\n\nexport default each;\n", "const isObjectLike = function(value: any): value is object {\n    /**\n     * isObjectLike({}) => true\n     * isObjectLike([1, 2, 3]) => true\n     * isObjectLike(Function) => false\n     * isObjectLike(null) => false\n     */\n  return typeof value === 'object' && value !== null;\n};\n\nexport default isObjectLike;\n", "import isObjectLike from './is-object-like';\nimport isType from './is-type';\n\nconst isPlainObject = function(value: any): value is object {\n    /**\n     * isObjectLike(new Foo) => false\n     * isObjectLike([1, 2, 3]) => false\n     * isObjectLike({ x: 0, y: 0 }) => true\n     * isObjectLike(Object.create(null)) => true\n     */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\nexport default isPlainObject;\n", "const arrPrototype = Array.prototype;\nconst splice = arrPrototype.splice;\nconst indexOf = arrPrototype.indexOf;\n\nconst pull = function<T>(arr: T[], ...values: any[]): T[] {\n  for (let i = 0; i < values.length; i++) {\n    const value = values[i];\n    let fromIndex = -1;\n    while ((fromIndex = indexOf.call(arr, value)) > -1) {\n      splice.call(arr, fromIndex, 1);\n    }\n  }\n  return arr;\n};\n\nexport default pull;\n", "import isArrayLike from './is-array-like';\n\nconst splice = Array.prototype.splice;\n\nconst pullAt = function pullAt <T>(arr: T[], indexes: number[]): T[] {\n  if (!isArrayLike(arr)) {\n    return [];\n  }\n  let length = arr ? indexes.length : 0;\n  const last = length - 1;\n\n  while (length--) {\n    let previous;\n    const index = indexes[length];\n    if (length === last || index !== previous) {\n      previous = index;\n      splice.call(arr, index, 1);\n    }\n  }\n  return arr;\n};\n\nexport default pullAt;\n", "import isType from './is-type';\n\nexport default (str: any): str is string => {\n  return isType(str, 'String');\n}\n", "/**\n * \n * @return {Boolean} \n */\nimport isType from './is-type';\n\nconst isNumber = function(value: any): value is number {\n  return isType(value, 'Number');\n};\nexport default isNumber;\n", "import isNumber from './is-number';\n\nconst isInteger = Number.isInteger ? Number.isInteger : function(num: any): boolean {\n  return isNumber(num) && num % 1 === 0;\n};\n\nexport default isInteger;\n", "const DEGREE = 180 / Math.PI;\n\nconst toDegree = function(radian: number): number {\n  return DEGREE * radian;\n};\n\nexport default toDegree;\n", "const RADIAN = Math.PI / 180;\n\nconst toRadian = function(degree: number): number {\n  return RADIAN * degree;\n};\n\nexport default toRadian;\n", "import each from './each';\nimport isFunction from './is-function';\n\n// @ts-ignore\nconst values = Object.values ? obj => Object.values(obj) : obj => {\n  const result = [];\n  each(obj, (value, key) => {\n    if (!(isFunction(obj) && key === 'prototype')) {\n      result.push(value);\n    }\n  });\n  return result;\n};\n\nexport default values;\n", "const toString = {}.toString;\n\nconst getType = function(value: any): string {\n  return toString.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n};\n\nexport default getType;\n", "const objectProto = Object.prototype;\n\nconst isPrototype = function(value: any): boolean {\n  const Ctor = value && value.constructor;\n  const proto = (typeof Ctor === 'function' && Ctor.prototype) || objectProto;\n  return value === proto;\n};\n\nexport default isPrototype;\n", "import isFunction from './is-function';\n\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\nexport default (f: Function, resolver?: (...args: any[]) => string) => {\n  if (!isFunction(f)) {\n    throw new TypeError('Expected a function')\n  }\n\n  const memoized = function(...args) {\n    //  key resolver key\n    const key = resolver ? resolver.apply(this, args) : args[0];\n    const cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key)\n    }\n    const result = f.apply(this, args);\n    // \n    cache.set(key, result);\n    return result\n  };\n\n  memoized.cache = new Map();\n\n  return memoized\n}\n", "import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\n\nconst MAX_MIX_LEVEL = 5;\n\nfunction _deepMix(dist, src, level?, maxLevel?) {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (src.hasOwnProperty(key)) {\n      const value = src[key];\n      if (value !== null && isPlainObject(value)) {\n        if (!isPlainObject(dist[key])) {\n          dist[key] = {};\n        }\n        if (level < maxLevel) {\n          _deepMix(dist[key], value, level + 1, maxLevel);\n        } else {\n          dist[key] = src[key];\n        }\n      } else if (isArray(value)) {\n        dist[key] = [];\n        dist[key] = dist[key].concat(value);\n      } else if (value !== undefined) {\n        dist[key] = value;\n      }\n    }\n  }\n}\n\n// todo \nconst deepMix = function(rst:any, ...args:any[]) {\n  for (let i = 0; i < args.length; i += 1) {\n    _deepMix(rst, args[i]);\n  }\n  return rst;\n};\n\nexport default deepMix;\n", "export default <T>(v: T): T => v;\n", "import values from './values';\nimport memoize from './memoize';\nimport isString from './is-string';\nimport type { Properties } from 'csstype';\n\nexport type Font = Pick<Properties, 'fontFamily' | 'fontWeight' | 'fontStyle' | 'fontVariant'> & {\n  fontSize?: number;\n};\n\nlet ctx: CanvasRenderingContext2D;\n\n/**\n * \n */\nexport default memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    if (!ctx) {\n      ctx = document.createElement('canvas').getContext('2d') as CanvasRenderingContext2D;\n    }\n    ctx!.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx!.measureText(isString(text) ? text : '').width;\n  },\n  (text: any, font: Font = {}) => [text, ...values(font)].join('')\n);\n", "/**\n * k-v \n */\nexport default class <T> {\n  map: { [key: string]: T } = {};\n\n  has(key: string): boolean {\n    return this.map[key] !== undefined;\n  }\n\n  get(key: string, def?: T): T | undefined {\n    const v = this.map[key];\n    return v === undefined ? def : v;\n  }\n\n  set(key: string, value: T): void {\n    this.map[key] = value;\n  }\n\n  clear() {\n    this.map = {};\n  }\n\n  delete(key: string) {\n    delete this.map[key];\n  }\n\n  size(): number {\n    return Object.keys(this.map).length;\n  }\n}\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n", "export default function noop() {}\n", "function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n", "import {Adder} from \"d3-array\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = new Adder();\n\n// hello?\n\nvar areaSum = new Adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum = new Adder();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum = new Adder();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n", "import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n", "export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n", "import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n", "import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(2),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n", "import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n", "import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n", "import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n", "import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n", "import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n", "import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n", "import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 2 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n", "export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n", "import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n", "import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n", "export default x => x;\n", "import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n", "import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n", "import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n", "import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n", "import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n", "// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n", "import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n", "export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n", "import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n", "import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n", "import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n", "import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n", "import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n", "import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n", "import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n", "import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960500. The projection also works quite well at 960600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n", "import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n", "import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n", "import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n", "import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n", "import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n", "import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n", "import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n", "import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n", "import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n", "import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n", "import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n", "import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n", "import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n", "import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n", null, null, null, null, null, null, "\n// `@antv/vendor/d3-scale-chromatic` (ESM)\n// See upstream license: https://github.com/d3/d3-scale-chromatic/blob/main/LICENSE\n//\n// Our ESM package uses the underlying installed dependencies of `node_modules/d3-scale-chromatic`\nexport * from \"d3-scale-chromatic\";\n", "export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n", "import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n", "export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "export default x => () => x;\n", "import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n", "import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n", "import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n", "var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n", "import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n", "import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n", "var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n", "import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n", "import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n", "import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n", "import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n", "export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n", "import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n", "import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n", "import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n", "export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n", "import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n", "import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n", "import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n", "export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "/** finds the zeros of a function, given two starting points (which must\n * have opposite signs */\nexport function bisect(f, a, b, parameters) {\n    parameters = parameters || {};\n    var maxIterations = parameters.maxIterations || 100,\n        tolerance = parameters.tolerance || 1e-10,\n        fA = f(a),\n        fB = f(b),\n        delta = b - a;\n\n    if (fA * fB > 0) {\n        throw \"Initial bisect points must have opposite signs\";\n    }\n\n    if (fA === 0) return a;\n    if (fB === 0) return b;\n\n    for (var i = 0; i < maxIterations; ++i) {\n        delta /= 2;\n        var mid = a + delta,\n            fMid = f(mid);\n\n        if (fMid * fA >= 0) {\n            a = mid;\n        }\n\n        if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n            return mid;\n        }\n    }\n    return a + delta;\n}\n", "// need some basic operations on vectors, rather than adding a dependency,\n// just define here\nexport function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\nexport function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\nexport function dot(a, b) {\n    var ret = 0;\n    for (var i = 0; i < a.length; ++i) {\n        ret += a[i] * b[i];\n    }\n    return ret;\n}\n\nexport function norm2(a)  {\n    return Math.sqrt(dot(a, a));\n}\n\nexport function scale(ret, value, c) {\n    for (var i = 0; i < value.length; ++i) {\n        ret[i] = value[i] * c;\n    }\n}\n\nexport function weightedSum(ret, w1, v1, w2, v2) {\n    for (var j = 0; j < ret.length; ++j) {\n        ret[j] = w1 * v1[j] + w2 * v2[j];\n    }\n}\n", "import {dot, norm2, weightedSum} from \"./blas1\";\n\n/** minimizes a function using the downhill simplex method */\nexport function nelderMead(f, x0, parameters) {\n    parameters = parameters || {};\n\n    var maxIterations = parameters.maxIterations || x0.length * 200,\n        nonZeroDelta = parameters.nonZeroDelta || 1.05,\n        zeroDelta = parameters.zeroDelta || 0.001,\n        minErrorDelta = parameters.minErrorDelta || 1e-6,\n        minTolerance = parameters.minErrorDelta || 1e-5,\n        rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n        chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n        psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n        sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n        maxDiff;\n\n    // initialize simplex.\n    var N = x0.length,\n        simplex = new Array(N + 1);\n    simplex[0] = x0;\n    simplex[0].fx = f(x0);\n    simplex[0].id = 0;\n    for (var i = 0; i < N; ++i) {\n        var point = x0.slice();\n        point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n        simplex[i+1] = point;\n        simplex[i+1].fx = f(point);\n        simplex[i+1].id = i+1;\n    }\n\n    function updateSimplex(value) {\n        for (var i = 0; i < value.length; i++) {\n            simplex[N][i] = value[i];\n        }\n        simplex[N].fx = value.fx;\n    }\n\n    var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n    var centroid = x0.slice(),\n        reflected = x0.slice(),\n        contracted = x0.slice(),\n        expanded = x0.slice();\n\n    for (var iteration = 0; iteration < maxIterations; ++iteration) {\n        simplex.sort(sortOrder);\n\n        if (parameters.history) {\n            // copy the simplex (since later iterations will mutate) and\n            // sort it to have a consistent order between iterations\n            var sortedSimplex = simplex.map(function (x) {\n                var state = x.slice();\n                state.fx = x.fx;\n                state.id = x.id;\n                return state;\n            });\n            sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n            parameters.history.push({x: simplex[0].slice(),\n                                     fx: simplex[0].fx,\n                                     simplex: sortedSimplex});\n        }\n\n        maxDiff = 0;\n        for (i = 0; i < N; ++i) {\n            maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n        }\n\n        if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n            (maxDiff < minTolerance)) {\n            break;\n        }\n\n        // compute the centroid of all but the worst point in the simplex\n        for (i = 0; i < N; ++i) {\n            centroid[i] = 0;\n            for (var j = 0; j < N; ++j) {\n                centroid[i] += simplex[j][i];\n            }\n            centroid[i] /= N;\n        }\n\n        // reflect the worst point past the centroid  and compute loss at reflected\n        // point\n        var worst = simplex[N];\n        weightedSum(reflected, 1+rho, centroid, -rho, worst);\n        reflected.fx = f(reflected);\n\n        // if the reflected point is the best seen, then possibly expand\n        if (reflected.fx < simplex[0].fx) {\n            weightedSum(expanded, 1+chi, centroid, -chi, worst);\n            expanded.fx = f(expanded);\n            if (expanded.fx < reflected.fx) {\n                updateSimplex(expanded);\n            }  else {\n                updateSimplex(reflected);\n            }\n        }\n\n        // if the reflected point is worse than the second worst, we need to\n        // contract\n        else if (reflected.fx >= simplex[N-1].fx) {\n            var shouldReduce = false;\n\n            if (reflected.fx > worst.fx) {\n                // do an inside contraction\n                weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                contracted.fx = f(contracted);\n                if (contracted.fx < worst.fx) {\n                    updateSimplex(contracted);\n                } else {\n                    shouldReduce = true;\n                }\n            } else {\n                // do an outside contraction\n                weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                contracted.fx = f(contracted);\n                if (contracted.fx < reflected.fx) {\n                    updateSimplex(contracted);\n                } else {\n                    shouldReduce = true;\n                }\n            }\n\n            if (shouldReduce) {\n                // if we don't contract here, we're done\n                if (sigma >= 1) break;\n\n                // do a reduction\n                for (i = 1; i < simplex.length; ++i) {\n                    weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                    simplex[i].fx = f(simplex[i]);\n                }\n            }\n        } else {\n            updateSimplex(reflected);\n        }\n    }\n\n    simplex.sort(sortOrder);\n    return {fx : simplex[0].fx,\n            x : simplex[0]};\n}\n", "import {dot, weightedSum} from \"./blas1\";\n\n\n/// searches along line 'pk' for a point that satifies the wolfe conditions\n/// See 'Numerical Optimization' by Nocedal and Wright p59-60\n/// f : objective function\n/// pk : search direction\n/// current: object containing current gradient/loss\n/// next: output: contains next gradient/loss\n/// returns a: step size taken\nexport function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n    var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n        phi = phi0, phi_old = phi0,\n        phiPrime = phiPrime0,\n        a0 = 0;\n\n    a = a || 1;\n    c1 = c1 || 1e-6;\n    c2 = c2 || 0.1;\n\n    function zoom(a_lo, a_high, phi_lo) {\n        for (var iteration = 0; iteration < 16; ++iteration) {\n            a = (a_lo + a_high)/2;\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (phi >= phi_lo)) {\n                a_high = a;\n\n            } else  {\n                if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                    return a;\n                }\n\n                if (phiPrime * (a_high - a_lo) >=0) {\n                    a_high = a_lo;\n                }\n\n                a_lo = a;\n                phi_lo = phi;\n            }\n        }\n\n        return 0;\n    }\n\n    for (var iteration = 0; iteration < 10; ++iteration) {\n        weightedSum(next.x, 1.0, current.x, a, pk);\n        phi = next.fx = f(next.x, next.fxprime);\n        phiPrime = dot(next.fxprime, pk);\n        if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n            (iteration && (phi >= phi_old))) {\n            return zoom(a0, a, phi_old);\n        }\n\n        if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n            return a;\n        }\n\n        if (phiPrime >= 0 ) {\n            return zoom(a, a0, phi);\n        }\n\n        phi_old = phi;\n        a0 = a;\n        a *= 2;\n    }\n\n    return a;\n}\n", "import {dot, norm2, scale, weightedSum} from \"./blas1\";\nimport {wolfeLineSearch} from \"./linesearch\";\n\nexport function conjugateGradient(f, initial, params) {\n    // allocate all memory up front here, keep out of the loop for perfomance\n    // reasons\n    var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n        next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n        yk = initial.slice(),\n        pk, temp,\n        a = 1,\n        maxIterations;\n\n    params = params || {};\n    maxIterations = params.maxIterations || initial.length * 20;\n\n    current.fx = f(current.x, current.fxprime);\n    pk = current.fxprime.slice();\n    scale(pk, current.fxprime,-1);\n\n    for (var i = 0; i < maxIterations; ++i) {\n        a = wolfeLineSearch(f, pk, current, next, a);\n\n        // todo: history in wrong spot?\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        if (!a) {\n            // faiiled to find point that satifies wolfe conditions.\n            // reset direction for next iteration\n            scale(pk, current.fxprime, -1);\n\n        } else {\n            // update direction using PolakRibiere CG method\n            weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n            var delta_k = dot(current.fxprime, current.fxprime),\n                beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n            weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n            temp = current;\n            current = next;\n            next = temp;\n        }\n\n        if (norm2(current.fxprime) <= 1e-5) {\n            break;\n        }\n    }\n\n    if (params.history) {\n        params.history.push({x: current.x.slice(),\n                             fx: current.fx,\n                             fxprime: current.fxprime.slice(),\n                             alpha: a});\n    }\n\n    return current;\n}\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as ReactDOM from 'react-dom';\n// Let compiler not to search module usage\nvar fullClone = __assign({}, ReactDOM);\nvar version = fullClone.version, reactRender = fullClone.render, unmountComponentAtNode = fullClone.unmountComponentAtNode;\nvar createRoot;\ntry {\n    var mainVersion = Number((version || '').split('.')[0]);\n    if (mainVersion >= 18) {\n        (createRoot = fullClone.createRoot);\n    }\n}\ncatch (e) {\n    // Do nothing;\n}\nfunction toggleWarning(skip) {\n    var __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = fullClone.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n    if (__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED &&\n        typeof __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED === 'object') {\n        __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.usingClientEntryPoint = skip;\n    }\n}\nvar MARK = '__rc_react_root__';\nfunction modernRender(node, container) {\n    toggleWarning(true);\n    var root = container[MARK] || createRoot(container);\n    toggleWarning(false);\n    root.render(node);\n    container[MARK] = root;\n}\nfunction legacyRender(node, container) {\n    reactRender(node, container);\n}\n/** @private Test usage. Not work in prod */\nexport function _r(node, container) {\n    if (process.env.NODE_ENV !== 'production') {\n        return legacyRender(node, container);\n    }\n}\nexport function render(node, container) {\n    if (createRoot) {\n        modernRender(node, container);\n        return;\n    }\n    legacyRender(node, container);\n}\n// ========================= Unmount ==========================\nfunction modernUnmount(container) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            // Delay to unmount to avoid React 18 sync warning\n            return [2 /*return*/, Promise.resolve().then(function () {\n                    var _a;\n                    (_a = container[MARK]) === null || _a === void 0 ? void 0 : _a.unmount();\n                    delete container[MARK];\n                })];\n        });\n    });\n}\nfunction legacyUnmount(container) {\n    unmountComponentAtNode(container);\n}\n/** @private Test usage. Not work in prod */\nexport function _u(container) {\n    if (process.env.NODE_ENV !== 'production') {\n        return legacyUnmount(container);\n    }\n}\nexport function unmount(container) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            if (createRoot !== undefined) {\n                // Delay to unmount to avoid React 18 sync warning\n                return [2 /*return*/, modernUnmount(container)];\n            }\n            legacyUnmount(container);\n            return [2 /*return*/];\n        });\n    });\n}\n", "import { render } from '../react/render';\nvar mountMapping = new Map();\nif (typeof document !== 'undefined') {\n    mountMapping.set('tooltip', document.createElement('div'));\n}\nexport var createNode = function (children, isTooltip) {\n    if (isTooltip === void 0) { isTooltip = false; }\n    var mount = null;\n    /**\n     * @description tooltip root\n     */\n    if (isTooltip) {\n        mount = mountMapping.get('tooltip');\n    }\n    else {\n        mount = document.createElement('div');\n        if (children === null || children === void 0 ? void 0 : children.key) {\n            var exist = mountMapping.get(children.key);\n            if (exist) {\n                mount = exist;\n            }\n            else {\n                mountMapping.set(children.key, mount);\n            }\n        }\n    }\n    render(children, mount);\n    return mount;\n};\n", "import React from 'react';\nvar shadowLoading = function (ele) {\n    if (typeof document === 'undefined') {\n        return 'loading';\n    }\n    var shadowRoot = ele.attachShadow({ mode: 'open' });\n    var shadowDiv = document.createElement('div');\n    var shadowStyle = document.createElement('style');\n    shadowStyle.innerHTML = \".loading {\\n    display: inline-block;\\n    position: relative;\\n    width: 80px;\\n    height: 80px;\\n  }\\n  .loading div {\\n    position: absolute;\\n    top: 33px;\\n    width: 13px;\\n    height: 13px;\\n    border-radius: 50%;\\n    background: #ccc;\\n    animation-timing-function: cubic-bezier(0, 1, 1, 0);\\n  }\\n  .loading div:nth-child(1) {\\n    left: 8px;\\n    animation: loading1 0.6s infinite;\\n  }\\n  .loading div:nth-child(2) {\\n    left: 8px;\\n    animation: loading2 0.6s infinite;\\n  }\\n  .loading div:nth-child(3) {\\n    left: 32px;\\n    animation: loading2 0.6s infinite;\\n  }\\n  .loading div:nth-child(4) {\\n    left: 56px;\\n    animation: loading3 0.6s infinite;\\n  }\\n  @keyframes loading1 {\\n    0% {\\n      transform: scale(0);\\n    }\\n    100% {\\n      transform: scale(1);\\n    }\\n  }\\n  @keyframes loading3 {\\n    0% {\\n      transform: scale(1);\\n    }\\n    100% {\\n      transform: scale(0);\\n    }\\n  }\\n  @keyframes loading2 {\\n    0% {\\n      transform: translate(0, 0);\\n    }\\n    100% {\\n      transform: translate(24px, 0);\\n    }\\n  }\\n  \";\n    shadowDiv.classList.add('loading');\n    shadowDiv.innerHTML = '<div></div><div></div><div></div><div></div>';\n    shadowRoot.appendChild(shadowStyle);\n    shadowRoot.appendChild(shadowDiv);\n};\nexport var ChartLoading = function (_a) {\n    var loadingTemplate = _a.loadingTemplate, _b = _a.theme, theme = _b === void 0 ? 'light' : _b;\n    var shadow = React.useRef(null);\n    React.useEffect(function () {\n        if (!loadingTemplate && shadow.current) {\n            shadowLoading(shadow.current);\n        }\n    }, []);\n    var renderLoading = function () {\n        if (loadingTemplate)\n            return loadingTemplate;\n        return React.createElement(\"div\", { ref: shadow });\n    };\n    return (React.createElement(\"div\", { className: \"charts-loading-container\", style: {\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            left: 0,\n            top: 0,\n            zIndex: 99,\n            backgroundColor: theme === 'dark' ? 'rgb(20, 20, 20)' : 'rgb(255, 255, 255)',\n        } }, renderLoading()));\n};\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { Fragment } from 'react';\nvar ErrorBoundary = /** @class */ (function (_super) {\n    __extends(ErrorBoundary, _super);\n    function ErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hasError: false,\n        };\n        _this.renderError = function (e) {\n            var errorTemplate = _this.props.errorTemplate;\n            switch (e) {\n                default:\n                    if (typeof errorTemplate === 'function')\n                        return errorTemplate(e);\n                    return errorTemplate ? errorTemplate : React.createElement(\"h5\", null,\n                        \"\\u7EC4\\u4EF6\\u51FA\\u9519\\u4E86\\uFF0C\\u8BF7\\u6838\\u67E5\\u540E\\u91CD\\u8BD5\\uFF1A \",\n                        e.message);\n            }\n        };\n        return _this;\n    }\n    ErrorBoundary.getDerivedStateFromError = function (error) {\n        return { hasError: true, error: error };\n    };\n    ErrorBoundary.getDerivedStateFromProps = function (nextProps, state) {\n        if (state.children !== nextProps.children) {\n            return {\n                children: nextProps.children,\n                hasError: false,\n                error: undefined,\n            };\n        }\n        return null;\n    };\n    ErrorBoundary.prototype.render = function () {\n        if (this.state.hasError) {\n            return this.renderError(this.state.error);\n        }\n        return React.createElement(Fragment, null, this.props.children);\n    };\n    return ErrorBoundary;\n}(React.Component));\nexport { ErrorBoundary };\n", "var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { isString, memoize, values } from 'lodash';\nimport { getCanvasContext } from './context';\n/**\n * \n * @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/measureText\n */\nexport var measureText = memoize(function (text, font) {\n    if (font === void 0) { font = {}; }\n    var fontSize = font.fontSize, _a = font.fontFamily, fontFamily = _a === void 0 ? 'sans-serif' : _a, fontWeight = font.fontWeight, fontStyle = font.fontStyle, fontVariant = font.fontVariant;\n    var ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, \"\".concat(fontSize, \"px\"), fontFamily].join(' ');\n    return ctx.measureText(isString(text) ? text : '');\n}, function (text, font) {\n    if (font === void 0) { font = {}; }\n    return __spreadArray([text], values(font), true).join('');\n});\n/**\n * \n * @param text \n * @param font \n */\nexport var measureTextWidth = function (text, font) {\n    if (font === void 0) { font = {}; }\n    return measureText(text, font).width;\n};\n/**\n * \n * @param text \n * @param font \n */\nexport var measureTextHeight = function (text, font) {\n    if (font === void 0) { font = {}; }\n    var metrics = measureText(text, font);\n    return metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent;\n};\n", "var ctx;\n/**\n *  canvas context\n */\nexport var getCanvasContext = function () {\n    if (!ctx) {\n        ctx = document.createElement('canvas').getContext('2d');\n    }\n    return ctx;\n};\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useImperativeHandle, forwardRef } from 'react';\nimport { ErrorBoundary, ChartLoading } from '@ant-design/charts-util';\nimport useChart from '../../hooks/useChart';\nimport { Plots } from '../../core';\nexport var BaseChart = forwardRef(function (_a, ref) {\n    var _b = _a.chartType, chartType = _b === void 0 ? 'Base' : _b, config = __rest(_a, [\"chartType\"]);\n    var _c = config.containerStyle, containerStyle = _c === void 0 ? {\n        height: 'inherit',\n        flex: 1\n    } : _c, _d = config.containerAttributes, containerAttributes = _d === void 0 ? {} : _d, className = config.className, loading = config.loading, loadingTemplate = config.loadingTemplate, errorTemplate = config.errorTemplate, rest = __rest(config, [\"containerStyle\", \"containerAttributes\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _e = useChart(Plots[chartType], rest), chart = _e.chart, container = _e.container;\n    useImperativeHandle(ref, function () { return chart.current; });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate }),\n        React.createElement(\"div\", __assign({ className: className, style: containerStyle, ref: container }, containerAttributes))));\n});\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useRef, useEffect } from 'react';\nimport { isFunction, isEqual, createNode, cloneDeep, isArray, isObject, isValidElement } from '../util';\nexport default function useChart(ChartClass, config) {\n    var chart = useRef();\n    var chartOptions = useRef();\n    var container = useRef(null);\n    var onReady = config.onReady, onEvent = config.onEvent;\n    /**\n     * Get data base64\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var toDataURL = function (type, encoderOptions) {\n        var _a;\n        if (type === void 0) { type = 'image/png'; }\n        var canvas = (_a = container.current) === null || _a === void 0 ? void 0 : _a.getElementsByTagName('canvas')[0];\n        return canvas === null || canvas === void 0 ? void 0 : canvas.toDataURL(type, encoderOptions);\n    };\n    /**\n     * Download Image\n     * @param {string} name A name of image\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var downloadImage = function (name, type, encoderOptions) {\n        if (name === void 0) { name = 'download'; }\n        if (type === void 0) { type = 'image/png'; }\n        var imageName = name;\n        if (name.indexOf('.') === -1) {\n            imageName = \"\".concat(name, \".\").concat(type.split('/')[1]);\n        }\n        var base64 = toDataURL(type, encoderOptions);\n        var a = document.createElement('a');\n        a.href = base64;\n        a.download = imageName;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        a = null;\n        return imageName;\n    };\n    /**\n     * JSX TO HTMLElement\n     * @param {object} cfg\n     * @param {boolean} flag isTooltip\n     */\n    var processConfig = function (cfg, flag) {\n        if (flag === void 0) { flag = false; }\n        var keys = Object.keys(cfg);\n        var isTooltip = flag;\n        keys.forEach(function (key) {\n            var current = cfg[key];\n            if (key === 'tooltip') {\n                isTooltip = true;\n            }\n            if (isFunction(current) && isValidElement(\"\".concat(current))) {\n                cfg[key] = function () {\n                    var arg = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        arg[_i] = arguments[_i];\n                    }\n                    return createNode(current.apply(void 0, arg), isTooltip);\n                };\n            }\n            else {\n                if (isArray(current)) {\n                    current.forEach(function (item) {\n                        processConfig(item, isTooltip);\n                    });\n                }\n                else if (isObject(current)) {\n                    processConfig(current, isTooltip);\n                }\n                else {\n                    isTooltip = flag;\n                }\n            }\n        });\n    };\n    useEffect(function () {\n        if (chart.current && !isEqual(chartOptions.current, config)) {\n            chartOptions.current = cloneDeep(config);\n            processConfig(config);\n            chart.current.update(config);\n            chart.current.render();\n        }\n    }, [config]);\n    useEffect(function () {\n        if (!container.current) {\n            return function () { return null; };\n        }\n        if (!chartOptions.current) {\n            chartOptions.current = cloneDeep(config);\n        }\n        processConfig(config);\n        var chartInstance = new ChartClass(container.current, __assign({}, config));\n        chartInstance.toDataURL = toDataURL;\n        chartInstance.downloadImage = downloadImage;\n        chartInstance.render();\n        chart.current = chartInstance;\n        if (onReady) {\n            onReady(chartInstance);\n        }\n        var handler = function (event) {\n            if (onEvent) {\n                onEvent(chartInstance, event);\n            }\n        };\n        chartInstance.on('*', handler);\n        // \n        return function () {\n            if (chart.current) {\n                chart.current.destroy();\n                chart.current.off('*', handler);\n                chart.current = undefined;\n            }\n        };\n    }, []);\n    return {\n        chart: chart,\n        container: container,\n    };\n}\n", "export { isEqual, get, isString, isNumber, isFunction, isElement, cloneDeep, isArray, isObject } from 'lodash';\nexport { createNode, uuid } from '@ant-design/charts-util';\nexport { isValidElement } from './is-valid-element';\n", "export var isValidElement = function (jsxCode) {\n    var jsxRegex = /react|\\.jsx|children:\\[\\(|return\\s+[A-Za-z0-9].createElement\\((?!['\"][g|circle|ellipse|image|rect|line|polyline|polygon|text|path|html|mesh]['\"])([^\\)])*,/i;\n    return jsxRegex.test(jsxCode);\n};\n", null, null, null, null, "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { plotlib } from '@antv/g2-extension-plot';\nimport { Runtime, extend, stdlib } from '@antv/g2';\nexport var Chart = extend(Runtime, __assign(__assign({}, stdlib()), plotlib()));\n", "export { flatten, flow, isArray, isBoolean, omit, pick, isFunction, remove, get, groupBy, set, sortBy, assign, divide, ceil, isNumber, isString, includes, map, maxBy, isObject, uniqBy, isPlainObject, reduce, isNil, mergeWith, memoize, values, isUndefined, } from 'lodash';\nexport { isCompositePlot } from './is-composite-plot';\nexport { transformOptions } from './transform';\nexport { deleteExcessKeys } from './delete-excess-keys';\nexport { filterTransformed } from './filter-transformed';\nexport { conversionTagFormatter } from './conversion';\nexport { mergeWithArrayCoverage } from './merge-with-array-coverage';\nexport { fieldAdapter } from './field-adapter';\n", "import { SPECIAL_OPTIONS, TRANSFORM_OPTION_KEY, CONFIG_SHAPE, VIEW_OPTIONS } from '../constants';\nimport { omit, pick, isArray, deleteExcessKeys, filterTransformed, mergeWithArrayCoverage, set, isObject, isUndefined, } from './index';\n/**\n * @title  G2 \n */\nexport var transformOptions = function (params) {\n    var options = filterTransformed(params);\n    var _a = options.children, children = _a === void 0 ? [] : _a;\n    var rest = omit(options, [].concat(VIEW_OPTIONS, CONFIG_SHAPE.map(function (item) { return item.key; })));\n    var getCustomTransform = function (key) {\n        var _a;\n        return (_a = SPECIAL_OPTIONS.find(function (option) { return option.key === key; })) === null || _a === void 0 ? void 0 : _a.callback;\n    };\n    /**\n     * @description \n     */\n    var updateOptions = function (origin, key, value) {\n        var callback = getCustomTransform(key);\n        if (callback) {\n            callback(origin, key, value);\n        }\n        else {\n            origin[key] = mergeWithArrayCoverage({}, origin[key], value);\n        }\n    };\n    /**\n     * @description\n     *  1.  CONFIG_SHAPE ,  children\n     * @example  src/core/constants/index.ts\n     */\n    var transformShape = function (config) {\n        Object.keys(config).forEach(function (key) {\n            // \n            if (!config[key])\n                return;\n            var exist = CONFIG_SHAPE.find(function (item) { return item.key === key; });\n            if (exist) {\n                var type = exist.type, extend_keys = exist.extend_keys;\n                if (type) {\n                    children.push(transformConfig(mergeWithArrayCoverage({}, pick(config, extend_keys), { type: type }, config[key])));\n                }\n                else {\n                    // annotations\n                    if (isArray(config[key])) {\n                        config[key].forEach(function (annotation) {\n                            children.push(transformConfig(annotation));\n                        });\n                    }\n                }\n            }\n        });\n    };\n    /**\n     * @title \n     * @description \n     */\n    var transformConfig = function (config) {\n        transformShape(config);\n        /**\n         * @description \n         * @example  src/core/constants/index.ts\n         */\n        Object.keys(TRANSFORM_OPTION_KEY).forEach(function (key) {\n            var transformTarget = TRANSFORM_OPTION_KEY[key];\n            if (!isUndefined(config[key])) {\n                if (isObject(transformTarget)) {\n                    var value = transformTarget.value, target = transformTarget.target;\n                    var transformValue = value(config[key]);\n                    updateOptions(config, target, transformValue);\n                }\n                else {\n                    set(config, transformTarget, config[key]);\n                }\n            }\n        });\n        return config;\n    };\n    children.forEach(function (child) {\n        /**\n         *  child  config  rest   child \n         * @description  children\n         */\n        var config = mergeWithArrayCoverage({}, rest, child);\n        transformConfig(mergeWithArrayCoverage(child, config));\n    });\n    transformShape(options);\n    deleteExcessKeys(options);\n    return params;\n};\n", "var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { TRANSFORM_OPTION_KEY, VIEW_OPTIONS, CONFIG_SHAPE, ANNOTATION_LIST } from '../constants';\n/**\n * \n */\nexport var deleteExcessKeys = function (options) {\n    var _a = options.children, children = _a === void 0 ? [] : _a;\n    var deleteKeys = Object.keys(TRANSFORM_OPTION_KEY).concat(CONFIG_SHAPE.map(function (item) { return item.key; }));\n    deleteKeys.forEach(function (key) {\n        delete options[key];\n    });\n    /** Mix  */\n    children.forEach(function (child) {\n        Object.keys(child).forEach(function (key) {\n            if (deleteKeys.includes(key)) {\n                delete child[key];\n            }\n        });\n    });\n    /**  View  Annotations  Transform & Scale  */\n    Object.keys(options).forEach(function (key) {\n        if (!__spreadArray(__spreadArray([], VIEW_OPTIONS, true), ANNOTATION_LIST.map(function (item) { return item.key; }), true).includes(key)) {\n            delete options[key];\n        }\n    });\n    return options;\n};\n", "import { TRANSFORM_SIGN } from '../constants';\nimport { isArray } from './index';\nexport var filterTransformed = function (params) {\n    var options = params.options;\n    var _a = options.children, children = _a === void 0 ? [] : _a;\n    children.forEach(function (child) {\n        Object.keys(child).forEach(function (key) {\n            if (isArray(child[key]) && key !== 'data') {\n                child[key] = child[key].filter(function (item) { return !item[TRANSFORM_SIGN]; });\n            }\n        });\n    });\n    return options;\n};\n", "var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { isArray, mergeWith } from './index';\nvar arrayCoverage = function (objValue, srcValue) {\n    if (isArray(srcValue)) {\n        return srcValue;\n    }\n};\nexport var mergeWithArrayCoverage = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return mergeWith.apply(void 0, __spreadArray(__spreadArray([], args, false), [arrayCoverage], false));\n};\n", "import { get } from './index';\nexport function fieldAdapter(field) {\n    switch (typeof field) {\n        case 'function':\n            return field;\n        case 'string':\n            return function (d) { return get(d, [field]); };\n        default:\n            return function () { return field; };\n    }\n}\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isArray, isBoolean } from '../utils';\n/** new Chart options */\nexport var CHART_OPTIONS = ['renderer'];\n/** There is only the view layer, no need to pass it down to children */\nexport var VIEW_OPTIONS = [\n    'width',\n    'height',\n    'autoFit',\n    'theme',\n    'inset',\n    'insetLeft',\n    'insetRight',\n    'insetTop',\n    'insetBottom',\n    'padding',\n    'paddingTop',\n    'paddingRight',\n    'paddingBottom',\n    'paddingLeft',\n    'margin',\n    'marginTop',\n    'marginRight',\n    'marginBottom',\n    'marginLeft',\n    'depth',\n    'title',\n    'clip',\n    'children',\n    'type',\n    'data',\n    'direction',\n];\n/**  */\nexport var TRANSFORM_SIGN = '__transform__';\n/**   */\nexport var SKIP_DEL_CUSTOM_SIGN = '__skipDelCustomKeys__';\n/**\n * @title \n * @example\n *    1. xField: 'year' -> encode: {x: 'year'}\n *    2. yField: 'scales' -> encode: {y: 'scales'}\n *    3. shape: 'smooth' -> style: {shape: 'smooth'} shapeField: 'shape' -> encode: { shape: 'shape' }\n *    4. connectNulls: {connect: true} -> style: {connect: true}\n *    5. keyField: 'key' -> encode: { key: 'key' }\n */\nvar commonCallback = function (type, value) {\n    if (isBoolean(value)) {\n        return {\n            type: type,\n            available: value,\n        };\n    }\n    return __assign({ type: type }, value);\n};\nexport var TRANSFORM_OPTION_KEY = {\n    /** encode */\n    xField: 'encode.x',\n    yField: 'encode.y',\n    colorField: 'encode.color',\n    angleField: 'encode.y',\n    keyField: 'encode.key',\n    sizeField: 'encode.size',\n    shapeField: 'encode.shape',\n    seriesField: 'encode.series',\n    positionField: 'encode.position',\n    textField: 'encode.text',\n    valueField: 'encode.value',\n    binField: 'encode.x',\n    srcField: 'encode.src',\n    linkColorField: 'encode.linkColor',\n    fontSizeField: 'encode.fontSize',\n    radius: 'coordinate.outerRadius',\n    innerRadius: 'coordinate.innerRadius',\n    startAngle: 'coordinate.startAngle',\n    endAngle: 'coordinate.endAngle',\n    focusX: 'coordinate.focusX',\n    focusY: 'coordinate.focusY',\n    distortionX: 'coordinate.distortionX',\n    distortionY: 'coordinate.distortionY',\n    visual: 'coordinate.visual',\n    /**\n     * @title \n     * @example\n     *  1. stack: true -> transform: [{type: 'stackY'}]\n     */\n    stack: {\n        target: 'transform',\n        value: function (value) {\n            return commonCallback('stackY', value);\n        },\n    },\n    /**\n     * @title \n     * @example\n     *  1. normalize: true -> transform: [{type: 'normalizeY'}]\n     */\n    normalize: {\n        target: 'transform',\n        value: function (value) {\n            return commonCallback('normalizeY', value);\n        },\n    },\n    /**\n     * @title \n     * @description  normalize\n     * @example\n     *  1. percent: true -> transform: [{type: 'normalizeY'}]\n     */\n    percent: {\n        target: 'transform',\n        value: function (value) {\n            return commonCallback('normalizeY', value);\n        },\n    },\n    /**\n     * @title \n     * @example\n     *  1. group: true -> transform: [{type: 'dodgeX'}]\n     */\n    group: {\n        target: 'transform',\n        value: function (value) {\n            return commonCallback('dodgeX', value);\n        },\n    },\n    /**\n     * @title \n     * @example\n     *  1. sort: true -> transform: [{type: 'sortX'}]\n     */\n    sort: {\n        target: 'transform',\n        value: function (value) {\n            return commonCallback('sortX', value);\n        },\n    },\n    /**\n     * @title \n     * @example\n     *  1. symmetry: true -> transform: [{type: 'symmetryY'}]\n     */\n    symmetry: {\n        target: 'transform',\n        value: function (value) {\n            return commonCallback('symmetryY', value);\n        },\n    },\n    /**\n     * @title  y  y1 \n     * @example\n     *  1. diff: true -> transform: [{type: 'diffY'}]\n     */\n    diff: {\n        target: 'transform',\n        value: function (value) {\n            return commonCallback('diffY', value);\n        },\n    },\n    meta: {\n        target: 'scale',\n        value: function (value) {\n            return value;\n        },\n    },\n    label: {\n        target: 'labels',\n        value: function (value) {\n            return value;\n        },\n    },\n    /**\n     * @title \n     * @example\n     *  1. shape: 'smooth' -> style: {shape: 'smooth'}\n     */\n    shape: 'style.shape',\n    /**\n     * @title \n     * @description  boolean  \n     */\n    connectNulls: {\n        target: 'style',\n        value: function (value) {\n            if (isBoolean(value)) {\n                return {\n                    connect: value,\n                };\n            }\n            return value;\n        },\n    },\n};\n/**\n * @title  CONFIG_SHAPE ,  children\n * @example\n *    1. annotations: [{type: 'text'}] -> children: [{type: 'text'}]\n *    2. line: {shape: 'hvh'}-> children: [{type: 'line', style: { shape: 'hvh'}}]\n */\nvar EXTEND_KEYS = [\n    'xField',\n    'yField',\n    'seriesField',\n    'colorField',\n    'keyField',\n    'positionField',\n    'meta',\n    'tooltip',\n    'animate',\n    'stack',\n    'normalize',\n    'percent',\n    'group',\n    'sort',\n    'symmetry',\n    'diff',\n];\nexport var CONFIG_SHAPE = [\n    {\n        key: 'annotations',\n        extend_keys: [],\n    },\n    {\n        key: 'line',\n        type: 'line',\n        extend_keys: EXTEND_KEYS,\n    },\n    {\n        key: 'point',\n        type: 'point',\n        extend_keys: EXTEND_KEYS,\n    },\n    {\n        key: 'area',\n        type: 'area',\n        extend_keys: EXTEND_KEYS,\n    },\n];\n/**\n * @description \n */\nexport var SPECIAL_OPTIONS = [\n    {\n        key: 'transform',\n        callback: function (origin, key, value) {\n            var _a;\n            origin[key] = origin[key] || [];\n            var _b = value.available, available = _b === void 0 ? true : _b, rest = __rest(value, [\"available\"]);\n            if (available) {\n                origin[key].push(__assign((_a = {}, _a[TRANSFORM_SIGN] = true, _a), rest));\n            }\n            else {\n                var index = origin[key].indexOf(function (item) { return item.type === value.type; });\n                if (index !== -1) {\n                    origin[key].splice(index, 1);\n                }\n            }\n        },\n    },\n    {\n        key: 'labels',\n        callback: function (origin, key, value) {\n            var _a;\n            /**\n             * @description \n             *   1.  labels  false\n             *   2.  labels  label \n             * @example\n             *   1. label: false -> labels: []\n             *   2. label: [{x}, {xx}] -> labels: [{x}, {xx}]\n             */\n            if (!value || isArray(value)) {\n                origin[key] = value ? value : [];\n                return;\n            }\n            /**\n             * @description  text \n             */\n            if (!value.text) {\n                value['text'] = origin['yField'];\n            }\n            origin[key] = origin[key] || [];\n            origin[key].push(__assign((_a = {}, _a[TRANSFORM_SIGN] = true, _a), value));\n        },\n    },\n];\nexport var ANNOTATION_LIST = [\n    {\n        key: 'conversionTag',\n        shape: 'ConversionTag',\n    },\n    {\n        key: 'axisText',\n        shape: 'BidirectionalBarAxisText',\n    },\n];\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Text as GText } from '@antv/g';\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text(_a) {\n        if (_a === void 0) { _a = {}; }\n        var style = _a.style, restOptions = __rest(_a, [\"style\"]);\n        return _super.call(this, __assign({ style: __assign({ text: '', fontSize: 12, textBaseline: 'middle', textAlign: 'center', fill: '#000', fontStyle: 'normal', fontVariant: 'normal', fontWeight: 'normal', lineWidth: 1 }, style) }, restOptions)) || this;\n    }\n    return Text;\n}(GText));\nexport { Text };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Polygon as GPolygon } from '@antv/g';\nvar Polygon = /** @class */ (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon(_a) {\n        if (_a === void 0) { _a = {}; }\n        var style = _a.style, restOptions = __rest(_a, [\"style\"]);\n        return _super.call(this, __assign({ style: __assign({ fill: '#eee' }, style) }, restOptions)) || this;\n    }\n    return Polygon;\n}(GPolygon));\nexport { Polygon };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CustomElement } from '@antv/g';\nimport { mergeWithArrayCoverage } from '../utils';\nvar Annotaion = /** @class */ (function (_super) {\n    __extends(Annotaion, _super);\n    function Annotaion(chart, config, defaultOptions) {\n        var _this = _super.call(this, { style: mergeWithArrayCoverage(defaultOptions, config) }) || this;\n        _this.chart = chart;\n        return _this;\n    }\n    Annotaion.prototype.connectedCallback = function () {\n        this.render(this.attributes, this);\n        this.bindEvents(this.attributes, this);\n    };\n    Annotaion.prototype.disconnectedCallback = function () { };\n    Annotaion.prototype.attributeChangedCallback = function (name) { };\n    Annotaion.prototype.update = function (attr, animate) {\n        var _a;\n        this.attr(mergeWithArrayCoverage({}, this.attributes, attr || {}));\n        return (_a = this.render) === null || _a === void 0 ? void 0 : _a.call(this, this.attributes, this, animate);\n    };\n    Annotaion.prototype.clear = function () {\n        this.removeChildren();\n    };\n    Annotaion.prototype.getElementsLayout = function () {\n        var canvas = this.chart.getContext().canvas;\n        var elements = canvas.document.getElementsByClassName('element');\n        var elementsLayout = [];\n        elements.forEach(function (element) {\n            //@ts-expect-error\n            var bbox = element.getBBox();\n            var x = bbox.x, y = bbox.y, width = bbox.width, height = bbox.height;\n            var data = element['__data__'];\n            elementsLayout.push({\n                bbox: bbox,\n                x: x,\n                y: y,\n                width: width,\n                height: height,\n                key: data.key,\n                data: data,\n            });\n        });\n        return elementsLayout;\n    };\n    Annotaion.prototype.bindEvents = function (attributes, container) { };\n    return Annotaion;\n}(CustomElement));\nexport { Annotaion };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { get, isFunction } from '../utils';\nimport { Text, Polygon } from './shapes';\nimport { Annotaion } from './core';\nvar ConversionTag = /** @class */ (function (_super) {\n    __extends(ConversionTag, _super);\n    function ConversionTag(chart, options) {\n        return _super.call(this, chart, options, { type: ConversionTag.tag }) || this;\n    }\n    ConversionTag.prototype.getConversionTagLayout = function () {\n        var isVertical = this.direction === 'vertical';\n        var elementsLayout = this.getElementsLayout();\n        var _a = elementsLayout[0], firstX = _a.x, firstY = _a.y, firstHeigt = _a.height, firstWidth = _a.width, firstData = _a.data;\n        var valuePath = ['items', 0, 'value'];\n        var preValue = get(firstData, valuePath);\n        var elementDistance = isVertical\n            ? elementsLayout[1].y - firstY - firstHeigt\n            : elementsLayout[1].x - firstX - firstWidth;\n        var tagLayout = [];\n        var _b = this.attributes, _c = _b.size, size = _c === void 0 ? 40 : _c, _d = _b.arrowSize, arrowSize = _d === void 0 ? 20 : _d, _e = _b.spacing, spacing = _e === void 0 ? 4 : _e;\n        elementsLayout.forEach(function (element, index) {\n            if (index > 0) {\n                var x = element.x, y = element.y, height = element.height, width = element.width, data = element.data, key = element.key;\n                var currentValue = get(data, valuePath);\n                var halfSize = size / 2;\n                if (isVertical) {\n                    var arrowVertexX = x + width / 2;\n                    var arrowVertexY = y;\n                    tagLayout.push({\n                        points: [\n                            [arrowVertexX + halfSize, arrowVertexY - elementDistance + spacing],\n                            [arrowVertexX + halfSize, arrowVertexY - arrowSize - spacing],\n                            [arrowVertexX, arrowVertexY - spacing],\n                            [arrowVertexX - halfSize, arrowVertexY - arrowSize - spacing],\n                            [arrowVertexX - halfSize, arrowVertexY - elementDistance + spacing],\n                        ],\n                        center: [arrowVertexX, arrowVertexY - elementDistance / 2 - spacing],\n                        width: elementDistance,\n                        value: [preValue, currentValue],\n                        key: key,\n                    });\n                }\n                else {\n                    var arrowVertexX = x;\n                    var arrowVertexY = y + height / 2;\n                    tagLayout.push({\n                        points: [\n                            [x - elementDistance + spacing, arrowVertexY - halfSize],\n                            [x - arrowSize - spacing, arrowVertexY - halfSize],\n                            [arrowVertexX - spacing, arrowVertexY],\n                            [x - arrowSize - spacing, arrowVertexY + halfSize],\n                            [x - elementDistance + spacing, arrowVertexY + halfSize],\n                        ],\n                        center: [arrowVertexX - elementDistance / 2 - spacing, arrowVertexY],\n                        width: elementDistance,\n                        value: [preValue, currentValue],\n                        key: key,\n                    });\n                }\n                preValue = currentValue;\n            }\n        });\n        return tagLayout;\n    };\n    ConversionTag.prototype.render = function () {\n        this.setDirection();\n        this.drawConversionTag();\n    };\n    /**  coordinate  */\n    ConversionTag.prototype.setDirection = function () {\n        var coordinate = this.chart.getCoordinate();\n        var transformations = get(coordinate, 'options.transformations');\n        var direction = 'horizontal';\n        transformations.forEach(function (transformation) {\n            if (transformation.includes('transpose')) {\n                direction = 'vertical';\n            }\n        });\n        this.direction = direction;\n    };\n    ConversionTag.prototype.drawConversionTag = function () {\n        var _this = this;\n        var conversionLayout = this.getConversionTagLayout();\n        var _a = this.attributes, style = _a.style, _b = _a.text, textStyle = _b.style, formatter = _b.formatter;\n        conversionLayout.forEach(function (layout) {\n            var points = layout.points, center = layout.center, value = layout.value, key = layout.key;\n            var prev = value[0], next = value[1];\n            var x = center[0], y = center[1];\n            var polygon = new Polygon({\n                style: __assign({ points: points, fill: '#eee' }, style),\n                id: \"polygon-\".concat(key),\n            });\n            var text = new Text({\n                style: __assign({ x: x, y: y, text: isFunction(formatter) ? formatter(prev, next) : ((next / prev) * 100).toFixed(2) + '%' }, textStyle),\n                id: \"text-\".concat(key),\n            });\n            _this.appendChild(polygon);\n            _this.appendChild(text);\n        });\n    };\n    /**  */\n    ConversionTag.prototype.update = function () {\n        var _this = this;\n        var conversionLayout = this.getConversionTagLayout();\n        conversionLayout.forEach(function (layout) {\n            var points = layout.points, center = layout.center, key = layout.key;\n            var x = center[0], y = center[1];\n            var polygon = _this.getElementById(\"polygon-\".concat(key));\n            var text = _this.getElementById(\"text-\".concat(key));\n            polygon.setAttribute('points', points);\n            text.setAttribute('x', x);\n            text.setAttribute('y', y);\n        });\n    };\n    ConversionTag.tag = 'ConversionTag';\n    return ConversionTag;\n}(Annotaion));\nexport { ConversionTag };\n", "export var VERTICAL_MARGIN = 32;\nexport var HORIZONTAL_MARGIN = 16;\nexport var AXIS_LABEL_PADDING = 48;\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { get, isFunction, uniqBy, groupBy } from '../utils';\nimport { Annotaion } from './core';\nimport { Text } from './shapes';\nimport { VERTICAL_MARGIN } from '../plots/bidirectional-bar/constants';\nvar BidirectionalBarAxisText = /** @class */ (function (_super) {\n    __extends(BidirectionalBarAxisText, _super);\n    function BidirectionalBarAxisText(chart, options) {\n        return _super.call(this, chart, options, { type: BidirectionalBarAxisText.tag }) || this;\n    }\n    BidirectionalBarAxisText.prototype.render = function () {\n        this.drawText();\n    };\n    BidirectionalBarAxisText.prototype.getBidirectionalBarAxisTextLayout = function () {\n        var layout = this.attributes.layout;\n        var isVertical = layout === 'vertical';\n        var allElementsLayout = this.getElementsLayout();\n        var elementsLayout = isVertical ? uniqBy(allElementsLayout, 'x') : uniqBy(allElementsLayout, 'y');\n        var textPath = ['title'];\n        var textLayout = [];\n        var views = this.chart.getContext().views;\n        var _a = get(views, [0, 'layout']), viewWidth = _a.width, viewHeight = _a.height;\n        elementsLayout.forEach(function (element) {\n            var x = element.x, y = element.y, height = element.height, width = element.width, data = element.data, key = element.key;\n            var text = get(data, textPath);\n            if (isVertical) {\n                textLayout.push({\n                    x: x + width / 2,\n                    y: viewHeight,\n                    text: text,\n                    key: key,\n                });\n            }\n            else {\n                textLayout.push({\n                    x: viewWidth,\n                    y: y + height / 2,\n                    text: text,\n                    key: key,\n                });\n            }\n        });\n        /**  */\n        if (uniqBy(textLayout, 'text').length !== textLayout.length) {\n            textLayout = Object.values(groupBy(textLayout, 'text')).map(function (items) {\n                var _a;\n                var sum = items.reduce(function (pre, cur) {\n                    return pre + (isVertical ? cur.x : cur.y);\n                }, 0);\n                return __assign(__assign({}, items[0]), (_a = {}, _a[isVertical ? 'x' : 'y'] = sum / items.length, _a));\n            });\n        }\n        return textLayout;\n    };\n    BidirectionalBarAxisText.prototype.transformLabelStyle = function (style) {\n        var removeLabel = {};\n        var reg = /^label[A-Z]/;\n        Object.keys(style).forEach(function (key) {\n            if (reg.test(key)) {\n                removeLabel[key.replace('label', '').replace(/^[A-Z]/, function (match) { return match.toLowerCase(); })] = style[key];\n            }\n        });\n        return removeLabel;\n    };\n    BidirectionalBarAxisText.prototype.drawText = function () {\n        var _this = this;\n        var axisLayout = this.getBidirectionalBarAxisTextLayout();\n        var _a = this.attributes, viewLayout = _a.layout, labelFormatter = _a.labelFormatter, textStyle = __rest(_a, [\"layout\", \"labelFormatter\"]);\n        axisLayout.forEach(function (layout) {\n            var x = layout.x, y = layout.y, text = layout.text, key = layout.key;\n            var textNode = new Text({\n                style: __assign({ x: x, y: y, text: isFunction(labelFormatter) ? labelFormatter(text) : text, wordWrap: true, wordWrapWidth: viewLayout === 'horizontal' ? VERTICAL_MARGIN * 2 : 120, maxLines: 2, textOverflow: 'ellipsis' }, _this.transformLabelStyle(textStyle)),\n                id: \"text-\".concat(key),\n            });\n            _this.appendChild(textNode);\n        });\n    };\n    BidirectionalBarAxisText.prototype.destroy = function () {\n        this.clear();\n    };\n    /**  */\n    BidirectionalBarAxisText.prototype.update = function () {\n        this.destroy();\n        this.drawText();\n    };\n    BidirectionalBarAxisText.tag = 'BidirectionalBarAxisText';\n    return BidirectionalBarAxisText;\n}(Annotaion));\nexport { BidirectionalBarAxisText };\n", "import { ANNOTATION_LIST } from '../constants';\nimport { ConversionTag } from './conversion-tag';\nimport { BidirectionalBarAxisText } from './bidirectional-bar-axis-text';\nvar Annotaion = { ConversionTag: ConversionTag, BidirectionalBarAxisText: BidirectionalBarAxisText };\nvar Controller = /** @class */ (function () {\n    function Controller(chart, config) {\n        this.container = new Map();\n        this.chart = chart;\n        this.config = config;\n        this.init();\n    }\n    Controller.prototype.init = function () {\n        var _this = this;\n        ANNOTATION_LIST.forEach(function (annotation) {\n            var _a;\n            var key = annotation.key, shape = annotation.shape;\n            var annotationOptions = _this.config[key];\n            if (annotationOptions) {\n                var annotationInstance = new Annotaion[shape](_this.chart, annotationOptions);\n                var canvas = _this.chart.getContext().canvas;\n                canvas.appendChild(annotationInstance);\n                _this.container.set(key, annotationInstance);\n            }\n            else {\n                (_a = _this.container.get(key)) === null || _a === void 0 ? void 0 : _a.clear();\n            }\n        });\n    };\n    /**\n     * Update annotaions\n     */\n    Controller.prototype.update = function () {\n        var _this = this;\n        if (!this.container.size)\n            return;\n        ANNOTATION_LIST.forEach(function (annotation) {\n            var key = annotation.key;\n            var annotationInstance = _this.container.get(key);\n            annotationInstance === null || annotationInstance === void 0 ? void 0 : annotationInstance.update();\n        });\n    };\n    return Controller;\n}());\nexport { Controller };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport EE from '@antv/event-emitter';\nimport { ChartEvent } from '@antv/g2';\nimport { Chart } from './chart';\nimport { Controller as Annotaion } from '../annotation';\nimport { CHART_OPTIONS, SKIP_DEL_CUSTOM_SIGN } from '../constants';\nimport { mergeWithArrayCoverage, pick } from '../utils';\nvar SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\nvar Plot = /** @class */ (function (_super) {\n    __extends(Plot, _super);\n    function Plot(container, options) {\n        var _this = _super.call(this) || this;\n        _this.container = typeof container === 'string' ? document.getElementById(container) : container;\n        _this.options = _this.mergeOption(options);\n        _this.createG2();\n        _this.bindEvents();\n        return _this;\n    }\n    /**\n     * new Chart \n     */\n    Plot.prototype.getChartOptions = function () {\n        return __assign(__assign({}, pick(this.options, CHART_OPTIONS)), { container: this.container });\n    };\n    /**\n     * G2 options(Spec) \n     */\n    Plot.prototype.getSpecOptions = function () {\n        if (this.type === 'base' || this[SKIP_DEL_CUSTOM_SIGN]) {\n            return __assign(__assign({}, this.options), this.getChartOptions());\n        }\n        return this.options;\n    };\n    /**\n     *  G2 \n     */\n    Plot.prototype.createG2 = function () {\n        if (!this.container) {\n            throw Error('The container is not initialized!');\n        }\n        this.chart = new Chart(this.getChartOptions());\n        //  G2\n        this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'Ant Design Charts');\n    };\n    /**\n     *  G2 \n     */\n    Plot.prototype.bindEvents = function () {\n        var _this = this;\n        if (this.chart) {\n            this.chart.on('*', function (e) {\n                if (e === null || e === void 0 ? void 0 : e.type) {\n                    _this.emit(e.type, e);\n                }\n            });\n        }\n    };\n    Plot.prototype.getBaseOptions = function () {\n        return { type: 'view', autoFit: true };\n    };\n    /**\n     *  options \n     */\n    Plot.prototype.getDefaultOptions = function () { };\n    /**\n     * \n     */\n    Plot.prototype.render = function () {\n        var _this = this;\n        //  adaptor , base  adaptor.\n        if (this.type !== 'base') {\n            this.execAdaptor();\n        }\n        // options \n        this.chart.options(this.getSpecOptions());\n        // \n        this.chart.render().then(function () {\n            _this.annotation = new Annotaion(_this.chart, _this.options);\n        });\n        // \n        this.bindSizeSensor();\n    };\n    /**\n     * \n     * @param options\n     */\n    Plot.prototype.update = function (options) {\n        this.options = this.mergeOption(options);\n    };\n    Plot.prototype.mergeOption = function (options) {\n        return mergeWithArrayCoverage({}, this.getBaseOptions(), this.getDefaultOptions(), options);\n    };\n    /**\n     * \n     * @override\n     * @param options\n     */\n    Plot.prototype.changeData = function (data) {\n        this.chart.changeData(data);\n    };\n    /**\n     * \n     * @param width\n     * @param height\n     */\n    Plot.prototype.changeSize = function (width, height) {\n        this.chart.changeSize(width, height);\n    };\n    /**\n     * \n     */\n    Plot.prototype.destroy = function () {\n        // G2 \n        this.chart.destroy();\n        // \n        this.off();\n        this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n    };\n    /**\n     *  adaptor \n     */\n    Plot.prototype.execAdaptor = function () {\n        var adaptor = this.getSchemaAdaptor();\n        //  G2 Spec\n        adaptor({\n            chart: this.chart,\n            options: this.options,\n        });\n    };\n    /**\n     * \n     */\n    Plot.prototype.triggerResize = function () {\n        this.chart.forceFit();\n    };\n    /**\n     *  dom \n     */\n    Plot.prototype.bindSizeSensor = function () {\n        var _this = this;\n        var _a = this.options.autoFit, autoFit = _a === void 0 ? true : _a;\n        if (autoFit) {\n            this.chart.on(ChartEvent.AFTER_CHANGE_SIZE, function () {\n                _this.annotation.update();\n            });\n        }\n    };\n    return Plot;\n}(EE));\nexport { Plot };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nvar Base = /** @class */ (function (_super) {\n    __extends(Base, _super);\n    function Base() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'base';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Base.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            children: [{ type: 'line' }],\n        };\n    };\n    /**\n     *   \n     */\n    Base.prototype.getDefaultOptions = function () {\n        return Base.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Base.prototype.getSchemaAdaptor = function () {\n        return function (params) { return params; };\n    };\n    return Base;\n}(Plot));\nexport { Base };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { set, isBoolean } from '../utils';\nimport { CONFIG_SHAPE } from '../constants';\n/**\n * @description line|point|areatransform\n */\nexport function shapeStack(params) {\n    var options = params.options;\n    var stack = options.stack, tooltip = options.tooltip, xField = options.xField;\n    if (!stack)\n        return params;\n    var shapes = CONFIG_SHAPE.map(function (item) { return item.type; }).filter(function (item) { return !!item; });\n    var hasStack = false;\n    shapes.forEach(function (shape) {\n        if (options[shape]) {\n            hasStack = true;\n            /** https://github.com/antvis/G2/issues/4515 */\n            set(options, [shape, 'stack'], __assign({ y1: 'y' }, (typeof stack === 'object' ? stack : {})));\n        }\n    });\n    /** tooltip */\n    if (hasStack && !isBoolean(tooltip) && !tooltip) {\n        set(options, 'tooltip', {\n            title: xField,\n            items: [\n                {\n                    channel: 'y',\n                },\n            ],\n        });\n    }\n    return params;\n}\n", "import { flow } from '../utils';\nimport { shapeStack } from './shape-stack';\n/**\n *  Mark\n */\nexport function mark(params) {\n    return flow(shapeStack)(params);\n}\n", "/**\n * layout = 'horizontal' | 'vertical'\n * @param params\n * @returns\n */\nexport function coordinateLayout(params) {\n    var _a = params.options.layout, layout = _a === void 0 ? 'horizontal' : _a;\n    params.options.coordinate.transform = layout !== 'horizontal' ? undefined : [{ type: 'transpose' }];\n    return params;\n}\n/**\n * layout = 'horizontal' | 'vertical'\n * all children change\n * @param params\n * @returns\n */\nexport function allCoordinateLayout(params) {\n    coordinateLayout(params);\n    var _a = params.options.layout, layout = _a === void 0 ? 'horizontal' : _a;\n    params.options.children.forEach(function (item) {\n        var _a;\n        if ((_a = item === null || item === void 0 ? void 0 : item.coordinate) === null || _a === void 0 ? void 0 : _a.transform) {\n            item.coordinate.transform = layout !== 'horizontal' ? undefined : [{ type: 'transpose' }];\n        }\n    });\n    return params;\n}\n", "import { flow, transformOptions } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Area = /** @class */ (function (_super) {\n    __extends(Area, _super);\n    function Area() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'area';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Area.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            children: [{ type: 'area' }],\n            scale: {\n                y: { nice: true },\n            },\n            axis: {\n                y: { title: false },\n                x: { title: false },\n            },\n            interaction: {\n                tooltip: {\n                    shared: true,\n                },\n            },\n        };\n    };\n    /**\n     *   \n     */\n    Area.prototype.getDefaultOptions = function () {\n        return Area.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Area.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Area;\n}(Plot));\nexport { Area };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { mark } from '../../adaptor';\nimport { flow, transformOptions, get, isArray, set, omit } from '../../utils';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * @title \n     * @description  interval \n     */\n    var background = function (params) {\n        var options = params.options;\n        /**\n         * @description \n         */\n        if (get(options, 'children.length') > 1) {\n            set(options, 'children', [{ type: 'interval' }]);\n        }\n        var scale = options.scale, markBackground = options.markBackground, data = options.data, children = options.children, yField = options.yField;\n        var domain = get(scale, 'y.domain', []);\n        if (markBackground && domain.length && isArray(data)) {\n            var domainMax_1 = 'domainMax';\n            var backgroundData = data.map(function (item) {\n                var _a;\n                return __assign(__assign({ originData: __assign({}, item) }, omit(item, yField)), (_a = {}, _a[domainMax_1] = domain[domain.length - 1], _a));\n            });\n            children.unshift(__assign({ type: 'interval', data: backgroundData, yField: domainMax_1, tooltip: false, style: {\n                    fill: '#eee',\n                }, label: false }, markBackground));\n        }\n        return params;\n    };\n    return flow(background, mark, transformOptions)(params);\n}\n", "import { register } from '@antv/g2';\nexport var reisterShape = function () {\n    /**\n     * Draw 2.5d bar shape.\n     */\n    var draw25DBar = function (style, context) {\n        return function (points) {\n            var _a = style.fill, fill = _a === void 0 ? '#2888FF' : _a, stroke = style.stroke, _b = style.fillOpacity, fillOpacity = _b === void 0 ? 1 : _b, _c = style.strokeOpacity, strokeOpacity = _c === void 0 ? 0.2 : _c, _d = style.pitch, pitch = _d === void 0 ? 8 : _d;\n            var p1 = points[0], p2 = points[1], p3 = points[2], p4 = points[3];\n            var height = (p2[1] - p1[1]) / 2;\n            var document = context.document;\n            var g = document.createElement('g', {});\n            var top = document.createElement('polygon', {\n                style: {\n                    points: [p1, [p1[0] - pitch, p1[1] + height], [p3[0] - pitch, p1[1] + height], p4],\n                    fill: fill,\n                    fillOpacity: fillOpacity,\n                    stroke: stroke,\n                    strokeOpacity: strokeOpacity,\n                    inset: 30,\n                },\n            });\n            var bottom = document.createElement('polygon', {\n                style: {\n                    points: [[p1[0] - pitch, p1[1] + height], p2, p3, [p3[0] - pitch, p1[1] + height]],\n                    fill: fill,\n                    fillOpacity: fillOpacity,\n                    stroke: stroke,\n                    strokeOpacity: strokeOpacity,\n                },\n            });\n            var right = document.createElement('polygon', {\n                style: {\n                    points: [p1, [p1[0] - pitch, p1[1] + height], p2, [p1[0] + pitch, p1[1] + height]],\n                    fill: fill,\n                    fillOpacity: fillOpacity - 0.2,\n                },\n            });\n            g.appendChild(top);\n            g.appendChild(bottom);\n            g.appendChild(right);\n            return g;\n        };\n    };\n    // @ts-ignore\n    register('shape.interval.bar25D', draw25DBar);\n};\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nimport { reisterShape } from './shape';\nreisterShape();\nvar Bar = /** @class */ (function (_super) {\n    __extends(Bar, _super);\n    function Bar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'Bar';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Bar.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            coordinate: { transform: [{ type: 'transpose' }] },\n            children: [{ type: 'interval' }],\n            scale: {\n                y: { nice: true },\n            },\n            axis: {\n                y: { title: false },\n                x: { title: false },\n            },\n            interaction: {\n                tooltip: {\n                    shared: true,\n                },\n                elementHighlight: {\n                    background: true,\n                },\n            },\n        };\n    };\n    /**\n     *   \n     */\n    Bar.prototype.getDefaultOptions = function () {\n        return Bar.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Bar.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Bar;\n}(Plot));\nexport { Bar };\n", "import { register } from '@antv/g2';\nexport var reisterShape = function () {\n    /**\n     * Draw 2.5d column shape.\n     */\n    var draw25DColumn = function (style, context) {\n        return function (points) {\n            var _a = style.fill, fill = _a === void 0 ? '#2888FF' : _a, stroke = style.stroke, _b = style.fillOpacity, fillOpacity = _b === void 0 ? 1 : _b, _c = style.strokeOpacity, strokeOpacity = _c === void 0 ? 0.2 : _c, _d = style.pitch, pitch = _d === void 0 ? 8 : _d;\n            var x3 = points[1][0] - points[0][0];\n            var x4 = x3 / 2 + points[0][0];\n            var document = context.document;\n            var g = document.createElement('g', {});\n            var left = document.createElement('polygon', {\n                style: {\n                    points: [\n                        [points[0][0], points[0][1]],\n                        [x4, points[1][1] + pitch],\n                        [x4, points[3][1] + pitch],\n                        [points[3][0], points[3][1]],\n                    ],\n                    fill: fill,\n                    fillOpacity: fillOpacity,\n                    stroke: stroke,\n                    strokeOpacity: strokeOpacity,\n                    inset: 30,\n                },\n            });\n            var right = document.createElement('polygon', {\n                style: {\n                    points: [\n                        [x4, points[1][1] + pitch],\n                        [points[1][0], points[1][1]],\n                        [points[2][0], points[2][1]],\n                        [x4, points[2][1] + pitch],\n                    ],\n                    fill: fill,\n                    fillOpacity: fillOpacity,\n                    stroke: stroke,\n                    strokeOpacity: strokeOpacity,\n                },\n            });\n            var top = document.createElement('polygon', {\n                style: {\n                    points: [\n                        [points[0][0], points[0][1]],\n                        [x4, points[1][1] - pitch],\n                        [points[1][0], points[1][1]],\n                        [x4, points[1][1] + pitch],\n                    ],\n                    fill: fill,\n                    fillOpacity: fillOpacity - 0.2,\n                },\n            });\n            g.appendChild(right);\n            g.appendChild(left);\n            g.appendChild(top);\n            return g;\n        };\n    };\n    // @ts-ignore\n    register('shape.interval.column25D', draw25DColumn);\n};\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from '../bar/adaptor';\nimport { reisterShape } from './shape';\nreisterShape();\nvar Column = /** @class */ (function (_super) {\n    __extends(Column, _super);\n    function Column() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'column';\n        return _this;\n    }\n    Column.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            scale: {\n                y: { nice: true },\n            },\n            interaction: {\n                tooltip: {\n                    shared: true,\n                },\n                elementHighlight: {\n                    background: true,\n                },\n            },\n            axis: {\n                y: { title: false },\n                x: { title: false },\n            },\n            children: [\n                {\n                    type: 'interval',\n                },\n            ],\n        };\n    };\n    Column.prototype.getDefaultOptions = function () {\n        return Column.getDefaultOptions();\n    };\n    Column.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Column;\n}(Plot));\nexport { Column };\n", "import { mark } from '../../adaptor';\nimport { flow, transformOptions, get, set } from '../../utils';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    var colorField = function (params) {\n        var options = params.options;\n        var _a = options.children, children = _a === void 0 ? [] : _a, legend = options.legend;\n        if (!legend)\n            return params;\n        children.forEach(function (option) {\n            if (!get(option, 'colorField')) {\n                var yField_1 = get(option, 'yField');\n                set(option, 'colorField', function () { return yField_1; });\n            }\n        });\n        return params;\n    };\n    /**\n     * @description Top level annotations needs to share scale, when top level annotations is not empty, scale needs to be dynamically set.\n     */\n    var annotations = function (params) {\n        var options = params.options;\n        var _a = options.annotations, annotations = _a === void 0 ? [] : _a, _b = options.children, children = _b === void 0 ? [] : _b, scale = options.scale;\n        var sharedScale = false;\n        if (get(scale, 'y.key')) {\n            return params;\n        }\n        children.forEach(function (child, index) {\n            if (!get(child, 'scale.y.key')) {\n                var scaleKey_1 = \"child\".concat(index, \"Scale\");\n                set(child, 'scale.y.key', scaleKey_1);\n                var _a = child.annotations, childAnnotations = _a === void 0 ? [] : _a;\n                /**\n                 * @description If the child has annotations, the scale of the child needs to be assigned scaleKey to connect the annotation.\n                 */\n                if (childAnnotations.length > 0) {\n                    set(child, 'scale.y.independent', false);\n                    childAnnotations.forEach(function (annotation) {\n                        set(annotation, 'scale.y.key', scaleKey_1);\n                    });\n                }\n                if (!sharedScale && annotations.length > 0 && get(child, 'scale.y.independent') === undefined) {\n                    sharedScale = true;\n                    set(child, 'scale.y.independent', false);\n                    annotations.forEach(function (annotation) {\n                        set(annotation, 'scale.y.key', scaleKey_1);\n                    });\n                }\n            }\n        });\n        return params;\n    };\n    return flow(colorField, annotations, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar DualAxes = /** @class */ (function (_super) {\n    __extends(DualAxes, _super);\n    function DualAxes() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'DualAxes';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    DualAxes.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            axis: {\n                y: { title: false, tick: false },\n                x: { title: false },\n            },\n            scale: {\n                y: {\n                    independent: true,\n                    nice: true,\n                },\n            },\n        };\n    };\n    /**\n     *   \n     */\n    DualAxes.prototype.getDefaultOptions = function () {\n        return DualAxes.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    DualAxes.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return DualAxes;\n}(Plot));\nexport { DualAxes };\n", "import { flow, transformOptions, set, groupBy } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * \n     */\n    var init = function (params) {\n        var options = params.options;\n        var xField = options.xField, colorField = options.colorField;\n        if (!colorField) {\n            set(options, 'colorField', xField);\n        }\n        return params;\n    };\n    var transform = function (params) {\n        var options = params.options;\n        var compareField = options.compareField, transform = options.transform, _a = options.isTransposed, isTransposed = _a === void 0 ? true : _a, coordinate = options.coordinate;\n        if (!transform) {\n            if (compareField) {\n                set(options, 'transform', []);\n            }\n            else {\n                set(options, 'transform', [{ type: 'symmetryY' }]);\n            }\n        }\n        if (!coordinate && isTransposed) {\n            set(options, 'coordinate', { transform: [{ type: 'transpose' }] });\n        }\n        return params;\n    };\n    var compare = function (params) {\n        var options = params.options;\n        var compareField = options.compareField, seriesField = options.seriesField, data = options.data, children = options.children, yField = options.yField, _a = options.isTransposed, isTransposed = _a === void 0 ? true : _a;\n        if (compareField || seriesField) {\n            var groupedData = Object.values(groupBy(data, function (item) { return item[compareField || seriesField]; }));\n            children[0].data = groupedData[0];\n            children.push({\n                type: 'interval',\n                data: groupedData[1],\n                // @ts-ignore\n                yField: function (item) { return -item[yField]; },\n            });\n            delete options['compareField'];\n            delete options.data;\n        }\n        if (seriesField) {\n            set(options, 'type', 'spaceFlex');\n            set(options, 'ratio', [1, 1]);\n            set(options, 'direction', isTransposed ? 'row' : 'col');\n            delete options['seriesField'];\n        }\n        return params;\n    };\n    var tooltip = function (params) {\n        var options = params.options;\n        var tooltip = options.tooltip, xField = options.xField, yField = options.yField;\n        if (!tooltip) {\n            set(options, 'tooltip', {\n                title: false,\n                items: [\n                    function (d) {\n                        return { name: d[xField], value: d[yField] };\n                    },\n                ],\n            });\n        }\n        return params;\n    };\n    return flow(init, transform, compare, tooltip, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Funnel = /** @class */ (function (_super) {\n    __extends(Funnel, _super);\n    function Funnel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'column';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Funnel.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            scale: { x: { padding: 0 } },\n            animate: { enter: { type: 'fadeIn' } },\n            axis: false,\n            shapeField: 'funnel',\n            label: {\n                position: 'inside',\n                transform: [{ type: 'contrastReverse' }],\n            },\n            children: [\n                {\n                    type: 'interval',\n                },\n            ],\n        };\n    };\n    /**\n     *   \n     */\n    Funnel.prototype.getDefaultOptions = function () {\n        return Funnel.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Funnel.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Funnel;\n}(Plot));\nexport { Funnel };\n", "import { flow, transformOptions } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'line';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Line.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            scale: {\n                y: { nice: true },\n            },\n            interaction: {\n                tooltip: {\n                    shared: true,\n                },\n            },\n            axis: {\n                y: { title: false },\n                x: { title: false },\n            },\n            // - \n            // animate: {\n            //   enter: { type: 'growInX' },\n            // },\n            children: [{ type: 'line' }],\n        };\n    };\n    /**\n     *   \n     */\n    Line.prototype.getDefaultOptions = function () {\n        return Line.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Line.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Line;\n}(Plot));\nexport { Line };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { flow, transformOptions, isArray, set, fieldAdapter, isFunction } from '../../utils';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * @description  angleField  0 \n     * @link https://github.com/ant-design/ant-design-charts/issues/2324\n     */\n    var emptyData = function (params) {\n        var options = params.options;\n        var angleField = options.angleField, data = options.data, label = options.label, tooltip = options.tooltip, colorField = options.colorField;\n        var getColorValue = fieldAdapter(colorField);\n        if (isArray(data) && data.length > 0) {\n            var sum = data.reduce(function (a, b) { return a + b[angleField]; }, 0);\n            if (sum === 0) {\n                var normalization = data.map(function (item) {\n                    var _a;\n                    return (__assign(__assign({}, item), (_a = {}, _a[angleField] = 1, _a)));\n                });\n                set(options, 'data', normalization);\n                if (label) {\n                    set(options, 'label', __assign(__assign({}, label), { formatter: function () { return 0; } }));\n                }\n                if (tooltip !== false) {\n                    if (isFunction(tooltip)) {\n                        set(options, 'tooltip', function (arg, index, items) {\n                            var _a;\n                            return tooltip(__assign(__assign({}, arg), (_a = {}, _a[angleField] = 0, _a)), index, items.map(function (item) {\n                                var _a;\n                                return (__assign(__assign({}, item), (_a = {}, _a[angleField] = 0, _a)));\n                            }));\n                        });\n                    }\n                    else {\n                        set(options, 'tooltip', __assign(__assign({}, tooltip), { items: [\n                                function (arg, i, d) {\n                                    return {\n                                        name: getColorValue(arg, i, d),\n                                        value: 0,\n                                    };\n                                },\n                            ] }));\n                    }\n                }\n            }\n        }\n        return params;\n    };\n    return flow(emptyData, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Pie = /** @class */ (function (_super) {\n    __extends(Pie, _super);\n    function Pie() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'pie';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Pie.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            children: [{ type: 'interval' }],\n            coordinate: { type: 'theta' },\n            transform: [{ type: 'stackY', reverse: true }],\n            animate: { enter: { type: 'waveIn' } },\n        };\n    };\n    /**\n     *   \n     */\n    Pie.prototype.getDefaultOptions = function () {\n        return Pie.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Pie.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Pie;\n}(Plot));\nexport { Pie };\n", "import { flow, transformOptions } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Scatter = /** @class */ (function (_super) {\n    __extends(Scatter, _super);\n    function Scatter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'scatter';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Scatter.getDefaultOptions = function () {\n        return {\n            axis: {\n                y: { title: false },\n                x: { title: false },\n            },\n            legend: {\n                size: false,\n            },\n            children: [{ type: 'point' }],\n        };\n    };\n    /**\n     *   \n     */\n    Scatter.prototype.getDefaultOptions = function () {\n        return Scatter.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Scatter.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Scatter;\n}(Plot));\nexport { Scatter };\n", "import { flow, transformOptions, get, set } from '../../utils';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * \n     */\n    var init = function (params) {\n        set(params, 'options.coordinate', { type: get(params, 'options.coordinateType', 'polar') });\n        return params;\n    };\n    return flow(init, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { adaptor } from './adaptor';\nimport { Plot } from '../../base';\nvar Radar = /** @class */ (function (_super) {\n    __extends(Radar, _super);\n    function Radar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'radar';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Radar.getDefaultOptions = function () {\n        return {\n            axis: {\n                x: { grid: true, line: true },\n                y: { zIndex: 1, title: false, line: true, nice: true },\n            },\n            meta: { x: { padding: 0.5, align: 0 } },\n            interaction: { tooltip: { style: { crosshairsLineDash: [4, 4] } } },\n            children: [{ type: 'line' }],\n            //   polar  radar \n            coordinateType: 'polar',\n        };\n    };\n    /**\n     *   \n     */\n    Radar.prototype.getDefaultOptions = function () {\n        return Radar.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Radar.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Radar;\n}(Plot));\nexport { Radar };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { set, flow, map, transformOptions, fieldAdapter } from '../../utils';\nexport var Y_FIELD_KEY = '__stock-range__';\nexport var TREND_FIELD = 'trend';\nexport var TREND_UP = 'up';\nexport var TREND_DOWN = 'down';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    var transformData = function (params) {\n        var _a = params.options, data = _a.data, yField = _a.yField;\n        params.options.data = map(data, function (item) {\n            var obj = item && __assign({}, item);\n            if (Array.isArray(yField) && obj) {\n                var open_1 = yField[0], close_1 = yField[1], high = yField[2], low = yField[3];\n                obj[TREND_FIELD] = obj[open_1] <= obj[close_1] ? TREND_UP : TREND_DOWN;\n                obj[Y_FIELD_KEY] = [obj[open_1], obj[close_1], obj[high], obj[low]];\n            }\n            return obj;\n        });\n        return params;\n    };\n    /**\n     * \n     */\n    var init = function (params) {\n        var options = params.options;\n        var xField = options.xField, yField = options.yField, fallingFill = options.fallingFill, risingFill = options.risingFill;\n        var open = yField[0], close = yField[1], high = yField[2], low = yField[3];\n        var getFieldData = fieldAdapter(xField);\n        params.options.children = map(params.options.children, function (child, index) {\n            var isShadow = index === 0;\n            return __assign(__assign({}, child), { tooltip: {\n                    title: function (d, i, data) {\n                        var v = getFieldData(d, i, data);\n                        return v instanceof Date ? v.toLocaleString() : v;\n                    },\n                    items: [{ field: high }, { field: low }, { field: open }, { field: close }],\n                }, encode: __assign(__assign({}, (child.encode || {})), { y: isShadow ? [high, low] : [open, close], color: function (d) { return Math.sign(d[close] - d[open]); } }), style: __assign(__assign({}, (child.style || {})), { lineWidth: isShadow ? 1 : 10 }) });\n        });\n        delete options['yField'];\n        params.options.legend = {\n            color: false,\n        };\n        if (fallingFill) {\n            set(params, 'options.scale.color.range[0]', fallingFill);\n        }\n        if (risingFill) {\n            set(params, 'options.scale.color.range[2]', risingFill);\n        }\n        return params;\n    };\n    return flow(transformData, init, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nexport var DEFAULT_COLORS = ['#26a69a', '#999999', '#ef5350'];\nvar Stock = /** @class */ (function (_super) {\n    __extends(Stock, _super);\n    function Stock() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'stock';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Stock.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            scale: {\n                color: {\n                    domain: [-1, 0, 1],\n                    range: DEFAULT_COLORS,\n                },\n                y: { nice: true },\n            },\n            children: [\n                // shadow\n                {\n                    type: 'link',\n                },\n                // real body\n                {\n                    type: 'link',\n                },\n            ],\n            axis: {\n                x: { title: false, grid: false },\n                y: { title: false, grid: true, gridLineDash: null },\n            },\n            animate: { enter: { type: 'scaleInY' } },\n            interaction: {\n                tooltip: {\n                    shared: true,\n                    marker: false,\n                    groupName: false,\n                    crosshairs: true,\n                },\n            },\n        };\n    };\n    /**\n     *   \n     */\n    Stock.prototype.getDefaultOptions = function () {\n        return Stock.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Stock.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Stock;\n}(Plot));\nexport { Stock };\n", "import { flow, transformOptions } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar TinyLine = /** @class */ (function (_super) {\n    __extends(TinyLine, _super);\n    function TinyLine() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'TinyLine';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    TinyLine.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            children: [{ type: 'line', axis: false }],\n            animate: {\n                enter: { type: 'growInX', duration: 500 },\n            },\n            padding: 0,\n            margin: 0,\n            tooltip: false,\n        };\n    };\n    /**\n     *   \n     */\n    TinyLine.prototype.getDefaultOptions = function () {\n        return TinyLine.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    TinyLine.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return TinyLine;\n}(Plot));\nexport { TinyLine };\n", "import { flow, transformOptions } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar TinyArea = /** @class */ (function (_super) {\n    __extends(TinyArea, _super);\n    function TinyArea() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'TinyArea';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    TinyArea.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            animate: {\n                enter: { type: 'growInX', duration: 500 },\n            },\n            children: [{ type: 'area', axis: false }],\n            padding: 0,\n            margin: 0,\n            tooltip: false,\n        };\n    };\n    /**\n     *   \n     */\n    TinyArea.prototype.getDefaultOptions = function () {\n        return TinyArea.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    TinyArea.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return TinyArea;\n}(Plot));\nexport { TinyArea };\n", "import { flow, transformOptions } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar TinyColumn = /** @class */ (function (_super) {\n    __extends(TinyColumn, _super);\n    function TinyColumn() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'TinyColumn';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    TinyColumn.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            children: [{ type: 'interval', axis: false }],\n            padding: 0,\n            margin: 0,\n            tooltip: false,\n        };\n    };\n    /**\n     *   \n     */\n    TinyColumn.prototype.getDefaultOptions = function () {\n        return TinyColumn.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    TinyColumn.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return TinyColumn;\n}(Plot));\nexport { TinyColumn };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { flow, transformOptions } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * @description \n     */\n    var transformData = function (params) {\n        var options = params.options;\n        var percent = options.percent, _a = options.color, color = _a === void 0 ? [] : _a;\n        if (!percent)\n            return params;\n        var transformOption = {\n            scale: {\n                color: { range: color.length ? color : [] },\n            },\n            data: [1, percent],\n        };\n        Object.assign(options, __assign({}, transformOption));\n        return params;\n    };\n    return flow(transformData, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar TinyProgress = /** @class */ (function (_super) {\n    __extends(TinyProgress, _super);\n    function TinyProgress() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'TinyProgress';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    TinyProgress.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            data: [],\n            margin: 0,\n            padding: 0,\n            tooltip: false,\n            children: [\n                {\n                    interaction: { tooltip: false },\n                    coordinate: { transform: [{ type: 'transpose' }] },\n                    type: 'interval',\n                    axis: false,\n                    legend: false,\n                    encode: { y: function (d) { return d; }, color: function (d, idx) { return idx; } },\n                },\n            ],\n        };\n    };\n    /**\n     *   \n     */\n    TinyProgress.prototype.getDefaultOptions = function () {\n        return TinyProgress.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    TinyProgress.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return TinyProgress;\n}(Plot));\nexport { TinyProgress };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { flow, transformOptions, set } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * @description radius\n     */\n    var radius = function (params) {\n        var options = params.options;\n        var _a = options.radius, radius = _a === void 0 ? 0.8 : _a;\n        set(params, 'options.coordinate.innerRadius', radius);\n        return params;\n    };\n    /**\n     * @description \n     */\n    var transformData = function (params) {\n        var options = params.options;\n        var percent = options.percent, _a = options.color, color = _a === void 0 ? [] : _a;\n        if (!percent)\n            return params;\n        var transformOption = {\n            scale: {\n                color: { range: color.length ? color : [] },\n            },\n            data: [1, percent],\n        };\n        Object.assign(options, __assign({}, transformOption));\n        return params;\n    };\n    return flow(radius, transformData, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar TinyRing = /** @class */ (function (_super) {\n    __extends(TinyRing, _super);\n    function TinyRing() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'TinyRing';\n        return _this;\n    }\n    /**\n     * \n     * \n     */\n    TinyRing.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            data: [],\n            margin: 0,\n            padding: 0,\n            coordinate: { type: 'theta' },\n            animate: { enter: { type: 'waveIn' } },\n            interaction: { tooltip: false },\n            tooltip: false,\n            children: [\n                {\n                    type: 'interval',\n                    axis: false,\n                    legend: false,\n                    encode: { y: function (d) { return d; }, color: function (d, idx) { return idx; } },\n                },\n            ],\n        };\n    };\n    /**\n     *   \n     */\n    TinyRing.prototype.getDefaultOptions = function () {\n        return TinyRing.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    TinyRing.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return TinyRing;\n}(Plot));\nexport { TinyRing };\n", "import { flow, transformOptions } from '../../utils';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Rose = /** @class */ (function (_super) {\n    __extends(Rose, _super);\n    function Rose() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'rose';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Rose.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            children: [{ type: 'interval' }],\n            coordinate: { type: 'polar' },\n            animate: { enter: { type: 'waveIn' } },\n        };\n    };\n    /**\n     *   \n     */\n    Rose.prototype.getDefaultOptions = function () {\n        return Rose.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Rose.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Rose;\n}(Plot));\nexport { Rose };\n", "export var START_KEY = '__start__';\nexport var END_KEY = '__end__';\nexport var WATERFALL_VALUE = '__waterfall_value__';\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { flow, transformOptions, fieldAdapter } from '../../utils';\nimport { mark } from '../../adaptor';\nimport { START_KEY, END_KEY, WATERFALL_VALUE } from './constants';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * @description \n     */\n    var transformData = function (params) {\n        var options = params.options;\n        var _a = options.data, data = _a === void 0 ? [] : _a, yField = options.yField;\n        if (!data.length)\n            return params;\n        data.reduce(function (prev, cur, index) {\n            var _a;\n            var getFieldData = fieldAdapter(yField);\n            var newCur = getFieldData(cur, index, data);\n            if (index === 0 || cur.isTotal) {\n                cur[START_KEY] = 0;\n                cur[END_KEY] = newCur;\n                cur[WATERFALL_VALUE] = newCur;\n            }\n            else {\n                var start = (_a = prev[END_KEY]) !== null && _a !== void 0 ? _a : getFieldData(prev, index, data);\n                cur[START_KEY] = start;\n                cur[END_KEY] = start + newCur;\n                cur[WATERFALL_VALUE] = prev[END_KEY];\n            }\n            return cur;\n        }, []);\n        Object.assign(options, { yField: [START_KEY, END_KEY] });\n        return params;\n    };\n    /**\n     * @description \n     */\n    var link = function (params) {\n        var options = params.options;\n        var _a = options.data, data = _a === void 0 ? [] : _a, xField = options.xField, children = options.children, linkStyle = options.linkStyle;\n        var linkData = __spreadArray([], data, true);\n        linkData.reduce(function (prev, cur, index) {\n            if (index > 0) {\n                cur.x1 = prev[xField];\n                cur.x2 = cur[xField];\n                cur.y1 = prev[END_KEY];\n            }\n            return cur;\n        }, []);\n        linkData.shift();\n        children.push({\n            type: 'link',\n            xField: ['x1', 'x2'],\n            yField: 'y1',\n            //  scrollbar  link  interval\n            zIndex: -1,\n            data: linkData,\n            style: __assign({ stroke: '#697474' }, linkStyle),\n            label: false,\n            tooltip: false,\n        });\n        return params;\n    };\n    return flow(transformData, link, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nimport { WATERFALL_VALUE } from './constants';\nvar Waterfall = /** @class */ (function (_super) {\n    __extends(Waterfall, _super);\n    function Waterfall() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'waterfall';\n        return _this;\n    }\n    Waterfall.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            legend: null,\n            tooltip: {\n                field: WATERFALL_VALUE,\n                valueFormatter: '~s',\n                name: 'value',\n            },\n            axis: {\n                y: {\n                    title: null,\n                    labelFormatter: '~s',\n                },\n                x: {\n                    title: null,\n                },\n            },\n            children: [\n                {\n                    type: 'interval',\n                    interaction: {\n                        elementHighlight: {\n                            background: true,\n                        },\n                    },\n                },\n            ],\n        };\n    };\n    Waterfall.prototype.getDefaultOptions = function () {\n        return Waterfall.getDefaultOptions();\n    };\n    Waterfall.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Waterfall;\n}(Plot));\nexport { Waterfall };\n", "import { flow, transformOptions, assign, isNumber, divide, ceil, get } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    var transformHistogramConfig = function (params) {\n        var options = params.options;\n        var data = options.data, binNumber = options.binNumber, binWidth = options.binWidth, children = options.children, _a = options.channel, channel = _a === void 0 ? 'count' : _a;\n        var targetTransform = get(children, '[0].transform[0]', {});\n        if (isNumber(binWidth)) {\n            assign(targetTransform, { thresholds: ceil(divide(data.length, binWidth)), y: channel });\n            return params;\n        }\n        if (isNumber(binNumber)) {\n            assign(targetTransform, { thresholds: binNumber, y: channel });\n            return params;\n        }\n        return params;\n    };\n    return flow(transformHistogramConfig, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Histogram = /** @class */ (function (_super) {\n    __extends(Histogram, _super);\n    function Histogram() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'Histogram';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Histogram.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            autoFit: true,\n            axis: {\n                y: { title: false },\n                x: { title: false },\n            },\n            children: [\n                {\n                    type: 'rect',\n                    transform: [{ type: 'binX', y: 'count' }],\n                    interaction: {\n                        elementHighlight: {\n                            background: true,\n                        },\n                    },\n                },\n            ],\n        };\n    };\n    /**\n     *   \n     */\n    Histogram.prototype.getDefaultOptions = function () {\n        return Histogram.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Histogram.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Histogram;\n}(Plot));\nexport { Histogram };\n", "import { flow, transformOptions } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * @description  tooltip \n     */\n    var tooltip = function (params) {\n        var options = params.options;\n        var _a = options.tooltip, tooltip = _a === void 0 ? {} : _a, colorField = options.colorField, sizeField = options.sizeField;\n        if (tooltip && !tooltip.field) {\n            tooltip.field = colorField || sizeField;\n        }\n        return params;\n    };\n    /**\n     * @description  mark \n     */\n    var transformMark = function (params) {\n        var options = params.options;\n        var mark = options.mark, children = options.children;\n        if (mark) {\n            children[0].type = mark;\n        }\n        return params;\n    };\n    return flow(tooltip, transformMark, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Heatmap = /** @class */ (function (_super) {\n    __extends(Heatmap, _super);\n    function Heatmap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'heatmap';\n        return _this;\n    }\n    Heatmap.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            legend: null,\n            tooltip: {\n                valueFormatter: '~s',\n            },\n            axis: {\n                y: {\n                    title: null,\n                    grid: true,\n                },\n                x: {\n                    title: null,\n                    grid: true,\n                },\n            },\n            children: [\n                {\n                    type: 'point',\n                    interaction: {\n                        elementHighlight: {\n                            background: true,\n                        },\n                    },\n                },\n            ],\n        };\n    };\n    Heatmap.prototype.getDefaultOptions = function () {\n        return Heatmap.getDefaultOptions();\n    };\n    Heatmap.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Heatmap;\n}(Plot));\nexport { Heatmap };\n", "import { flow, transformOptions } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * \n     */\n    var init = function (params) {\n        var _a = params.options.boxType, boxType = _a === void 0 ? 'box' : _a;\n        params.options.children[0].type = boxType;\n        return params;\n    };\n    return flow(init, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Box = /** @class */ (function (_super) {\n    __extends(Box, _super);\n    function Box() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'box';\n        return _this;\n    }\n    /**\n     * \n     * \n     */\n    Box.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            children: [{ type: 'box' }],\n            axis: {\n                y: { title: false },\n                x: { title: false },\n            },\n            //  tooltip\n            tooltip: {\n                items: [\n                    { name: 'min', channel: 'y' },\n                    { name: 'q1', channel: 'y1' },\n                    { name: 'q2', channel: 'y2' },\n                    { name: 'q3', channel: 'y3' },\n                    { name: 'max', channel: 'y4' },\n                ],\n            },\n        };\n    };\n    /**\n     *   \n     */\n    Box.prototype.getDefaultOptions = function () {\n        return Box.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Box.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Box;\n}(Plot));\nexport { Box };\n", "import { mark } from '../../adaptor';\nimport { flow, get, isArray, set, transformOptions } from '../../utils';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    var dataTransform = function (params) {\n        var options = params.options;\n        var data = options.data;\n        var defaultTransform = [\n            {\n                type: 'custom',\n                callback: function (datum) { return ({ links: datum }); },\n            },\n        ];\n        if (isArray(data)) {\n            if (data.length > 0) {\n                set(options, 'data', {\n                    value: data,\n                    transform: defaultTransform,\n                });\n            }\n            else {\n                delete options.children;\n            }\n        }\n        else if (get(data, 'type') === 'fetch' && get(data, 'value')) {\n            var transform = get(data, 'transform');\n            if (isArray(transform)) {\n                set(data, 'transform', transform.concat(defaultTransform));\n            }\n            else {\n                set(data, 'transform', defaultTransform);\n            }\n        }\n        return params;\n    };\n    return flow(dataTransform, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Sankey = /** @class */ (function (_super) {\n    __extends(Sankey, _super);\n    function Sankey() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'sankey';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Sankey.getDefaultOptions = function () {\n        return { type: 'view', children: [{ type: 'sankey' }] };\n    };\n    /**\n     *   \n     */\n    Sankey.prototype.getDefaultOptions = function () {\n        return Sankey.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Sankey.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Sankey;\n}(Plot));\nexport { Sankey };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { allCoordinateLayout } from '../../adaptor';\nimport { flow, transformOptions, map, set, get, isArray, includes, isNumber, mergeWithArrayCoverage, isNil, isString, } from '../../utils';\n// \nexport var DEFAULT_COLORS = ['#f0efff', '#5B8FF9', '#3D76DD'];\n/**\n * \n * 1[{ measures: [1,2], title: 'x' }, ...] -> [{ measures: 1, title: 'x', index: 0 }, { measures: 2, title: 'x', index: 1 },...]\n * 2[{ measures: 1, title: 'x' }, { measures: [2,3], title: 'x' }] ->\n * [{ measures: 1, title: 'x', index: 0 }, { measures: 2, title: 'x', index: 0 }, { measures: 3, title: 'x', index: 1 },...]\n * @param data \n * @param field \n * @param xField x \n * @param isSort \n * @returns [, ]\n */\nfunction getTransformData(data, field, xField, isSort) {\n    if (isSort === void 0) { isSort = true; }\n    var maxSize = 0;\n    var isArrayData = false;\n    var transformData = map(data, function (d) {\n        var _a, _b;\n        var fieldData = get(d, [field]);\n        // null undefined  Number(string)  NaN  \n        if (isNil(fieldData))\n            return [];\n        if (isString(fieldData)) {\n            var numberData = Number(fieldData);\n            if (isNaN(numberData))\n                return [];\n            return _a = {}, _a[xField] = d[xField], _a[field] = numberData, _a;\n        }\n        // \n        if (isArray(fieldData)) {\n            isArrayData = true;\n            maxSize = Math.max(maxSize, fieldData.length);\n            return map(isSort ? fieldData.sort(function (a, b) { return b - a; }) : fieldData, function (value, index) {\n                var _a;\n                return (_a = {},\n                    _a[xField] = d[xField],\n                    _a[field] = value,\n                    _a.index = index,\n                    _a);\n            });\n        }\n        //  min  1\n        maxSize = Math.max(1, maxSize);\n        return _b = {}, _b[xField] = d[xField], _b[field] = fieldData, _b;\n    }).flat();\n    //  measures  'measures'  'measures_0' \n    if (isArrayData) {\n        return [\n            transformData.map(function (item) { return (__assign({ index: 0 }, item)); }),\n            maxSize,\n        ];\n    }\n    return [transformData, maxSize];\n}\n/**\n * \n * @param maxSize \n * @param color \n * @returns string[]\n */\nfunction getFieldColor(maxSize, color) {\n    return new Array(maxSize).fill('').map(function (d, i) { return (isArray(color) ? color[i % color.length] : color); });\n}\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * \n     */\n    var init = function (params) {\n        var _a = params.options, color = _a.color, _b = _a.rangeField, rangeField = _b === void 0 ? 'ranges' : _b, _c = _a.measureField, measureField = _c === void 0 ? 'measures' : _c, _d = _a.targetField, targetField = _d === void 0 ? 'targets' : _d, _e = _a.xField, xField = _e === void 0 ? 'title' : _e, mapField = _a.mapField, data = _a.data;\n        // \n        var _f = getTransformData(data, rangeField, xField), rangesData = _f[0], rangesMaxSize = _f[1];\n        var _g = getTransformData(data, measureField, xField, false), measuresData = _g[0], measuresMaxSize = _g[1];\n        var _h = getTransformData(data, targetField, xField, false), targetsData = _h[0], targetsMaxSize = _h[1];\n        // \n        var rangesColor = get(color, [rangeField], DEFAULT_COLORS[0]);\n        var measuresColor = get(color, [measureField], DEFAULT_COLORS[1]);\n        var targetsColor = get(color, [targetField], DEFAULT_COLORS[2]);\n        //  scale.color \n        var colors = [\n            getFieldColor(rangesMaxSize, rangesColor),\n            getFieldColor(measuresMaxSize, measuresColor),\n            getFieldColor(targetsMaxSize, targetsColor),\n        ].flat();\n        params.options.children = map(params.options.children, function (c, i) {\n            var datas = [rangesData, measuresData, targetsData][i];\n            var yField = [rangeField, measureField, targetField][i];\n            return __assign(__assign({}, c), { data: datas, encode: __assign(__assign({}, (c.encode || {})), { x: xField, y: yField, color: function (d) {\n                        var index = d.index;\n                        var mapString = isNumber(index) ? \"\".concat(yField, \"_\").concat(index) : yField;\n                        return mapField ? get(mapField, [yField, index], mapString) : mapString;\n                    } }), style: __assign(__assign({}, (c.style || {})), { \n                    // \n                    zIndex: function (d) { return -d[yField]; } }), \n                // labels  yField\n                labels: i !== 0 ? map(c.labels, function (l) { return (__assign(__assign({}, l), { text: yField })); }) : undefined });\n        });\n        params.options.scale.color.range = colors;\n        // legend itemMarker \n        params.options.legend.color.itemMarker = function (d) {\n            if (mapField && includes(mapField === null || mapField === void 0 ? void 0 : mapField[targetField], d)) {\n                return 'line';\n            }\n            return (d === null || d === void 0 ? void 0 : d.replace(/\\_\\d$/, '')) === targetField ? 'line' : 'square';\n        };\n        return params;\n    };\n    /**\n     *  target\n     * @param params Params\n     * @returns params Params\n     */\n    var layoutAdaptor = function (params) {\n        var _a = params.options.layout, layout = _a === void 0 ? 'horizontal' : _a;\n        if (layout !== 'horizontal') {\n            set(params, 'options.children[2].shapeField', 'hyphen');\n        }\n        return params;\n    };\n    /**\n     * rangemeasuretarget \n     * @param params Params\n     * @returns params Params\n     */\n    var cfgAdaptor = function (params) {\n        var _a = params.options, _b = _a.range, range = _b === void 0 ? {} : _b, _c = _a.measure, measure = _c === void 0 ? {} : _c, _d = _a.target, target = _d === void 0 ? {} : _d, children = _a.children;\n        params.options.children = [range, measure, target].map(function (c, i) { return mergeWithArrayCoverage(children[i], c); });\n        return params;\n    };\n    return flow(init, layoutAdaptor, cfgAdaptor, allCoordinateLayout, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor, DEFAULT_COLORS } from './adaptor';\nvar Bullet = /** @class */ (function (_super) {\n    __extends(Bullet, _super);\n    function Bullet() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'bullet';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Bullet.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            scale: {\n                color: {\n                    range: DEFAULT_COLORS,\n                },\n            },\n            legend: {\n                color: {\n                    itemMarker: function (d) {\n                        return d === 'target' ? 'line' : 'square';\n                    },\n                },\n            },\n            axis: {\n                y: { title: false },\n                x: { title: false },\n            },\n            children: [\n                {\n                    type: 'interval',\n                    style: { maxWidth: 30 },\n                    axis: { y: { grid: true, gridLineWidth: 2 } },\n                },\n                {\n                    type: 'interval',\n                    style: { maxWidth: 20 },\n                    transform: [{ type: 'stackY' }],\n                },\n                {\n                    type: 'point',\n                    encode: { size: 8, shape: 'line' },\n                },\n            ],\n            interaction: { tooltip: { shared: true } },\n            coordinate: { transform: [{ type: 'transpose' }] },\n        };\n    };\n    /**\n     *   \n     */\n    Bullet.prototype.getDefaultOptions = function () {\n        return Bullet.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Bullet.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Bullet;\n}(Plot));\nexport { Bullet };\n", "import { flow, transformOptions } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * \n     */\n    var init = function (params) {\n        var data = params.options.data;\n        params.options.data = {\n            value: data,\n        };\n        return params;\n    };\n    return flow(init, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Gauge = /** @class */ (function (_super) {\n    __extends(Gauge, _super);\n    function Gauge() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'Gauge';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Gauge.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            legend: false,\n            children: [{ type: 'gauge' }],\n        };\n    };\n    /**\n     *   \n     */\n    Gauge.prototype.getDefaultOptions = function () {\n        return Gauge.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Gauge.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Gauge;\n}(Plot));\nexport { Gauge };\n", "import { flow, transformOptions, isNumber, set } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * \n     */\n    var init = function (params) {\n        var percent = params.options.percent;\n        if (isNumber(percent)) {\n            set(params, 'options.data', percent);\n            delete params.options.percent;\n        }\n        return params;\n    };\n    return flow(init, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Liquid = /** @class */ (function (_super) {\n    __extends(Liquid, _super);\n    function Liquid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'Liquid';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Liquid.getDefaultOptions = function () {\n        return { type: 'view', children: [{ type: 'liquid' }] };\n    };\n    /**\n     *   \n     */\n    Liquid.prototype.getDefaultOptions = function () {\n        return Liquid.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Liquid.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Liquid;\n}(Plot));\nexport { Liquid };\n", "import { flow, transformOptions } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar WordCloud = /** @class */ (function (_super) {\n    __extends(WordCloud, _super);\n    function WordCloud() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'WordCloud';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    WordCloud.getDefaultOptions = function () {\n        return { type: 'view', legend: false, children: [{ type: 'wordCloud' }] };\n    };\n    /**\n     *   \n     */\n    WordCloud.prototype.getDefaultOptions = function () {\n        return WordCloud.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    WordCloud.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return WordCloud;\n}(Plot));\nexport { WordCloud };\n", "import { flow, transformOptions, set } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * \n     */\n    var init = function (params) {\n        var options = params.options;\n        var data = options.data;\n        if (data) {\n            set(options, 'data', {\n                value: data,\n            });\n        }\n        return params;\n    };\n    return flow(init, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Treemap = /** @class */ (function (_super) {\n    __extends(Treemap, _super);\n    function Treemap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'treemap';\n        return _this;\n    }\n    Treemap.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            children: [\n                {\n                    type: 'treemap',\n                },\n            ],\n        };\n    };\n    Treemap.prototype.getDefaultOptions = function () {\n        return Treemap.getDefaultOptions();\n    };\n    Treemap.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Treemap;\n}(Plot));\nexport { Treemap };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { flow, set, transformOptions, isNumber, get, fieldAdapter } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * coordinate \n     * @param params\n     */\n    var coordinate = function (params) {\n        var options = params.options;\n        var startAngle = options.startAngle, maxAngle = options.maxAngle, coordinate = options.coordinate;\n        // -90\n        var start = isNumber(startAngle) ? (startAngle / (2 * Math.PI)) * 360 : -90;\n        // maxAngle\n        var end = isNumber(maxAngle) ? ((Number(maxAngle) + start) / 180) * Math.PI : Math.PI;\n        set(params, ['options', 'coordinate'], __assign(__assign({}, coordinate), { endAngle: end, startAngle: startAngle !== null && startAngle !== void 0 ? startAngle : -Math.PI / 2 }));\n        return params;\n    };\n    /**\n     * tooltip \n     * @param params\n     */\n    var tooltip = function (params) {\n        var options = params.options;\n        var tooltip = options.tooltip, xField = options.xField, yField = options.yField;\n        var getXFieldData = fieldAdapter(xField);\n        var getYFieldData = fieldAdapter(yField);\n        if (!tooltip) {\n            set(options, 'tooltip', {\n                title: false,\n                items: [function (d, i, data) { return ({ name: getXFieldData(d, i, data), value: getYFieldData(d, i, data) }); }],\n            });\n        }\n        return params;\n    };\n    /**\n     * background \n     * @param params\n     */\n    var background = function (params) {\n        var options = params.options;\n        var markBackground = options.markBackground, children = options.children, scale = options.scale, coordinate = options.coordinate, xField = options.xField;\n        var domain = get(scale, 'y.domain', []);\n        if (markBackground) {\n            children.unshift(__assign({ type: 'interval', xField: xField, yField: domain[domain.length - 1], colorField: markBackground.color, scale: { color: { type: 'identity' } }, style: {\n                    fillOpacity: markBackground.opacity,\n                    fill: markBackground.color ? undefined : '#e0e4ee', // fill\n                }, \n                // \n                coordinate: __assign(__assign({}, coordinate), { startAngle: -Math.PI / 2, endAngle: (3 / 2) * Math.PI }), animate: false }, markBackground));\n        }\n        return params;\n    };\n    return flow(coordinate, tooltip, background, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar RadialBar = /** @class */ (function (_super) {\n    __extends(RadialBar, _super);\n    function RadialBar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'radial';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    RadialBar.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            children: [{ type: 'interval' }],\n            coordinate: { type: 'radial', innerRadius: 0.1, outerRadius: 1, endAngle: Math.PI },\n            animate: { enter: { type: 'waveIn', duration: 800 } },\n            axis: {\n                y: {\n                    nice: true,\n                    labelAutoHide: true,\n                    labelAutoRotate: false,\n                },\n                x: {\n                    title: false,\n                    nice: true,\n                    labelAutoRotate: false,\n                    labelAutoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n                },\n            },\n        };\n    };\n    /**\n     *   \n     */\n    RadialBar.prototype.getDefaultOptions = function () {\n        return RadialBar.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    RadialBar.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return RadialBar;\n}(Plot));\nexport { RadialBar };\n", "import { flow, transformOptions } from '../../utils';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar CirclePacking = /** @class */ (function (_super) {\n    __extends(CirclePacking, _super);\n    function CirclePacking() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'CirclePacking';\n        return _this;\n    }\n    /**\n     *  circle packing \n     * \n     */\n    CirclePacking.getDefaultOptions = function () {\n        return {\n            legend: false,\n            type: 'view',\n            children: [\n                {\n                    type: 'pack',\n                },\n            ],\n        };\n    };\n    /**\n     *   \n     */\n    CirclePacking.prototype.getDefaultOptions = function () {\n        return CirclePacking.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    CirclePacking.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return CirclePacking;\n}(Plot));\nexport { CirclePacking };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { flow, transformOptions, set } from '../../utils';\nimport { mark } from '../../adaptor';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * \n     */\n    var customTransform = function (params) {\n        var options = params.options;\n        var xField = options.xField, yField = options.yField, seriesField = options.seriesField, children = options.children;\n        var newChildren = children === null || children === void 0 ? void 0 : children.map(function (item) {\n            return __assign(__assign({}, item), { xField: xField, yField: yField, seriesField: seriesField, colorField: seriesField, data: item.type === 'density'\n                    ? {\n                        transform: [\n                            {\n                                type: 'kde',\n                                field: yField,\n                                groupBy: [xField, seriesField],\n                            },\n                        ],\n                    }\n                    : item.data });\n        }).filter(function (item) { return options.violinType !== 'density' || item.type === 'density'; });\n        set(options, 'children', newChildren);\n        // normal\n        if (options.violinType === 'polar') {\n            set(options, 'coordinate', { type: 'polar' });\n        }\n        // violinType\n        set(options, 'violinType', undefined);\n        return params;\n    };\n    return flow(customTransform, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar Violin = /** @class */ (function (_super) {\n    __extends(Violin, _super);\n    function Violin() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'violin';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Violin.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            children: [\n                {\n                    type: 'density',\n                    sizeField: 'size',\n                    tooltip: false,\n                },\n                {\n                    type: 'boxplot',\n                    shapeField: 'violin',\n                    style: {\n                        opacity: 0.5,\n                        point: false,\n                    },\n                },\n            ],\n            animate: { enter: { type: 'fadeIn' } },\n        };\n    };\n    /**\n     *   \n     */\n    Violin.prototype.getDefaultOptions = function () {\n        return Violin.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Violin.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Violin;\n}(Plot));\nexport { Violin };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { mark } from '../../adaptor';\nimport { flow, transformOptions, set, isArray, get, isPlainObject } from '../../utils';\nimport { HORIZONTAL_MARGIN, AXIS_LABEL_PADDING, VERTICAL_MARGIN } from './constants';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**  yFiled Array  */\n    var field = function (params) {\n        var options = params.options;\n        var yField = options.yField, children = options.children;\n        children.forEach(function (child, index) {\n            set(child, 'yField', yField[index]);\n        });\n        return params;\n    };\n    /** data  */\n    var data = function (params) {\n        var options = params.options;\n        var yField = options.yField, children = options.children, data = options.data;\n        if (isPlainObject(data))\n            return params;\n        var transformData = isArray(get(data, [0])) ? data : [data, data];\n        children.forEach(function (child, index) {\n            set(child, 'data', __spreadArray([], transformData[index].map(function (item) { return (__assign({ groupKey: yField[index] }, item)); }), true));\n        });\n        return params;\n    };\n    /**  Tooltip  */\n    var tooltip = function (params) {\n        var options = params.options;\n        var _a = options.yField, y1 = _a[0], y2 = _a[1], tooltip = options.tooltip;\n        if (!tooltip) {\n            set(options, 'tooltip', {\n                items: [\n                    {\n                        field: y1,\n                        value: y1,\n                    },\n                    {\n                        field: y2,\n                        value: y2,\n                    },\n                ],\n            });\n        }\n        return params;\n    };\n    /**  layout  */\n    var layout = function (params) {\n        var options = params.options;\n        var children = options.children, layout = options.layout, transform = options.coordinate.transform, _a = options.paddingBottom, paddingBottom = _a === void 0 ? AXIS_LABEL_PADDING : _a, _b = options.paddingLeft, paddingLeft = _b === void 0 ? AXIS_LABEL_PADDING : _b, axis = options.axis;\n        set(options, 'axisText', __assign(__assign({}, ((axis === null || axis === void 0 ? void 0 : axis.x) || {})), { layout: layout }));\n        var child1 = children[0], child2 = children[1];\n        if (layout === 'vertical') {\n            set(options, 'direction', 'col');\n            set(options, 'paddingLeft', paddingLeft);\n            set(options, 'coordinate.transform', transform.filter(function (item) { return item.type !== 'transpose'; }));\n            set(child1, 'paddingBottom', HORIZONTAL_MARGIN);\n            set(child2, 'paddingTop', HORIZONTAL_MARGIN);\n            set(child2, 'axis', {\n                x: {\n                    position: 'top',\n                },\n            });\n            set(child2, 'scale', {\n                y: {\n                    range: [0, 1],\n                },\n            });\n        }\n        else {\n            set(options, 'paddingBottom', paddingBottom);\n            set(child1, 'scale', {\n                y: {\n                    range: [0, 1],\n                },\n            });\n            var _c = child1.paddingRight, paddingRight = _c === void 0 ? VERTICAL_MARGIN : _c;\n            var _d = child2.paddingLeft, paddingLeft_1 = _d === void 0 ? VERTICAL_MARGIN : _d;\n            set(child1, 'paddingRight', paddingRight);\n            set(child1, 'axis', {\n                x: {\n                    position: 'right',\n                },\n            });\n            set(child2, 'paddingLeft', paddingLeft_1);\n        }\n        return params;\n    };\n    return flow(field, data, tooltip, layout, mark, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nvar BidirectionalBar = /** @class */ (function (_super) {\n    __extends(BidirectionalBar, _super);\n    function BidirectionalBar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'BidirectionalBar';\n        return _this;\n    }\n    BidirectionalBar.getDefaultOptions = function () {\n        return {\n            type: 'spaceFlex',\n            coordinate: { transform: [{ type: 'transpose' }] },\n            scale: {\n                y: { nice: true },\n            },\n            direction: 'row',\n            layout: 'horizontal',\n            legend: false,\n            axis: {\n                y: {\n                    title: false,\n                },\n                x: { title: false, label: false },\n            },\n            children: [{ type: 'interval' }, { type: 'interval' }],\n        };\n    };\n    BidirectionalBar.prototype.getDefaultOptions = function () {\n        return BidirectionalBar.getDefaultOptions();\n    };\n    BidirectionalBar.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return BidirectionalBar;\n}(Plot));\nexport { BidirectionalBar };\n", "export var DefaultTransformKey;\n(function (DefaultTransformKey) {\n    DefaultTransformKey[\"color\"] = \"key\";\n    DefaultTransformKey[\"d\"] = \"path\";\n})(DefaultTransformKey || (DefaultTransformKey = {}));\n", "import { flow, isArray, omit, set, transformOptions } from '../../utils';\nimport { DefaultTransformKey } from './type';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * \n     */\n    var init = function (params) {\n        var options = params.options;\n        var data = options.data, setsField = options.setsField, sizeField = options.sizeField;\n        if (isArray(data)) {\n            set(options, 'data', {\n                type: 'inline',\n                value: data,\n                transform: [\n                    {\n                        type: 'venn',\n                        sets: setsField,\n                        size: sizeField,\n                        as: [DefaultTransformKey.color, DefaultTransformKey.d],\n                    },\n                ],\n            });\n            set(options, 'colorField', setsField);\n            set(options, ['children', '0', 'encode', 'd'], DefaultTransformKey.d);\n        }\n        set(params, 'options', omit(options, ['sizeField', 'setsField']));\n        return params;\n    };\n    return flow(init, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Plot } from '../../base';\nimport { adaptor } from './adaptor';\nimport { DefaultTransformKey } from './type';\nvar Venn = /** @class */ (function (_super) {\n    __extends(Venn, _super);\n    function Venn() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'venn';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Venn.getDefaultOptions = function () {\n        return {\n            type: 'view',\n            children: [{ type: 'path' }],\n            legend: {\n                color: { itemMarker: 'circle' },\n            },\n            encode: { color: DefaultTransformKey.color, d: DefaultTransformKey.d },\n        };\n    };\n    /**\n     *   \n     */\n    Venn.prototype.getDefaultOptions = function () {\n        return Venn.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Venn.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Venn;\n}(Plot));\nexport { Venn };\n", "import { flow, transformOptions } from '../../utils';\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    /**\n     * \n     */\n    var init = function (params) {\n        return params;\n    };\n    return flow(init, transformOptions)(params);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { adaptor } from './adaptor';\nimport { Plot } from '../../base';\nvar Sunburst = /** @class */ (function (_super) {\n    __extends(Sunburst, _super);\n    function Sunburst() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'Sunburst';\n        return _this;\n    }\n    /**\n     *   \n     * \n     */\n    Sunburst.getDefaultOptions = function () {\n        return { type: 'view', children: [{ type: 'sunburst' }] };\n    };\n    /**\n     *   \n     */\n    Sunburst.prototype.getDefaultOptions = function () {\n        return Sunburst.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Sunburst.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Sunburst;\n}(Plot));\nexport { Sunburst };\n", "export * from './types';\nimport * as G2 from '@antv/g2';\nimport { Base } from './plots/base';\nimport { Area } from './plots/area';\nimport { Bar } from './plots/bar';\nimport { Column } from './plots/column';\nimport { DualAxes } from './plots/dual-axes';\nimport { Funnel } from './plots/funnel';\nimport { Line } from './plots/line';\nimport { Pie } from './plots/pie';\nimport { Scatter } from './plots/scatter';\nimport { Radar } from './plots/radar';\nimport { Stock } from './plots/stock';\nimport { TinyLine } from './plots/tiny-line';\nimport { TinyArea } from './plots/tiny-area';\nimport { TinyColumn } from './plots/tiny-column';\nimport { TinyProgress } from './plots/tiny-progress';\nimport { TinyRing } from './plots/tiny-ring';\nimport { Rose } from './plots/rose';\nimport { Waterfall } from './plots/waterfall';\nimport { Histogram } from './plots/histogram';\nimport { Heatmap } from './plots/heatmap';\nimport { Box } from './plots/box';\nimport { Sankey } from './plots/sankey';\nimport { Bullet } from './plots/bullet';\nimport { Gauge } from './plots/gauge';\nimport { Liquid } from './plots/liquid';\nimport { WordCloud } from './plots/wordCloud';\nimport { Treemap } from './plots/treemap';\nimport { RadialBar } from './plots/radial-bar';\nimport { CirclePacking } from './plots/circlePacking';\nimport { Violin } from './plots/violin';\nimport { BidirectionalBar } from './plots/bidirectional-bar';\nimport { Venn } from './plots/venn';\nimport { Mix } from './plots/mix';\nimport { Sunburst } from './plots/sunburst';\nexport { G2 };\nexport var Plots = {\n    Base: Base,\n    Line: Line,\n    Column: Column,\n    Pie: Pie,\n    Area: Area,\n    Bar: Bar,\n    DualAxes: DualAxes,\n    Funnel: Funnel,\n    Scatter: Scatter,\n    Radar: Radar,\n    Rose: Rose,\n    Stock: Stock,\n    TinyLine: TinyLine,\n    TinyArea: TinyArea,\n    TinyColumn: TinyColumn,\n    TinyProgress: TinyProgress,\n    TinyRing: TinyRing,\n    Waterfall: Waterfall,\n    Histogram: Histogram,\n    Heatmap: Heatmap,\n    Box: Box,\n    Sankey: Sankey,\n    Bullet: Bullet,\n    Gauge: Gauge,\n    Liquid: Liquid,\n    WordCloud: WordCloud,\n    Treemap: Treemap,\n    RadialBar: RadialBar,\n    CirclePacking: CirclePacking,\n    Violin: Violin,\n    BidirectionalBar: BidirectionalBar,\n    Venn: Venn,\n    Mix: Mix,\n    Sunburst: Sunburst,\n};\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar AreaChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Area\", ref: ref })); });\nexport default AreaChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar BarChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Bar\", ref: ref })); });\nexport default BarChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar ColumnChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Column\", ref: ref })); });\nexport default ColumnChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar DualAxesChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"DualAxes\", ref: ref })); });\nexport default DualAxesChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar FunnelChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Funnel\", ref: ref })); });\nexport default FunnelChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar LineChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Line\", ref: ref })); });\nexport default LineChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar PieChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Pie\", ref: ref })); });\nexport default PieChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar ScatterChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Scatter\", ref: ref })); });\nexport default ScatterChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar RadarChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Radar\", ref: ref })); });\nexport default RadarChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../../base';\nvar TinyLineChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"TinyLine\", ref: ref })); });\nexport default TinyLineChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../../base';\nvar TinyAreaChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"TinyArea\", ref: ref })); });\nexport default TinyAreaChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../../base';\nvar TinyLineChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"TinyColumn\", ref: ref })); });\nexport default TinyLineChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../../base';\nvar TinyProgressChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"TinyProgress\", ref: ref })); });\nexport default TinyProgressChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../../base';\nvar TinyRingChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"TinyRing\", ref: ref })); });\nexport default TinyRingChart;\n", "import Line from './line';\nimport Area from './area';\nimport Column from './column';\nimport Progress from './progress';\nimport Ring from './ring';\nexport var Tiny = { Line: Line, Area: Area, Column: Column, Progress: Progress, Ring: Ring };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar RoseChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Rose\", ref: ref })); });\nexport default RoseChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar WaterfallChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Waterfall\", ref: ref })); });\nexport default WaterfallChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar HistogramChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Histogram\", ref: ref })); });\nexport default HistogramChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar HeatmapChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Heatmap\", ref: ref })); });\nexport default HeatmapChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar BoxChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Box\", ref: ref })); });\nexport default BoxChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar SankeyChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Sankey\", ref: ref })); });\nexport default SankeyChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar StockChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Stock\", ref: ref })); });\nexport default StockChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar BulletChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Bullet\", ref: ref })); });\nexport default BulletChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar GaugeChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Gauge\", ref: ref })); });\nexport default GaugeChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar LiquidChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Liquid\", ref: ref })); });\nexport default LiquidChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar WordCloudChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"WordCloud\", ref: ref })); });\nexport default WordCloudChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar TreemapChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Treemap\", ref: ref })); });\nexport default TreemapChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar RadialBar = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"RadialBar\", ref: ref })); });\nexport default RadialBar;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar CirclePackingChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"CirclePacking\", ref: ref })); });\nexport default CirclePackingChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar ViolinChart = forwardRef(function (props, ref) {\n    return React.createElement(BaseChart, __assign({}, props, { chartType: \"Violin\", ref: ref }));\n});\nexport default ViolinChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar BidirectionalBarChart = forwardRef(function (props, ref) { return (React.createElement(BaseChart, __assign({}, props, { chartType: \"BidirectionalBar\", ref: ref }))); });\nexport default BidirectionalBarChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar VennChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Venn\", ref: ref })); });\nexport default VennChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar MixChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Mix\", ref: ref })); });\nexport default MixChart;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar SunburstChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Sunburst\", ref: ref })); });\nexport default SunburstChart;\n"],
  "mappings": "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",
  "names": ["slice", "swizzle", "i", "len", "hasOwnProperty", "name", "hex", "rgba", "rgb", "i", "i2", "clamp", "hsl", "h", "s", "l", "a", "w", "r", "hsla", "min", "max", "str", "EventEmitter", "name", "i", "l", "a2", "a3", "a4", "len", "length", "i", "hex", "ch", "s", "expected", "found", "data", "cmds", "first", "merge", "c", "x", "y", "a", "n", "location", "error", "text", "p", "s2", "s3", "l", "code", "k", "attr", "a", "self", "x", "i", "min", "max", "self", "x", "size", "min", "max", "range", "step", "i", "c", "mid", "weight", "area", "kernel", "pdf", "last", "ln", "Chart", "extend", "value", "data", "value", "data", "value", "data", "d", "value", "value", "value", "index", "value", "value", "value", "value", "value", "i", "len", "k", "value", "length", "i", "value", "value", "value", "a", "i", "length", "max", "i", "splice", "data", "i", "value", "o", "a", "min", "max", "value", "a", "max", "i", "min", "i", "n", "m", "value", "value", "str", "str", "o", "name", "value", "str", "toString", "value", "value", "value", "value", "dist", "i", "l", "k", "timeout", "max", "value", "cache", "dist", "value", "i", "indexOf", "m", "index", "i", "value", "i", "r", "p", "path", "value", "o", "keys", "keys", "r", "timeout", "now", "o", "default_1", "value", "i", "color", "s", "y", "i", "clone", "identity", "a", "clone", "identity", "x", "y", "rad", "s", "c", "w", "x2", "y2", "scale", "a2", "a3", "a4", "a5", "add", "adjoint", "clone", "copy", "create", "determinant", "equals", "exactEquals", "frob", "fromQuat", "fromRotation", "fromScaling", "fromTranslation", "fromValues", "identity", "invert", "mul", "multiply", "multiplyScalar", "multiplyScalarAndAdd", "rotate", "scale", "set", "str", "sub", "subtract", "translate", "transpose", "create", "clone", "a", "copy", "fromValues", "set", "identity", "transpose", "invert", "adjoint", "determinant", "multiply", "translate", "x", "y", "scale", "rotate", "rad", "len", "s", "c", "fromTranslation", "fromScaling", "fromRotation", "w", "x2", "y2", "o", "fromQuat", "left", "right", "f", "center", "x0", "x1", "y0", "y1", "str", "frob", "add", "subtract", "multiplyScalar", "multiplyScalarAndAdd", "exactEquals", "equals", "a2", "a3", "a4", "a5", "mul", "sub", "add", "clone", "copy", "create", "dot", "equals", "exactEquals", "fromValues", "identity", "invert", "len", "length", "lerp", "mul", "multiply", "normalize", "random", "rotateX", "rotateY", "rotateZ", "scale", "set", "sqrLen", "squaredLength", "str", "add", "clone", "copy", "create", "equals", "exactEquals", "fromValues", "max", "mul", "multiply", "rotateX", "rotateY", "rotateZ", "scale", "set", "str", "sub", "subtract", "create", "clone", "a", "x", "y", "fromValues", "copy", "set", "add", "subtract", "multiply", "max", "scale", "len", "c", "d", "r", "m", "w", "rotateX", "rad", "p", "rotateY", "rotateZ", "str", "exactEquals", "equals", "a2", "sub", "mul", "offset", "count", "i", "l", "add", "ceil", "clone", "copy", "create", "cross", "dist", "distance", "div", "divide", "dot", "equals", "exactEquals", "floor", "forEach", "fromValues", "inverse", "len", "length", "lerp", "max", "min", "mul", "multiply", "negate", "normalize", "random", "round", "scale", "scaleAndAdd", "set", "sqrDist", "sqrLen", "squaredDistance", "squaredLength", "str", "sub", "subtract", "transformMat4", "transformQuat", "zero", "create", "clone", "a", "fromValues", "x", "y", "w", "copy", "set", "add", "subtract", "multiply", "divide", "ceil", "floor", "min", "max", "round", "scale", "scaleAndAdd", "distance", "squaredDistance", "length", "squaredLength", "negate", "inverse", "normalize", "len", "dot", "cross", "u", "A", "B", "C", "D", "E", "lerp", "random", "s2", "d", "transformMat4", "m", "transformQuat", "zero", "str", "exactEquals", "equals", "a2", "a3", "sub", "mul", "div", "dist", "sqrDist", "sqrLen", "forEach", "offset", "count", "i", "l", "create", "identity", "rad", "s", "a", "dot", "multiply", "rotateX", "rotateY", "rotateZ", "x", "y", "w", "r", "scale", "random", "invert", "a2", "a3", "m", "i", "k", "str", "clone", "fromValues", "copy", "set", "add", "mul", "lerp", "length", "len", "squaredLength", "sqrLen", "normalize", "exactEquals", "equals", "c", "d", "right", "add", "angle", "ceil", "clone", "copy", "create", "cross", "dist", "distance", "div", "divide", "dot", "equals", "exactEquals", "floor", "forEach", "fromValues", "inverse", "len", "length", "lerp", "max", "min", "mul", "multiply", "negate", "normalize", "random", "rotate", "round", "scale", "scaleAndAdd", "set", "sqrDist", "sqrLen", "squaredDistance", "squaredLength", "str", "sub", "subtract", "transformMat3", "transformMat4", "zero", "create", "clone", "a", "fromValues", "x", "y", "copy", "set", "add", "subtract", "multiply", "divide", "ceil", "floor", "min", "max", "round", "scale", "scaleAndAdd", "distance", "squaredDistance", "length", "squaredLength", "negate", "inverse", "normalize", "len", "dot", "cross", "lerp", "random", "r", "m", "transformMat3", "transformMat4", "rotate", "rad", "angle", "x1", "y1", "x2", "y2", "zero", "str", "exactEquals", "equals", "sub", "mul", "div", "dist", "sqrDist", "sqrLen", "forEach", "offset", "count", "i", "l", "d", "b", "p", "__assign", "s", "i", "n", "e", "o", "s", "m", "i", "n", "r", "e", "error", "s", "i", "r", "k", "a", "pack", "l", "f", "i", "pi", "path", "path", "_a", "x", "path", "_a", "path", "data", "path", "index", "path", "max", "index", "ch", "ch", "path", "max", "path", "max", "index", "i", "PathParser", "path", "path", "x", "y", "values", "n", "values", "x1", "y1", "path", "i", "path", "_a", "x", "y", "rad", "X1", "Y1", "angle", "X2", "Y2", "x1", "y1", "x2", "y2", "rad", "x", "y", "h", "k", "c2", "s2", "m2", "i", "x1", "y1", "x2", "y2", "a", "x1", "y1", "x2", "y2", "mid", "values", "x", "y", "px", "path", "i", "path", "x", "x", "i", "y", "a", "x1", "y1", "x2", "y2", "distance", "length", "point", "_a", "x", "y", "p", "n", "sign", "angle", "x1", "y1", "x", "y", "abs", "sin", "cos", "sqrt", "center", "point", "X1", "Y1", "X2", "Y2", "distance", "length", "_a", "x1", "y1", "x2", "y2", "t1", "distance", "length", "x", "y", "_a", "n", "x1", "y1", "x2", "y2", "t1", "distance", "length", "x", "y", "_a", "n", "distance", "path", "data", "x", "y", "length", "min", "max", "point", "i", "_a", "n", "a", "f", "p", "i", "r", "s", "x1", "y1", "x2", "y2", "path", "x", "y", "len", "_a", "a", "distance", "p2", "i", "c2", "x", "a", "_a", "l", "m2", "y", "str", "dom", "value", "field", "c", "array", "i", "K", "d", "mark", "y1", "a", "a", "f", "d", "x", "zero", "left", "a", "mid", "right", "center", "i", "x", "values", "valueof", "value", "index", "blur", "data", "values", "T", "w", "h", "y", "n", "x", "step", "sum", "i", "s", "values", "valueof", "count", "value", "index", "values", "valueof", "count", "mean", "sum", "value", "index", "values", "valueof", "values", "valueof", "min", "max", "value", "index", "x", "p", "i", "y", "n", "key", "value", "value", "identity", "x", "values", "keys", "identity", "values", "reduce", "keys", "identity", "values", "map", "reduce", "keys", "i", "groups", "keyof", "index", "value", "group", "keys", "values", "f", "index", "d", "i", "c", "a", "x", "values", "reduce", "key", "constant", "x", "count", "step", "error", "reverse", "n", "ticks", "i", "count", "step", "values", "value", "identity", "data", "i", "n", "x", "step", "values", "x0", "x1", "max", "m", "a", "bin", "_", "constant", "max", "values", "valueof", "value", "index", "values", "valueof", "max", "maxIndex", "index", "value", "min", "values", "valueof", "value", "index", "values", "valueof", "min", "minIndex", "index", "value", "array", "k", "left", "right", "n", "m", "s", "i", "values", "max", "defined", "value", "values", "p", "valueof", "n", "min", "max", "i", "values", "p", "valueof", "numbers", "_", "i", "index", "j", "values", "min", "max", "c", "d", "values", "valueof", "count", "sum", "value", "index", "values", "valueof", "array", "step", "n", "i", "range", "random", "shuffle", "array", "m", "i", "values", "valueof", "sum", "value", "index", "x", "a", "_", "a", "x", "array", "x", "i", "get", "mid", "e10", "e5", "e2", "tickIncrement", "count", "step", "error", "tickStep", "min", "max", "count", "d", "step", "tickIncrement", "field", "adjust", "step", "date", "i", "floor", "d", "ceil", "range", "ticks", "month", "year", "step", "month", "year", "year", "month", "week", "day", "hour", "minute", "second", "millisecond", "count", "interval", "len", "i", "step", "tickStep", "min", "max", "count", "interval", "r", "step", "x", "f", "x", "log", "pow", "a", "_", "log", "pow", "r", "min", "max", "rangeOf", "normalizeDomain", "transform", "clamp", "round", "normalize", "interpolate", "p", "m", "hsl", "h", "s", "l", "a", "r", "color", "colorString", "value", "a", "c2", "values", "i", "r", "b", "second", "minute", "hour", "day", "week", "month", "year", "map", "value", "keyof", "InternMap", "i", "value", "d", "x", "y", "r", "normalize", "array", "min", "d", "splice", "n", "range", "round", "flex", "sum", "value", "InternMap", "i", "bandWidth", "step", "offset", "_a", "_", "x", "count", "n", "ticks", "step", "tickIncrement", "i", "Constant", "_", "x", "a", "n", "mod", "n", "m", "round", "i", "k", "r", "range", "w", "step", "count", "s", "c", "l", "score", "ticks", "x", "min", "max", "range", "normalize", "interpolate", "len", "reverse", "i", "x", "n", "min", "max", "transform", "clamp", "round", "piecewise", "x", "transform", "x", "index", "y", "range", "a", "n", "pow", "log", "r", "min", "max", "i", "ticks", "p", "k", "count", "min", "max", "nice", "min", "max", "range", "x0", "x1", "i", "y", "a", "quantileSorted", "len", "i", "n", "a", "tmp", "range", "y", "a", "min", "max", "i", "len", "v", "index", "_a", "len", "offset", "now", "min", "max", "count", "interval", "r", "step", "ticks", "d", "transform", "x", "min", "max", "normalize", "Sequential", "rangeOf", "normalizeDomain", "d2", "x", "Diverging", "__decorate", "_a", "index", "mark", "i", "scale", "color", "Constant", "name", "identity", "x", "compose", "value", "str", "exclude", "compute", "map", "value", "transform", "d", "p", "prefixes", "x", "size", "px", "d", "value", "dist", "value", "indexOf", "array", "_", "i", "array", "array", "divide", "len", "i", "comb", "groupBy", "mark", "k", "_a", "column", "i", "groups", "group", "value", "scale", "data", "f", "indexOf", "s", "groupBy", "reverse", "mark", "data", "Y1", "groups", "_a", "i", "y", "_", "transform", "mark", "x", "y", "groupBy", "year", "month", "day", "hour", "mark", "tooltip", "T", "d", "i", "mark", "x", "mark", "y", "mark", "mark", "size", "mark", "__rest", "values", "value", "K", "i", "mark", "color", "C", "mark", "data", "mark", "data", "mark", "y1", "mark", "x1", "mark", "data", "index", "mark", "data", "index", "mark", "tooltip", "channel", "field", "value", "d", "mark", "mark", "data", "__rest", "x0", "y0", "x", "y", "mark", "k", "mark", "data", "d", "mark", "gradient", "groupBy", "reverse", "__rest", "mark", "data", "scale", "groups", "i", "groupBy", "reverse", "mark", "k", "groups", "I", "i", "ED", "max", "basis", "min", "i", "max", "groupBy", "mark", "tooltip", "x", "__rest", "Yn", "k", "groups", "I", "rangeOf", "value", "scale", "step", "a", "random", "mark", "scaleX", "scaleY", "random", "mark", "scale", "scaleX", "rangeOf", "random", "mark", "scale", "scaleY", "rangeOf", "groupBy", "mark", "x", "__rest", "Yn", "k", "groups", "i", "I", "maxY", "m", "offset", "groupBy", "mark", "_", "groups", "i", "max", "last", "i", "max", "min", "groupBy", "mark", "groups", "__rest", "__rest", "d", "mean", "max", "count", "first", "last", "sum", "min", "median", "i", "formatter", "groupBy", "__rest", "mark", "data", "groups", "field", "I", "indexOf", "__rest", "groupBy", "mark", "max", "i", "min", "values", "mark", "reverse", "slice", "scale", "T", "normalizeReducer", "s", "data", "field", "d", "createReducer", "i", "mark", "x", "flex", "sub", "x1", "y1", "x2", "y2", "add", "dist", "x0", "y0", "angle", "x", "y", "angleBetween", "maxY", "direction", "count", "size", "row", "m", "x", "y", "i", "mark", "values", "min", "max", "__rest", "groupBy", "mark", "i", "d", "bin", "x0", "x1", "key", "k", "length", "x", "i", "y", "every", "a", "area", "size", "f", "i", "frame", "size", "groupBy", "mark", "groups", "value", "mark", "_a", "data", "i", "f", "_", "encode", "x", "constant", "max", "min", "x", "pi", "tau", "epsilon", "i", "n", "d", "k", "x", "y", "x1", "y1", "x2", "y2", "r", "x0", "y0", "l", "cw", "w", "h", "shape", "_", "d", "d", "x0", "y0", "x1", "y1", "x2", "y2", "y3", "y32", "cw", "x00", "y00", "d2", "r", "D", "max", "path", "min", "t0", "t1", "a", "_", "slice", "x", "Linear", "x", "y", "p", "x", "y", "defined", "path", "line", "data", "i", "n", "d", "_", "x0", "y0", "y1", "x1", "defined", "path", "area", "data", "i", "k", "n", "d", "_", "Radial", "a", "r", "l", "c", "_", "a", "c", "x0", "x1", "y0", "y1", "_", "sqrt3", "sqrt3", "noop_default", "x", "y", "noop_default", "x", "y", "x", "y", "x0", "y0", "x", "y", "x0", "y0", "i", "beta", "point", "x", "y", "custom", "tension", "noop_default", "x", "y", "point", "custom", "tension", "x", "y", "point", "custom", "tension", "point", "x", "y", "x1", "y1", "x2", "y2", "a", "n", "m", "custom", "alpha", "noop_default", "x", "y", "point", "custom", "alpha", "x", "y", "point", "custom", "alpha", "noop_default", "x", "y", "x", "x2", "y2", "p", "h", "point", "t0", "t1", "x0", "y0", "x1", "y1", "y", "x", "y", "n", "px", "i", "m", "a", "r", "x", "y", "x1", "polar", "d", "EventEmitter", "o", "e", "r", "p", "n", "o", "e", "r", "p", "t", "distance", "x1", "y1", "x2", "y2", "dx", "dy", "Math", "sqrt", "getBBoxByArray", "xArr", "yArr", "minX", "min", "apply", "_toConsumableArray", "minY", "maxX", "max", "maxY", "x", "y", "width", "height", "xExtrema", "rx", "ry", "xRotation", "Math", "atan", "tan", "yExtrema", "xAt", "cx", "cy", "angle", "cos", "sin", "yAt", "box", "cx", "cy", "rx", "ry", "xRotation", "startAngle", "endAngle", "xDim", "xExtrema", "minX", "Infinity", "maxX", "xs", "i", "Math", "PI", "xAngle", "push", "length", "x", "xAt", "yDim", "yExtrema", "minY", "maxY", "ys", "yAngle", "y", "yAt", "width", "height", "EPSILON", "nearestPoint", "xArr", "yArr", "x", "y", "tCallback", "length", "t", "d", "Infinity", "v0", "segNum", "increaseRate", "interval", "i", "_t", "v1", "apply", "_toConsumableArray", "concat", "d1", "distance", "count", "prev", "next", "v2", "d2", "length", "x1", "y1", "x2", "y2", "distance", "pointAt", "t", "x", "y", "pointToLine", "x1", "y1", "x2", "y2", "x", "y", "d", "vec2", "exactEquals", "Math", "sqrt", "u", "normalize", "a", "abs", "dot", "cubicAt", "p0", "p1", "p2", "p3", "t", "onet", "extrema", "p0", "p1", "p2", "p3", "a", "b", "c", "extremas", "t1", "t2", "discSqrt", "isNumberEqual", "push", "disc", "Math", "sqrt", "box", "x1", "y1", "x2", "y2", "x3", "y3", "x4", "y4", "xArr", "yArr", "xExtrema", "extrema", "yExtrema", "i", "length", "push", "cubicAt", "getBBoxByArray", "nearestPoint", "x1", "y1", "x2", "y2", "x3", "y3", "x4", "y4", "x0", "y0", "length", "bezierNearestPoint", "cubicAt", "pointDistance", "point", "distance", "x", "y", "lengthOfSegment", "points", "length", "totalLength", "i", "from", "to", "distance", "length", "points", "lengthOfSegment", "quadraticAt", "p0", "p1", "p2", "t", "onet", "extrema", "a", "isNumberEqual", "rst", "box", "x1", "y1", "x2", "y2", "x3", "y3", "xExtrema", "extrema", "yExtrema", "xArr", "yArr", "undefined", "push", "quadraticAt", "getBBoxByArray", "nearestPoint", "x1", "y1", "x2", "y2", "x3", "y3", "x0", "y0", "nearestPointBezier", "quadraticAt", "pointDistance", "point", "distance", "x", "y", "global", "this", "quickselect", "k", "left", "right", "n", "m", "s", "i", "swap", "tmp", "a", "RBush", "search", "intersects", "data", "createNode", "remove", "path", "indexes", "index", "M", "calcBBox", "right2", "area", "extend", "intersectionArea", "p", "maxY", "mid", "Shape", "ClipSpaceNearZ", "AbstractRendererPlugin", "_classCallCheck", "plugins", "_createClass", "key", "value", "addRenderingPlugin", "plugin", "push", "context", "renderingPlugins", "removeAllRenderingPlugins", "_this", "forEach", "indexOf", "splice", "AbstractRenderer", "config", "clipSpaceNearZ", "NEGATIVE_ONE", "_objectSpread", "enableDirtyCheck", "enableCulling", "enableAutoRendering", "enableDirtyRectangleRendering", "enableDirtyRectangleRenderingDebug", "enableSizeAttenuation", "enableRenderingOptimization", "registerPlugin", "findIndex", "unregisterPlugin", "getPlugins", "getPlugin", "name", "find", "getConfig", "setConfig", "Object", "assign", "addVec3", "vec3", "add", "copyVec3", "copy", "maxVec3", "max", "minVec3", "min", "scaleVec3", "scale", "subVec3", "sub", "AABB", "center", "halfExtents", "update", "setMinMax", "getMin", "getMax", "aabb", "isEmpty", "tc", "tcx", "tcy", "tcz", "th", "thx", "thy", "thz", "tminx", "tmaxx", "tminy", "tmaxy", "tminz", "tmaxz", "oc", "ocx", "ocy", "ocz", "oh", "ohx", "ohy", "ohz", "ominx", "omaxx", "ominy", "omaxy", "ominz", "omaxz", "setFromTransformedAABB", "bc", "br", "ac", "ar", "mx0", "mx1", "mx2", "my0", "my1", "my2", "mz0", "mz1", "mz2", "mx0a", "Math", "abs", "mx1a", "mx2a", "my0a", "my1a", "my2a", "mz0a", "mz1a", "mz2a", "aMax", "aMin", "bMax", "bMin", "intersection", "getNegativeFarPoint", "plane", "pnVertexFlag", "getPositiveFarPoint", "Plane", "distance", "normal", "fromValues", "updatePNVertexFlag", "Number", "distanceToPoint", "point", "dot", "normalize", "invLen", "len", "intersectsLine", "start", "end", "d0", "d1", "t", "lerp", "Mask", "Frustum", "planes", "extractFromVPMatrix", "projectionMatrix", "_projectionMatrix", "_slicedToArray", "m0", "m1", "m2", "m3", "m4", "m5", "m6", "m7", "m8", "m9", "m10", "m11", "m12", "m13", "m14", "m15", "set", "Point", "x", "arguments", "length", "undefined", "y", "clone", "copyFrom", "Rectangle", "width", "height", "top", "bottom", "toJSON", "fromRect", "rect", "applyTransform", "matrix", "topLeft", "vec4", "topRight", "bottomLeft", "bottomRight", "transformedTopLeft", "create", "transformedTopRight", "transformedBottomLeft", "transformedBottomRight", "transformMat4", "minX", "minY", "maxX", "ERROR_MSG_METHOD_NOT_IMPLEMENTED", "ERROR_MSG_USE_DOCUMENT_ELEMENT", "ERROR_MSG_APPEND_DESTROYED_ELEMENT", "getAngle", "angle", "$vec3", "createVec3", "z", "Array", "isArray", "isNumber", "DEG_RAD", "PI", "deg2rad", "deg", "RAD_DEG", "rad2deg", "rad", "turn2deg", "turn", "HALF_PI", "Math", "PI", "getEulerFromQuat", "out", "quat", "x", "y", "z", "w", "x2", "y2", "z2", "w2", "unit", "test", "atan2", "asin", "getEulerFromMat4", "m", "_mat4$getScaling", "mat4", "getScaling", "vec3", "create", "_mat4$getScaling2", "_slicedToArray", "sx", "sy", "sz", "getEuler", "length", "fromRotationTranslationScale", "rotation", "scaleX", "scaleY", "cos", "sin", "mat3", "fromValues", "makePerspective", "left", "right", "top", "bottom", "near", "far", "zero", "arguments", "undefined", "twoNear", "rightMinusLeft", "topMinusBottom", "a", "b", "c", "d", "farMinusNear", "farMulNear", "decompose", "mat", "row0x", "row0y", "row1x", "row1y", "scalingX", "sqrt", "scalingY", "determinant", "invScalingX", "invScalingY", "angle", "rad2deg", "tmp", "perspectiveMatrix", "tmpVec4", "vec4", "row", "pdum3", "decomposeMat4", "matrix", "translation", "scale", "skew", "perspective", "quaternion", "normalize", "copy", "abs", "a03", "a13", "a23", "a30", "a31", "a32", "a33", "ret", "invert", "transpose", "transformMat4", "mat3from4", "dot", "combine", "cross", "i", "max", "m44", "mat4x4", "scale1", "scale2", "CameraType", "CameraTrackingMode", "CameraProjectionMode", "CameraEvent", "UPDATED", "MIN_DISTANCE", "Camera", "_classCallCheck", "clipSpaceNearZ", "ClipSpaceNearZ", "NEGATIVE_ONE", "eventEmitter", "EventEmitter", "up", "forward", "position", "focalPoint", "distanceVector", "distance", "azimuth", "elevation", "roll", "relAzimuth", "relElevation", "relRoll", "dollyingStep", "maxDistance", "Infinity", "minDistance", "zoom", "rotateWorld", "fov", "aspect", "projectionMatrix", "projectionMatrixInverse", "jitteredProjectionMatrix", "enableUpdate", "type", "EXPLORING", "trackingMode", "DEFAULT", "projectionMode", "PERSPECTIVE", "frustum", "Frustum", "orthoMatrix", "_createClass", "key", "value", "isOrtho", "ORTHOGRAPHIC", "getProjectionMode", "getPerspective", "getPerspectiveInverse", "getFrustum", "getPosition", "getFocalPoint", "getDollyingStep", "getNear", "getFar", "getZoom", "getOrthoMatrix", "getView", "view", "setEnableUpdate", "enabled", "setType", "setWorldRotation", "_getAngles", "TRACKING", "setTrackingMode", "setProjectionMode", "Error", "flag", "getViewTransform", "getWorldTransform", "jitterProjectionMatrix", "fromTranslation", "multiply", "clearJitterProjectionMatrix", "setMatrix", "_update", "setProjectionMatrix", "setFov", "setPerspective", "setAspect", "setNear", "setOrthographic", "rright", "setFar", "setViewOffset", "fullWidth", "fullHeight", "width", "height", "offsetX", "offsetY", "clearViewOffset", "setZoom", "setZoomByViewportPoint", "viewportPoint", "_this$canvas$viewport", "canvas", "viewport2Canvas", "ox", "oy", "rotate", "setPosition", "setFocalPoint", "_this$canvas$viewport2", "cx", "cy", "dvec", "dx", "dy", "_this$getPosition", "_this$getPosition2", "px", "py", "_this$getFocalPoint", "_this$getFocalPoint2", "fx", "fy", "_this$view", "tan", "deg2rad", "ZERO", "triggerUpdate", "l", "r", "t", "_this$view2", "scaleW", "scaleH", "ortho", "orthoZO", "_getOrthoMatrix", "createVec3", "_setPosition", "CINEMATIC", "subtract", "el", "az", "rotateY", "rotateX", "lookAt", "_getAxes", "_getDistance", "getDistance", "getDistanceVector", "setDistance", "pos", "n", "f", "setMaxDistance", "setMinDistance", "setAzimuth", "getAngle", "computeMatrix", "ORBITING", "_getPosition", "_getFocalPoint", "getAzimuth", "setElevation", "getElevation", "setRoll", "getRoll", "rotZ", "setAxisAngle", "identity", "rotX", "rotY", "rotQ", "rotMatrix", "fromQuat", "translate", "transformMat3", "fromMat4", "add", "fromRotationTranslationScaleOrigin", "viewMatrix", "vpMatrix", "extractFromVPMatrix", "emit", "ERROR_MSG_METHOD_NOT_IMPLEMENTED", "pan", "tx", "ty", "dolly", "createLandmark", "name", "params", "gotoLandmark", "options", "cancelLandmarkAnimation", "Strategy", "SortReason", "EMPTY_PARSED_PATH", "absolutePath", "hasArc", "segments", "polygons", "polylines", "curve", "totalLength", "rect", "Rectangle", "PropertySyntax", "format", "o", "k", "h", "s", "min", "m2", "memoize", "func", "resolver", "TypeError", "memoized", "_len", "args", "Array", "_key", "apply", "cache", "has", "get", "result", "set", "Cache", "Map", "cacheList", "push", "clearCache", "forEach", "clear", "UnitType", "UnitCategory", "Nested", "ParenLess", "data", "unit_type", "kEms", "kPixels", "kDegrees", "kRadians", "kGradians", "kMilliseconds", "kSeconds", "kRems", "kTurns", "CSSStyleValueType", "stringToUnitType", "find", "item", "unitFromName", "kUnknown", "kNumber", "kPercentage", "unitTypeToUnitCategory", "kInteger", "kUNumber", "kUPercent", "kULength", "kUTime", "kUAngle", "kUOther", "canonicalUnitTypeForCategory", "category", "conversionToCanonicalUnitsScaleFactor", "factor", "unitTypeToString", "CSSStyleValue", "toString", "buildCSSText", "kNo", "isNumericValue", "getType", "kUnitType", "kClampType", "isAngle", "isLength", "isRelativeUnit", "isTime", "CSSColorValue", "_CSSStyleValue", "colorSpace", "_this", "_callSuper", "_inherits", "kColorType", "to", "GradientType", "CSSGradientValue", "clone", "p", "CSSKeywordValue", "kKeywordType", "formatInfinityOrNaN", "number", "suffix", "Number", "isFinite", "toCanonicalUnit", "CSSUnitValue", "unitOrName", "equals", "other", "other_unit_value", "convertTo", "target_unit", "canonical_unit", "scale_factor", "text", "toFixed", "kMinInteger", "kMaxInteger", "isNaN", "concat", "Opx", "Odeg", "CSSRGB", "_CSSColorValue", "g", "alpha", "isNone", "unsetKeywordValue", "initialKeywordValue", "inheritKeywordValue", "keywordCache", "unset", "initial", "inherit", "getOrCreateKeyword", "noneColor", "transparentColor", "getOrCreateRGBA", "getOrCreateUnitValue", "colorStopToString", "colorStop", "join", "parseGradient", "tokens", "linearGradient", "repeatingLinearGradient", "radialGradient", "repeatingRadialGradient", "conicGradient", "sideOrCorner", "extentKeywords", "positionKeywords", "pixelValue", "percentageValue", "emValue", "angleValue", "startCall", "endCall", "comma", "hexColor", "literalColor", "rgbColor", "rgbaColor", "input", "error", "msg", "getAST", "ast", "matchListDefinitions", "matchListing", "matchDefinition", "matchGradient", "matchLinearOrientation", "matchListRadialOrientations", "gradientType", "pattern", "orientationMatcher", "matchCall", "captures", "orientation", "scan", "colorStops", "matchColorStop", "callback", "matchSideOrCorner", "matchAngle", "match", "radialOrientations", "radialOrientation", "matchRadialOrientation", "lookaheadCache", "radialType", "matchCircle", "matchEllipse", "at", "matchAtPosition", "extent", "matchExtentKeyword", "positionAt", "defaultPosition", "matchPositioning", "circle", "style", "matchLength", "ellipse", "matchDistance", "positioning", "location", "matchCoordinates", "matcher", "color", "matchColor", "matchHexColor", "matchRGBAColor", "matchRGBColor", "matchLiteralColor", "matchNumber", "matchPositionKeyword", "captureIndex", "regexp", "blankCaptures", "exec", "consume", "size", "substring", "code", "computeLinearGradient", "rad", "rx", "ry", "rcx", "rcy", "x1", "y1", "computeRadialGradient", "distanceSquareRoot", "regexLG", "regexRG", "regexPR", "regexColorStop", "spaceColorStops", "_colorStops$length", "_colorStops$0$length", "previousIndex", "previousOffset", "_colorStops$i$length", "offset", "isNil", "j", "SideOrCornerToDegMap", "angleToDeg", "positonToCSSUnitValue", "unitX", "unitY", "_position$value", "colorStr", "indexOf", "parse", "map", "_ref", "steps", "LinearGradient", "_positonToCSSUnitValu", "_orientation$0$style", "RadialGradient", "arr", "_arr$2$match", "stop", "split", "parseFloat", "_ref2", "_ref3", "parsedRadialGradient", "parseRadialGradient", "isString", "parsePattern", "gradientStr", "_arr$4$match", "_ref4", "_ref5", "patternStr", "repetition", "src", "image", "isPattern", "object", "image", "isCSSRGB", "isNil", "r", "g", "b", "parseColor", "memoize", "colorStr", "_objectSpread", "repetition", "transparentColor", "noneColor", "parseGradient", "color", "d3", "rgba", "opacity", "getOrCreateRGBA", "apply", "mergeColors", "left", "right", "Number", "alpha", "slice", "i", "Math", "round", "clamp", "concat", "join", "parseDimension", "unitRegExp", "string", "getOrCreateUnitValue", "trim", "toLowerCase", "isFinite", "search", "matchedUnits", "replace", "match", "push", "taggedUnitRegExp", "source", "map", "unit", "RegExp", "parseLengthUnmemoize", "css", "parseLength", "parserPercentageUnmemoize", "parseLengthOrPercentageUnmemoize", "isNumber", "parseLengthOrPercentage", "parseAngleUnmemoize", "parseAngle", "mergeDimensions", "target", "nonNegative", "index", "arguments", "length", "undefined", "leftValue", "value", "rightValue", "canonicalUnit", "toCanonicalUnit", "leftCanonicalUnitValue", "convertTo", "rightCanonicalUnitValue", "unitTypeToString", "CSSUnitValue", "isLength", "convertPercentUnit", "max", "convertAngleUnit", "deg", "UnitType", "kDegrees", "kRadians", "rad2deg", "kTurns", "turn2deg", "parseDimensionArrayFormat", "size", "parsed", "Array", "isArray", "segment", "isString", "split", "_toConsumableArray", "valueWithUnit", "vec3Index", "useMin", "kPixels", "kPercentage", "bounds", "nodeName", "Shape", "GROUP", "getLocalBounds", "getGeometryBounds", "min", "halfExtents", "parseParam", "supportedFilters", "parseFilter", "filterStr", "filterRegExp", "result", "prevLastIndex", "exec", "indexOf", "name", "params", "p", "lastIndex", "numberToString", "x", "toString", "parseNumberUnmemoize", "test", "parseNumber", "mergeNumbers", "clampedMergeNumbers", "mergeNumberLists", "numberList", "getOrCalculatePathTotalLength", "path", "parsedStyle", "d", "totalLength", "getTotalLength", "absolutePath", "getOrCalculatePolylineTotalLength", "polyline", "points", "polylineLength", "removeRedundantMCommand", "prevSegment", "cmd", "prevCmd", "srcPoint", "destPoint", "isSamePoint", "splice", "hasArcOrBezier", "hasArc", "count", "extractPolygons", "pathArray", "polygons", "polylines", "point1", "point2", "getPathBBox", "segments", "lineWidth", "xArr", "yArr", "segmentsWithAngle", "currentPoint", "prePoint", "box", "command", "quadBox", "cubicBox", "arcParams", "arcBox", "cx", "cy", "rx", "ry", "xRotation", "startAngle", "endAngle", "width", "y", "height", "nextPoint", "filter", "item", "isNaN", "Infinity", "minX", "minY", "maxX", "maxY", "extra", "getExtraFromSegmentWithAngle", "xExtra", "yExtra", "currentAndPre", "pow", "currentAndNext", "preAndNext", "currentAngle", "acos", "sqrt", "sin", "isNumberEqual", "xAngle", "abs", "atan2", "yAngle", "PI", "cos", "toSymmetry", "point", "center", "angleBetween", "v0", "v1", "n", "sign", "angle", "pointOnEllipticalArc", "p0", "xAxisRotation", "largeArcFlag", "sweepFlag", "p1", "t", "mod", "xAxisRotationRadians", "deg2rad", "ellipticalArcAngle", "dx", "dy", "transformedPoint", "radiiCheck", "cSquareNumerator", "cSquareRootDenom", "cRadicand", "cCoef", "transformedCenter", "startVector", "endVector", "sweepAngle", "ellipseComponentX", "ellipseComponentY", "ellipticalArcStartAngle", "ellipticalArcEndAngle", "ellipticalArcCenter", "resultantRx", "resultantRy", "path2Segments", "nextParams", "startMovePoint", "lastStartMovePointIndex", "startTangent", "endTangent", "cubicParams", "getArcParams", "len", "includes", "cp", "preSegment", "cp1", "cp2", "_getTangentAtRatio", "getTangentAtRatio", "dx1", "dy1", "_getTangentAtRatio2", "dx2", "dy2", "ratio", "_segment$arcParams", "_segment$arcParams$rx", "_segment$arcParams$ry", "arcFlag", "p2", "xDist", "yDist", "dist", "vMag", "v", "vRatio", "u", "vAngle", "startPoint", "x1", "y1", "x2", "y2", "xp", "yp", "lambda", "diff", "f", "cxp", "cyp", "theta", "dTheta", "commandsToPathString", "commands", "transform", "reduce", "prev", "cur", "vec3", "fromValues", "transformMat4", "p3", "c", "lineToCommands", "ellipseToCommands", "factor", "top", "bottom", "polygonToCommands", "closed", "rectToCommands", "radius", "_radius", "_slicedToArray", "tlr", "trr", "brr", "blr", "signX", "signY", "convertToPath", "getLocalTransform", "LINE", "_parsedStyle", "_parsedStyle$x", "_parsedStyle$y", "_parsedStyle$x2", "_parsedStyle$y2", "CIRCLE", "_parsedStyle2", "_parsedStyle2$r", "_parsedStyle2$cx", "_parsedStyle2$cy", "ELLIPSE", "_parsedStyle3", "_parsedStyle3$rx", "_parsedStyle3$ry", "_parsedStyle3$cx", "_parsedStyle3$cy", "POLYLINE", "POLYGON", "RECT", "_parsedStyle4", "_parsedStyle4$width", "_parsedStyle4$height", "_parsedStyle4$x", "_parsedStyle4$y", "hasRadius", "some", "PATH", "internalParsePath", "path", "Array", "isArray", "length", "absolutePath", "hasArc", "segments", "polygons", "polylines", "curve", "totalLength", "rect", "x", "y", "width", "height", "normalizePath", "_unused", "console", "error", "concat", "removeRedundantMCommand", "hasArcOrBezier", "_extractPolygons", "extractPolygons", "path2Segments", "_getPathBBox", "getPathBBox", "Number", "isFinite", "memoizedParsePath", "memoize", "parsePath", "isString", "mergePaths", "left", "right", "object", "curve1", "curve2", "path2Curve", "curves", "equalizeSegments", "curve0", "getDrawDirection", "reverseCurve", "clonePath", "getRotatedCurve", "pathArray", "parsePoints", "pointsOrStr", "points", "split", "map", "pointStr", "_pointStr$split", "_pointStr$split2", "_slicedToArray", "mergePoints", "_", "TRANSFORM_REGEXP", "cast", "pattern", "contents", "i", "id", "transformFunctions", "matrix", "matrix3d", "rotate", "rotateX", "rotateY", "rotateZ", "rotate3d", "perspective", "scale", "CSSUnitValue", "scaleX", "scaleY", "scaleZ", "scale3d", "skew", "skewX", "Odeg", "skewY", "translate", "Opx", "translateX", "translateY", "translateZ", "translate3d", "parseArrayTransform", "transform", "result", "item", "name", "args", "slice", "push", "functionData", "parsedArgs", "value", "getOrCreateUnitValue", "t", "d", "parseTransform", "trim", "match", "prevLastIndex", "lastIndex", "exec", "index", "functionName", "argTypes", "arg", "type", "parsedArg", "a", "n", "A", "s", "parseAngle", "N", "parseNumber", "T", "parseLengthOrPercentage", "L", "parseLength", "toUpperCase", "undefined", "parseTransformUnmemoize", "parseAngleUnmemoize", "parseNumberUnmemoize", "parseLengthOrPercentageUnmemoize", "parseLengthUnmemoize", "convertItemToMatrix", "z", "angle", "deg2rad", "convertAngleUnit", "Math", "cos", "sin", "sqrLength", "sqrt", "sc", "sq", "xAngle", "yAngle", "tan", "convertPercentUnit", "p", "multiplyMatrices", "b", "convertToMatrix", "transformList", "reduce", "makeMatrixDecomposition", "quaternion", "decomposeMat4", "composeMatrix", "multiply", "j", "k", "is2D", "m", "quat", "w", "rotMatrix", "temp", "numberToLongString", "toFixed", "replace", "mergeMatrices", "leftArgs", "rightArgs", "decompositionPair", "list", "q", "mat", "stringifiedArgs", "join", "dot", "v1", "v2", "fromQ", "toQ", "f", "product", "clamp", "theta", "acos", "typeTo2D", "typeTo3D", "isMatrixOrPerspective", "lt", "rt", "mergeTransforms", "target", "flipResults", "_loop", "_left$i", "defaultValue", "substring", "unit", "leftResult", "rightResult", "types", "merged", "leftType", "rightType", "leftFunctionData", "rightFunctionData", "leftArgsCopy", "rightArgsCopy", "stringConversions", "mergeDimensions", "tmp", "parseTransformOrigin", "values", "convertKeyword2Percent", "keyword", "BUILT_IN_PROPERTIES", "inh", "syntax", "PropertySyntax", "OPACITY_VALUE", "PAINT", "l", "COLOR", "LENGTH_PERCENTAGE", "SHADOW_BLUR", "LENGTH_PERCENTAGE_12", "DEFINED_PATH", "OFFSET_DISTANCE", "ind", "Z_INDEX", "FILTER", "TRANSFORM", "TRANSFORM_ORIGIN", "COORDINATE", "LENGTH_PERCENTAGE_14", "PATH", "LIST_OF_POINTS", "TEXT", "TEXT_TRANSFORM", "LENGTH", "NUMBER", "nodeName", "Shape", "POLYGON", "POLYLINE", "MARKER", "GEOMETRY_ATTRIBUTE_NAMES", "Set", "filter", "propertyMetadataCache", "DefaultStyleValueRegistry", "runtime", "_this", "_classCallCheck", "forEach", "property", "registerMetadata", "_createClass", "key", "metadata", "_toConsumableArray", "getPropertySyntax", "CSSPropertySyntaxFactory", "processProperties", "attributes", "options", "arguments", "skipUpdateAttribute", "skipParse", "forceUpdateGeometry", "usedAttributes", "Object", "assign", "oldClipPath", "parsedStyle", "clipPath", "oldOffsetPath", "offsetPath", "assignParsedStyle", "needUpdateGeometry", "has", "getParsedStyleListOf", "fill", "parseColor", "stroke", "shadowColor", "parseFilter", "isNil", "radius", "parseDimensionArrayFormat", "lineDash", "_objectSpread", "EMPTY_PARSED_PATH", "textTransform", "calculator", "isUndefined", "transformOrigin", "markerStart", "markerEnd", "markerMid", "zIndex", "postProcessor", "offsetDistance", "geometry", "dirty", "renderable", "boundsDirty", "renderBoundsDirty", "sceneGraphService", "dirtifyToRoot", "updateGeometry", "geometryUpdater", "geometryUpdaterFactory", "contentBounds", "AABB", "renderBounds", "_geometryUpdater$upda", "update", "_geometryUpdater$upda2", "cx", "_geometryUpdater$upda3", "cy", "_geometryUpdater$upda4", "cz", "_geometryUpdater$upda5", "hwidth", "_geometryUpdater$upda6", "hheight", "_geometryUpdater$upda7", "hdepth", "halfExtents", "abs", "_parsedStyle$lineWidt", "lineWidth", "_parsedStyle$increase", "increasedLineWidthForHitTesting", "_parsedStyle$shadowTy", "shadowType", "_parsedStyle$filter", "center", "expansion", "SQRT2", "hasStroke", "isNone", "halfLineWidth", "_geometry$renderBound", "min", "max", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "shadowBlurInPixels", "shadowOffsetXInPixels", "shadowOffsetYInPixels", "shadowLeft", "shadowRight", "shadowTop", "shadowBottom", "setMinMax", "_ref", "params", "blurRadius", "vec3", "add", "_geometry$renderBound2", "flipY", "flipX", "usedOriginXValue", "usedOriginYValue", "setOrigin", "updateSizeAttenuation", "node", "zoom", "style", "isSizeAttenuation", "rawLineWidth", "CIRCLE", "rawR", "r", "constructor", "PARSED_STYLE_LIST", "CSSPropertyAngle", "mixer", "mergeNumbers", "oldParsed", "parsed", "CSSPropertyClipPath", "oldPath", "newPath", "CSSKeywordValue", "updateDisplayObjectDependency", "leaf", "childNodes", "CSSPropertyColor", "parser", "mergeColors", "noneColor", "transparentColor", "CSSPropertyFilter", "getFontSize", "fontSize", "CSSPropertyLengthOrPercentage", "computed", "isNumber", "isRelativeUnit", "UnitType", "kPercentage", "kEms", "parentNode", "kRems", "_object$ownerDocument", "ownerDocument", "documentElement", "CSSPropertyLengthOrPercentage12", "mergeNumberLists", "c", "CSSPropertyLengthOrPercentage14", "CSSPropertyMarker", "oldMarker", "newMarker", "_newMarker", "cloned", "cloneNode", "isMarker", "CSSPropertyNumber", "CSSPropertyOffsetDistance", "clampedMergeNumbers", "_object$parsedStyle", "LINE", "point", "getPoint", "setLocalPosition", "CSSPropertyOpacity", "CSSPropertyPath", "Rectangle", "CSSPropertyPoints", "CSSPropertyShadowBlur", "_CSSPropertyLengthOrP", "_len", "_key", "_callSuper", "Infinity", "_inherits", "CSSPropertyText", "nodeValue", "text", "CSSPropertyTextTransform", "rawText", "getAttribute", "transformedText", "charAt", "toLowerCase", "CANVAS_Map", "WeakMap", "cleanExistedCanvas", "container", "canvas", "cleanUp", "$dom", "document", "getElementById", "has", "get", "destroy", "set", "isBrowser", "window", "isElement", "target", "getAttribute", "sortedIndex", "array", "value", "low", "high", "length", "mid", "sortByZIndex", "o1", "o2", "zIndex1", "Number", "parsedStyle", "zIndex", "zIndex2", "parent", "parentNode", "children", "childNodes", "indexOf", "findClosestClipPathTarget", "object", "el", "_el$parsedStyle", "clipPath", "parentElement", "PX_SUFFIX", "setDOMSize", "$el", "width", "height", "style", "getStyle", "property", "defaultView", "getComputedStyle", "getPropertyValue", "getWidth", "offsetWidth", "parseFloat", "getHeight", "offsetHeight", "MOUSE_POINTER_ID", "TOUCH_TO_POINTER", "touchstart", "touchend", "touchendoutside", "touchmove", "touchcancel", "clock", "performance", "now", "Date", "isInFragment", "node", "nodeName", "Shape", "FRAGMENT", "getRootNode", "isFillOrStrokeAffected", "pointerEvents", "arguments", "undefined", "fill", "stroke", "hasFill", "hasStroke", "isFillOtherThanNone", "isNone", "isStrokeOtherThanNone", "uId", "uniqueId", "root", "self", "global", "nowOffset", "pnow", "reservedCBs", "lastTime", "polyfillRaf", "callback", "TypeError", "concat", "currentTime", "gap", "delay", "id", "Object", "keys", "setTimeout", "copied", "forEach", "key", "polyfillCaf", "vendorPrefixes", "getRequestAnimationFrame", "vp", "requestAnimationFrame", "getCancelAnimationFrame", "cancelAnimationFrame", "find", "arr", "predicate", "i", "raf", "caf", "AsyncParallelHook", "_classCallCheck", "callbacks", "_createClass", "getCallbacksNum", "tapPromise", "options", "fn", "push", "promise", "_len", "args", "Array", "_key", "Promise", "all", "map", "apply", "AsyncSeriesWaterfallHook", "_promise", "_asyncToGenerator", "_regeneratorRuntime", "mark", "_callee", "_this$callbacks", "result", "_args", "wrap", "_callee$", "_context", "prev", "next", "sent", "abrupt", "stop", "SyncHook", "tap", "call", "argsArr", "SyncWaterfallHook", "genericFontFamilies", "stringRegExp", "toFontString", "attributes", "_attributes$fontSize", "fontSize", "_attributes$fontFamil", "fontFamily", "_attributes$fontStyle", "fontStyle", "_attributes$fontVaria", "fontVariant", "_attributes$fontWeigh", "fontWeight", "fontSizeString", "isNumber", "fontFamilies", "split", "trim", "test", "join", "createSkewMatrix", "skewMatrix", "skewX", "skewY", "mat4", "identity", "Math", "tan", "$mat4_1", "create", "$mat4_2", "parser", "scale", "d", "fromScaling", "scaleX", "scaleY", "scaleZ", "scale3d", "translate", "fromTranslation", "translateX", "translateY", "translateZ", "translate3d", "rotate", "fromZRotation", "deg2rad", "convertAngleUnit", "rotateX", "fromXRotation", "rotateY", "fromYRotation", "rotateZ", "rotate3d", "fromRotation", "skew", "matrix", "matrix3d", "_toConsumableArray", "s", "$vec3One", "vec3", "fromValues", "$vec3Zero", "optimizer", "runtime", "sceneGraphService", "setLocalScale", "setLocalEulerAngles", "setLocalPosition", "dirtifyLocal", "transformable", "parsedTransformToMat4", "transform", "t", "m", "_transform$i", "p", "mul", "setLocalTransform", "resetLocalTransform", "getLocalTransform", "CSSPropertyTransform", "parseTransformUnmemoize", "mixer", "mergeTransforms", "calculator", "name", "oldParsed", "parsed", "CSSKeywordValue", "postProcessor", "CSSPropertyTransformOrigin", "transformOrigin", "unit", "UnitType", "kPixels", "setOrigin", "getGeometryBounds", "CSSPropertyZIndex", "computed", "parentEntity", "parentRenderable", "renderable", "parentSortable", "sortable", "dirty", "dirtyReason", "SortReason", "Z_INDEX_CHANGED", "CircleUpdater", "update", "_parsedStyle$cx", "cx", "_parsedStyle$cy", "cy", "_parsedStyle$r", "r", "hwidth", "hheight", "EllipseUpdater", "_parsedStyle$rx", "rx", "_parsedStyle$ry", "ry", "LineUpdater", "x1", "y1", "x2", "y2", "minX", "min", "maxX", "max", "minY", "maxY", "PathUpdater", "_d$rect", "rect", "x", "y", "PolylineUpdater", "points", "isArray", "point", "RectUpdater", "_parsedStyle$x", "_parsedStyle$y", "src", "_parsedStyle$width", "_parsedStyle$height", "contentWidth", "contentHeight", "isString", "TextUpdater", "globalRuntime", "isReadyToMeasure", "text", "_object$ownerDocument", "_parsedStyle$textAlig", "textAlign", "_parsedStyle$lineWidt", "lineWidth", "_parsedStyle$textBase", "textBaseline", "_parsedStyle$dx", "dx", "_parsedStyle$dy", "dy", "metrics", "font", "lines", "lineWidths", "lineHeight", "maxLineWidth", "fontProperties", "ascent", "descent", "lineMetrics", "_ref", "ownerDocument", "getConfig", "offscreenCanvas", "textService", "measureText", "lineXOffset", "lineYOffset", "GroupUpdater", "HTMLUpdater", "FederatedEvent", "manager", "_classCallCheck", "eventPhase", "prototype", "NONE", "bubbles", "cancelBubble", "cancelable", "defaultPrevented", "propagationStopped", "propagationImmediatelyStopped", "layer", "Point", "page", "canvas", "viewport", "composed", "CAPTURING_PHASE", "AT_TARGET", "BUBBLING_PHASE", "_createClass", "key", "get", "type", "x", "y", "value", "composedPath", "path", "target", "propagationPath", "preventDefault", "nativeEvent", "Event", "stopImmediatePropagation", "stopPropagation", "initEvent", "initUIEvent", "clone", "Error", "ERROR_MSG_METHOD_NOT_IMPLEMENTED", "FederatedMouseEvent", "_ref", "_this", "_len", "arguments", "length", "args", "Array", "_key", "_callSuper", "concat", "client", "movement", "offset", "global", "screen", "_inherits", "getModifierState", "initMouseEvent", "FederatedPointerEvent", "_FederatedMouseEvent", "width", "height", "isPrimary", "getCoalescedEvents", "getPredictedEvents", "clonePointerEvent", "FederatedWheelEvent", "cloneWheelEvent", "CustomEvent", "_FederatedEvent", "eventName", "object", "detail", "Object", "assign", "CANVAS_CACHE", "WeakMap", "EventTarget", "emitter", "EventEmitter", "on", "listener", "options", "addEventListener", "capture", "once", "isBoolean", "_options$capture", "_options$once", "isFunction", "handleEvent", "context", "undefined", "off", "removeEventListener", "removeAllEventListeners", "_this$emitter", "removeAllListeners", "_listener", "emit", "dispatchEvent", "e", "skipPropagate", "_ownerDocument", "document", "defaultView", "ownerDocument", "set", "getEventService", "Node", "_EventTarget", "shadow", "isConnected", "baseURI", "childNodes", "nodeType", "nodeName", "nodeValue", "parentNode", "out", "Shape", "TEXT", "style", "text", "_iterator", "_createForOfIteratorHelper", "_step", "s", "n", "done", "child", "textContent", "err", "f", "content", "_this2", "slice", "forEach", "removeChild", "getRootNode", "opts", "host", "hasChildNodes", "isDefaultNamespace", "namespace", "lookupNamespaceURI", "prefix", "lookupPrefix", "normalize", "isEqualNode", "otherNode", "isSameNode", "compareDocumentPosition", "other", "node1Root", "node2Root", "node1Hierarchy", "node2Hierarchy", "_node1Root$parentNode", "push", "DOCUMENT_POSITION_DISCONNECTED", "DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC", "DOCUMENT_POSITION_PRECEDING", "longerHierarchy", "shorterHierarchy", "DOCUMENT_POSITION_CONTAINED_BY", "DOCUMENT_POSITION_FOLLOWING", "DOCUMENT_POSITION_CONTAINS", "longerStart", "i", "shorterHierarchyNode", "longerHierarchyNode", "siblings", "indexOf", "contain", "contains", "tmp", "getAncestor", "temp", "callback", "stack", "node", "pop", "result", "isNode", "PROPAGATION_LIMIT", "EventService", "globalRuntime", "nativeHTMLMap", "cursor", "mappingTable", "mappingState", "trackingData", "eventPool", "Map", "tmpMatrix", "mat4", "create", "tmpVec3", "vec3", "onPointerDown", "from", "createPointerEvent", "pointerType", "isRightButton", "button", "pointerId", "pressTargetsByButton", "freeEvent", "onPointerUp", "now", "clock", "config", "alwaysTriggerPointerEventOnCanvas", "rootTarget", "pressTarget", "findMountedTarget", "clickTarget", "includes", "currentTarget", "notifyTarget", "_e$detail", "clickEvent", "clicksByButton", "clickCount", "timeStamp", "renderingContext", "root", "clickHistory", "getConfig", "dblClickSpeed", "preventClick", "useNativeClickEvent", "onPointerMove", "isMouse", "outTarget", "overTargets", "outType", "outEvent", "leaveEvent", "overType", "overEvent", "overTargetAncestor", "didPointerEnter", "enterEvent", "getCursor", "onPointerOut", "onPointerOver", "onPointerUpOutside", "onWheel", "wheelEvent", "createWheelEvent", "onClick", "onPointerCancel", "init", "addEventMapping", "destroy", "clear", "getScale", "bbox", "contextService", "getBoundingClientRect", "scaleX", "scaleY", "$el", "getDomElement", "offsetWidth", "offsetHeight", "client2Viewport", "_this$getScale", "left", "top", "viewport2Client", "_this$getScale2", "viewport2Canvas", "camera", "getCamera", "_this$context$config", "projectionMatrixInverse", "getPerspectiveInverse", "worldMatrix", "getWorldTransform", "vpMatrix", "multiply", "transformMat4", "canvas2Viewport", "canvasP", "projectionMatrix", "getPerspective", "viewMatrix", "getViewTransform", "clip", "_this$context$config2", "setPickHandler", "pickHandler", "fn", "priority", "sort", "a", "b", "mapEvent", "mappers", "j", "console", "warn", "propagate", "notifyListeners", "index", "unshift", "hitTest", "position", "viewportX", "viewportY", "_this$context$config3", "disableHitTesting", "isNativeEventFromCanvas", "_target", "shadowRoot", "getExistedHTML", "event", "_i2", "_arr", "eventTarget", "existed", "pickTarget", "clientX", "clientY", "canvasX", "canvasY", "fallbackTarget", "allocateEvent", "copyPointerData", "copyMouseData", "copyData", "originalEvent", "existedHTML", "copyWheelData", "id", "overTarget", "to", "pressure", "tangentialPressure", "tiltX", "tiltY", "twist", "altKey", "buttons", "ctrlKey", "metaKey", "shiftKey", "copyFrom", "deltaMode", "deltaX", "deltaY", "deltaZ", "isTrusted", "view", "constructor", "has", "listeners", "_events", "removeListener", "call", "isElement", "getAttribute", "OffscreenCanvasCreator", "getOrCreateCanvas", "offscreenCanvas", "contextAttributes", "runtime", "getContext", "_objectSpread", "willReadFrequently", "window", "OffscreenCanvas", "measureText", "createElement", "_unused", "getOrCreateContext", "createCanvas", "_unused2", "_unused3", "RenderReason", "RenderingService", "inited", "stats", "total", "rendered", "zIndexCounter", "hooks", "SyncHook", "initAsync", "AsyncParallelHook", "dirtycheck", "SyncWaterfallHook", "cull", "beginFrame", "beforeRender", "render", "afterRender", "endFrame", "pick", "AsyncSeriesWaterfallHook", "pickSync", "pointerDown", "pointerUp", "pointerMove", "pointerOut", "pointerOver", "pointerWheel", "pointerCancel", "click", "renderingPlugins", "plugin", "apply", "getCallbacksNum", "promise", "then", "getStats", "disableDirtyRectangleRendering", "renderer", "_renderer$getConfig", "enableDirtyRectangleRendering", "renderReasons", "CAMERA_CHANGED", "canvasConfig", "frame", "rerenderCallback", "sceneGraphService", "syncHierarchy", "triggerPendingEvents", "size", "dirtyRectangleRenderingDisabled", "onlyCameraChanged", "shouldTriggerRenderHooks", "disableRenderHooks", "renderDisplayObject", "renderListCurrentFrame", "displayObject", "self", "_canvasConfig$rendere", "enableDirtyCheck", "enableCulling", "internalRenderSingleDisplayObject", "renderable", "sortable", "objectChanged", "dirty", "objectToRender", "renderOrder", "dirtyChildren", "dirtyReason", "_currentObject$sortab", "currentObject", "objects", "sorted", "_sortable$sorted", "_sortable$sorted2", "SortReason", "Z_INDEX_CHANGED", "sortIndex", "splice", "sortedIndex", "sortByZIndex", "filter", "parsedStyle", "zIndex", "clearPendingEvents", "dirtify", "add", "DISPLAY_OBJECT_CHANGED", "ATTRIBUTE_REGEXP", "DefaultSceneGraphSelector", "selectOne", "query", "startsWith", "find", "classList", "getIdOrClassname", "_this$getAttribute", "name", "attributeToString", "selectAll", "findAll", "_this$getAttribute2", "is", "className", "_this$getAttribute3", "substring", "matches", "match", "replace", "isNil", "toString", "ElementEvent", "MutationEvent", "typeArg", "relatedNode", "prevValue", "newValue", "attrName", "attrChange", "prevParsedValue", "newParsedValue", "ADDITION", "MODIFICATION", "REMOVAL", "markRenderableDirty", "renderBoundsDirty", "boundsDirty", "reparentEvent", "REPARENT", "$vec2Zero", "vec2", "$vec3Zero", "$vec3One", "fromValues", "$mat4Identity", "$vec2", "$vec3", "$mat4", "$quat", "quat", "$setLocalTransform_1", "$setLocalTransform_2", "$setLocalTransform_3", "$setLocalPosition", "$setPosition_1", "$setPosition_ParentInvertMatrix", "$setEulerAngles_InvParentRot", "$rotateLocal", "$rotate_ParentInvertRotation", "$triggerPendingEvents_detail", "affectChildren", "DefaultSceneGraphService", "pendingEvents", "boundsChangedEvent", "BOUNDS_CHANGED", "displayObjectDependencyMap", "sceneGraphSelector", "querySelector", "querySelectorAll", "attach", "parent", "detached", "detach", "isChildFragment", "FRAGMENT", "isAttachToFragment", "isInFragment", "nodes", "isNumber", "ADDED", "dirtifyFragment", "transform", "transformable", "dirtifyWorld", "_style", "_ref2", "REMOVED", "getOrigin", "element", "getGeometryBounds", "origin", "setOrigin", "z", "originVec", "dirtifyLocal", "rotate", "degrees", "rotateLocal", "rotation", "fromEuler", "rot", "getRotation", "parentRot", "copy", "invert", "localRotation", "mul", "setEulerAngles", "setLocalEulerAngles", "parentRotation", "translateLocal", "translation", "equals", "transformQuat", "localPosition", "setPosition", "_position$", "getPosition", "parentTransform", "worldTransform", "setLocalPosition", "_position$2", "scaleLocal", "scaling", "_scaling$", "localScale", "setLocalScale", "_scaling$2", "translate", "setRotation", "w", "setLocalRotation", "setLocalSkew", "skew", "localSkew", "localDirtyFlag", "dirtyFlag", "unfreezeParentToRoot", "dirtifyWorldInternal", "dirtifyToRoot", "frozen", "triggered", "Set", "trigger", "isMutationObserved", "p", "informDependentDisplayObjects", "updateDisplayObjectDependency", "oldPath", "newPath", "oldDependencyMap", "newDependencyMap", "dependencyMap", "keys", "ATTR_MODIFIED", "isCustomElement", "attributeChangedCallback", "getTranslation", "getScaling", "sync", "getLocalPosition", "getLocalRotation", "getLocalScale", "getLocalSkew", "calcLocalTransform", "hasSkew", "fromRotationTranslationScaleOrigin", "localTransform", "identity", "Math", "tan", "hasPosition", "hasRotation", "hasScale", "hasOrigin", "fromTranslation", "getLocalTransform", "setLocalTransform", "t", "r", "resetLocalTransform", "getTransformedGeometryBounds", "existedAABB", "bounds", "AABB", "isEmpty", "aabb", "setFromTransformedAABB", "_ref3", "geometry", "styleValueRegistry", "updateGeometry", "renderBounds", "contentBounds", "getBounds", "_this3", "_ref4", "children", "childBounds", "update", "center", "halfExtents", "clipped", "findClosestClipPathTarget", "clipPathBounds", "clipPath", "intersection", "getLocalBounds", "parentInvert", "localBounds", "_element$ownerDocumen", "getContextService", "_aabb$getMin", "getMin", "_aabb$getMin2", "_slicedToArray", "_aabb$getMax", "getMax", "_aabb$getMax2", "right", "bottom", "Rectangle", "_this4", "childTransform", "_ref5", "TEXT_METRICS", "MetricsString", "BaselineSymbol", "BaselineMultiplier", "HeightMultiplier", "Newlines", "BreakingSpaces", "LATIN_REGEX", "regexCannotStartZhCn", "regexCannotEndZhCn", "regexCannotStartZhTw", "regexCannotEndZhTw", "regexCannotStartJaJp", "regexCannotEndJaJp", "regexCannotStartKoKr", "regexCannotEndKoKr", "regexCannotStart", "RegExp", "source", "regexCannotEnd", "TextService", "fontMetricsCache", "shouldBreakByKinsokuShorui", "char", "nextChar", "isBreakingSpace", "exec", "trimByKinsokuShorui", "prev", "next", "_toConsumableArray", "prevLine", "lastChar", "measureFont", "font", "properties", "ascent", "descent", "fontSize", "offscreenCanvasCreator", "metricsString", "ceil", "baseline", "fillStyle", "fillRect", "textBaseline", "fillText", "imagedata", "getImageData", "data", "pixels", "line", "idx", "stop", "_parsedStyle$fontSize", "_parsedStyle$wordWrap", "wordWrap", "strokeHeight", "lineHeight", "_parsedStyle$lineWidt", "lineWidth", "_parsedStyle$textBase", "_parsedStyle$textAlig", "textAlign", "_parsedStyle$letterSp", "letterSpacing", "textPath", "textPathSide", "textPathStartOffset", "_parsedStyle$leading", "leading", "toFontString", "fontProperties", "isOverflowing", "outputText", "lines", "split", "lineWidths", "maxLineWidth", "getTotalLength", "max", "offsetY", "lineMetrics", "map", "offsetX", "_parsedStyle$wordWrap2", "wordWrapWidth", "_parsedStyle$letterSp2", "_parsedStyle$maxLines", "maxLines", "Infinity", "textOverflow", "maxWidth", "ellipsis", "chars", "currentLineIndex", "currentLineWidth", "prevLineLastCharIndex", "cache", "calcWidth", "txt", "getFromCache", "ellipsisWidth", "findCharIndexClosestWidthThreshold", "lineTxt", "txtLastCharIndex", "txtStartCharIndex", "widthThreshold", "isNewline", "appendEllipsis", "lineIndex", "textCharIndex", "prevChar", "charWidth", "canBreakInLastChar", "trimToBreakable", "sumTextWidthByCache", "join", "charCodeAt", "findBreakableIndex", "trimmedChar", "isTrimmedWithSpace", "trimFrom", "trimTo", "test", "calcWidthWithCache", "reduce", "sum", "c", "spacing", "metrics", "geometryUpdaterFactory", "rectUpdater", "RectUpdater", "polylineUpdater", "PolylineUpdater", "_defineProperty", "CIRCLE", "CircleUpdater", "ELLIPSE", "EllipseUpdater", "RECT", "IMAGE", "GROUP", "GroupUpdater", "LINE", "LineUpdater", "TextUpdater", "POLYLINE", "POLYGON", "PATH", "PathUpdater", "HTML", "HTMLUpdater", "MESH", "CSSPropertySyntaxFactory", "color", "CSSPropertyColor", "CSSPropertyLengthOrPercentage", "PropertySyntax", "PERCENTAGE", "NUMBER", "CSSPropertyNumber", "ANGLE", "CSSPropertyAngle", "DEFINED_PATH", "CSSPropertyClipPath", "PAINT", "COLOR", "FILTER", "CSSPropertyFilter", "LENGTH", "LENGTH_PERCENTAGE", "LENGTH_PERCENTAGE_12", "CSSPropertyLengthOrPercentage12", "LENGTH_PERCENTAGE_14", "CSSPropertyLengthOrPercentage14", "COORDINATE", "OFFSET_DISTANCE", "CSSPropertyOffsetDistance", "OPACITY_VALUE", "CSSPropertyOpacity", "CSSPropertyPath", "LIST_OF_POINTS", "CSSPropertyPoints", "SHADOW_BLUR", "CSSPropertyShadowBlur", "CSSPropertyText", "TEXT_TRANSFORM", "CSSPropertyTextTransform", "TRANSFORM", "CSSPropertyTransform", "TRANSFORM_ORIGIN", "CSSPropertyTransformOrigin", "Z_INDEX", "CSSPropertyZIndex", "MARKER", "CSSPropertyMarker", "getGlobalThis", "globalThis", "CameraContribution", "Camera", "AnimationTimeline", "EasingFunction", "textService", "DefaultStyleValueRegistry", "layoutRegistry", "enableStyleSyntax", "enableSizeAttenuation", "entityCounter", "insertedEvent", "MutationEvent", "ElementEvent", "INSERTED", "removedEvent", "REMOVED", "destroyEvent", "CustomEvent", "DESTROY", "Element", "_Node", "_this", "_classCallCheck", "_len", "arguments", "length", "args", "Array", "_key", "_callSuper", "concat", "entity", "entityCounter", "renderable", "bounds", "undefined", "boundsDirty", "renderBounds", "renderBoundsDirty", "dirtyRenderBounds", "dirty", "cullable", "strategy", "Strategy", "Standard", "visibilityPlaneMask", "visible", "enable", "transformable", "dirtyFlag", "localDirtyFlag", "frozen", "localPosition", "localRotation", "localScale", "localTransform", "localSkew", "position", "rotation", "scaling", "worldTransform", "origin", "sortable", "sorted", "renderOrder", "dirtyChildren", "dirtyReason", "geometry", "contentBounds", "rBushNode", "aabb", "namespaceURI", "scrollLeft", "scrollTop", "clientTop", "clientLeft", "destroyed", "style", "computedStyle", "parsedStyle", "attributes", "_inherits", "_createClass", "key", "get", "getAttribute", "set", "className", "setAttribute", "split", "filter", "c", "nodeName", "childNodes", "firstChild", "lastChild", "parentNode", "index", "indexOf", "value", "cloneNode", "deep", "Error", "ERROR_MSG_METHOD_NOT_IMPLEMENTED", "appendChild", "child", "_this$ownerDocument", "ERROR_MSG_APPEND_DESTROYED_ELEMENT", "runtime", "sceneGraphService", "attach", "ownerDocument", "defaultView", "isInFragment", "Shape", "FRAGMENT", "mountFragment", "mountChildren", "isMutationObserved", "relatedNode", "dispatchEvent", "insertBefore", "newChild", "refChild", "parentElement", "removeChild", "replaceChild", "oldChild", "_child$ownerDocument", "unmountChildren", "detach", "removeChildren", "i", "destroyChildren", "destroy", "matches", "selector", "getElementById", "id", "querySelector", "getElementsByName", "name", "querySelectorAll", "getElementsByClassName", "getElementsByTagName", "tagName", "selectors", "closest", "el", "find", "_this2", "target", "forEach", "object", "findAll", "_this3", "objects", "push", "after", "_this4", "_len2", "nodes", "_key2", "node", "_this4$parentNode", "before", "_ref", "_len3", "_key3", "first", "rest", "slice", "apply", "_toConsumableArray", "replaceWith", "remove", "append", "_this5", "_len4", "_key4", "prepend", "_this6", "_len5", "_key5", "replaceChildren", "emitter", "removeAllListeners", "getGeometryBounds", "getRenderBounds", "getBounds", "getLocalBounds", "getBoundingClientRect", "getClientRects", "computedStyleMap", "Map", "Object", "entries", "getAttributeNames", "keys", "hasAttribute", "qualifiedName", "includes", "hasAttributes", "removeAttribute", "attributeName", "force", "memoize", "getAttributeNS", "namespace", "localName", "getAttributeNode", "getAttributeNodeNS", "hasAttributeNS", "removeAttributeNS", "removeAttributeNode", "attr", "setAttributeNS", "setAttributeNode", "setAttributeNodeNS", "toggleAttribute", "Node", "isDisplayObject", "Proxy", "globalThis", "attrModifiedEvent", "ATTR_MODIFIED", "MODIFICATION", "$vec3", "vec3", "create", "$quat", "quat", "DisplayObject", "_Element", "config", "isCustomElement", "activeAnimations", "type", "GROUP", "initialParsedStyle", "assign", "initAttributes", "enableStyleSyntax", "setProperty", "propertyName", "getPropertyValue", "removeProperty", "item", "_", "prop", "_superPropGet", "getAnimations", "animation", "cancel", "customCloneFunc", "clonedStyle", "_objectSpread", "attribute", "cloned", "constructor", "setLocalTransform", "getLocalTransform", "children", "isMarker", "clonedChild", "options", "forceUpdateGeometry", "styleValueRegistry", "processProperties", "isUndefined", "internalSetAttribute", "parseOptions", "oldValue", "oldParsedValue", "_defineProperty", "newParsedValue", "isConnected", "prevValue", "newValue", "attrName", "prevParsedValue", "_attributeChangedCall", "attributeChangedCallback", "call", "getBBox", "_aabb$getMin", "getMin", "_aabb$getMin2", "_slicedToArray", "left", "top", "_aabb$getMax", "getMax", "_aabb$getMax2", "right", "bottom", "Rectangle", "setOrigin", "y", "z", "createVec3", "getOrigin", "setPosition", "setLocalPosition", "translate", "translateLocal", "getPosition", "getLocalPosition", "scale", "scaleLocal", "setLocalScale", "getLocalScale", "getScale", "getEulerAngles", "_getEuler", "getEuler", "getWorldTransform", "_getEuler2", "ez", "rad2deg", "getLocalEulerAngles", "_getEuler3", "getLocalRotation", "_getEuler4", "setEulerAngles", "setLocalEulerAngles", "rotateLocal", "x", "isNil", "rotate", "setRotation", "w", "setLocalRotation", "setLocalSkew", "skew", "getRotation", "getLocalSkew", "transform", "resetLocalTransform", "animate", "keyframes", "timeline", "play", "isVisible", "_this$parsedStyle", "visibility", "isInteractive", "b", "pointerEvents", "_this$parsedStyle2", "isCulled", "toFront", "zIndex", "Math", "max", "map", "Number", "toBack", "min", "getConfig", "isObject", "getMatrix", "transformMat4", "_mat4$getTranslation", "mat4", "getTranslation", "_mat4$getTranslation2", "tx", "ty", "_mat4$getScaling", "getScaling", "_mat4$getScaling2", "sx", "sy", "_getEuler5", "_getEuler6", "eux", "euz", "fromRotationTranslationScale", "getLocalMatrix", "setMatrix", "mat", "_decompose", "decompose", "_decompose2", "scalingX", "scalingY", "angle", "setLocalMatrix", "_decompose3", "_decompose4", "show", "hide", "getCount", "childElementCount", "getParent", "getChildren", "getFirst", "firstElementChild", "getLast", "lastElementChild", "getChildByIndex", "add", "moveTo", "move", "setZIndex", "PARSED_STYLE_LIST", "Set", "Circle", "_DisplayObject", "CIRCLE", "CustomElement", "_objectWithoutProperties", "_excluded", "Ellipse", "ELLIPSE", "Fragment", "Group", "HTML", "getDomElement", "$el", "parentInvert", "invert", "AABB", "isEmpty", "localBounds", "setFromTransformedAABB", "Image", "IMAGE", "Line", "LINE", "x1", "y1", "x2", "y2", "z1", "z2", "markerStartAngle", "markerEndAngle", "markerStart", "markerEnd", "transformMarker", "isStart", "markerStartOffset", "markerEndOffset", "marker", "rad", "ox", "oy", "offset", "originalAngle", "atan2", "PI", "cos", "sin", "getPoint", "ratio", "inWorldSpace", "_this$parsedStyle3", "_linePointAt", "linePointAt", "transformed", "fromValues", "Point", "getPointAtLength", "distance", "getTotalLength", "_this$parsedStyle4", "lineLength", "Path", "PATH", "miterLimit", "d", "EMPTY_PARSED_PATH", "markerMidList", "markerMid", "placeMarkerMid", "_this$getStartTangent", "getStartTangent", "_this$getStartTangent2", "p1", "p2", "_this$getEndTangent", "getEndTangent", "_this$getEndTangent2", "segments", "_segments$i$currentPo", "currentPoint", "getOrCalculatePathTotalLength", "absolutePath", "_getPointAtLength2", "result", "startPoint", "endPoint", "tangent", "startTangent", "endTangent", "Polygon", "POLYGON", "points", "totalLength", "isClosed", "P", "_ref2", "_ref3", "Polyline", "_Polygon", "POLYLINE", "getOrCalculatePolylineTotalLength", "tempLength", "segmentT", "segmentL", "p", "subt", "v", "l", "Rect", "RECT", "Text", "TEXT", "fill", "getComputedTextLength", "_this$parsedStyle$met", "metrics", "maxLineWidth", "getLineBoundingRects", "_this$parsedStyle$met2", "lineMetrics", "isOverflowing", "CustomElementRegistry", "registry", "define", "CSS", "number", "n", "CSSUnitValue", "percent", "px", "em", "rem", "deg", "grad", "turn", "s", "ms", "registerProperty", "definition", "inherits", "interpolable", "initialValue", "syntax", "registerMetadata", "inh", "registerLayout", "clazz", "layoutRegistry", "Document", "AnimationTimeline", "_unused", "initialStyle", "BUILT_IN_PROPERTIES", "isFunction", "documentElement", "createElement", "customElements", "console", "warn", "shape", "createElementNS", "_unused2", "elementsFromBBox", "minX", "minY", "maxX", "maxY", "rBush", "context", "rBushRoot", "rBushNodes", "search", "hitTestList", "displayObject", "_displayObject$parsed", "isVisibilityAffected", "sort", "a", "elementFromPointSync", "_this$defaultView$can", "canvas2Viewport", "viewportX", "viewportY", "_this$defaultView$get", "width", "height", "_this$defaultView$vie", "viewport2Client", "clientX", "clientY", "_this$defaultView$get2", "getRenderingService", "hooks", "pickSync", "topmost", "picked", "_elementFromPoint", "_asyncToGenerator", "_regeneratorRuntime", "mark", "_callee", "_this$defaultView$can2", "_this$defaultView$get3", "_this$defaultView$vie2", "_yield$this$defaultVi", "wrap", "_callee$", "_context", "prev", "next", "abrupt", "pick", "promise", "sent", "stop", "elementFromPoint", "_x", "_x2", "elementsFromPointSync", "_this$defaultView$can3", "_this$defaultView$get4", "_this$defaultView$vie3", "_this$defaultView$get5", "_elementsFromPoint", "_callee2", "_this$defaultView$can4", "_this$defaultView$get6", "_this$defaultView$vie4", "_yield$this$defaultVi2", "_callee2$", "_context2", "elementsFromPoint", "_x3", "_x4", "ERROR_MSG_USE_DOCUMENT_ELEMENT", "CullingPlugin", "strategies", "camera", "renderingService", "renderingContext", "cull", "tap", "tag", "unculledEntities", "every", "CULLED", "afterRender", "EventPlugin", "autoPreventDefault", "rootPointerEvent", "FederatedPointerEvent", "rootWheelEvent", "FederatedWheelEvent", "onPointerMove", "nativeEvent", "_this$context$renderi", "canvas", "root", "supportsTouchEvents", "pointerType", "normalizedEvents", "normalizeToPointerEvent", "_iterator", "_createForOfIteratorHelper", "_step", "done", "normalizedEvent", "event", "bootstrapEvent", "eventService", "mapEvent", "err", "e", "f", "setCursor", "cursor", "onClick", "_this$context$renderi2", "_iterator2", "_step2", "setPickHandler", "_this2$context$render", "pointerWheel", "wheelEvent", "normalizeWheelEvent", "pointerDown", "events", "isNormalized", "cancelable", "preventDefault", "_iterator3", "_step3", "federatedEvent", "pointerUp", "$element", "contextService", "isNativeEventFromCanvas", "outside", "_iterator4", "_step4", "pointerMove", "pointerOver", "pointerOut", "click", "pointerCancel", "_iterator5", "_step5", "view", "originalEvent", "pointerId", "isPrimary", "pressure", "tangentialPressure", "tiltX", "tiltY", "twist", "transferMouseData", "_this$context$eventSe", "client2Viewport", "viewport", "_this$context$eventSe2", "viewport2Canvas", "canvasX", "canvasY", "global", "copyFrom", "isTrusted", "startsWith", "replace", "TOUCH_TO_POINTER", "deltaMode", "deltaX", "deltaY", "deltaZ", "_this$context$eventSe3", "_this$context$eventSe4", "srcElement", "timeStamp", "clock", "now", "altKey", "metaKey", "shiftKey", "ctrlKey", "button", "buttons", "client", "movement", "movementX", "movementY", "page", "pageX", "pageY", "screen", "screenX", "screenY", "relatedTarget", "applyCursorStyle", "isTouchEvent", "changedTouches", "touch", "touches", "radiusX", "radiusY", "identifier", "isMouseEvent", "tempEvent", "MOUSE_POINTER_ID", "shape2D", "FrustumCullingStrategy", "_object$parentNode", "frustum", "getFrustum", "parentVisibilityPlaneMask", "computeVisibilityWithPlaneMask", "Mask", "INDETERMINATE", "planes", "OUTSIDE", "parentPlaneMask", "INSIDE", "mask", "isShape2D", "k", "len", "flag", "_planes$k", "normal", "dot", "getPositiveFarPoint", "getNegativeFarPoint", "PrepareRendererPlugin", "syncTasks", "isFirstTimeRendering", "syncing", "isFirstTimeRenderingFinished", "_runtime$globalThis$r", "handleAttributeChanged", "dirtify", "handleBoundsChanged", "detail", "affectChildren", "handleMounted", "enableSizeAttenuation", "updateSizeAttenuation", "getCamera", "getZoom", "handleUnmounted", "dirtifyToRoot", "init", "addEventListener", "MOUNTED", "UNMOUNTED", "BOUNDS_CHANGED", "removeEventListener", "clear", "ric", "requestIdleCallback", "raf", "bind", "endFrame", "syncRTree", "syncNode", "update", "center", "halfExtents", "_renderBounds$getMin", "_renderBounds$getMin2", "_renderBounds$getMax", "_renderBounds$getMax2", "isNaN", "size", "bulk", "synced", "sync", "has", "parent", "load", "CanvasEvent", "DEFAULT_CAMERA_Z", "DEFAULT_CAMERA_NEAR", "DEFAULT_CAMERA_FAR", "mountedEvent", "CustomEvent", "ElementEvent", "MOUNTED", "unmountedEvent", "UNMOUNTED", "beforeRenderEvent", "BEFORE_RENDER", "rerenderEvent", "RERENDER", "afterRenderEvent", "AFTER_RENDER", "Canvas", "_EventTarget", "config", "_this", "_classCallCheck", "_callSuper", "Element", "DisplayObject", "inited", "context", "container", "canvas", "renderer", "width", "height", "background", "cursor", "supportsMutipleCanvasesInOneContainer", "_config$cleanUpOnDest", "cleanUpOnDestroy", "offscreenCanvas", "devicePixelRatio", "requestAnimationFrame", "cancelAnimationFrame", "createImage", "supportsTouchEvents", "supportsPointerEvents", "isTouchEvent", "isMouseEvent", "dblClickSpeed", "canvasWidth", "canvasHeight", "dpr", "isBrowser", "window", "Math", "ceil", "getWidth", "getHeight", "customElements", "CustomElementRegistry", "raf", "bind", "runtime", "globalThis", "caf", "PointerEvent", "event", "TouchEvent", "MouseEvent", "document", "Document", "defaultView", "cleanExistedCanvas", "initRenderingContext", "_objectSpread", "Image", "initDefaultCamera", "clipSpaceNearZ", "initRenderer", "_inherits", "_createClass", "key", "value", "mergedConfig", "renderingContext", "root", "documentElement", "renderListCurrentFrame", "unculledEntities", "renderReasons", "Set", "force", "dirty", "_this2", "camera", "CameraContribution", "setType", "CameraType", "EXPLORING", "CameraTrackingMode", "DEFAULT", "setPosition", "setFocalPoint", "setOrthographic", "eventEmitter", "on", "CameraEvent", "UPDATED", "add", "RenderReason", "CAMERA_CHANGED", "enableSizeAttenuation", "getConfig", "updateSizeAttenuation", "zoom", "getCamera", "getZoom", "forEach", "node", "styleValueRegistry", "getRoot", "getContextService", "contextService", "getEventService", "eventService", "getRenderingService", "renderingService", "getRenderingContext", "getStats", "get", "_this3", "readyPromise", "Promise", "resolve", "resolveReadyPromise", "destroy", "cleanUp", "arguments", "length", "undefined", "skipTriggerEvent", "memoize", "clearCache", "dispatchEvent", "BEFORE_DESTROY", "frameId", "unmountChildren", "rBushRoot", "clear", "AFTER_DESTROY", "clearEventRetain", "currentTarget", "manager", "target", "relatedNode", "attrModifiedEventCache", "insertedEventCache", "removedEventCache", "destroyEventCache", "changeSize", "resize", "canvasConfig", "projectionMode", "getProjectionMode", "CameraProjectionMode", "ORTHOGRAPHIC", "getNear", "getFar", "setAspect", "RESIZE", "appendChild", "child", "index", "insertBefore", "newChild", "refChild", "removeChild", "removeChildren", "destroyChildren", "render", "frame", "_this4", "detail", "run", "_this5", "tick", "time", "_this6", "firstContentfullPaint", "Error", "RBush", "renderingPlugins", "push", "EventPlugin", "PrepareRendererPlugin", "CullingPlugin", "FrustumCullingStrategy", "loadRendererContainerModule", "ContextService", "RenderingService", "EventService", "init", "initRenderingService", "initAsync", "then", "err", "console", "error", "_this7", "async", "READY", "RENDERER_CHANGED", "_ref", "renderable", "renderBoundsDirty", "boundsDirty", "mountChildren", "enableAutoRendering", "_this8", "plugins", "getPlugins", "plugin", "setRenderer", "oldRenderer", "_toConsumableArray", "reverse", "setCursor", "applyCursorStyle", "parent", "_this9", "childNodes", "isMutationObserved", "ownerDocument", "isConnected", "isCustomElement", "disconnectedCallback", "_this0", "isInFragment", "warn", "nodeName", "c", "connectedCallback", "mountFragment", "client2Viewport", "client", "viewport2Client", "viewport2Canvas", "viewport", "canvas2Viewport", "getPointByClient", "clientX", "clientY", "x", "y", "getClientByPoint", "EventTarget", "AdvancedCamera", "_Camera", "_this", "_classCallCheck", "_len", "arguments", "length", "args", "Array", "_key", "_callSuper", "concat", "landmarks", "_inherits", "_createClass", "key", "value", "rotate", "azimuth", "elevation", "roll", "relElevation", "getAngle", "relAzimuth", "relRoll", "type", "CameraType", "EXPLORING", "rotX", "quat", "setAxisAngle", "create", "deg2rad", "rotateWorld", "rotY", "rotZ", "rotQ", "multiply", "rotMatrix", "mat4", "fromQuat", "translate", "matrix", "distance", "Math", "abs", "computeMatrix", "_getAxes", "ORBITING", "_getPosition", "TRACKING", "_getFocalPoint", "_update", "pan", "tx", "ty", "coords", "createVec3", "pos", "vec3", "clone", "position", "add", "scale", "right", "up", "_setPosition", "triggerUpdate", "dolly", "n", "forward", "step", "dollyingStep", "updatedDistance", "max", "min", "maxDistance", "minDistance", "_getDistance", "focalPoint", "distanceVector", "cancelLandmarkAnimation", "landmarkAnimationID", "undefined", "canvas", "cancelAnimationFrame", "createLandmark", "name", "_position$", "_position$2", "_focalPoint$", "_focalPoint$2", "params", "_params$position", "_params$focalPoint", "zoom", "camera", "runtime", "CameraContribution", "setType", "setPosition", "setFocalPoint", "setRoll", "setZoom", "landmark", "getWorldTransform", "getPosition", "getFocalPoint", "getDistanceVector", "getDistance", "getDollyingStep", "getAzimuth", "getElevation", "getRoll", "getZoom", "push", "gotoLandmark", "_this2", "options", "isString", "find", "l", "_ref", "isNumber", "duration", "_ref$easing", "easing", "_ref$duration", "_ref$easingFunction", "easingFunction", "_ref$onfinish", "onfinish", "_ref$onframe", "onframe", "epsilon", "destPosition", "destFocalPoint", "destZoom", "destRoll", "easingFunc", "EasingFunction", "timeStart", "end", "animate", "timestamp", "elapsed", "t", "interFocalPoint", "interPosition", "interZoom", "interRoll", "lerp", "dist", "requestAnimationFrame", "Camera", "MutationRecord", "type", "target", "_classCallCheck", "addedNodes", "attributeName", "attributeNamespace", "nextSibling", "oldValue", "previousSibling", "removedNodes", "_createClass", "key", "value", "copy", "original", "record", "slice", "uidCounter", "registrationsTable", "WeakMap", "Registration", "observer", "options", "transientObservedNodes", "enqueue", "records", "length", "lastRecord", "recordToReplaceLast", "selectRecord", "scheduleCallback", "addListeners", "addListeners_", "node", "attributes", "addEventListener", "ElementEvent", "ATTR_MODIFIED", "childList", "INSERTED", "subtree", "REMOVED", "removeListeners", "removeListeners_", "removeEventListener", "removeTransientObservers", "forEach", "registrations", "get", "i", "splice", "handleEvent", "e", "stopImmediatePropagation", "name", "attrName", "namespace", "relatedNode", "namespaceURI", "getRecord", "attrChange", "MutationEvent", "ADDITION", "prevValue", "forEachAncestorAndObserverEnqueueRecord", "attributeFilter", "indexOf", "attributeOldValue", "getRecordWithOldValue", "changedNode", "clearRecords", "MutationObserver", "callback", "nodes", "uid", "observe", "characterData", "characterDataOldValue", "SyntaxError", "set", "registration", "push", "disconnect", "_this", "takeRecords", "copyOfRecords", "currentRecord", "recordWithOldValue", "undefined", "recordRepresentsCurrentMutation", "newRecord", "removeTransientObserversFor", "parentNode", "j", "isScheduled", "scheduledObservers", "runtime", "globalThis", "setTimeout", "dispatchCallbacks", "observers", "sort", "o1", "o2", "anyNonEmpty", "queue", "AnimationEvent", "_FederatedEvent", "manager", "target", "currentTime", "timelineTime", "_this", "_classCallCheck", "_callSuper", "type", "bubbles", "currentTarget", "defaultPrevented", "eventPhase", "AT_TARGET", "timeStamp", "Date", "now", "_inherits", "_createClass", "FederatedEvent", "sequenceNumber", "Animation", "effect", "timeline", "_this$effect", "currentTimePending", "_idle", "_paused", "_finishedFlag", "_currentTime", "_playbackRate", "_inTimeline", "animation", "id", "concat", "_inEffect", "update", "_totalDuration", "Number", "getComputedTiming", "endTime", "_holdTime", "oldPlayState", "updatePromises", "key", "get", "_startTime", "playbackRate", "_isFinished", "readyPromise", "animationsWithPromises", "indexOf", "push", "Promise", "resolve", "reject", "resolveReadyPromise", "rejectReadyPromise", "Error", "pending", "_this2", "finishedPromise", "resolveFinishedPromise", "rejectFinishedPromise", "playState", "set", "newTime", "isNaN", "restart", "_this$timeline", "tickCurrentTime", "applyDirtiedAnimation", "value", "oldCurrentTime", "startTime", "ensureAlive", "newPlayState", "undefined", "play", "rewind", "animations", "pause", "finish", "cancel", "_this3", "oncancel", "event", "setTimeout", "reverse", "updatePlaybackRate", "targetAnimations", "_this$effect2", "getAnimations", "markTarget", "unmarkTarget", "index", "splice", "tick", "isAnimationFrame", "fireEvents", "Infinity", "persist", "ERROR_MSG_METHOD_NOT_IMPLEMENTED", "addEventListener", "listener", "options", "removeEventListener", "dispatchEvent", "commitStyles", "_this$effect3", "_this$effect4", "ignoreLimit", "baseTime", "_this4", "onfinish", "onframe", "NEWTON_ITERATIONS", "NEWTON_MIN_SLOPE", "SUBDIVISION_PRECISION", "SUBDIVISION_MAX_ITERATIONS", "kSplineTableSize", "kSampleStepSize", "float32ArraySupported", "Float32Array", "A", "aA1", "aA2", "B", "C", "calcBezier", "aT", "getSlope", "binarySubdivide", "aX", "aA", "aB", "mX1", "mX2", "currentX", "currentT", "i", "Math", "abs", "newtonRaphsonIterate", "aGuessT", "currentSlope", "bezier", "mY1", "mY2", "t", "sampleValues", "Array", "getTForX", "intervalStart", "currentSample", "lastSample", "dist", "guessForT", "initialSlope", "convertToDash", "str", "replace", "letter", "toLowerCase", "charAt", "substring", "Quad", "pow", "Cubic", "Quart", "Quint", "Expo", "Sine", "cos", "PI", "Circ", "sqrt", "Back", "Bounce", "pow2", "b", "Elastic", "params", "arguments", "length", "_params", "_slicedToArray", "_params$", "amplitude", "_params$2", "period", "a", "clamp", "p", "sin", "asin", "Spring", "duration", "_params2", "_params2$", "mass", "_params2$2", "stiffness", "_params2$3", "damping", "_params2$4", "velocity", "w0", "zeta", "wd", "progress", "exp", "Steps", "_ref", "_ref2", "_ref2$", "steps", "trunc", "ceil", "floor", "Bezier", "_params3", "easein", "EaseOut", "ease", "EaseInOut", "EaseOutIn", "EasingFunctions", "stepStart", "stepEnd", "linear", "out", "spring", "complexEasingSyntax", "trim", "getEasingFunction", "x", "Start", "Middle", "End", "step", "count", "pos", "stepSize", "numberString", "cubicBezierRe", "RegExp", "step1Re", "step2Re", "parseEasingFunction", "normalizedEasing", "cubicData", "exec", "apply", "_toConsumableArray", "slice", "map", "step1Data", "step2Data", "start", "middle", "end", "calculateActiveDuration", "timing", "repeatedDuration", "_timing$iterations", "iterations", "PhaseNone", "PhaseBefore", "PhaseAfter", "PhaseActive", "calculatePhase", "activeDuration", "localTime", "min", "delay", "endDelay", "calculateActiveTime", "fillMode", "phase", "calculateOverallProgress", "iterationDuration", "activeTime", "iterationStart", "overallProgress", "calculateSimpleIterationProgress", "simpleIterationProgress", "calculateCurrentIteration", "calculateDirectedProgress", "playbackDirection", "currentIteration", "currentDirection", "d", "calculateIterationProgress", "fill", "directedProgress", "direction", "easingFunction", "convertEffectInput", "keyframes", "propertySpecificKeyframeGroups", "makePropertySpecificKeyframeGroups", "interpolations", "makeInterpolations", "fraction", "filter", "interpolation", "applyFrom", "applyTo", "forEach", "offsetFraction", "startOffset", "localDuration", "endOffset", "scaledLocalTime", "setAttribute", "property", "isNotReservedWord", "member", "propertySpecificKeyframe", "offset", "computedOffset", "easing", "groupName", "startIndex", "endIndex", "propertyInterpolation", "sort", "leftInterpolation", "rightInterpolation", "InterpolationFactory", "from", "to", "convertToString", "f", "interpolated", "interpolate", "isNumber", "left", "right", "metadata", "propertyMetadataCache", "syntax", "propertyHandler", "runtime", "styleValueRegistry", "getPropertySyntax", "parser", "usedLeft", "usedRight", "interpolationArgs", "mixer", "interp", "bool", "isArray", "fromLength", "toLength", "max", "r", "AnimationEffectTiming", "_easing", "convertToArrayForm", "effectInput", "normalizedEffectInput", "values", "numKeyframes", "keyframe", "composite", "normalizeKeyframes", "originalKeyframe", "memberValue", "isFinite", "everyFrameHasOffset", "previousOffset", "isNil", "TypeError", "spaceKeyframes", "_keyframes$offset", "_keyframes", "_keyframes$0$offset", "previousIndex", "j", "fills", "split", "directions", "makeTiming", "timingInput", "forGroup", "Object", "keys", "normalizeTimingInput", "numericTimingToObject", "KeyframeEffect", "iterationComposite", "normalizedKeyframes", "Proxy", "globalThis", "computedTiming", "prop", "applyInterpolations", "timeFraction", "getKeyframes", "setKeyframes", "getTiming", "updateTiming", "name", "compareAnimations", "leftAnimation", "rightAnimation", "AnimationTimeline", "document", "ticking", "timelineTicking", "hasRestartedThisFrame", "inTick", "pendingEffects", "rafId", "rafCallbacks", "webAnimationsNextTick", "discardAnimations", "requestAnimationFrame", "processRafCallbacks", "processing", "entry", "applyPendingEffects", "isTicking", "restartWebAnimationsNextTick", "inactiveAnimations", "destroy", "defaultView", "cancelAnimationFrame", "frameId", "updateAnimationsPromises", "rAF", "updatingAnimations", "_this$pendingEffects", "_this$pendingEffects2", "newPendingClears", "newPendingEffects", "activeAnimations", "_needsTick", "alive", "EasingFunction", "data", "document", "i", "d", "id", "className", "update", "merge", "group", "transition", "T", "value", "Group", "Path", "Image", "clamp", "lower", "upper", "prettyNumber", "n", "value", "path", "p", "size", "dist", "angle", "center", "sub", "C", "mode", "from", "tpShape", "indexOf", "min", "max", "i", "gradient", "a", "p2", "y", "y1", "a2", "a3", "value", "center", "x0", "y0", "x2", "y2", "document", "value", "__rest", "p2", "x", "y", "sub", "clamp", "y1", "center", "path", "Color", "first", "last", "defaults", "defaultRadius", "stroke", "color", "d", "i", "Rect", "Color", "Color", "p2", "newP1", "newP2", "__rest", "document", "value", "defaults", "index", "color", "p2", "newP1", "newP2", "render", "d2", "document", "defined", "m", "p", "gradient", "d", "__rest", "value", "defaults", "color", "size", "transform", "stroke", "center", "_", "sub", "dist", "x", "y", "Line", "__rest", "path", "sub", "a", "angle", "x0", "add", "x1", "x2", "document", "value", "defaults", "color", "__rest", "i", "point", "x", "y", "r", "rect", "cross", "dot", "_a", "d", "path", "stroke", "color", "__rest", "Path", "s", "_", "getRadius", "mode", "value", "size", "x0", "y0", "x2", "y2", "a", "Color", "__rest", "path", "document", "defaults", "color", "transform", "r", "Color", "Color", "Color", "Color", "Color", "Color", "Color", "mode", "__rest", "document", "value", "defaults", "color", "transform", "r", "getRadius", "Circle", "Circle", "Color", "Color", "Color", "Color", "Color", "Line", "Color", "Color", "Point", "Color", "Color", "Color", "Color", "Color", "arrow", "__rest", "document", "value", "defaults", "color", "transform", "path", "arrow2", "value", "OffscreenGroup", "_this", "Group", "group", "Text", "_a", "deg", "rad", "BBox", "x", "y", "value", "str", "_a", "k", "name", "MAX_MIX_LEVEL", "dist", "_a", "value", "deepAssign", "i", "defined", "x", "w", "e", "x", "y", "_a", "Text", "x1", "x2", "y1", "y2", "x", "y", "intersection", "_a", "y3", "t1", "t2", "_a", "x1", "y1", "x2", "y2", "show", "n", "x", "c", "i", "interpolate", "_a", "k", "_a", "interpolate", "count", "index", "array", "maxY", "i", "_a", "x", "y", "_a", "direction", "width", "height", "_b", "x", "y", "box", "size", "scale", "s", "add", "sub", "min", "max", "distance", "normalize", "len", "rotate", "angle", "_a", "x", "y", "sin", "cos", "vertical", "keys", "smooth", "min", "max", "_a", "i", "l", "point", "len", "sub", "scale", "distance", "sum", "add", "p", "data", "size", "step", "i", "size", "applyScale", "_a", "scale", "group", "array", "error", "Selection", "data", "document", "_a", "_this", "i", "d", "id", "className", "name", "update", "merge", "group", "transition", "value", "T", "Group", "Path", "Text", "Image", "select", "Selection", "len", "shape", "max", "min", "_a", "x1", "y1", "x2", "y2", "p2", "_a", "x1", "y1", "x2", "y2", "copyAttributes", "value", "_a", "_a", "invert", "value", "x", "y", "_a", "i", "e", "transpose", "m", "_a", "x", "i", "Component", "_this", "deepAssign", "_a", "name", "attr", "animate", "x", "y", "transform", "className", "x", "y", "r", "point", "square", "diamond", "triangle", "triangleDown", "hexagon", "bowtie", "line", "cross", "tick", "plus", "hyphen", "dot", "dash", "smooth", "hv", "vh", "hvh", "vhv", "Marker", "_a", "x", "y", "size", "select", "group", "r", "cross", "hyphen", "line", "plus", "tick", "point", "bowtie", "hexagon", "square", "diamond", "triangle", "triangleDown", "dot", "dash", "smooth", "hv", "vh", "hvh", "vhv", "x", "y", "Tag", "_a", "group", "select", "Text", "Button", "_this", "_a", "name", "size", "x", "y", "select", "attr", "Breadcrumb", "x", "y", "_a", "right", "left", "i", "shape", "Text", "Columns", "_a", "_this", "Group", "x", "y", "select", "update", "attr", "deepAssign", "Lines", "_a", "_this", "Group", "x", "y", "attr", "deepAssign", "select", "update", "data", "x", "y", "max", "min", "_a", "line", "reverse", "M", "point", "len", "path", "smooth", "A", "data", "_", "_a", "i", "Sparkline", "data", "y", "_a", "y1", "y2", "_this", "smooth", "x", "line", "path", "scale", "bandWidth", "column", "i", "getShape", "className", "select", "type", "update", "index", "color", "range", "keys", "_a", "k", "a", "value", "offset", "CLASS_NAMES", "HandleIcon", "x", "y", "_a", "size", "rect", "select", "x1", "x2", "y1", "y2", "Handle", "_this", "transform", "group", "e", "update", "Slider", "_this", "e", "_a", "x", "y", "value", "values", "attr", "right", "left", "animate", "index", "select", "group", "data", "type", "d", "name", "update", "applyStyle", "area", "min", "max", "range", "offset", "formatter", "size", "Text", "sign", "shape", "Scrollbar", "_this", "e", "_a", "x", "y", "left", "value", "min", "max", "right", "select", "animate", "values", "Path", "CLASS_NAMES", "CLASS_NAMES", "attr", "_a", "center", "distance", "r", "p", "data", "animate", "d", "index", "update", "_this", "getColor", "idx", "path", "_", "i", "Grid", "select", "_a", "data", "filter", "value", "attr", "_a", "normalize", "angle", "direction", "vertical", "value", "attr", "_a", "angle", "x1", "y1", "x2", "y2", "center", "animate", "CLASS_NAMES", "d", "i", "update", "_this", "data", "range", "x", "y", "s2", "getLinePath", "line", "y3", "arrow", "value", "attr", "data", "_a", "index", "x", "y", "scale", "center", "angle", "animate", "CLASS_NAMES", "update", "Bounds", "x1", "y1", "x2", "y2", "x", "y", "_a", "cos", "sin", "angle", "_a", "x", "y", "right", "w", "h", "a", "r", "l", "line", "point", "direction", "a", "c", "line2", "n", "count", "i", "x1", "x2", "y1", "y2", "line2", "_a", "x0", "y0", "x1", "y1", "x2", "y2", "y3", "box", "line", "intersect", "a", "p", "line", "attr", "center", "_a", "size", "right", "left", "scale", "intersect", "str", "attr", "_a", "step", "min", "max", "d", "right", "left", "allowedLength", "_a", "i", "defined", "attr", "count", "d", "distance", "first", "last", "attr", "angle", "index", "rotate", "attr", "_a", "lines", "index", "maxLines", "attr", "_a", "str", "angle", "getAngle", "_a", "x1", "y1", "x2", "y2", "dot", "rotate", "attr", "value", "group", "CLASS_NAMES", "data", "index", "add", "scale", "x", "y", "labelFormatter", "len", "select", "transform", "animate", "d", "i", "update", "defined", "_this", "value", "attr", "_a", "index", "data", "x1", "y1", "x2", "y2", "formatter", "CLASS_NAMES", "tick", "group", "animate", "select", "x", "y", "d", "update", "_this", "CLASS_NAMES", "str", "_a", "value", "x", "y", "Title", "p", "i", "_b", "_c", "_d", "_this", "select", "group", "attr", "_a", "x", "y", "direction", "normalize", "scale", "n", "group", "animate", "transform", "select", "CLASS_NAMES", "d", "i", "update", "data", "CLASS_NAMES", "group", "Axis", "_this", "animate", "_a", "value", "select", "CLASS_NAMES", "Navigator", "_this", "Group", "_a", "transpose", "x", "y", "index", "formatter", "sign", "group", "size", "select", "render", "value", "step", "min", "count", "x", "y", "r", "min", "max", "range", "_a", "a", "CLASS_NAMES", "group", "CategoryItem", "value", "_a", "basis", "_this", "select", "copyAttributes", "scale", "x", "y", "CLASS_NAMES", "value", "CategoryItems", "_this", "_a", "data", "d", "index", "id", "_c", "row", "x", "y", "_b", "_e", "c", "r", "_d", "a", "select", "update", "Group", "deepAssign", "CLASS_NAMES", "Handle", "select", "_this", "_a", "group", "formatter", "_b", "x", "y", "deepAssign", "CLASS_NAMES", "Category", "_a", "CLASS_NAMES", "x", "y", "select", "update", "CLASS_NAMES", "Indicator", "_this", "Group", "_a", "r", "l", "min", "max", "path", "select", "formatter", "x", "y", "index", "size", "x0", "y0", "x1", "y1", "len", "sign", "a2", "a3", "a4", "visibility", "array", "value", "i", "partition", "color", "count", "r", "c", "ticks", "_a", "CLASS_NAMES", "attr", "size", "length", "_a", "cw", "ch", "color", "partition", "len", "_", "index", "count", "c", "r", "range", "x", "y", "w", "h", "Ribbon", "select", "data", "d", "Continuous", "_this", "e", "_a", "value", "range", "select", "x", "y", "CLASS_NAMES", "group", "min", "max", "scale", "a", "update", "size", "length", "color", "deepAssign", "shape", "Handle", "name", "offset", "index", "id", "labelFormatter", "step", "reverse", "CLASS_NAME", "_a", "Tooltip", "_this", "_a", "CLASS_NAME", "data", "name", "color", "index", "x", "y", "offset", "abs2", "_b", "transition", "SIZE_STYLE", "shape", "size", "_a", "Switch", "_this", "group", "select", "SIZE_STYLE", "color", "max", "min", "deepAssign", "CrosshairBase", "_a", "x", "y", "group", "select", "LineCrosshair", "deepAssign", "_a", "path", "x", "y", "x1", "y1", "x2", "y2", "CircleCrosshair", "deepAssign", "_a", "x", "y", "path", "defaultRadius", "PolygonCrosshair", "deepAssign", "_a", "a", "i", "rotate", "x", "y", "center", "path", "defaultRadius", "index", "_b", "scale", "intersection", "shape", "Checkbox", "group", "_a", "x", "y", "_a", "x", "y", "createElement", "id", "div", "Poptip", "_this", "e", "_a", "offset", "x", "y", "id", "deepAssign", "r", "value", "styleStr", "_b", "k", "Layout", "_this", "_a", "value", "x", "y", "index", "e", "name", "Group", "Option", "_this", "deepAssign", "Group", "_a", "value", "select", "right", "left", "Select", "_this", "deepAssign", "_a", "value", "x", "y", "select", "update", "i", "index", "e", "IconBase", "_this", "deepAssign", "Group", "size", "_a", "right", "left", "x", "y", "size", "color", "Path", "Reset", "_a", "angle", "x1", "y1", "x2", "y2", "x", "y", "select", "Backward", "_a", "x", "y", "color", "size", "select", "Forward", "_a", "x", "y", "color", "size", "select", "Play", "_a", "x", "y", "color", "size", "select", "Pause", "_a", "x", "y", "color", "size", "select", "Range", "_a", "x", "y", "color", "size", "select", "Value", "_a", "x", "y", "color", "size", "select", "size", "LineChart", "_a", "x", "y", "color", "select", "_b", "px", "BarChart", "data", "_a", "x", "y", "color", "size", "select", "_b", "px", "value", "index", "Split", "_this", "deepAssign", "_a", "x", "y", "color", "size", "select", "SpeedSelect", "_this", "_a", "x", "y", "select", "Select", "ToggleIcon", "_this", "Group", "_a", "select", "update", "e", "PlayPause", "_this", "deepAssign", "SelectionType", "_this", "deepAssign", "ChartType", "_this", "deepAssign", "Controller", "_this", "deepAssign", "Group", "_a", "x", "y", "right", "left", "name", "index", "value", "TimeModeHandle", "_this", "deepAssign", "ChartModeHandle", "deepAssign", "_a", "x", "y", "select", "interval", "Timebar", "_this", "deepAssign", "values", "_a", "data", "a", "x", "y", "length", "index", "value", "interval", "type", "isEqual", "direction", "indexes", "shape", "x0", "y0", "x1", "y1", "x", "y", "right", "left", "angle", "min", "shape", "left", "path", "p2", "offset", "_a", "className", "transform", "rotate", "x", "y", "x0", "y0", "__rest", "d", "controlPoints", "rect", "Text", "value", "defaults", "color", "rotate", "transform", "x0", "y0", "r", "offset", "shape", "min", "max", "_a", "className", "x0", "y0", "transform", "__rest", "size", "x", "y", "value", "defaults", "color", "Tag", "value", "defaults", "color", "rotate", "transform", "x0", "y0", "n", "segmentation", "defined", "m", "mid", "i", "y1", "y0", "document", "Curve", "gradient", "d", "__rest", "value", "defaults", "color", "transform", "path", "Y1", "Y0", "_", "center", "sub", "dist", "Curve", "Smooth", "__rest", "Curve", "HVH", "Curve", "VH", "Curve", "HV", "Curve", "arrow", "Smooth", "__rest", "document", "value", "defaults", "color", "transform", "path", "path", "center", "a", "dist", "__rest", "document", "value", "defaults", "color", "transform", "__rest", "document", "value", "defaults", "color", "transform", "path", "center", "dist", "scale", "x", "value", "y", "d", "i", "f", "offset", "x0", "y0", "index", "data", "_", "Image", "document", "value", "defaults", "__rest", "color", "size", "transform", "x0", "y0", "w", "h", "x", "y", "path", "center", "p", "dist", "Polygon", "document", "value", "defaults", "__rest", "color", "transform", "p2", "path", "center", "dist", "Ribbon", "__rest", "document", "value", "defaults", "color", "transform", "getPath", "path", "center", "x", "y", "angle", "sub", "dist", "document", "value", "defaults", "color", "transform", "stroke", "__rest", "getPath", "p", "size", "path", "center", "x", "y", "dist", "angle", "sub", "a", "document", "value", "defaults", "color", "transform", "stroke", "__rest", "document", "getPath", "d", "center", "dist", "getTransform", "transform", "Line", "arrow", "__rest", "value", "defaults", "color", "size", "path", "x", "y", "r", "inferConnectorPath", "d", "x0", "y0", "x1", "y1", "X0", "X1", "Y0", "Y1", "offset", "offset2", "__rest", "value", "defaults", "color", "transform", "Path", "value", "l", "Y1", "Y0", "p", "i", "mid", "point", "rotate", "angle", "sub", "value", "x0", "y0", "x1", "y1", "w", "h", "px", "y", "center", "angle", "rotate", "point", "x", "append", "offset", "d", "p", "inferDefaultStyle", "center", "angle", "x0", "y0", "x1", "y1", "sign", "radiusOf", "value", "angleOf", "offset", "rotate", "x2", "y2", "x", "y", "inferDefaultStyle", "d", "n", "i", "y", "box", "labels", "value", "__rest", "center", "radiusOf", "angle", "angleOf", "sign", "points", "left", "d", "right", "i", "value", "__rest", "x0", "y0", "center", "angle", "sign", "getDefaultStyle", "value", "render", "p", "x", "y", "className", "__rest", "_a", "rotate", "transform", "defaultStyle", "Color", "arrow", "__rest", "document", "value", "defaults", "stroke", "d", "color", "Path", "Color", "Hollow", "Color", "document", "value", "defaults", "transform", "__rest", "color", "first", "p", "path", "x", "y", "max", "value", "cache", "parseGradient", "gradient", "r", "c", "c", "x", "y", "gradient", "parseGradient", "r", "min", "max", "data", "blur", "len", "value", "i", "offset", "ctx", "r", "k", "gradient", "blur", "__rest", "document", "value", "defaults", "transform", "data", "p", "min", "max", "options", "ctx", "Shape", "render", "__rest", "x0", "y0", "lerp", "min", "max", "x", "path", "left", "c", "y", "group", "document", "e", "circle", "x", "y", "r", "rect", "w", "diamond", "triangle", "h", "x0", "y0", "shape", "percent", "attr", "__rest", "distance", "length", "count", "document", "color", "size", "point2", "center", "document", "color", "index", "roundPath", "bandWidth", "scale", "x", "Rect", "index", "value", "Y1", "d", "w", "i", "s", "width", "offset", "x0", "x1", "x2", "y1", "y2", "p2", "shape", "Rect", "index", "scale", "value", "X1", "Y1", "i", "p2", "d", "shape", "Line", "line", "index", "scale", "value", "x", "y", "i", "group", "_a", "I", "mark", "shape", "Point", "Line", "Circle", "index", "scale", "value", "X1", "Y1", "offset", "i", "x", "y", "r", "a", "p2", "shape", "Text", "Tag", "cartesian", "index", "scale", "value", "offset", "i", "p", "shape", "Rect", "index", "scale", "value", "x", "y", "i", "x1", "y1", "p2", "d", "shape", "Smooth", "HVH", "VH", "HV", "Area", "index", "scale", "value", "Y1", "x", "y", "i", "group", "_a", "l", "shape", "Smooth", "Link", "index", "scale", "value", "X1", "Y1", "offset", "i", "shape", "Image", "cartesian", "index", "scale", "value", "offset", "i", "p", "shape", "Polygon", "Ribbon", "index", "scale", "value", "Xn", "Yn", "i", "x", "y", "shape", "Box", "index", "scale", "value", "Y1", "Y2", "i", "offset", "x", "q1", "median", "q3", "d", "shape", "Vector", "index", "scale", "value", "R", "i", "angle", "s", "a", "shape", "Line", "index", "scale", "value", "offset", "i", "p2", "d", "shape", "Line", "index", "scale", "value", "offset", "i", "p2", "d", "shape", "Connector", "Link", "extend", "value", "scale", "C", "i", "offset", "_a", "index", "x", "y", "x1", "x2", "y1", "y2", "p2", "d", "shape", "Rect", "Range", "shape", "Rect", "shape", "Rect", "d", "n", "min", "constant", "x", "a", "d", "find", "id", "y0", "y1", "link", "x0", "x1", "sort", "iterations", "_", "constant", "nodes", "links", "n", "x", "maxDepth", "max", "i", "kx", "column", "ky", "min", "c", "y", "w", "value", "dy", "sourceLinks", "targetLinks", "Sankey", "data", "iterations", "x0", "x1", "y0", "y1", "offset", "tooltip", "name", "defaults", "sub", "animate", "d", "Sankey", "data", "scale", "animate", "tooltip", "color", "_a", "__rest", "id", "a", "DEFAULT_OPTIONS", "Arc", "y", "weight", "id", "sortBy", "data", "n", "e", "d", "size", "i", "maxY", "edges", "x", "value", "offset", "w", "Arc", "data", "DEFAULT_LAYOUT_OPTIONS", "DEFAULT_NODE_OPTIONS", "DEFAULT_LINK_OPTIONS", "DEFAULT_LABEL_OPTIONS", "data", "scale", "animate", "tooltip", "d", "color", "__rest", "Arc", "_a", "shape", "Path", "Hollow", "index", "scale", "value", "a", "x", "c", "y", "root", "left", "right", "x0", "x1", "count", "sum", "i", "each_default", "index", "i", "index", "i", "n", "index", "find_default", "index", "value", "sum", "i", "k", "a", "c", "root", "i", "n", "data", "root", "Node", "i", "n", "d", "each_default", "find_default", "f", "constant_default", "x", "a", "s", "array_default", "x", "array", "random", "m", "i", "random", "i", "n", "B", "p", "e", "a", "x1", "y1", "x2", "y2", "l", "c", "y3", "a2", "a3", "c2", "c3", "d2", "d3", "A", "C", "r", "a", "c", "x", "a2", "y", "d2", "Node", "circle", "random", "n", "array_default", "i", "k", "d", "pack", "root", "random", "x", "constant_default", "k", "i", "n", "r", "e", "x0", "y0", "x1", "y1", "i", "n", "k", "round", "partition", "root", "n", "dy", "x0", "y0", "x1", "y1", "x", "defaultId", "d", "id", "path", "data", "n", "i", "root", "normalize", "_", "Node", "node", "x", "k", "defaultSeparation", "a", "i", "w", "Node", "root", "n", "left", "right", "s", "kx", "ky", "x", "x0", "y0", "x1", "y1", "i", "n", "k", "x0", "y0", "x1", "y1", "row", "n", "value", "custom", "x", "round", "root", "p", "x0", "y0", "x1", "y1", "x", "constant_default", "x0", "y0", "x1", "y1", "i", "n", "sum", "partition", "value", "k", "mid", "x0", "y0", "x1", "y1", "custom", "x0", "y0", "x1", "y1", "row", "i", "n", "m", "value", "x", "data", "path", "root", "name", "value", "d", "a", "d", "DEFAULT_LABEL_OPTIONS", "_a", "data", "scale", "tooltip", "__rest", "GET_DEFAULT_LAYOUT_OPTIONS", "a", "GET_DEFAULT_OPTIONS", "d", "DEFAULT_LABEL_OPTIONS", "DEFAULT_TOOLTIP_OPTIONS", "data", "value", "root", "Pack", "scale", "tooltip", "__rest", "DEFAULT_OPTIONS", "min", "i", "max", "mark", "y", "x", "I", "data", "tooltip", "transform", "animate", "__rest", "point", "shape", "Shape", "cartesian", "index", "scale", "value", "offset", "i", "p", "x", "y", "i", "n", "_", "d", "x", "y", "add", "x0", "y0", "x1", "y1", "right", "i", "data", "n", "x", "y", "x0", "y0", "x1", "y1", "i", "data", "_", "x0", "y0", "x1", "y1", "find_default", "x", "y", "data", "x0", "y0", "x1", "y1", "x2", "y2", "x3", "y3", "i", "d2", "d", "remove_default", "d", "x", "y", "x0", "y0", "x1", "y1", "right", "i", "data", "n", "size", "x0", "y0", "x1", "y1", "x0", "y0", "x1", "y1", "d", "_", "d", "_", "x", "y", "x0", "y0", "x1", "y1", "copy", "i", "find_default", "remove_default", "constant_default", "x", "random", "index", "d", "find", "id", "distance", "constant_default", "count", "random", "iterations", "link", "k", "n", "i", "x", "y", "l", "m", "_", "i", "n", "_", "name", "T", "set", "copy", "c", "clock", "f", "e", "now", "t0", "t1", "t2", "a", "c", "m", "lcg_default", "s", "x", "d", "y", "step", "random", "lcg_default", "tick", "iterations", "i", "n", "k", "angle", "_", "name", "d2", "random", "constant_default", "_", "i", "n", "x", "y", "node", "strength", "c", "weight", "x1", "x2", "w", "l", "x_default", "x", "constant_default", "i", "n", "_", "y_default", "y", "constant_default", "i", "n", "_", "DEFAULT_LAYOUT_OPTIONS", "DEFAULT_LINK_OPTIONS", "d", "DEFAULT_NODE_OPTIONS", "DEFAULT_LABEL_OPTIONS", "dataTransform", "data", "x_default", "y_default", "n", "i", "e", "scale", "animate", "tooltip", "__rest", "data", "field", "sortBy", "x", "y", "root", "d", "c", "DEFAULT_LAYOUT_OPTIONS", "a", "DEFAULT_NODE_OPTIONS", "DEFAULT_LINK_OPTIONS", "DEFAULT_LABEL_OPTIONS", "Tree", "data", "scale", "animate", "tooltip", "d", "initializeData", "data", "value", "d", "GET_DEFAULT_OPTIONS", "__awaiter", "scale", "__rest", "shape", "__rest", "value", "p", "stroke", "x", "y", "Group", "DEFAULT_OPTIONS", "data", "percent", "dataTransform", "scale", "name", "d", "i", "animate", "transform", "_a", "tooltip", "shape", "Density", "index", "scale", "value", "Yn", "i", "offset", "x", "_", "p", "shape", "Heatmap", "index", "scale", "value", "C", "i", "r", "DEFAULT_OPTIONS", "DEFAULT_TEXT_OPTIONS", "Liquid", "data", "animate", "__rest", "percent", "prettyNumber", "Band", "Linear", "Ordinal", "Identity", "Point", "Time", "Log", "Pow", "Threshold", "Quantile", "Quantize", "Sqrt", "Sequential", "Constant", "create", "create", "tokens", "defaults", "create", "tokens", "defaults", "create", "_", "i", "x", "p", "i", "x", "value", "i", "length", "value", "i", "s", "n", "i", "x", "p", "d", "i", "n", "x", "p", "d", "x", "p", "identity_default", "x", "map", "locale", "group", "identity_default", "percent", "sign", "zero", "format", "value", "i", "n", "c", "length", "formatPrefix", "f", "e", "k", "format", "_a", "maybeAppend", "field", "s", "isHorizontal", "value", "size", "length", "domainOf", "scale", "__rest", "tick", "x", "scale", "min", "max", "d", "size", "i", "getData", "ticks", "toString", "labelFormatter", "_a", "isHorizontal", "position", "isVertical", "array", "offset", "prettyNumber", "transform", "y", "center", "w", "h", "r", "value", "cos", "sin", "grid", "__rest", "data", "bbox", "defaultStyle", "direction", "format", "index", "scale", "name", "_", "i", "angle", "__rest", "mark", "shape", "d", "i", "_a", "range", "sum", "a", "library", "size", "create", "name", "scale", "defaults", "labelFormatter", "format", "domainOf", "value", "width", "height", "__rest", "shape", "isHorizontal", "value", "size", "max", "min", "range", "formatter", "data", "index", "rangeOf", "scale", "length", "d", "Constant", "i", "color", "p2", "labelFormatter", "__rest", "x", "y", "format", "Continuous", "value", "index", "x", "y", "Title", "__rest", "maybeAppend", "value", "x", "scale", "invert", "offset", "step", "range", "d", "domainOf", "values", "end", "y", "x1", "y1", "scaleX", "scaleY", "point", "inferPosition", "x", "y", "Slider", "labelFormatter", "size", "__rest", "scale", "value", "_a", "formatter", "format", "isHorizontal", "reverse", "x0", "y0", "f", "tick", "invert", "mark", "name", "channel", "index", "Slider", "Slider", "Scrollbar", "labelFormatter", "__rest", "scale", "value", "x", "y", "range", "Scrollbar", "Scrollbar", "Group", "_", "defaults", "shape", "transform", "_", "defaults", "shape", "transform", "_", "defaults", "shape", "y", "y1", "transform", "_", "defaults", "shape", "transform", "_", "defaults", "shape", "_", "defaults", "shape", "shape", "keys", "value", "shape", "min", "max", "x0", "y0", "x1", "y1", "d", "x", "y", "pack", "count", "row", "B", "h", "n", "c", "w", "i", "keys", "path", "Path", "search", "first", "last", "D", "defaults", "f", "defaults", "shape", "y", "y1", "path", "_", "defaults", "shape", "_", "defaults", "shape", "_", "defaults", "shape", "length", "_a", "defaults", "shape", "x", "y", "Path", "defaults", "shape", "x", "y", "Path", "generatePath", "context", "parsedStyle", "_parsedStyle$cx", "cx", "_parsedStyle$cy", "cy", "r", "arc", "Math", "PI", "rx", "ry", "ellipse", "scaleX", "scaleY", "save", "scale", "x1", "y1", "x2", "y2", "markerStart", "markerEnd", "markerStartOffset", "markerEndOffset", "startOffsetX", "startOffsetY", "endOffsetX", "endOffsetY", "rad", "x", "y", "isDisplayObject", "atan2", "cos", "sin", "moveTo", "lineTo", "_parsedStyle$d", "d", "absolutePath", "segments", "_getStartTangent", "parentNode", "getStartTangent", "_getStartTangent2", "_slicedToArray", "p1", "p2", "_getEndTangent", "getEndTangent", "_getEndTangent2", "i", "length", "params", "command", "nextSegment", "useStartOffset", "useEndOffset", "_ref", "_ref2", "startOffsetXTemp", "startOffsetYTemp", "_ref3", "_ref4", "endOffsetXTemp", "endOffsetYTemp", "quadraticCurveTo", "bezierCurveTo", "arcParams", "startAngle", "endAngle", "xRotation", "sweepFlag", "translate", "rotate", "closePath", "points", "point", "_parsedStyle$x", "_parsedStyle$y", "radius", "width", "height", "w", "h", "hasRadius", "some", "rect", "signX", "signY", "_radius$map", "map", "clamp", "min", "abs", "_radius$map2", "tlr", "trr", "brr", "blr", "Plugin", "_AbstractRendererPlug", "_this", "_classCallCheck", "_len", "arguments", "args", "Array", "_key", "_callSuper", "concat", "name", "_inherits", "_createClass", "key", "value", "init", "_pathGeneratorFactory", "pathGeneratorFactory", "_defineProperty", "Shape", "CIRCLE", "CirclePath", "ELLIPSE", "EllipsePath", "RECT", "RectPath", "LINE", "LinePath", "POLYLINE", "PolylinePath", "POLYGON", "PolygonPath", "PATH", "PathPath", "TEXT", "undefined", "GROUP", "IMAGE", "HTML", "MESH", "FRAGMENT", "destroy", "AbstractRendererPlugin", "tmpVec3a", "vec3", "create", "tmpVec3b", "tmpVec3c", "tmpMat4", "mat4", "CanvasPickerPlugin", "_this", "_classCallCheck", "isHit", "displayObject", "position", "worldTransform", "isClipPath", "pick", "context", "pointInPathPickerFactory", "nodeName", "invertWorldMat", "invert", "localPosition", "transformMat4", "set", "Point", "isPointInPath", "runtime", "offscreenCanvasCreator", "getOrCreateContext", "config", "offscreenCanvas", "generatePath", "pathGeneratorFactory", "beginPath", "parsedStyle", "closePath", "x", "y", "_createClass", "key", "value", "apply", "_renderingContext$roo", "_this2", "renderingService", "renderingContext", "document", "root", "ownerDocument", "hooks", "tapPromise", "tag", "_ref", "_asyncToGenerator", "_regeneratorRuntime", "mark", "_callee", "result", "wrap", "_callee$", "_context", "prev", "next", "abrupt", "stop", "_x", "arguments", "pickSync", "tap", "topmost", "_result$position", "hitTestList", "elementsFromBBox", "pickedDisplayObjects", "_iterator", "_createForOfIteratorHelper", "_step", "s", "n", "done", "getWorldTransform", "isHitOriginShape", "clipped", "findClosestClipPathTarget", "clipPath", "isHitClipPath", "picked", "push", "err", "e", "f", "_ref$cx", "cx", "_ref$cy", "cy", "r", "fill", "stroke", "_ref$lineWidth", "lineWidth", "_ref$increasedLineWid", "increasedLineWidthForHitTesting", "_ref$pointerEvents", "pointerEvents", "halfLineWidth", "absDistance", "distance", "_isFillOrStrokeAffect", "isFillOrStrokeAffected", "_isFillOrStrokeAffect2", "_slicedToArray", "hasFill", "hasStroke", "ellipseDistance", "squareX", "squareY", "rx", "ry", "halfLineWith", "inBox", "minX", "minY", "width", "height", "inRect", "halfWidth", "inArc", "startAngle", "endAngle", "angle", "Math", "atan2", "PI", "point", "cos", "sin", "inLine", "x1", "y1", "x2", "y2", "min", "maxX", "max", "maxY", "linePointToLine", "inPolyline", "points", "isClose", "count", "length", "i", "first", "last", "tolerance", "dcmp", "abs", "onSegment", "p1", "p2", "q", "inPolygon", "inPolygons", "polygons", "isPointInStroke", "segments", "px", "py", "segment", "currentPoint", "params", "prePoint", "box", "command", "qDistance", "quadPointDistance", "cDistance", "cubicPointDistance", "cubicParams", "arcToCubic", "undefined", "args", "prePointInCubic", "renderingPluginContext", "d", "hasArc", "polylines", "totalLength", "getOrCalculatePathTotalLength", "radius", "_ref$x", "_ref$y", "hasRadius", "some", "lineWidthForHitTesting", "inRectWithRadius", "map", "clamp", "radiusArray", "_radiusArray", "tlr", "trr", "brr", "blr", "canvas", "getOrCreateCanvas", "willReadFrequently", "defaultStyleRendererFactory", "Shape", "IMAGE", "render", "_objectSpread", "imagedata", "getImageData", "data", "every", "component", "bounds", "getGeometryBounds", "Plugin", "_AbstractRendererPlug", "_len", "Array", "_key", "_callSuper", "concat", "name", "_inherits", "init", "_pointInPathPickerFac", "_defineProperty", "CIRCLE", "CirclePicker", "ELLIPSE", "EllipsePicker", "RECT", "RectPicker", "LINE", "LinePicker", "POLYLINE", "PolylinePicker", "POLYGON", "PolygonPicker", "PATH", "PathPicker", "TEXT", "TextPicker", "GROUP", "ImagePicker", "HTML", "MESH", "addRenderingPlugin", "destroy", "removeAllRenderingPlugins", "AbstractRendererPlugin", "e", "id", "e", "RefCountCache", "_classCallCheck", "cacheStore", "Map", "_createClass", "key", "value", "onRefAdded", "ref", "has", "put", "item", "set", "counter", "Set", "get", "cacheItem", "add", "update", "_objectSpread", "release", "size", "releaseRef", "_this", "Array", "from", "keys", "forEach", "getSize", "clear", "tasks", "nextFrameTasks", "ImageSlicer", "stop", "api", "arguments", "length", "undefined", "rafId", "cancelAnimationFrame", "executeTask", "task", "splice", "TASK_NUM_PER_FRAME", "requestAnimationFrame", "sliceImage", "image", "sliceWidth", "sliceHeight", "rerender", "overlap", "imageWidth", "naturalWidth", "width", "imageHeight", "naturalHeight", "height", "strideW", "strideH", "gridCols", "Math", "ceil", "gridRows", "result", "tileSize", "gridSize", "tiles", "fill", "map", "_loop", "row", "_loop2", "col", "push", "startX", "startY", "_ref", "min", "tempSliceWidth", "tempSliceHeight", "sliceCanvas", "createCanvas", "sliceCtx", "getContext", "drawImage", "x", "y", "tileX", "tileY", "data", "IMAGE_CACHE", "addEventListener", "ElementEvent", "DESTROY", "once", "ImagePool", "context", "runtime", "gradientCache", "patternCache", "getImageSync", "src", "callback", "imageSource", "isString", "imageCache", "img", "complete", "getOrCreateImage", "then", "cache", "reason", "console", "error", "_this2", "calculateImageTileSize", "Promise", "resolve", "reject", "ev", "config", "createImage", "onload", "onerror", "crossOrigin", "_createDownSampledImage", "_asyncToGenerator", "_regeneratorRuntime", "mark", "_callee", "enableLargeImageOptimization", "_ref$maxDownSampledIm", "maxDownSampledImageSize", "_ref$downSamplingRate", "downSamplingRateThreshold", "createImageBitmapFunc", "_imageCache$size", "originWidth", "originHeight", "resizedImage", "downSamplingRate", "updateCache", "wrap", "_callee$", "_context", "prev", "next", "sent", "abrupt", "globalThis", "createImageBitmap", "_slicedToArray", "max", "resizeWidth", "resizeHeight", "t0", "downSampled", "createDownSampledImage", "_x", "_x2", "apply", "_createImageTiles", "_callee2", "_ref$ownerDocument$de", "_callee2$", "_context2", "ownerDocument", "defaultView", "OffscreenCanvasCreator", "createImageTiles", "_x3", "_x4", "_x5", "_x6", "releaseImage", "releaseImageRef", "getOrCreatePatternSync", "object", "pattern", "$offscreenCanvas", "dpr", "patternKey", "generatePatternKey", "repetition", "transform", "needScaleWithDPR", "canvasPattern", "createPattern", "mat", "parsedTransformToMat4", "parseTransform", "DisplayObject", "mat4", "identity", "create", "scale", "setTransform", "a", "b", "c", "d", "e", "f", "getOrCreateGradient", "params", "generateGradientKey", "type", "steps", "angle", "cx", "cy", "gradient", "GradientType", "LinearGradient", "_computeLinearGradien", "computeLinearGradient", "x1", "y1", "x2", "y2", "createLinearGradient", "RadialGradient", "_computeRadialGradien", "computeRadialGradient", "r", "createRadialGradient", "_ref2", "offset", "color", "unit", "UnitType", "kPercentage", "_gradient", "addColorStop", "toString", "concat", "_ref3", "join", "nodeName", "entity", "isSupportTile", "rows", "cols", "LoadImagePlugin", "renderingService", "renderingContext", "imagePool", "canvas", "root", "calculateWithAspectRatio", "_object$parsedStyle", "parsedStyle", "setAttribute", "handleMounted", "target", "attributes", "Shape", "IMAGE", "keepAspectRatio", "_ref$img", "renderable", "dirty", "dirtify", "handleAttributeChanged", "attrName", "prevValue", "newValue", "_ref2$img", "hooks", "init", "tap", "tag", "MOUNTED", "ATTR_MODIFIED", "destroy", "removeEventListener", "Plugin", "_AbstractRendererPlug", "_len", "args", "_key", "_callSuper", "name", "_inherits", "addRenderingPlugin", "removeAllRenderingPlugins", "AbstractRendererPlugin", "_renderState", "_classPrivateFieldLooseKey", "CanvasRendererPlugin", "canvasRendererPluginOptions", "_classCallCheck", "removedRBushNodeAABBs", "renderQueue", "Object", "defineProperty", "writable", "value", "restoreStack", "prevObject", "currentContext", "Map", "clearFullScreenLastFrame", "clearFullScreen", "vpMatrix", "mat4", "create", "dprMatrix", "tmpMat4", "vec3a", "vec3", "vec3b", "vec3c", "vec3d", "_createClass", "key", "apply", "context", "runtime", "_this", "_this$context", "config", "camera", "renderingService", "renderingContext", "rBushRoot", "pathGeneratorFactory", "enableRenderingOptimization", "renderer", "getConfig", "enableDirtyCheck", "enableDirtyRectangleRendering", "rBush", "contextService", "canvas", "root", "ownerDocument", "defaultView", "handleUnmounted", "e", "object", "target", "rBushNode", "aabb", "push", "handleCulled", "hooks", "init", "tap", "tag", "addEventListener", "ElementEvent", "UNMOUNTED", "CULLED", "dpr", "getDPR", "width", "height", "getContext", "clearRect", "background", "destroy", "removeEventListener", "_classPrivateFieldLooseBase", "beginFrame", "_canvas$context$rende", "_this$canvasRendererP", "dirtyObjectNumThreshold", "dirtyObjectRatioThreshold", "_renderingService$get", "getStats", "total", "rendered", "ratio", "renderingPlugins", "isFirstTimeRenderingFinished", "disableDirtyRectangleRendering", "resetTransform", "setTransform", "renderByZIndex", "stack", "length", "_currentObject$sortab", "currentObject", "pop", "isVisible", "isCulled", "renderDisplayObjectOptimized", "renderDisplayObject", "objects", "sortable", "sorted", "childNodes", "i", "endFrame", "clear", "fromScaling", "multiply", "getOrthoMatrix", "save", "restore", "dirtyRenderBounds", "safeMergeAABB", "mergeDirtyAABBs", "concat", "_toConsumableArray", "map", "_ref", "minX", "minY", "maxX", "maxY", "AABB", "setMinMax", "isEmpty", "dirtyRect", "convertAABB2Rect", "x", "y", "tl", "transformMat4", "tr", "bl", "br", "minx", "Math", "min", "miny", "maxx", "max", "maxy", "ix", "floor", "iy", "iwidth", "ceil", "iheight", "beginPath", "rect", "clip", "_config$renderer$getC", "enableDirtyRectangleRenderingDebug", "dispatchEvent", "CustomEvent", "CanvasEvent", "DIRTY_RECTANGLE", "dirtyObjects", "searchDirtyObjects", "sort", "a", "b", "renderOrder", "forEach", "saveDirtyAABB", "render", "fillStyle", "fillRect", "canvasContext", "renderState", "nodeName", "updateTransform", "clipDraw", "styleRenderer", "styleRendererFactory", "generatePath", "clipPath", "parsedStyle", "exactEquals", "getWorldTransform", "applyWorldTransform", "closePath", "forceUpdateStyle", "prevNodeName", "Shape", "TEXT", "IMAGE", "applyStyleToContext", "LINE", "PATH", "POLYLINE", "drawToContext", "renderable", "dirty", "parent", "compareDocumentPosition", "Node", "DOCUMENT_POSITION_CONTAINS", "applyAttributesToContext", "_ref2", "stroke", "fill", "opacity", "lineDash", "lineDashOffset", "setLineDash", "isNil", "globalAlpha", "Array", "isArray", "isNone", "strokeStyle", "attributes", "getMin", "getMax", "renderBounds", "getRenderBounds", "add", "dirtyRectangle", "_dirtyRectangle$getMi", "_dirtyRectangle$getMi2", "_slicedToArray", "_dirtyRectangle$getMa", "_dirtyRectangle$getMa2", "rBushNodes", "search", "_ref3", "displayObject", "update", "center", "halfExtents", "matrix", "copy", "getLocalTransform", "merged", "_len", "arguments", "aabbs", "_key", "getPattern", "pattern", "plugin", "imagePool", "$offscreenCanvas", "image", "_parsedStyle", "offscreenCanvas", "offscreenCanvasCreator", "getOrCreateCanvas", "offscreenCanvasContext", "getOrCreateContext", "canvasPattern", "getOrCreatePatternSync", "getGeometryBounds", "dirtify", "getColor", "parsedColor", "color", "type", "GradientType", "LinearGradient", "RadialGradient", "bounds", "getOrCreateGradient", "_objectSpread", "SHADOW_NUMBER_STYLE", "STROKE_STYLE", "DEFAULT_STYLE", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "shadowColor", "filter", "globalCompositeOperation", "strokeOpacity", "lineWidth", "lineCap", "lineJoin", "miterLimit", "fillOpacity", "defaultParsedStyle", "updateContextIfNotHitCache", "cache", "prevValue", "has", "get", "set", "OptimizedDefaultRenderer", "applyCommonStyleToContext", "forceUpdate", "prevStyle", "style", "blend", "applyStrokeFillStyleToContext", "_style$lineWidth", "hasFill", "hasStroke", "styleName", "applyShadowAndFilterStyleToContext", "hasShadow", "toString", "clearShadowAndFilterStyleForContext", "hasFilter", "onlyClearShadowFilter", "undefined", "oldFilter", "indexOf", "replace", "trim", "fillToContext", "_object$parsedStyle", "fillRule", "resetStyle", "gradient", "isPattern", "strokeToContext", "_this2", "_style$fill", "_style$opacity", "_style$fillOpacity", "_style$strokeOpacity", "_style$lineWidth2", "isInnerShadow", "shadowType", "isFillTransparent", "alpha", "shouldDrawShadowWithStroke", "originGlobalAlpha", "updateOpacity", "clearShadowAndFilter", "prevOpacity", "originBlend", "DefaultRenderer", "_OptimizedDefaultRend", "_callSuper", "_inherits", "_parsedStyle$opacity", "_parsedStyle$fillOpac", "_parsedStyle$strokeOp", "_parsedStyle$lineWidt", "setShadowAndFilter", "applyFill", "applyStroke", "skipFill", "skipStroke", "calculateOverlapRect", "rect1", "rect2", "_rect", "x1", "y1", "w1", "h1", "_rect2", "x2", "y2", "w2", "h2", "overlapLeft", "overlapTop", "overlapRight", "overlapBottom", "transformRect", "ImageRenderer", "_DefaultRenderer", "renderDownSampled", "data", "src", "imageCache", "downSampled", "createDownSampledImage", "then", "reason", "console", "error", "drawImage", "drawRect", "renderTile", "imageRect", "originalSize", "size", "_context$getTransform", "getTransform", "c", "d", "f", "gridSize", "createImageTiles", "scaleToOrigin", "scaledTileSize", "tileSize", "startTileX", "endTileX", "startTileY", "endTileY", "tileY", "tileX", "item", "tiles", "tileRect", "_parsedStyle$x", "_parsedStyle$y", "getImageSync", "img", "iw", "ih", "_object$ownerDocument", "getContextService", "getDomElement", "viewWidth", "viewHeight", "currentTransform", "transformMatrix", "fromValues", "enableLargeImageOptimization", "renderFull", "sizeOfOrigin", "downSamplingRate", "ImagePool", "isSupportTile", "_unused", "TextRenderer", "getBounds", "_parsedStyle$textAlig", "textAlign", "_parsedStyle$textBase", "textBaseline", "_parsedStyle$lineJoin", "_parsedStyle$miterLim", "_parsedStyle$letterSp", "letterSpacing", "metrics", "dx", "dy", "font", "lines", "lineHeight", "lineMetrics", "formattedTextBaseline", "linePositionY", "offsetX", "linePositionX", "drawLetterSpacing", "text", "isStroke", "strokeText", "fillText", "currentTextAlign", "currentPosition", "stringArray", "from", "previousWidth", "measureText", "currentWidth", "currentChar", "substring", "currentGlobalAlpha", "applyOpacity", "Plugin", "_AbstractRendererPlug", "options", "name", "_defaultStyleRenderer", "defaultRenderer", "defaultStyleRendererFactory", "_defineProperty", "CIRCLE", "ELLIPSE", "RECT", "POLYGON", "GROUP", "HTML", "MESH", "FRAGMENT", "addRenderingPlugin", "removeAllRenderingPlugins", "AbstractRendererPlugin", "DOMInteractionPlugin", "_classCallCheck", "_createClass", "key", "value", "apply", "context", "runtime", "_this", "renderingService", "renderingContext", "config", "canvas", "root", "ownerDocument", "defaultView", "onPointerMove", "ev", "hooks", "pointerMove", "call", "onPointerUp", "pointerUp", "onPointerDown", "pointerDown", "onPointerOver", "pointerOver", "onPointerOut", "pointerOut", "onPointerCancel", "pointerCancel", "onPointerWheel", "pointerWheel", "onClick", "click", "addPointerEventListener", "$el", "globalThis", "document", "addEventListener", "addTouchEventListener", "addMouseEventListener", "removePointerEventListener", "removeEventListener", "removeTouchEventListener", "removeMouseEventListener", "init", "tap", "tag", "contextService", "getDomElement", "navigator", "msPointerEnabled", "style", "msContentZooming", "msTouchAction", "supportsPointerEvents", "touchAction", "supportsTouchEvents", "useNativeClickEvent", "passive", "capture", "destroy", "Plugin", "_AbstractRendererPlug", "_len", "arguments", "length", "args", "Array", "_key", "_callSuper", "concat", "name", "_inherits", "addRenderingPlugin", "removeAllRenderingPlugins", "AbstractRendererPlugin", "CANVAS_CAMERA_ID", "HTMLRenderingPlugin", "_classCallCheck", "displayObjectHTMLElementMap", "WeakMap", "_createClass", "key", "value", "joinTransformMatrix", "matrix", "offset", "arguments", "length", "undefined", "concat", "join", "apply", "context", "runtime", "_this", "camera", "renderingContext", "renderingService", "canvas", "root", "ownerDocument", "defaultView", "nativeHTMLMap", "eventService", "setTransform", "object", "$el", "style", "transform", "getWorldTransform", "getOrigin", "handleMounted", "e", "target", "nodeName", "Shape", "HTML", "$camera", "createCamera", "getOrCreateEl", "appendChild", "Object", "keys", "attributes", "forEach", "name", "updateAttribute", "set", "handleUnmounted", "remove", "handleAttributeChanged", "attrName", "handleBoundsChanged", "nodes", "FRAGMENT", "childNodes", "node", "handleCanvasResize", "_this$context$config", "config", "width", "height", "parentElement", "hooks", "init", "tap", "tag", "addEventListener", "CanvasEvent", "RESIZE", "ElementEvent", "MOUNTED", "UNMOUNTED", "ATTR_MODIFIED", "BOUNDS_CHANGED", "endFrame", "renderReasons", "has", "RenderReason", "CAMERA_CHANGED", "getOrthoMatrix", "destroy", "removeEventListener", "_this$context$config2", "doc", "document", "$canvas", "contextService", "getDomElement", "$container", "parentNode", "cameraId", "$existedCamera", "querySelector", "$cameraContainer", "createElement", "overflow", "pointerEvents", "position", "left", "top", "id", "offsetLeft", "offsetTop", "transformOrigin", "$existedElement", "get", "parsedStyle", "setAttribute", "className", "innerHTML", "isString", "x", "y", "buildCSSText", "isNumber", "toString", "zIndex", "visibility", "_object$parsedStyle$p", "opacity", "fill", "color", "isCSSRGB", "isNone", "getAttribute", "Array", "isArray", "isPattern", "background", "stroke", "borderColor", "lineWidth", "filter", "isNil", "Plugin", "_AbstractRendererPlug", "_len", "args", "_key", "_callSuper", "_inherits", "addRenderingPlugin", "removeAllRenderingPlugins", "AbstractRendererPlugin", "Canvas2DContextService", "context", "_classCallCheck", "renderingContext", "canvasConfig", "config", "_createClass", "key", "value", "init", "_this$canvasConfig", "container", "canvas", "$canvas", "parentElement", "appendChild", "$container", "isString", "document", "getElementById", "createElement", "style", "position", "getContext", "resize", "width", "height", "getDomElement", "getDPR", "dpr", "getBoundingClientRect", "destroy", "parentNode", "removeChild", "devicePixelRatio", "setDOMSize", "renderReasons", "add", "RenderReason", "CAMERA_CHANGED", "applyCursorStyle", "cursor", "_toDataURL", "_asyncToGenerator", "_regeneratorRuntime", "mark", "_callee", "options", "type", "encoderOptions", "_args", "arguments", "wrap", "_callee$", "_context", "prev", "next", "length", "undefined", "abrupt", "toDataURL", "stop", "apply", "ContextRegisterPlugin", "_AbstractRendererPlug", "_this", "_len", "args", "Array", "_key", "_callSuper", "concat", "name", "_inherits", "ContextService", "AbstractRendererPlugin", "Renderer", "_AbstractRenderer", "registerPlugin", "Plugin", "AbstractRenderer", "DragndropPlugin", "dragndropPluginOptions", "_classCallCheck", "_createClass", "key", "value", "apply", "context", "_this", "renderingService", "renderingContext", "document", "root", "ownerDocument", "canvas", "defaultView", "handlePointerdown", "event", "target", "isDocument", "draggableEventTarget", "isDocumentDraggable", "closest", "dragstartTriggered", "dragstartTimeStamp", "timeStamp", "dragstartClientCoordinates", "clientX", "clientY", "currentDroppable", "lastDragClientCoordinates", "handlePointermove", "_ref", "_asyncToGenerator", "_regeneratorRuntime", "mark", "_callee", "timeElapsed", "distanceMoved", "point", "elementsBelow", "elementBelow", "droppableBelow", "wrap", "_callee$", "_context", "prev", "next", "distanceSquareRoot", "dragstartTimeThreshold", "dragstartDistanceThreshold", "abrupt", "type", "dispatchEvent", "dx", "dy", "overlap", "canvasX", "canvasY", "getBounds", "center", "elementsFromPoint", "sent", "indexOf", "isDocumentDroppable", "stop", "_x", "arguments", "addEventListener", "stopDragging", "originalPointerUpEvent", "detail", "preventClick", "clone", "removeEventListener", "once", "hooks", "init", "tap", "tag", "destroy", "Plugin", "_AbstractRendererPlug", "options", "length", "undefined", "_callSuper", "name", "_inherits", "addRenderingPlugin", "_objectSpread", "removeAllRenderingPlugins", "setOptions", "Object", "assign", "plugins", "AbstractRendererPlugin", "EventEmitter", "_this", "length", "i", "_a", "e", "n", "a", "s", "c", "p", "d", "y", "o", "i", "t", "u", "l", "f", "E", "r", "A", "h", "R", "T", "w", "O", "A", "_", "i", "value", "index", "toString", "isType", "value", "is_type_default", "value", "is_type_default", "value", "is_type_default", "is_object_default", "value", "each", "i", "len", "is_object_default", "k", "each_default", "isObjectLike", "value", "is_object_like_default", "isPlainObject", "value", "is_object_like_default", "is_type_default", "is_plain_object_default", "arrPrototype", "splice", "indexOf", "splice", "str", "is_type_default", "isNumber", "value", "is_type_default", "isInteger", "DEGREE", "RADIAN", "each_default", "value", "values_default", "toString", "objectProto", "f", "cache", "MAX_MIX_LEVEL", "_deepMix", "dist", "value", "is_plain_object_default", "deepMix", "i", "deep_mix_default", "identity_default", "ctx", "values_default", "default_1", "value", "compose", "x", "identity_default", "transformer", "extend", "transform", "i", "__spreadArray", "__read", "min", "max", "translate", "x", "y", "_a", "__read", "matrix", "x", "y", "_a", "__read", "custom", "x", "y", "_a", "__read", "matrix", "x", "y", "_a", "__read", "x", "y", "_a", "__read", "angle", "r", "transpose", "x", "y", "_a", "__read", "scale", "x", "y", "_a", "__read", "matrix", "reflect", "scale", "__spreadArray", "__read", "rotate", "x", "y", "_a", "__read", "matrix", "x", "y", "_a", "__read", "count", "d", "step", "angle", "a", "r", "parallel", "x", "y", "_a", "__read", "x0", "x1", "y0", "y1", "len", "_", "i", "e", "x", "y", "_a", "__read", "x", "min", "max", "left", "m", "f", "normalize", "length", "s", "y", "_a", "__read", "scaleX", "scaleY", "r", "x", "y", "_a", "__read", "x", "y", "_a", "__read", "x", "y", "_a", "__read", "z", "x", "y", "_a", "__read", "Coordinate", "translate", "custom", "matrix", "transpose", "scale", "reflect", "rotate", "parallel", "deep_mix_default", "_a", "x", "y", "__spreadArray", "__read", "invert", "d", "add", "transform", "extend", "__values", "transformer", "identity_default", "compose", "m", "Coordinate3D", "deep_mix_default", "_a", "x", "y", "__spreadArray", "__read", "invert", "d", "add", "transform", "__values", "transformer", "identity_default", "compose", "matrix", "m", "adaptor", "isObject", "d", "value", "__rest", "_a", "data", "x", "y", "__rest", "direction", "sum", "value", "i", "_a", "data", "__rest", "__rest", "_a", "data", "scale", "transform", "rest", "data", "x", "y", "frame", "mark", "__rest", "x", "f", "data", "scale", "x", "y", "encode", "groups", "d", "_a", "flex", "legend", "c", "domain", "color", "values", "cellData", "createGuideX", "createGuideY", "scaleX", "scaleY", "index", "indexOf", "f", "max", "i", "left", "children", "__rest", "grid", "setScale", "setChildren", "data", "scale", "scaleX", "scaleY", "index", "indexOf", "values", "x", "y", "i", "left", "children", "d", "__rest", "_a", "setData", "setScale", "__rest", "data", "p2", "dist", "sub", "angleBetween", "s", "x0", "y0", "a3", "d", "range", "direction", "reverse", "setAnimation", "n", "d", "count", "i", "index", "data", "scale", "animate", "__rest", "epsilon", "epsilon2", "pi", "halfPi", "tau", "abs", "atan2", "cos", "ceil", "exp", "pow", "sin", "sign", "x", "sqrt", "acos", "pi", "asin", "halfPi", "noop", "i", "n", "cartesian", "atan2", "asin", "spherical", "phi", "cos", "sin", "a", "k", "d", "l", "sqrt", "a", "compose", "x", "y", "phi", "abs", "pi", "tau", "cos", "sin", "x", "y", "k", "atan2", "asin", "rotate", "direction", "t0", "t1", "cos", "sin", "step", "tau", "point", "cartesian", "acos", "epsilon", "line", "x", "y", "m", "noop", "a", "abs", "epsilon", "point", "compareIntersection", "interpolate", "i", "n", "x", "epsilon", "link", "array", "a", "point", "abs", "pi", "sign", "tau", "phi", "sin", "cos", "angle", "sum", "halfPi", "epsilon", "i", "n", "m", "k", "atan2", "cartesian", "intersection", "asin", "epsilon2", "interpolate", "line", "point", "phi", "i", "n", "m", "a", "halfPi", "epsilon", "pi", "halfPi", "abs", "epsilon", "sin", "cos", "direction", "phi", "circle_default", "cos", "abs", "epsilon", "interpolate", "direction", "phi", "point2", "c", "pi", "intersect", "a", "cartesian", "determinant", "c2", "A", "B", "u", "w", "t2", "sqrt", "delta", "polar", "q1", "r", "code", "line_default", "a", "x0", "y0", "x1", "y1", "t0", "t1", "r", "x0", "y0", "x1", "y1", "x", "y", "interpolate", "direction", "a", "p", "abs", "epsilon", "compareIntersection", "first", "point", "i", "n", "ring", "m", "visible", "line_default", "y0", "y1", "y", "epsilon", "x", "x0", "x1", "X1", "X0", "Y1", "Y0", "graticule", "ceil", "abs", "_", "identity_default", "x", "areaSum", "areaRingSum", "areaStream", "noop", "abs", "area", "x", "y", "area_default", "x0", "y0", "noop", "x", "y", "x00", "y00", "x0", "y0", "x", "y", "sqrt", "_", "x", "y", "tau", "noop", "x00", "y00", "x0", "y0", "noop", "length", "x", "y", "sqrt", "append", "appendRound", "_", "x", "y", "r", "s", "i", "d", "k", "path_default", "projection", "path", "area_default", "_", "identity_default", "d", "methods", "s", "x", "y", "projection", "extent", "w", "h", "k", "x", "y", "size", "cos", "x", "y", "x0", "y0", "x1", "y1", "d2", "a", "c", "m", "sqrt", "asin", "abs", "epsilon", "atan2", "p", "x2", "y2", "x00", "y00", "point", "phi", "cartesian", "x", "y", "rotate", "r", "k", "transform", "cos", "sin", "a", "projection", "phi", "x0", "y0", "x1", "y1", "identity_default", "cache", "point", "invert", "_", "circle_default", "sqrt", "extent", "size", "center", "pi", "m", "p", "_", "cos", "phi", "sin", "x", "y", "asin", "y0", "y1", "sin", "n", "abs", "epsilon", "c", "sqrt", "x", "y", "r", "cos", "l", "atan2", "sign", "pi", "asin", "n", "x", "y", "i", "cache", "point", "k", "_", "epsilon", "extent", "size", "scale", "x", "y", "cos", "k", "sin", "angle", "sqrt", "c", "atan2", "asin", "sqrt", "asin", "projection", "c", "acos", "sin", "projection", "phi", "halfPi", "x", "y", "exp", "tau", "m", "projection", "center", "scale", "translate", "x0", "y0", "x1", "y1", "_", "k", "pi", "y", "halfPi", "y0", "y1", "cos", "n", "sin", "f", "pow", "x", "epsilon", "r", "sign", "sqrt", "l", "atan2", "abs", "pi", "phi", "projection", "y0", "y1", "cos", "n", "sin", "abs", "epsilon", "x", "y", "l", "atan2", "sign", "pi", "sqrt", "A2", "A3", "sqrt", "phi", "l", "asin", "sin", "l2", "cos", "x", "y", "i", "abs", "epsilon2", "projection", "x", "y", "cos", "k", "sin", "projection", "identity_default", "k", "x0", "y0", "x1", "y1", "kx", "ky", "transform", "x", "y", "p", "projection", "cache", "_", "sin", "cos", "extent", "size", "phi", "phi2", "x", "y", "i", "abs", "epsilon", "projection", "x", "y", "cos", "sin", "asin", "projection", "epsilon", "x", "y", "cos", "k", "sin", "projection", "phi", "halfPi", "x", "y", "exp", "m", "center", "rotate", "_", "identity_default", "projection", "name", "projection", "value", "_a", "d", "size", "x", "y", "x0", "y0", "x1", "y1", "path_default", "l", "s", "data", "__rest", "path", "scaleX", "scaleY", "normalize", "point", "px", "GeoPath", "options", "tooltip", "node", "e", "className", "root", "Event", "_", "dblclick", "Event", "library", "create", "__rest", "group", "library", "transform", "__rest", "createCoordinate", "d", "isPolar", "isHelix", "isTranspose", "isParallel", "isTheta", "isRadial", "isRadar", "cubehelix_default", "scheme", "n", "i", "extend", "Color", "darker", "brighter", "reI", "reN", "reP", "reHex", "reRgbInteger", "reRgbPercent", "reRgbaInteger", "reRgbaPercent", "reHslPercent", "reHslaPercent", "named", "color", "color_formatHex", "color_formatHex8", "color_formatHsl", "color_formatRgb", "hslConvert", "format", "m", "l", "rgbn", "Rgb", "rgba", "hsla", "n", "r", "a", "rgbConvert", "o", "rgb", "extend", "k", "clampi", "clampa", "rgb_formatHex", "rgb_formatHex8", "rgb_formatRgb", "hex", "value", "h", "s", "Hsl", "min", "max", "hsl", "m2", "hsl2rgb", "clamph", "clampt", "radians", "degrees", "o", "Rgb", "rgbConvert", "r", "y", "x", "l", "a", "extend", "Color", "k", "y", "x", "Rgb", "o", "h", "degrees", "h", "c", "l", "o", "radians", "extend", "Color", "k", "A", "B", "C", "E", "o", "Rgb", "rgbConvert", "r", "l", "k", "s", "h", "degrees", "extend", "Color", "brighter", "darker", "radians", "a", "cosh", "sinh", "t1", "t2", "t3", "basis_default", "values", "n", "i", "basisClosed_default", "values", "n", "i", "constant_default", "x", "linear", "a", "d", "y", "constant_default", "y", "color", "rgb", "r", "n", "i", "basis_default", "basisClosed_default", "a", "degrees", "identity", "a", "c", "d", "e", "f", "scaleX", "scaleY", "skewX", "value", "m", "identity", "s", "translate", "i", "rotate", "a", "skewX", "scale", "n", "o", "epsilon2", "x", "d2", "i", "s", "u", "_", "_2", "hsl", "hue", "h", "s", "l", "hcl", "hue", "h", "c", "l", "cubehelix", "hue", "y", "h", "s", "l", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "cubehelix_default", "c", "c", "rgb", "x", "range", "n", "name", "values", "library", "scale", "value", "d", "channels", "group", "groupTransform", "_a", "identity", "map", "invert", "x", "a", "keys", "index", "max", "D", "range", "isObject", "min", "offset", "e", "scheme", "_", "i", "interpolate", "nice", "isTheta", "defaults", "zero", "some", "library", "scale", "field", "isVertical", "size", "length", "__rest", "value", "render", "d", "group", "components", "d", "length", "size", "max", "name", "scales", "scale", "sort", "a", "isHelix", "isTheta", "isTranspose", "isPolar", "isRadial", "isRadar", "angleOf", "polar", "index", "angle", "isParallel", "library", "_a", "__rest", "styleOf", "isVertical", "cols", "w", "maxRows", "labelFormatter", "i", "key", "value", "_", "x", "direction", "transform", "ticksOf", "ticks", "T", "prettyNumber", "formatter", "format", "offset", "scaleX", "extent", "x0", "x1", "y", "y0", "shape", "filter", "library", "x", "y", "_a", "viewWidth", "paddingLeft", "paddingRight", "pl0", "pr0", "padding", "isPolar", "isRadial", "d", "max", "i", "scale", "size", "_", "components", "value", "sizeOf", "isHorizontal", "min", "sum", "crossPadding", "area", "divide", "r", "x0", "y0", "direction", "reverse", "a", "minX", "groupComponents", "group", "step", "length", "offset", "interval", "mark", "scale", "transform", "__rest", "library", "data", "T", "transformFunctions", "indexOf", "value", "i", "name", "columnOf", "tooltip", "valueOf", "field", "color", "d", "format", "values", "columns", "rest", "row", "column", "key", "normalize", "animate", "scale", "data", "tooltip", "value", "values", "_a", "d", "name", "required", "range", "i", "constant", "__rest", "library", "mark", "transform", "index", "library", "d", "_a", "isMark", "transform", "i", "state", "n", "update", "updateInteractions", "x", "options", "__awaiter", "compose", "container", "destroy", "name", "filter", "__rest", "mark", "data", "marks", "M", "scale", "values", "defaults", "frame", "scales", "index", "tooltip", "value", "count", "T", "itemsOf", "k", "y", "_", "selection", "applyStyle", "px", "size", "left", "right", "C", "key", "merge", "transition", "e", "l", "p", "min", "max", "formatter", "render", "valueOf", "shape", "f", "format", "animate", "group", "translate", "color", "A", "extent", "x1", "y1", "field", "f", "scale", "columnWidthRatio", "root", "index", "i", "Canvas", "Plugin", "e", "keyed", "library", "x", "y", "group", "Group", "_a", "value", "getStyle", "_a", "setStyle", "value", "hide", "show", "root", "d", "x", "y", "x1", "y1", "x0", "y0", "view", "mark", "index", "data", "valueof", "value", "getStyle", "defaults", "markState", "attr", "array", "k", "i", "e", "_a", "link", "__rest", "p2", "append", "p", "p3", "Path", "remove", "offset", "transform", "center", "sub", "angle", "angleBetween", "document", "scale", "extentOf", "mid", "scaleX", "e2", "scaleY", "x2", "y2", "stroke", "rest", "shape", "dom", "point", "path", "plot", "bandWidth", "a", "search", "root", "d", "link", "scale", "valueof", "_a", "value", "i", "k", "group", "e", "data", "__rest", "_", "root", "d", "link", "scale", "valueof", "_a", "value", "i", "e", "filter", "groupBy", "k", "group", "select", "el", "data", "__rest", "_", "transform", "d", "markValue", "value", "mark", "name", "channel", "_a", "labelFormatter", "__rest", "update", "scale", "_", "i", "coordinate", "scaleX", "__awaiter", "r", "I", "max", "min", "k", "Y", "scaleY", "line", "y0", "y1", "labels", "transform", "fisheye", "d", "Fisheye", "update", "options", "mark", "x", "y", "group", "root", "x1", "y1", "x2", "y2", "x0", "y0", "offset", "defaults", "data", "x", "y", "render", "value", "_a", "color", "__rest", "stroke", "unique", "d", "scale", "T", "i", "name", "groupName", "polar", "r", "circle", "line", "mouse", "points", "p", "dist", "a", "angle", "sub", "point", "shape", "index", "extent", "min", "max", "_", "sortedIndex", "scaleX", "search", "elements", "find", "groups", "update", "hide", "invert", "destroy", "offsetX", "rest", "e", "bandWidth", "k", "Tooltip", "root", "dataOf", "root", "markerOf", "labelOf", "filter", "value", "__awaiter", "index", "data", "values", "_", "update", "mark", "transform", "channel", "d", "dataOf", "remove", "_", "dataOf", "scaleOf", "scale", "valueof", "data", "index", "d", "value", "e", "destroy", "intersect", "x", "y", "x1", "y1", "extent", "maxY", "bboxOf", "root", "applyStyle", "value", "_a", "className", "size", "document", "__rest", "g", "id", "Node", "reverse", "stroke", "Path", "start", "end", "min", "max", "width", "height", "d", "scale", "valueof", "keys", "clone", "e", "data", "brush", "x", "y", "x1", "y1", "extent", "maxY", "x", "y", "x1", "y1", "extent", "_a", "cross", "__rest", "maxY", "size", "x", "y", "x1", "y1", "root", "axesOf", "isHorizontal", "reverse", "valueof", "x0", "y0", "d", "extentOf", "D", "i", "scale", "selectionOf", "index", "name", "data", "domainOf", "extent", "rangeOf", "abstractOf", "_", "interval", "e", "root", "_a", "filter", "reverse", "scale", "__rest", "extent", "brush", "x", "y", "x1", "y1", "data", "selection", "update", "coordinate", "__awaiter", "mark", "scaleX", "scaleY", "mark", "_a", "values", "scale", "reverse", "x", "x1", "d", "invert", "domainOf", "className", "_", "update", "scaleX", "scaleY", "__awaiter", "data", "name", "_", "scale", "scaleX", "scaleY", "values", "value", "Poptip", "_a", "__rest", "x0", "y0", "e", "x", "y", "selectPlotArea", "root", "__rest", "update", "mark", "Group", "path", "__awaiter", "name", "y", "x", "index", "id", "d", "e", "DEFAULT_STYLE", "e", "data", "d", "field", "y", "y1", "transform", "value", "isTheta", "index", "i", "defaultStyle", "shape", "group", "circle", "Path", "color", "indexOf", "center", "point", "__rest", "_", "update", "isTranspose", "isPolar", "Group", "elementSelect", "selection", "scale", "scaleY", "scaleX", "x", "__awaiter", "_a", "mark", "p", "title", "percent", "name", "i", "f", "row", "column", "pad", "value", "s", "length", "year", "n", "token", "c", "format", "value", "number", "m", "value", "format", "autoType", "__awaiter", "str", "identity", "value", "data", "d", "f", "defined", "d", "Filter", "data", "Sort", "data", "field", "data", "d", "isEmpty", "data", "value", "d", "field", "value", "data", "a", "field", "value", "identity", "data", "Map", "identity", "data", "flow", "normalize", "value", "d", "data", "c", "x", "y", "n", "w", "h", "i", "k", "m", "last", "a", "size", "e", "sign", "rotate", "random", "timer", "step", "place", "canvas", "s", "tmp", "_", "DEFAULT_OPTIONS", "range", "min", "max", "value", "WordCloud", "data", "__awaiter", "flow", "d", "cw", "ch", "_a", "x", "y", "__rest", "field", "d", "select", "k", "data", "key", "data", "field", "groupBy", "min", "max", "size", "data", "d", "pdf", "i", "bisect", "f", "a", "tolerance", "i", "mid", "x", "r", "i", "y", "dot", "a", "scale", "value", "c", "f", "x0", "i", "point", "value", "a", "x", "f", "a", "c2", "dot", "phi", "iteration", "f", "a", "scale", "i", "dot", "p", "i", "center", "a", "p2", "midPoint", "circle", "a2", "distance", "disjoint", "point", "intersect", "k", "r", "d", "h", "x0", "y0", "values", "i", "setid", "SMALL", "bisect", "distance", "pairs", "a", "area", "b", "x", "left", "right", "c", "squaredDistance", "row", "value", "set", "scale", "weight", "size", "point", "index", "k", "p2", "d2", "l", "d", "c", "i", "circle", "x", "y", "r", "x0", "y0", "circle", "i", "size", "path", "data", "d", "a", "set", "p", "Log", "data", "values", "last", "point", "field", "data", "d", "i", "EPSILON", "min2", "min", "max", "point", "x", "y", "max2", "l", "show", "hide", "a", "c", "d", "map", "get", "set", "value", "shape", "min", "max", "n", "y0", "y", "h", "x0", "x1", "y1", "error", "i", "c", "s", "c", "r", "color", "i", "l", "l", "show", "hide", "maxY", "l", "show", "max", "min", "Sort", "Filter", "Map", "Log", "WordCloud", "Rect", "Line", "Point", "Text", "Area", "Link", "Image", "Polygon", "Box", "Vector", "Connector", "Range", "Path", "Shape", "Density", "Heatmap", "Linear", "Ordinal", "Band", "Identity", "Time", "Pow", "Sqrt", "Threshold", "Quantile", "Quantize", "Sequential", "Constant", "Fisheye", "Tooltip", "Poptip", "Arc", "Tree", "Pack", "Sankey", "Liquid", "extend", "Runtime", "library", "Chart", "d", "Node", "value", "transform", "x", "index", "root", "normalizeContainer", "container", "root", "valueOf", "sizeOf", "node", "value", "children", "mark", "Node", "__rest", "parent", "n", "i", "Node", "name", "value", "array", "k", "CompositionNode", "Node", "data", "_a", "scale", "group", "show", "hide", "__decorate", "MarkNode", "Node", "data", "_a", "__decorate", "__rest", "normalizeContainer", "resolve", "reject", "sizeOf", "library", "isMark", "name", "Mark", "__decorate", "error", "Plugin", "d", "_a", "extend", "library", "Chart", "extend", "__assign", "s", "i", "n", "p", "__assign", "e", "root", "render", "createNode", "render", "_a", "React", "import_react", "__extends", "extendStatics", "d", "b", "p", "ErrorBoundary", "_this", "e", "React", "error", "import_lodash", "ctx", "__spreadArray", "pack", "i", "l", "_a", "ctx", "measureTextWidth", "import_react", "import_react", "import_lodash", "__assign", "s", "i", "n", "p", "_a", "name", "a", "keys", "createNode", "DEFAULT_OPTIONS", "a", "field", "root", "index", "_a", "d", "n", "data", "e", "partition", "x", "y", "data", "color", "value", "path", "_a", "d", "x", "y", "DEFAULT_OPTIONS", "__rest", "plot", "selectPlotArea", "root", "update", "document", "id", "path", "__awaiter", "name", "y", "x", "index", "mark", "data", "e", "plotlib", "__assign", "s", "i", "n", "p", "Chart", "extend", "plotlib", "import_lodash", "_a", "value", "__spreadArray", "pack", "i", "l", "_a", "_a", "__spreadArray", "pack", "i", "l", "field", "d", "__assign", "s", "i", "n", "p", "__rest", "e", "value", "_a", "index", "__extends", "extendStatics", "d", "b", "p", "__assign", "s", "i", "n", "__rest", "e", "Text", "_a", "__extends", "extendStatics", "d", "b", "p", "__assign", "s", "i", "n", "__rest", "e", "Polygon", "_a", "__extends", "extendStatics", "d", "b", "p", "Annotaion", "_this", "name", "attr", "animate", "_a", "x", "y", "data", "__extends", "extendStatics", "d", "b", "p", "__assign", "s", "i", "n", "ConversionTag", "isVertical", "_a", "size", "index", "x", "y", "data", "direction", "_this", "formatter", "center", "value", "Polygon", "Text", "__extends", "extendStatics", "d", "b", "p", "__assign", "s", "i", "n", "__rest", "e", "BidirectionalBarAxisText", "isVertical", "_a", "x", "y", "data", "sum", "_this", "labelFormatter", "Text", "Annotaion", "Controller", "_this", "_a", "shape", "__extends", "extendStatics", "d", "b", "p", "__assign", "s", "i", "n", "Plot", "_this", "Chart", "e", "Controller", "data", "adaptor", "_a", "__extends", "extendStatics", "d", "b", "p", "Base", "_this", "__assign", "s", "i", "n", "p", "tooltip", "shape", "_a", "adaptor", "__extends", "extendStatics", "d", "b", "p", "Area", "_this", "adaptor", "__assign", "s", "i", "n", "p", "adaptor", "params", "scale", "data", "_a", "_a", "stroke", "p2", "document", "right", "__extends", "extendStatics", "d", "b", "p", "Bar", "_this", "adaptor", "reisterShape", "_a", "stroke", "document", "left", "right", "__extends", "extendStatics", "d", "b", "p", "reisterShape", "Column", "_this", "adaptor", "adaptor", "params", "_a", "annotations", "scale", "index", "__extends", "extendStatics", "d", "b", "p", "DualAxes", "_this", "adaptor", "adaptor", "params", "transform", "_a", "data", "tooltip", "d", "__extends", "extendStatics", "d", "b", "p", "Funnel", "_this", "adaptor", "adaptor", "__extends", "extendStatics", "d", "b", "p", "Line", "_this", "adaptor", "__assign", "s", "i", "n", "p", "adaptor", "params", "data", "tooltip", "sum", "a", "_a", "index", "d", "__extends", "extendStatics", "d", "b", "p", "Pie", "_this", "adaptor", "adaptor", "__extends", "extendStatics", "d", "b", "p", "Scatter", "_this", "adaptor", "adaptor", "params", "__extends", "extendStatics", "d", "b", "p", "Radar", "_this", "adaptor", "__assign", "s", "i", "n", "p", "adaptor", "transformData", "params", "_a", "data", "index", "d", "__extends", "extendStatics", "d", "b", "p", "Stock", "_this", "adaptor", "adaptor", "__extends", "extendStatics", "d", "b", "p", "TinyLine", "_this", "adaptor", "adaptor", "__extends", "extendStatics", "d", "b", "p", "TinyArea", "_this", "adaptor", "adaptor", "__extends", "extendStatics", "d", "b", "p", "TinyColumn", "_this", "adaptor", "__assign", "s", "i", "n", "p", "adaptor", "transformData", "params", "percent", "_a", "color", "__extends", "extendStatics", "d", "b", "p", "TinyProgress", "_this", "adaptor", "__assign", "s", "i", "n", "p", "adaptor", "params", "_a", "radius", "transformData", "percent", "color", "__extends", "extendStatics", "d", "b", "p", "TinyRing", "_this", "adaptor", "adaptor", "__extends", "extendStatics", "d", "b", "p", "Rose", "_this", "adaptor", "__assign", "s", "i", "n", "p", "__spreadArray", "pack", "l", "adaptor", "transformData", "params", "_a", "data", "index", "link", "__extends", "extendStatics", "d", "b", "p", "Waterfall", "_this", "adaptor", "adaptor", "params", "data", "_a", "__extends", "extendStatics", "d", "b", "p", "Histogram", "_this", "adaptor", "adaptor", "tooltip", "params", "_a", "mark", "__extends", "extendStatics", "d", "b", "p", "Heatmap", "_this", "adaptor", "adaptor", "params", "_a", "__extends", "extendStatics", "d", "b", "p", "Box", "_this", "adaptor", "adaptor", "dataTransform", "params", "data", "transform", "__extends", "extendStatics", "d", "b", "p", "Sankey", "_this", "adaptor", "__assign", "s", "i", "n", "p", "DEFAULT_COLORS", "data", "field", "transformData", "d", "_a", "a", "value", "index", "color", "adaptor", "params", "c", "l", "range", "__extends", "extendStatics", "d", "b", "p", "Bullet", "_this", "DEFAULT_COLORS", "adaptor", "adaptor", "params", "data", "__extends", "extendStatics", "d", "b", "p", "Gauge", "_this", "adaptor", "adaptor", "params", "percent", "__extends", "extendStatics", "d", "b", "p", "Liquid", "_this", "adaptor", "adaptor", "__extends", "extendStatics", "d", "b", "p", "WordCloud", "_this", "adaptor", "adaptor", "params", "data", "__extends", "extendStatics", "d", "b", "p", "Treemap", "_this", "adaptor", "__assign", "s", "i", "n", "p", "adaptor", "params", "coordinate", "tooltip", "d", "data", "scale", "__extends", "extendStatics", "d", "b", "p", "RadialBar", "_this", "adaptor", "adaptor", "__extends", "extendStatics", "d", "b", "p", "CirclePacking", "_this", "adaptor", "__assign", "s", "i", "n", "p", "adaptor", "params", "__extends", "extendStatics", "d", "b", "p", "Violin", "_this", "adaptor", "__assign", "s", "i", "n", "p", "__spreadArray", "pack", "l", "adaptor", "field", "params", "index", "data", "transformData", "tooltip", "_a", "y1", "y2", "layout", "transform", "__extends", "extendStatics", "d", "b", "p", "BidirectionalBar", "_this", "adaptor", "DefaultTransformKey", "adaptor", "params", "data", "__extends", "extendStatics", "d", "b", "p", "Venn", "_this", "adaptor", "adaptor", "params", "__extends", "extendStatics", "d", "b", "p", "Sunburst", "_this", "adaptor", "Base", "Line", "Column", "Area", "Funnel", "Radar", "Heatmap", "Box", "Sankey", "Gauge", "Liquid", "WordCloud", "Treemap", "Violin", "Venn", "Sunburst", "__assign", "s", "i", "n", "p", "__rest", "e", "_a", "className", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "area_default", "import_react", "__assign", "s", "i", "n", "p", "BarChart", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "LineChart", "React", "line_default", "import_react", "__assign", "s", "i", "n", "p", "React", "pie_default", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "line_default", "import_react", "__assign", "s", "i", "n", "p", "React", "area_default", "import_react", "__assign", "s", "i", "n", "p", "TinyLineChart", "React", "column_default", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "line_default", "area_default", "column_default", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "treemap_default", "import_react", "__assign", "s", "i", "n", "p", "RadialBar", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React", "import_react", "__assign", "s", "i", "n", "p", "React"]
}
